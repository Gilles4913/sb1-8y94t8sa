var YR=Object.defineProperty;var JR=(e,t,r)=>t in e?YR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Cr=(e,t,r)=>JR(e,typeof t!="symbol"?t+"":t,r);function XR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var ba=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Z6(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var eF={exports:{}},hb={},tF={exports:{}},ir={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp=Symbol.for("react.element"),qR=Symbol.for("react.portal"),ZR=Symbol.for("react.fragment"),e7=Symbol.for("react.strict_mode"),t7=Symbol.for("react.profiler"),r7=Symbol.for("react.provider"),n7=Symbol.for("react.context"),s7=Symbol.for("react.forward_ref"),a7=Symbol.for("react.suspense"),i7=Symbol.for("react.memo"),o7=Symbol.for("react.lazy"),X4=Symbol.iterator;function l7(e){return e===null||typeof e!="object"?null:(e=X4&&e[X4]||e["@@iterator"],typeof e=="function"?e:null)}var rF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nF=Object.assign,sF={};function Bh(e,t,r){this.props=e,this.context=t,this.refs=sF,this.updater=r||rF}Bh.prototype.isReactComponent={};Bh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function aF(){}aF.prototype=Bh.prototype;function D5(e,t,r){this.props=e,this.context=t,this.refs=sF,this.updater=r||rF}var R5=D5.prototype=new aF;R5.constructor=D5;nF(R5,Bh.prototype);R5.isPureReactComponent=!0;var q4=Array.isArray,iF=Object.prototype.hasOwnProperty,M5={current:null},oF={key:!0,ref:!0,__self:!0,__source:!0};function lF(e,t,r){var n,s={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)iF.call(t,n)&&!oF.hasOwnProperty(n)&&(s[n]=t[n]);var A=arguments.length-2;if(A===1)s.children=r;else if(1<A){for(var c=Array(A),u=0;u<A;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in A=e.defaultProps,A)s[n]===void 0&&(s[n]=A[n]);return{$$typeof:fp,type:e,key:a,ref:l,props:s,_owner:M5.current}}function c7(e,t){return{$$typeof:fp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function H5(e){return typeof e=="object"&&e!==null&&e.$$typeof===fp}function A7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Z4=/\/+/g;function F1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?A7(""+e.key):t.toString(36)}function Ev(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case fp:case qR:l=!0}}if(l)return l=e,s=s(l),e=n===""?"."+F1(l,0):n,q4(s)?(r="",e!=null&&(r=e.replace(Z4,"$&/")+"/"),Ev(s,t,r,"",function(u){return u})):s!=null&&(H5(s)&&(s=c7(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Z4,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=n===""?".":n+":",q4(e))for(var A=0;A<e.length;A++){a=e[A];var c=n+F1(a,A);l+=Ev(a,t,r,c,s)}else if(c=l7(e),typeof c=="function")for(e=c.call(e),A=0;!(a=e.next()).done;)a=a.value,c=n+F1(a,A++),l+=Ev(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ig(e,t,r){if(e==null)return e;var n=[],s=0;return Ev(e,n,"","",function(a){return t.call(r,a,s++)}),n}function u7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ya={current:null},Fv={transition:null},d7={ReactCurrentDispatcher:ya,ReactCurrentBatchConfig:Fv,ReactCurrentOwner:M5};function cF(){throw Error("act(...) is not supported in production builds of React.")}ir.Children={map:Ig,forEach:function(e,t,r){Ig(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ig(e,function(){t++}),t},toArray:function(e){return Ig(e,function(t){return t})||[]},only:function(e){if(!H5(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ir.Component=Bh;ir.Fragment=ZR;ir.Profiler=t7;ir.PureComponent=D5;ir.StrictMode=e7;ir.Suspense=a7;ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d7;ir.act=cF;ir.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=nF({},e.props),s=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=M5.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var A=e.type.defaultProps;for(c in t)iF.call(t,c)&&!oF.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&A!==void 0?A[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){A=Array(c);for(var u=0;u<c;u++)A[u]=arguments[u+2];n.children=A}return{$$typeof:fp,type:e.type,key:s,ref:a,props:n,_owner:l}};ir.createContext=function(e){return e={$$typeof:n7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:r7,_context:e},e.Consumer=e};ir.createElement=lF;ir.createFactory=function(e){var t=lF.bind(null,e);return t.type=e,t};ir.createRef=function(){return{current:null}};ir.forwardRef=function(e){return{$$typeof:s7,render:e}};ir.isValidElement=H5;ir.lazy=function(e){return{$$typeof:o7,_payload:{_status:-1,_result:e},_init:u7}};ir.memo=function(e,t){return{$$typeof:i7,type:e,compare:t===void 0?null:t}};ir.startTransition=function(e){var t=Fv.transition;Fv.transition={};try{e()}finally{Fv.transition=t}};ir.unstable_act=cF;ir.useCallback=function(e,t){return ya.current.useCallback(e,t)};ir.useContext=function(e){return ya.current.useContext(e)};ir.useDebugValue=function(){};ir.useDeferredValue=function(e){return ya.current.useDeferredValue(e)};ir.useEffect=function(e,t){return ya.current.useEffect(e,t)};ir.useId=function(){return ya.current.useId()};ir.useImperativeHandle=function(e,t,r){return ya.current.useImperativeHandle(e,t,r)};ir.useInsertionEffect=function(e,t){return ya.current.useInsertionEffect(e,t)};ir.useLayoutEffect=function(e,t){return ya.current.useLayoutEffect(e,t)};ir.useMemo=function(e,t){return ya.current.useMemo(e,t)};ir.useReducer=function(e,t,r){return ya.current.useReducer(e,t,r)};ir.useRef=function(e){return ya.current.useRef(e)};ir.useState=function(e){return ya.current.useState(e)};ir.useSyncExternalStore=function(e,t,r){return ya.current.useSyncExternalStore(e,t,r)};ir.useTransition=function(){return ya.current.useTransition()};ir.version="18.3.1";tF.exports=ir;var E=tF.exports;const f7=bl(E),h7=XR({__proto__:null,default:f7},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m7=E,p7=Symbol.for("react.element"),g7=Symbol.for("react.fragment"),v7=Object.prototype.hasOwnProperty,x7=m7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b7={key:!0,ref:!0,__self:!0,__source:!0};function AF(e,t,r){var n,s={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)v7.call(t,n)&&!b7.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:p7,type:e,key:a,ref:l,props:s,_owner:x7.current}}hb.Fragment=g7;hb.jsx=AF;hb.jsxs=AF;eF.exports=hb;var i=eF.exports,uF={exports:{}},_i={},dF={exports:{}},fF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,X){var le=K.length;K.push(X);e:for(;0<le;){var Ae=le-1>>>1,M=K[Ae];if(0<s(M,X))K[Ae]=X,K[le]=M,le=Ae;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var X=K[0],le=K.pop();if(le!==X){K[0]=le;e:for(var Ae=0,M=K.length,G=M>>>1;Ae<G;){var re=2*(Ae+1)-1,ne=K[re],de=re+1,q=K[de];if(0>s(ne,le))de<M&&0>s(q,ne)?(K[Ae]=q,K[de]=le,Ae=de):(K[Ae]=ne,K[re]=le,Ae=re);else if(de<M&&0>s(q,le))K[Ae]=q,K[de]=le,Ae=de;else break e}}return X}function s(K,X){var le=K.sortIndex-X.sortIndex;return le!==0?le:K.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,A=l.now();e.unstable_now=function(){return l.now()-A}}var c=[],u=[],o=1,d=null,h=3,f=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(K){for(var X=r(u);X!==null;){if(X.callback===null)n(u);else if(X.startTime<=K)n(u),X.sortIndex=X.expirationTime,t(c,X);else break;X=r(u)}}function j(K){if(m=!1,b(K),!g)if(r(c)!==null)g=!0,V(k);else{var X=r(u);X!==null&&Z(j,X.startTime-K)}}function k(K,X){g=!1,m&&(m=!1,p(T),T=-1),f=!0;var le=h;try{for(b(X),d=r(c);d!==null&&(!(d.expirationTime>X)||K&&!U());){var Ae=d.callback;if(typeof Ae=="function"){d.callback=null,h=d.priorityLevel;var M=Ae(d.expirationTime<=X);X=e.unstable_now(),typeof M=="function"?d.callback=M:d===r(c)&&n(c),b(X)}else n(c);d=r(c)}if(d!==null)var G=!0;else{var re=r(u);re!==null&&Z(j,re.startTime-X),G=!1}return G}finally{d=null,h=le,f=!1}}var S=!1,F=null,T=-1,P=5,R=-1;function U(){return!(e.unstable_now()-R<P)}function D(){if(F!==null){var K=e.unstable_now();R=K;var X=!0;try{X=F(!0,K)}finally{X?Q():(S=!1,F=null)}}else S=!1}var Q;if(typeof v=="function")Q=function(){v(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,W=H.port2;H.port1.onmessage=D,Q=function(){W.postMessage(null)}}else Q=function(){x(D,0)};function V(K){F=K,S||(S=!0,Q())}function Z(K,X){T=x(function(){K(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,V(k))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(K){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var le=h;h=X;try{return K()}finally{h=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,X){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var le=h;h=K;try{return X()}finally{h=le}},e.unstable_scheduleCallback=function(K,X,le){var Ae=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ae+le:Ae):le=Ae,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=le+M,K={id:o++,callback:X,priorityLevel:K,startTime:le,expirationTime:M,sortIndex:-1},le>Ae?(K.sortIndex=le,t(u,K),r(c)===null&&K===r(u)&&(m?(p(T),T=-1):m=!0,Z(j,le-Ae))):(K.sortIndex=M,t(c,K),g||f||(g=!0,V(k))),K},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(K){var X=h;return function(){var le=h;h=X;try{return K.apply(this,arguments)}finally{h=le}}}})(fF);dF.exports=fF;var y7=dF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w7=E,ki=y7;function Je(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hF=new Set,Bm={};function gd(e,t){qf(e,t),qf(e+"Capture",t)}function qf(e,t){for(Bm[e]=t,e=0;e<t.length;e++)hF.add(t[e])}var dc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v2=Object.prototype.hasOwnProperty,j7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ek={},tk={};function B7(e){return v2.call(tk,e)?!0:v2.call(ek,e)?!1:j7.test(e)?tk[e]=!0:(ek[e]=!0,!1)}function C7(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N7(e,t,r,n){if(t===null||typeof t>"u"||C7(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wa(e,t,r,n,s,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Ds={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ds[e]=new wa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ds[t]=new wa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ds[e]=new wa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ds[e]=new wa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ds[e]=new wa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ds[e]=new wa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ds[e]=new wa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ds[e]=new wa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ds[e]=new wa(e,5,!1,e.toLowerCase(),null,!1,!1)});var $5=/[\-:]([a-z])/g;function K5(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($5,K5);Ds[t]=new wa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($5,K5);Ds[t]=new wa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($5,K5);Ds[t]=new wa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ds[e]=new wa(e,1,!1,e.toLowerCase(),null,!1,!1)});Ds.xlinkHref=new wa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ds[e]=new wa(e,1,!1,e.toLowerCase(),null,!0,!0)});function z5(e,t,r,n){var s=Ds.hasOwnProperty(t)?Ds[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N7(t,r,s,n)&&(r=null),n||s===null?B7(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var jc=w7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ug=Symbol.for("react.element"),Sf=Symbol.for("react.portal"),_f=Symbol.for("react.fragment"),V5=Symbol.for("react.strict_mode"),x2=Symbol.for("react.profiler"),mF=Symbol.for("react.provider"),pF=Symbol.for("react.context"),G5=Symbol.for("react.forward_ref"),b2=Symbol.for("react.suspense"),y2=Symbol.for("react.suspense_list"),W5=Symbol.for("react.memo"),uA=Symbol.for("react.lazy"),gF=Symbol.for("react.offscreen"),rk=Symbol.iterator;function C0(e){return e===null||typeof e!="object"?null:(e=rk&&e[rk]||e["@@iterator"],typeof e=="function"?e:null)}var Bn=Object.assign,I1;function V0(e){if(I1===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);I1=t&&t[1]||""}return`
`+I1+e}var U1=!1;function P1(e,t){if(!e||U1)return"";U1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),l=s.length-1,A=a.length-1;1<=l&&0<=A&&s[l]!==a[A];)A--;for(;1<=l&&0<=A;l--,A--)if(s[l]!==a[A]){if(l!==1||A!==1)do if(l--,A--,0>A||s[l]!==a[A]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=A);break}}}finally{U1=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?V0(e):""}function k7(e){switch(e.tag){case 5:return V0(e.type);case 16:return V0("Lazy");case 13:return V0("Suspense");case 19:return V0("SuspenseList");case 0:case 2:case 15:return e=P1(e.type,!1),e;case 11:return e=P1(e.type.render,!1),e;case 1:return e=P1(e.type,!0),e;default:return""}}function w2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _f:return"Fragment";case Sf:return"Portal";case x2:return"Profiler";case V5:return"StrictMode";case b2:return"Suspense";case y2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pF:return(e.displayName||"Context")+".Consumer";case mF:return(e._context.displayName||"Context")+".Provider";case G5:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W5:return t=e.displayName||null,t!==null?t:w2(e.type)||"Memo";case uA:t=e._payload,e=e._init;try{return w2(e(t))}catch{}}return null}function S7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return w2(t);case 8:return t===V5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function MA(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _7(e){var t=vF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pg(e){e._valueTracker||(e._valueTracker=_7(e))}function xF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=vF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Wv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function j2(e,t){var r=t.checked;return Bn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function nk(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=MA(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bF(e,t){t=t.checked,t!=null&&z5(e,"checked",t,!1)}function B2(e,t){bF(e,t);var r=MA(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?C2(e,t.type,r):t.hasOwnProperty("defaultValue")&&C2(e,t.type,MA(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sk(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function C2(e,t,r){(t!=="number"||Wv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var G0=Array.isArray;function Mf(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+MA(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function N2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Je(91));return Bn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ak(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Je(92));if(G0(r)){if(1<r.length)throw Error(Je(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:MA(r)}}function yF(e,t){var r=MA(t.value),n=MA(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ik(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tg,jF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tg=Tg||document.createElement("div"),Tg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var tm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E7=["Webkit","ms","Moz","O"];Object.keys(tm).forEach(function(e){E7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tm[t]=tm[e]})});function BF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||tm.hasOwnProperty(e)&&tm[e]?(""+t).trim():t+"px"}function CF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=BF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var F7=Bn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function S2(e,t){if(t){if(F7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Je(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Je(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Je(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Je(62))}}function _2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E2=null;function Y5(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var F2=null,Hf=null,$f=null;function ok(e){if(e=pp(e)){if(typeof F2!="function")throw Error(Je(280));var t=e.stateNode;t&&(t=xb(t),F2(e.stateNode,e.type,t))}}function NF(e){Hf?$f?$f.push(e):$f=[e]:Hf=e}function kF(){if(Hf){var e=Hf,t=$f;if($f=Hf=null,ok(e),t)for(e=0;e<t.length;e++)ok(t[e])}}function SF(e,t){return e(t)}function _F(){}var T1=!1;function EF(e,t,r){if(T1)return e(t,r);T1=!0;try{return SF(e,t,r)}finally{T1=!1,(Hf!==null||$f!==null)&&(_F(),kF())}}function Nm(e,t){var r=e.stateNode;if(r===null)return null;var n=xb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Je(231,t,typeof r));return r}var I2=!1;if(dc)try{var N0={};Object.defineProperty(N0,"passive",{get:function(){I2=!0}}),window.addEventListener("test",N0,N0),window.removeEventListener("test",N0,N0)}catch{I2=!1}function I7(e,t,r,n,s,a,l,A,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(o){this.onError(o)}}var rm=!1,Yv=null,Jv=!1,U2=null,U7={onError:function(e){rm=!0,Yv=e}};function P7(e,t,r,n,s,a,l,A,c){rm=!1,Yv=null,I7.apply(U7,arguments)}function T7(e,t,r,n,s,a,l,A,c){if(P7.apply(this,arguments),rm){if(rm){var u=Yv;rm=!1,Yv=null}else throw Error(Je(198));Jv||(Jv=!0,U2=u)}}function vd(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function FF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lk(e){if(vd(e)!==e)throw Error(Je(188))}function O7(e){var t=e.alternate;if(!t){if(t=vd(e),t===null)throw Error(Je(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return lk(s),e;if(a===n)return lk(s),t;a=a.sibling}throw Error(Je(188))}if(r.return!==n.return)r=s,n=a;else{for(var l=!1,A=s.child;A;){if(A===r){l=!0,r=s,n=a;break}if(A===n){l=!0,n=s,r=a;break}A=A.sibling}if(!l){for(A=a.child;A;){if(A===r){l=!0,r=a,n=s;break}if(A===n){l=!0,n=a,r=s;break}A=A.sibling}if(!l)throw Error(Je(189))}}if(r.alternate!==n)throw Error(Je(190))}if(r.tag!==3)throw Error(Je(188));return r.stateNode.current===r?e:t}function IF(e){return e=O7(e),e!==null?UF(e):null}function UF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=UF(e);if(t!==null)return t;e=e.sibling}return null}var PF=ki.unstable_scheduleCallback,ck=ki.unstable_cancelCallback,L7=ki.unstable_shouldYield,Q7=ki.unstable_requestPaint,Mn=ki.unstable_now,D7=ki.unstable_getCurrentPriorityLevel,J5=ki.unstable_ImmediatePriority,TF=ki.unstable_UserBlockingPriority,Xv=ki.unstable_NormalPriority,R7=ki.unstable_LowPriority,OF=ki.unstable_IdlePriority,mb=null,fl=null;function M7(e){if(fl&&typeof fl.onCommitFiberRoot=="function")try{fl.onCommitFiberRoot(mb,e,void 0,(e.current.flags&128)===128)}catch{}}var To=Math.clz32?Math.clz32:K7,H7=Math.log,$7=Math.LN2;function K7(e){return e>>>=0,e===0?32:31-(H7(e)/$7|0)|0}var Og=64,Lg=4194304;function W0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var A=l&~s;A!==0?n=W0(A):(a&=l,a!==0&&(n=W0(a)))}else l=r&~s,l!==0?n=W0(l):a!==0&&(n=W0(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-To(t),s=1<<r,n|=e[r],t&=~s;return n}function z7(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V7(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-To(a),A=1<<l,c=s[l];c===-1?(!(A&r)||A&n)&&(s[l]=z7(A,t)):c<=t&&(e.expiredLanes|=A),a&=~A}}function P2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function LF(){var e=Og;return Og<<=1,!(Og&4194240)&&(Og=64),e}function O1(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-To(t),e[t]=r}function G7(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-To(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function X5(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-To(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Or=0;function QF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var DF,q5,RF,MF,HF,T2=!1,Qg=[],NA=null,kA=null,SA=null,km=new Map,Sm=new Map,mA=[],W7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ak(e,t){switch(e){case"focusin":case"focusout":NA=null;break;case"dragenter":case"dragleave":kA=null;break;case"mouseover":case"mouseout":SA=null;break;case"pointerover":case"pointerout":km.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sm.delete(t.pointerId)}}function k0(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=pp(t),t!==null&&q5(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Y7(e,t,r,n,s){switch(t){case"focusin":return NA=k0(NA,e,t,r,n,s),!0;case"dragenter":return kA=k0(kA,e,t,r,n,s),!0;case"mouseover":return SA=k0(SA,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return km.set(a,k0(km.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Sm.set(a,k0(Sm.get(a)||null,e,t,r,n,s)),!0}return!1}function $F(e){var t=Uu(e.target);if(t!==null){var r=vd(t);if(r!==null){if(t=r.tag,t===13){if(t=FF(r),t!==null){e.blockedOn=t,HF(e.priority,function(){RF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Iv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=O2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);E2=n,r.target.dispatchEvent(n),E2=null}else return t=pp(r),t!==null&&q5(t),e.blockedOn=r,!1;t.shift()}return!0}function uk(e,t,r){Iv(e)&&r.delete(t)}function J7(){T2=!1,NA!==null&&Iv(NA)&&(NA=null),kA!==null&&Iv(kA)&&(kA=null),SA!==null&&Iv(SA)&&(SA=null),km.forEach(uk),Sm.forEach(uk)}function S0(e,t){e.blockedOn===t&&(e.blockedOn=null,T2||(T2=!0,ki.unstable_scheduleCallback(ki.unstable_NormalPriority,J7)))}function _m(e){function t(s){return S0(s,e)}if(0<Qg.length){S0(Qg[0],e);for(var r=1;r<Qg.length;r++){var n=Qg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(NA!==null&&S0(NA,e),kA!==null&&S0(kA,e),SA!==null&&S0(SA,e),km.forEach(t),Sm.forEach(t),r=0;r<mA.length;r++)n=mA[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<mA.length&&(r=mA[0],r.blockedOn===null);)$F(r),r.blockedOn===null&&mA.shift()}var Kf=jc.ReactCurrentBatchConfig,Zv=!0;function X7(e,t,r,n){var s=Or,a=Kf.transition;Kf.transition=null;try{Or=1,Z5(e,t,r,n)}finally{Or=s,Kf.transition=a}}function q7(e,t,r,n){var s=Or,a=Kf.transition;Kf.transition=null;try{Or=4,Z5(e,t,r,n)}finally{Or=s,Kf.transition=a}}function Z5(e,t,r,n){if(Zv){var s=O2(e,t,r,n);if(s===null)V1(e,t,n,ex,r),Ak(e,n);else if(Y7(s,e,t,r,n))n.stopPropagation();else if(Ak(e,n),t&4&&-1<W7.indexOf(e)){for(;s!==null;){var a=pp(s);if(a!==null&&DF(a),a=O2(e,t,r,n),a===null&&V1(e,t,n,ex,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else V1(e,t,n,null,r)}}var ex=null;function O2(e,t,r,n){if(ex=null,e=Y5(n),e=Uu(e),e!==null)if(t=vd(e),t===null)e=null;else if(r=t.tag,r===13){if(e=FF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ex=e,null}function KF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D7()){case J5:return 1;case TF:return 4;case Xv:case R7:return 16;case OF:return 536870912;default:return 16}default:return 16}}var yA=null,eB=null,Uv=null;function zF(){if(Uv)return Uv;var e,t=eB,r=t.length,n,s="value"in yA?yA.value:yA.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===s[a-n];n++);return Uv=s.slice(e,1<n?1-n:void 0)}function Pv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dg(){return!0}function dk(){return!1}function Ei(e){function t(r,n,s,a,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(r=e[A],this[A]=r?r(a):a[A]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Dg:dk,this.isPropagationStopped=dk,this}return Bn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dg)},persist:function(){},isPersistent:Dg}),t}var Ch={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tB=Ei(Ch),mp=Bn({},Ch,{view:0,detail:0}),Z7=Ei(mp),L1,Q1,_0,pb=Bn({},mp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rB,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_0&&(_0&&e.type==="mousemove"?(L1=e.screenX-_0.screenX,Q1=e.screenY-_0.screenY):Q1=L1=0,_0=e),L1)},movementY:function(e){return"movementY"in e?e.movementY:Q1}}),fk=Ei(pb),eM=Bn({},pb,{dataTransfer:0}),tM=Ei(eM),rM=Bn({},mp,{relatedTarget:0}),D1=Ei(rM),nM=Bn({},Ch,{animationName:0,elapsedTime:0,pseudoElement:0}),sM=Ei(nM),aM=Bn({},Ch,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iM=Ei(aM),oM=Bn({},Ch,{data:0}),hk=Ei(oM),lM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AM[e])?!!t[e]:!1}function rB(){return uM}var dM=Bn({},mp,{key:function(e){if(e.key){var t=lM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rB,charCode:function(e){return e.type==="keypress"?Pv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fM=Ei(dM),hM=Bn({},pb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mk=Ei(hM),mM=Bn({},mp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rB}),pM=Ei(mM),gM=Bn({},Ch,{propertyName:0,elapsedTime:0,pseudoElement:0}),vM=Ei(gM),xM=Bn({},pb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bM=Ei(xM),yM=[9,13,27,32],nB=dc&&"CompositionEvent"in window,nm=null;dc&&"documentMode"in document&&(nm=document.documentMode);var wM=dc&&"TextEvent"in window&&!nm,VF=dc&&(!nB||nm&&8<nm&&11>=nm),pk=" ",gk=!1;function GF(e,t){switch(e){case"keyup":return yM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ef=!1;function jM(e,t){switch(e){case"compositionend":return WF(t);case"keypress":return t.which!==32?null:(gk=!0,pk);case"textInput":return e=t.data,e===pk&&gk?null:e;default:return null}}function BM(e,t){if(Ef)return e==="compositionend"||!nB&&GF(e,t)?(e=zF(),Uv=eB=yA=null,Ef=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return VF&&t.locale!=="ko"?null:t.data;default:return null}}var CM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CM[e.type]:t==="textarea"}function YF(e,t,r,n){NF(n),t=tx(t,"onChange"),0<t.length&&(r=new tB("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var sm=null,Em=null;function NM(e){iI(e,0)}function gb(e){var t=Uf(e);if(xF(t))return e}function kM(e,t){if(e==="change")return t}var JF=!1;if(dc){var R1;if(dc){var M1="oninput"in document;if(!M1){var xk=document.createElement("div");xk.setAttribute("oninput","return;"),M1=typeof xk.oninput=="function"}R1=M1}else R1=!1;JF=R1&&(!document.documentMode||9<document.documentMode)}function bk(){sm&&(sm.detachEvent("onpropertychange",XF),Em=sm=null)}function XF(e){if(e.propertyName==="value"&&gb(Em)){var t=[];YF(t,Em,e,Y5(e)),EF(NM,t)}}function SM(e,t,r){e==="focusin"?(bk(),sm=t,Em=r,sm.attachEvent("onpropertychange",XF)):e==="focusout"&&bk()}function _M(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gb(Em)}function EM(e,t){if(e==="click")return gb(t)}function FM(e,t){if(e==="input"||e==="change")return gb(t)}function IM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lo=typeof Object.is=="function"?Object.is:IM;function Fm(e,t){if(Lo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!v2.call(t,s)||!Lo(e[s],t[s]))return!1}return!0}function yk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wk(e,t){var r=yk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yk(r)}}function qF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ZF(){for(var e=window,t=Wv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Wv(e.document)}return t}function sB(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function UM(e){var t=ZF(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qF(r.ownerDocument.documentElement,r)){if(n!==null&&sB(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=wk(r,a);var l=wk(r,n);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PM=dc&&"documentMode"in document&&11>=document.documentMode,Ff=null,L2=null,am=null,Q2=!1;function jk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Q2||Ff==null||Ff!==Wv(n)||(n=Ff,"selectionStart"in n&&sB(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),am&&Fm(am,n)||(am=n,n=tx(L2,"onSelect"),0<n.length&&(t=new tB("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ff)))}function Rg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var If={animationend:Rg("Animation","AnimationEnd"),animationiteration:Rg("Animation","AnimationIteration"),animationstart:Rg("Animation","AnimationStart"),transitionend:Rg("Transition","TransitionEnd")},H1={},eI={};dc&&(eI=document.createElement("div").style,"AnimationEvent"in window||(delete If.animationend.animation,delete If.animationiteration.animation,delete If.animationstart.animation),"TransitionEvent"in window||delete If.transitionend.transition);function vb(e){if(H1[e])return H1[e];if(!If[e])return e;var t=If[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in eI)return H1[e]=t[r];return e}var tI=vb("animationend"),rI=vb("animationiteration"),nI=vb("animationstart"),sI=vb("transitionend"),aI=new Map,Bk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function WA(e,t){aI.set(e,t),gd(t,[e])}for(var $1=0;$1<Bk.length;$1++){var K1=Bk[$1],TM=K1.toLowerCase(),OM=K1[0].toUpperCase()+K1.slice(1);WA(TM,"on"+OM)}WA(tI,"onAnimationEnd");WA(rI,"onAnimationIteration");WA(nI,"onAnimationStart");WA("dblclick","onDoubleClick");WA("focusin","onFocus");WA("focusout","onBlur");WA(sI,"onTransitionEnd");qf("onMouseEnter",["mouseout","mouseover"]);qf("onMouseLeave",["mouseout","mouseover"]);qf("onPointerEnter",["pointerout","pointerover"]);qf("onPointerLeave",["pointerout","pointerover"]);gd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gd("onBeforeInput",["compositionend","keypress","textInput","paste"]);gd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Y0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Y0));function Ck(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,T7(n,t,void 0,e),e.currentTarget=null}function iI(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var A=n[l],c=A.instance,u=A.currentTarget;if(A=A.listener,c!==a&&s.isPropagationStopped())break e;Ck(s,A,u),a=c}else for(l=0;l<n.length;l++){if(A=n[l],c=A.instance,u=A.currentTarget,A=A.listener,c!==a&&s.isPropagationStopped())break e;Ck(s,A,u),a=c}}}if(Jv)throw e=U2,Jv=!1,U2=null,e}function Xr(e,t){var r=t[$2];r===void 0&&(r=t[$2]=new Set);var n=e+"__bubble";r.has(n)||(oI(t,e,2,!1),r.add(n))}function z1(e,t,r){var n=0;t&&(n|=4),oI(r,e,n,t)}var Mg="_reactListening"+Math.random().toString(36).slice(2);function Im(e){if(!e[Mg]){e[Mg]=!0,hF.forEach(function(r){r!=="selectionchange"&&(LM.has(r)||z1(r,!1,e),z1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mg]||(t[Mg]=!0,z1("selectionchange",!1,t))}}function oI(e,t,r,n){switch(KF(t)){case 1:var s=X7;break;case 4:s=q7;break;default:s=Z5}r=s.bind(null,t,r,e),s=void 0,!I2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function V1(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var A=n.stateNode.containerInfo;if(A===s||A.nodeType===8&&A.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;A!==null;){if(l=Uu(A),l===null)return;if(c=l.tag,c===5||c===6){n=a=l;continue e}A=A.parentNode}}n=n.return}EF(function(){var u=a,o=Y5(r),d=[];e:{var h=aI.get(e);if(h!==void 0){var f=tB,g=e;switch(e){case"keypress":if(Pv(r)===0)break e;case"keydown":case"keyup":f=fM;break;case"focusin":g="focus",f=D1;break;case"focusout":g="blur",f=D1;break;case"beforeblur":case"afterblur":f=D1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=fk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=tM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=pM;break;case tI:case rI:case nI:f=sM;break;case sI:f=vM;break;case"scroll":f=Z7;break;case"wheel":f=bM;break;case"copy":case"cut":case"paste":f=iM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=mk}var m=(t&4)!==0,x=!m&&e==="scroll",p=m?h!==null?h+"Capture":null:h;m=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,p!==null&&(j=Nm(v,p),j!=null&&m.push(Um(v,j,b)))),x)break;v=v.return}0<m.length&&(h=new f(h,g,null,r,o),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&r!==E2&&(g=r.relatedTarget||r.fromElement)&&(Uu(g)||g[fc]))break e;if((f||h)&&(h=o.window===o?o:(h=o.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=u,g=g?Uu(g):null,g!==null&&(x=vd(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(m=fk,j="onMouseLeave",p="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=mk,j="onPointerLeave",p="onPointerEnter",v="pointer"),x=f==null?h:Uf(f),b=g==null?h:Uf(g),h=new m(j,v+"leave",f,r,o),h.target=x,h.relatedTarget=b,j=null,Uu(o)===u&&(m=new m(p,v+"enter",g,r,o),m.target=b,m.relatedTarget=x,j=m),x=j,f&&g)t:{for(m=f,p=g,v=0,b=m;b;b=Af(b))v++;for(b=0,j=p;j;j=Af(j))b++;for(;0<v-b;)m=Af(m),v--;for(;0<b-v;)p=Af(p),b--;for(;v--;){if(m===p||p!==null&&m===p.alternate)break t;m=Af(m),p=Af(p)}m=null}else m=null;f!==null&&Nk(d,h,f,m,!1),g!==null&&x!==null&&Nk(d,x,g,m,!0)}}e:{if(h=u?Uf(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var k=kM;else if(vk(h))if(JF)k=FM;else{k=_M;var S=SM}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=EM);if(k&&(k=k(e,u))){YF(d,k,r,o);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&C2(h,"number",h.value)}switch(S=u?Uf(u):window,e){case"focusin":(vk(S)||S.contentEditable==="true")&&(Ff=S,L2=u,am=null);break;case"focusout":am=L2=Ff=null;break;case"mousedown":Q2=!0;break;case"contextmenu":case"mouseup":case"dragend":Q2=!1,jk(d,r,o);break;case"selectionchange":if(PM)break;case"keydown":case"keyup":jk(d,r,o)}var F;if(nB)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ef?GF(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(VF&&r.locale!=="ko"&&(Ef||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ef&&(F=zF()):(yA=o,eB="value"in yA?yA.value:yA.textContent,Ef=!0)),S=tx(u,T),0<S.length&&(T=new hk(T,e,null,r,o),d.push({event:T,listeners:S}),F?T.data=F:(F=WF(r),F!==null&&(T.data=F)))),(F=wM?jM(e,r):BM(e,r))&&(u=tx(u,"onBeforeInput"),0<u.length&&(o=new hk("onBeforeInput","beforeinput",null,r,o),d.push({event:o,listeners:u}),o.data=F))}iI(d,t)})}function Um(e,t,r){return{instance:e,listener:t,currentTarget:r}}function tx(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Nm(e,r),a!=null&&n.unshift(Um(e,a,s)),a=Nm(e,t),a!=null&&n.push(Um(e,a,s))),e=e.return}return n}function Af(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nk(e,t,r,n,s){for(var a=t._reactName,l=[];r!==null&&r!==n;){var A=r,c=A.alternate,u=A.stateNode;if(c!==null&&c===n)break;A.tag===5&&u!==null&&(A=u,s?(c=Nm(r,a),c!=null&&l.unshift(Um(r,c,A))):s||(c=Nm(r,a),c!=null&&l.push(Um(r,c,A)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var QM=/\r\n?/g,DM=/\u0000|\uFFFD/g;function kk(e){return(typeof e=="string"?e:""+e).replace(QM,`
`).replace(DM,"")}function Hg(e,t,r){if(t=kk(t),kk(e)!==t&&r)throw Error(Je(425))}function rx(){}var D2=null,R2=null;function M2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var H2=typeof setTimeout=="function"?setTimeout:void 0,RM=typeof clearTimeout=="function"?clearTimeout:void 0,Sk=typeof Promise=="function"?Promise:void 0,MM=typeof queueMicrotask=="function"?queueMicrotask:typeof Sk<"u"?function(e){return Sk.resolve(null).then(e).catch(HM)}:H2;function HM(e){setTimeout(function(){throw e})}function G1(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),_m(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);_m(t)}function _A(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _k(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Nh=Math.random().toString(36).slice(2),cl="__reactFiber$"+Nh,Pm="__reactProps$"+Nh,fc="__reactContainer$"+Nh,$2="__reactEvents$"+Nh,$M="__reactListeners$"+Nh,KM="__reactHandles$"+Nh;function Uu(e){var t=e[cl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[fc]||r[cl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_k(e);e!==null;){if(r=e[cl])return r;e=_k(e)}return t}e=r,r=e.parentNode}return null}function pp(e){return e=e[cl]||e[fc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Uf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Je(33))}function xb(e){return e[Pm]||null}var K2=[],Pf=-1;function YA(e){return{current:e}}function en(e){0>Pf||(e.current=K2[Pf],K2[Pf]=null,Pf--)}function Wr(e,t){Pf++,K2[Pf]=e.current,e.current=t}var HA={},ta=YA(HA),Xa=YA(!1),Zu=HA;function Zf(e,t){var r=e.type.contextTypes;if(!r)return HA;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qa(e){return e=e.childContextTypes,e!=null}function nx(){en(Xa),en(ta)}function Ek(e,t,r){if(ta.current!==HA)throw Error(Je(168));Wr(ta,t),Wr(Xa,r)}function lI(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Je(108,S7(e)||"Unknown",s));return Bn({},r,n)}function sx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||HA,Zu=ta.current,Wr(ta,e),Wr(Xa,Xa.current),!0}function Fk(e,t,r){var n=e.stateNode;if(!n)throw Error(Je(169));r?(e=lI(e,t,Zu),n.__reactInternalMemoizedMergedChildContext=e,en(Xa),en(ta),Wr(ta,e)):en(Xa),Wr(Xa,r)}var ql=null,bb=!1,W1=!1;function cI(e){ql===null?ql=[e]:ql.push(e)}function zM(e){bb=!0,cI(e)}function JA(){if(!W1&&ql!==null){W1=!0;var e=0,t=Or;try{var r=ql;for(Or=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ql=null,bb=!1}catch(s){throw ql!==null&&(ql=ql.slice(e+1)),PF(J5,JA),s}finally{Or=t,W1=!1}}return null}var Tf=[],Of=0,ax=null,ix=0,Ji=[],Xi=0,ed=null,nc=1,sc="";function Cu(e,t){Tf[Of++]=ix,Tf[Of++]=ax,ax=e,ix=t}function AI(e,t,r){Ji[Xi++]=nc,Ji[Xi++]=sc,Ji[Xi++]=ed,ed=e;var n=nc;e=sc;var s=32-To(n)-1;n&=~(1<<s),r+=1;var a=32-To(t)+s;if(30<a){var l=s-s%5;a=(n&(1<<l)-1).toString(32),n>>=l,s-=l,nc=1<<32-To(t)+s|r<<s|n,sc=a+e}else nc=1<<a|r<<s|n,sc=e}function aB(e){e.return!==null&&(Cu(e,1),AI(e,1,0))}function iB(e){for(;e===ax;)ax=Tf[--Of],Tf[Of]=null,ix=Tf[--Of],Tf[Of]=null;for(;e===ed;)ed=Ji[--Xi],Ji[Xi]=null,sc=Ji[--Xi],Ji[Xi]=null,nc=Ji[--Xi],Ji[Xi]=null}var Bi=null,yi=null,cn=!1,Io=null;function uI(e,t){var r=eo(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ik(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bi=e,yi=_A(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bi=e,yi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ed!==null?{id:nc,overflow:sc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=eo(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Bi=e,yi=null,!0):!1;default:return!1}}function z2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function V2(e){if(cn){var t=yi;if(t){var r=t;if(!Ik(e,t)){if(z2(e))throw Error(Je(418));t=_A(r.nextSibling);var n=Bi;t&&Ik(e,t)?uI(n,r):(e.flags=e.flags&-4097|2,cn=!1,Bi=e)}}else{if(z2(e))throw Error(Je(418));e.flags=e.flags&-4097|2,cn=!1,Bi=e}}}function Uk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bi=e}function $g(e){if(e!==Bi)return!1;if(!cn)return Uk(e),cn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!M2(e.type,e.memoizedProps)),t&&(t=yi)){if(z2(e))throw dI(),Error(Je(418));for(;t;)uI(e,t),t=_A(t.nextSibling)}if(Uk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Je(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yi=_A(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yi=null}}else yi=Bi?_A(e.stateNode.nextSibling):null;return!0}function dI(){for(var e=yi;e;)e=_A(e.nextSibling)}function eh(){yi=Bi=null,cn=!1}function oB(e){Io===null?Io=[e]:Io.push(e)}var VM=jc.ReactCurrentBatchConfig;function E0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Je(309));var n=r.stateNode}if(!n)throw Error(Je(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var A=s.refs;l===null?delete A[a]:A[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(Je(284));if(!r._owner)throw Error(Je(290,e))}return e}function Kg(e,t){throw e=Object.prototype.toString.call(t),Error(Je(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pk(e){var t=e._init;return t(e._payload)}function fI(e){function t(p,v){if(e){var b=p.deletions;b===null?(p.deletions=[v],p.flags|=16):b.push(v)}}function r(p,v){if(!e)return null;for(;v!==null;)t(p,v),v=v.sibling;return null}function n(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function s(p,v){return p=UA(p,v),p.index=0,p.sibling=null,p}function a(p,v,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<v?(p.flags|=2,v):b):(p.flags|=2,v)):(p.flags|=1048576,v)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function A(p,v,b,j){return v===null||v.tag!==6?(v=tw(b,p.mode,j),v.return=p,v):(v=s(v,b),v.return=p,v)}function c(p,v,b,j){var k=b.type;return k===_f?o(p,v,b.props.children,j,b.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===uA&&Pk(k)===v.type)?(j=s(v,b.props),j.ref=E0(p,v,b),j.return=p,j):(j=Mv(b.type,b.key,b.props,null,p.mode,j),j.ref=E0(p,v,b),j.return=p,j)}function u(p,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=rw(b,p.mode,j),v.return=p,v):(v=s(v,b.children||[]),v.return=p,v)}function o(p,v,b,j,k){return v===null||v.tag!==7?(v=Ku(b,p.mode,j,k),v.return=p,v):(v=s(v,b),v.return=p,v)}function d(p,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=tw(""+v,p.mode,b),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ug:return b=Mv(v.type,v.key,v.props,null,p.mode,b),b.ref=E0(p,null,v),b.return=p,b;case Sf:return v=rw(v,p.mode,b),v.return=p,v;case uA:var j=v._init;return d(p,j(v._payload),b)}if(G0(v)||C0(v))return v=Ku(v,p.mode,b,null),v.return=p,v;Kg(p,v)}return null}function h(p,v,b,j){var k=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:A(p,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ug:return b.key===k?c(p,v,b,j):null;case Sf:return b.key===k?u(p,v,b,j):null;case uA:return k=b._init,h(p,v,k(b._payload),j)}if(G0(b)||C0(b))return k!==null?null:o(p,v,b,j,null);Kg(p,b)}return null}function f(p,v,b,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(b)||null,A(v,p,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ug:return p=p.get(j.key===null?b:j.key)||null,c(v,p,j,k);case Sf:return p=p.get(j.key===null?b:j.key)||null,u(v,p,j,k);case uA:var S=j._init;return f(p,v,b,S(j._payload),k)}if(G0(j)||C0(j))return p=p.get(b)||null,o(v,p,j,k,null);Kg(v,j)}return null}function g(p,v,b,j){for(var k=null,S=null,F=v,T=v=0,P=null;F!==null&&T<b.length;T++){F.index>T?(P=F,F=null):P=F.sibling;var R=h(p,F,b[T],j);if(R===null){F===null&&(F=P);break}e&&F&&R.alternate===null&&t(p,F),v=a(R,v,T),S===null?k=R:S.sibling=R,S=R,F=P}if(T===b.length)return r(p,F),cn&&Cu(p,T),k;if(F===null){for(;T<b.length;T++)F=d(p,b[T],j),F!==null&&(v=a(F,v,T),S===null?k=F:S.sibling=F,S=F);return cn&&Cu(p,T),k}for(F=n(p,F);T<b.length;T++)P=f(F,p,T,b[T],j),P!==null&&(e&&P.alternate!==null&&F.delete(P.key===null?T:P.key),v=a(P,v,T),S===null?k=P:S.sibling=P,S=P);return e&&F.forEach(function(U){return t(p,U)}),cn&&Cu(p,T),k}function m(p,v,b,j){var k=C0(b);if(typeof k!="function")throw Error(Je(150));if(b=k.call(b),b==null)throw Error(Je(151));for(var S=k=null,F=v,T=v=0,P=null,R=b.next();F!==null&&!R.done;T++,R=b.next()){F.index>T?(P=F,F=null):P=F.sibling;var U=h(p,F,R.value,j);if(U===null){F===null&&(F=P);break}e&&F&&U.alternate===null&&t(p,F),v=a(U,v,T),S===null?k=U:S.sibling=U,S=U,F=P}if(R.done)return r(p,F),cn&&Cu(p,T),k;if(F===null){for(;!R.done;T++,R=b.next())R=d(p,R.value,j),R!==null&&(v=a(R,v,T),S===null?k=R:S.sibling=R,S=R);return cn&&Cu(p,T),k}for(F=n(p,F);!R.done;T++,R=b.next())R=f(F,p,T,R.value,j),R!==null&&(e&&R.alternate!==null&&F.delete(R.key===null?T:R.key),v=a(R,v,T),S===null?k=R:S.sibling=R,S=R);return e&&F.forEach(function(D){return t(p,D)}),cn&&Cu(p,T),k}function x(p,v,b,j){if(typeof b=="object"&&b!==null&&b.type===_f&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ug:e:{for(var k=b.key,S=v;S!==null;){if(S.key===k){if(k=b.type,k===_f){if(S.tag===7){r(p,S.sibling),v=s(S,b.props.children),v.return=p,p=v;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===uA&&Pk(k)===S.type){r(p,S.sibling),v=s(S,b.props),v.ref=E0(p,S,b),v.return=p,p=v;break e}r(p,S);break}else t(p,S);S=S.sibling}b.type===_f?(v=Ku(b.props.children,p.mode,j,b.key),v.return=p,p=v):(j=Mv(b.type,b.key,b.props,null,p.mode,j),j.ref=E0(p,v,b),j.return=p,p=j)}return l(p);case Sf:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(p,v.sibling),v=s(v,b.children||[]),v.return=p,p=v;break e}else{r(p,v);break}else t(p,v);v=v.sibling}v=rw(b,p.mode,j),v.return=p,p=v}return l(p);case uA:return S=b._init,x(p,v,S(b._payload),j)}if(G0(b))return g(p,v,b,j);if(C0(b))return m(p,v,b,j);Kg(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(p,v.sibling),v=s(v,b),v.return=p,p=v):(r(p,v),v=tw(b,p.mode,j),v.return=p,p=v),l(p)):r(p,v)}return x}var th=fI(!0),hI=fI(!1),ox=YA(null),lx=null,Lf=null,lB=null;function cB(){lB=Lf=lx=null}function AB(e){var t=ox.current;en(ox),e._currentValue=t}function G2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function zf(e,t){lx=e,lB=Lf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wa=!0),e.firstContext=null)}function no(e){var t=e._currentValue;if(lB!==e)if(e={context:e,memoizedValue:t,next:null},Lf===null){if(lx===null)throw Error(Je(308));Lf=e,lx.dependencies={lanes:0,firstContext:e}}else Lf=Lf.next=e;return t}var Pu=null;function uB(e){Pu===null?Pu=[e]:Pu.push(e)}function mI(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,uB(t)):(r.next=s.next,s.next=r),t.interleaved=r,hc(e,n)}function hc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var dA=!1;function dB(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function EA(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,gr&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,hc(e,r)}return s=n.interleaved,s===null?(t.next=t,uB(n)):(t.next=s.next,s.next=t),n.interleaved=t,hc(e,r)}function Tv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,X5(e,r)}}function Tk(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function cx(e,t,r,n){var s=e.updateQueue;dA=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,A=s.shared.pending;if(A!==null){s.shared.pending=null;var c=A,u=c.next;c.next=null,l===null?a=u:l.next=u,l=c;var o=e.alternate;o!==null&&(o=o.updateQueue,A=o.lastBaseUpdate,A!==l&&(A===null?o.firstBaseUpdate=u:A.next=u,o.lastBaseUpdate=c))}if(a!==null){var d=s.baseState;l=0,o=u=c=null,A=a;do{var h=A.lane,f=A.eventTime;if((n&h)===h){o!==null&&(o=o.next={eventTime:f,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var g=e,m=A;switch(h=t,f=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=Bn({},d,h);break e;case 2:dA=!0}}A.callback!==null&&A.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[A]:h.push(A))}else f={eventTime:f,lane:h,tag:A.tag,payload:A.payload,callback:A.callback,next:null},o===null?(u=o=f,c=d):o=o.next=f,l|=h;if(A=A.next,A===null){if(A=s.shared.pending,A===null)break;h=A,A=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(o===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=o,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);rd|=l,e.lanes=l,e.memoizedState=d}}function Ok(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Je(191,s));s.call(n)}}}var gp={},hl=YA(gp),Tm=YA(gp),Om=YA(gp);function Tu(e){if(e===gp)throw Error(Je(174));return e}function fB(e,t){switch(Wr(Om,t),Wr(Tm,e),Wr(hl,gp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:k2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=k2(t,e)}en(hl),Wr(hl,t)}function rh(){en(hl),en(Tm),en(Om)}function gI(e){Tu(Om.current);var t=Tu(hl.current),r=k2(t,e.type);t!==r&&(Wr(Tm,e),Wr(hl,r))}function hB(e){Tm.current===e&&(en(hl),en(Tm))}var yn=YA(0);function Ax(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Y1=[];function mB(){for(var e=0;e<Y1.length;e++)Y1[e]._workInProgressVersionPrimary=null;Y1.length=0}var Ov=jc.ReactCurrentDispatcher,J1=jc.ReactCurrentBatchConfig,td=0,jn=null,is=null,bs=null,ux=!1,im=!1,Lm=0,GM=0;function zs(){throw Error(Je(321))}function pB(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lo(e[r],t[r]))return!1;return!0}function gB(e,t,r,n,s,a){if(td=a,jn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ov.current=e===null||e.memoizedState===null?XM:qM,e=r(n,s),im){a=0;do{if(im=!1,Lm=0,25<=a)throw Error(Je(301));a+=1,bs=is=null,t.updateQueue=null,Ov.current=ZM,e=r(n,s)}while(im)}if(Ov.current=dx,t=is!==null&&is.next!==null,td=0,bs=is=jn=null,ux=!1,t)throw Error(Je(300));return e}function vB(){var e=Lm!==0;return Lm=0,e}function ol(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bs===null?jn.memoizedState=bs=e:bs=bs.next=e,bs}function so(){if(is===null){var e=jn.alternate;e=e!==null?e.memoizedState:null}else e=is.next;var t=bs===null?jn.memoizedState:bs.next;if(t!==null)bs=t,is=e;else{if(e===null)throw Error(Je(310));is=e,e={memoizedState:is.memoizedState,baseState:is.baseState,baseQueue:is.baseQueue,queue:is.queue,next:null},bs===null?jn.memoizedState=bs=e:bs=bs.next=e}return bs}function Qm(e,t){return typeof t=="function"?t(e):t}function X1(e){var t=so(),r=t.queue;if(r===null)throw Error(Je(311));r.lastRenderedReducer=e;var n=is,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var l=s.next;s.next=a.next,a.next=l}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var A=l=null,c=null,u=a;do{var o=u.lane;if((td&o)===o)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:o,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(A=c=d,l=n):c=c.next=d,jn.lanes|=o,rd|=o}u=u.next}while(u!==null&&u!==a);c===null?l=n:c.next=A,Lo(n,t.memoizedState)||(Wa=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,jn.lanes|=a,rd|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function q1(e){var t=so(),r=t.queue;if(r===null)throw Error(Je(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do a=e(a,l.action),l=l.next;while(l!==s);Lo(a,t.memoizedState)||(Wa=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function vI(){}function xI(e,t){var r=jn,n=so(),s=t(),a=!Lo(n.memoizedState,s);if(a&&(n.memoizedState=s,Wa=!0),n=n.queue,xB(wI.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||bs!==null&&bs.memoizedState.tag&1){if(r.flags|=2048,Dm(9,yI.bind(null,r,n,s,t),void 0,null),ws===null)throw Error(Je(349));td&30||bI(r,t,s)}return s}function bI(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=jn.updateQueue,t===null?(t={lastEffect:null,stores:null},jn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function yI(e,t,r,n){t.value=r,t.getSnapshot=n,jI(t)&&BI(e)}function wI(e,t,r){return r(function(){jI(t)&&BI(e)})}function jI(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lo(e,r)}catch{return!0}}function BI(e){var t=hc(e,1);t!==null&&Oo(t,e,1,-1)}function Lk(e){var t=ol();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qm,lastRenderedState:e},t.queue=e,e=e.dispatch=JM.bind(null,jn,e),[t.memoizedState,e]}function Dm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=jn.updateQueue,t===null?(t={lastEffect:null,stores:null},jn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function CI(){return so().memoizedState}function Lv(e,t,r,n){var s=ol();jn.flags|=e,s.memoizedState=Dm(1|t,r,void 0,n===void 0?null:n)}function yb(e,t,r,n){var s=so();n=n===void 0?null:n;var a=void 0;if(is!==null){var l=is.memoizedState;if(a=l.destroy,n!==null&&pB(n,l.deps)){s.memoizedState=Dm(t,r,a,n);return}}jn.flags|=e,s.memoizedState=Dm(1|t,r,a,n)}function Qk(e,t){return Lv(8390656,8,e,t)}function xB(e,t){return yb(2048,8,e,t)}function NI(e,t){return yb(4,2,e,t)}function kI(e,t){return yb(4,4,e,t)}function SI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _I(e,t,r){return r=r!=null?r.concat([e]):null,yb(4,4,SI.bind(null,t,e),r)}function bB(){}function EI(e,t){var r=so();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pB(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function FI(e,t){var r=so();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pB(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function II(e,t,r){return td&21?(Lo(r,t)||(r=LF(),jn.lanes|=r,rd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wa=!0),e.memoizedState=r)}function WM(e,t){var r=Or;Or=r!==0&&4>r?r:4,e(!0);var n=J1.transition;J1.transition={};try{e(!1),t()}finally{Or=r,J1.transition=n}}function UI(){return so().memoizedState}function YM(e,t,r){var n=IA(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},PI(e))TI(t,r);else if(r=mI(e,t,r,n),r!==null){var s=xa();Oo(r,e,n,s),OI(r,t,n)}}function JM(e,t,r){var n=IA(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(PI(e))TI(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,A=a(l,r);if(s.hasEagerState=!0,s.eagerState=A,Lo(A,l)){var c=t.interleaved;c===null?(s.next=s,uB(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=mI(e,t,s,n),r!==null&&(s=xa(),Oo(r,e,n,s),OI(r,t,n))}}function PI(e){var t=e.alternate;return e===jn||t!==null&&t===jn}function TI(e,t){im=ux=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function OI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,X5(e,r)}}var dx={readContext:no,useCallback:zs,useContext:zs,useEffect:zs,useImperativeHandle:zs,useInsertionEffect:zs,useLayoutEffect:zs,useMemo:zs,useReducer:zs,useRef:zs,useState:zs,useDebugValue:zs,useDeferredValue:zs,useTransition:zs,useMutableSource:zs,useSyncExternalStore:zs,useId:zs,unstable_isNewReconciler:!1},XM={readContext:no,useCallback:function(e,t){return ol().memoizedState=[e,t===void 0?null:t],e},useContext:no,useEffect:Qk,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Lv(4194308,4,SI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Lv(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lv(4,2,e,t)},useMemo:function(e,t){var r=ol();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ol();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=YM.bind(null,jn,e),[n.memoizedState,e]},useRef:function(e){var t=ol();return e={current:e},t.memoizedState=e},useState:Lk,useDebugValue:bB,useDeferredValue:function(e){return ol().memoizedState=e},useTransition:function(){var e=Lk(!1),t=e[0];return e=WM.bind(null,e[1]),ol().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=jn,s=ol();if(cn){if(r===void 0)throw Error(Je(407));r=r()}else{if(r=t(),ws===null)throw Error(Je(349));td&30||bI(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Qk(wI.bind(null,n,a,e),[e]),n.flags|=2048,Dm(9,yI.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=ol(),t=ws.identifierPrefix;if(cn){var r=sc,n=nc;r=(n&~(1<<32-To(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Lm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=GM++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qM={readContext:no,useCallback:EI,useContext:no,useEffect:xB,useImperativeHandle:_I,useInsertionEffect:NI,useLayoutEffect:kI,useMemo:FI,useReducer:X1,useRef:CI,useState:function(){return X1(Qm)},useDebugValue:bB,useDeferredValue:function(e){var t=so();return II(t,is.memoizedState,e)},useTransition:function(){var e=X1(Qm)[0],t=so().memoizedState;return[e,t]},useMutableSource:vI,useSyncExternalStore:xI,useId:UI,unstable_isNewReconciler:!1},ZM={readContext:no,useCallback:EI,useContext:no,useEffect:xB,useImperativeHandle:_I,useInsertionEffect:NI,useLayoutEffect:kI,useMemo:FI,useReducer:q1,useRef:CI,useState:function(){return q1(Qm)},useDebugValue:bB,useDeferredValue:function(e){var t=so();return is===null?t.memoizedState=e:II(t,is.memoizedState,e)},useTransition:function(){var e=q1(Qm)[0],t=so().memoizedState;return[e,t]},useMutableSource:vI,useSyncExternalStore:xI,useId:UI,unstable_isNewReconciler:!1};function _o(e,t){if(e&&e.defaultProps){t=Bn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function W2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Bn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wb={isMounted:function(e){return(e=e._reactInternals)?vd(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=xa(),s=IA(e),a=oc(n,s);a.payload=t,r!=null&&(a.callback=r),t=EA(e,a,s),t!==null&&(Oo(t,e,s,n),Tv(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=xa(),s=IA(e),a=oc(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=EA(e,a,s),t!==null&&(Oo(t,e,s,n),Tv(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xa(),n=IA(e),s=oc(r,n);s.tag=2,t!=null&&(s.callback=t),t=EA(e,s,n),t!==null&&(Oo(t,e,n,r),Tv(t,e,n))}};function Dk(e,t,r,n,s,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!Fm(r,n)||!Fm(s,a):!0}function LI(e,t,r){var n=!1,s=HA,a=t.contextType;return typeof a=="object"&&a!==null?a=no(a):(s=qa(t)?Zu:ta.current,n=t.contextTypes,a=(n=n!=null)?Zf(e,s):HA),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Rk(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&wb.enqueueReplaceState(t,t.state,null)}function Y2(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},dB(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=no(a):(a=qa(t)?Zu:ta.current,s.context=Zf(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(W2(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wb.enqueueReplaceState(s,s.state,null),cx(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function nh(e,t){try{var r="",n=t;do r+=k7(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Z1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function J2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var eH=typeof WeakMap=="function"?WeakMap:Map;function QI(e,t,r){r=oc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hx||(hx=!0,ij=n),J2(e,t)},r}function DI(e,t,r){r=oc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){J2(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){J2(e,t),typeof n!="function"&&(FA===null?FA=new Set([this]):FA.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Mk(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new eH;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=hH.bind(null,e,t,r),t.then(e,e))}function Hk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $k(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=oc(-1,1),t.tag=2,EA(r,t,1))),r.lanes|=1),e)}var tH=jc.ReactCurrentOwner,Wa=!1;function ha(e,t,r,n){t.child=e===null?hI(t,null,r,n):th(t,e.child,r,n)}function Kk(e,t,r,n,s){r=r.render;var a=t.ref;return zf(t,s),n=gB(e,t,r,n,a,s),r=vB(),e!==null&&!Wa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mc(e,t,s)):(cn&&r&&aB(t),t.flags|=1,ha(e,t,n,s),t.child)}function zk(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!SB(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,RI(e,t,a,n,s)):(e=Mv(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:Fm,r(l,n)&&e.ref===t.ref)return mc(e,t,s)}return t.flags|=1,e=UA(a,n),e.ref=t.ref,e.return=t,t.child=e}function RI(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Fm(a,n)&&e.ref===t.ref)if(Wa=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Wa=!0);else return t.lanes=e.lanes,mc(e,t,s)}return X2(e,t,r,n,s)}function MI(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wr(Df,vi),vi|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wr(Df,vi),vi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Wr(Df,vi),vi|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Wr(Df,vi),vi|=n;return ha(e,t,s,r),t.child}function HI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function X2(e,t,r,n,s){var a=qa(r)?Zu:ta.current;return a=Zf(t,a),zf(t,s),r=gB(e,t,r,n,a,s),n=vB(),e!==null&&!Wa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mc(e,t,s)):(cn&&n&&aB(t),t.flags|=1,ha(e,t,r,s),t.child)}function Vk(e,t,r,n,s){if(qa(r)){var a=!0;sx(t)}else a=!1;if(zf(t,s),t.stateNode===null)Qv(e,t),LI(t,r,n),Y2(t,r,n,s),n=!0;else if(e===null){var l=t.stateNode,A=t.memoizedProps;l.props=A;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=no(u):(u=qa(r)?Zu:ta.current,u=Zf(t,u));var o=r.getDerivedStateFromProps,d=typeof o=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(A!==n||c!==u)&&Rk(t,l,n,u),dA=!1;var h=t.memoizedState;l.state=h,cx(t,n,l,s),c=t.memoizedState,A!==n||h!==c||Xa.current||dA?(typeof o=="function"&&(W2(t,r,o,n),c=t.memoizedState),(A=dA||Dk(t,r,A,n,h,c,u))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=u,n=A):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,pI(e,t),A=t.memoizedProps,u=t.type===t.elementType?A:_o(t.type,A),l.props=u,d=t.pendingProps,h=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=no(c):(c=qa(r)?Zu:ta.current,c=Zf(t,c));var f=r.getDerivedStateFromProps;(o=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(A!==d||h!==c)&&Rk(t,l,n,c),dA=!1,h=t.memoizedState,l.state=h,cx(t,n,l,s);var g=t.memoizedState;A!==d||h!==g||Xa.current||dA?(typeof f=="function"&&(W2(t,r,f,n),g=t.memoizedState),(u=dA||Dk(t,r,u,n,h,g,c)||!1)?(o||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,g,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,g,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||A===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||A===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return q2(e,t,r,n,a,s)}function q2(e,t,r,n,s,a){HI(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return s&&Fk(t,r,!1),mc(e,t,a);n=t.stateNode,tH.current=t;var A=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=th(t,e.child,null,a),t.child=th(t,null,A,a)):ha(e,t,A,a),t.memoizedState=n.state,s&&Fk(t,r,!0),t.child}function $I(e){var t=e.stateNode;t.pendingContext?Ek(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ek(e,t.context,!1),fB(e,t.containerInfo)}function Gk(e,t,r,n,s){return eh(),oB(s),t.flags|=256,ha(e,t,r,n),t.child}var Z2={dehydrated:null,treeContext:null,retryLane:0};function ej(e){return{baseLanes:e,cachePool:null,transitions:null}}function KI(e,t,r){var n=t.pendingProps,s=yn.current,a=!1,l=(t.flags&128)!==0,A;if((A=l)||(A=e!==null&&e.memoizedState===null?!1:(s&2)!==0),A?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Wr(yn,s&1),e===null)return V2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Cb(l,n,0,null),e=Ku(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ej(r),t.memoizedState=Z2,e):yB(t,l));if(s=e.memoizedState,s!==null&&(A=s.dehydrated,A!==null))return rH(e,t,l,n,A,s,r);if(a){a=n.fallback,l=t.mode,s=e.child,A=s.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=UA(s,c),n.subtreeFlags=s.subtreeFlags&14680064),A!==null?a=UA(A,a):(a=Ku(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?ej(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=Z2,n}return a=e.child,e=a.sibling,n=UA(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yB(e,t){return t=Cb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zg(e,t,r,n){return n!==null&&oB(n),th(t,e.child,null,r),e=yB(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rH(e,t,r,n,s,a,l){if(r)return t.flags&256?(t.flags&=-257,n=Z1(Error(Je(422))),zg(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Cb({mode:"visible",children:n.children},s,0,null),a=Ku(a,s,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&th(t,e.child,null,l),t.child.memoizedState=ej(l),t.memoizedState=Z2,a);if(!(t.mode&1))return zg(e,t,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var A=n.dgst;return n=A,a=Error(Je(419)),n=Z1(a,n,void 0),zg(e,t,l,n)}if(A=(l&e.childLanes)!==0,Wa||A){if(n=ws,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,hc(e,s),Oo(n,e,s,-1))}return kB(),n=Z1(Error(Je(421))),zg(e,t,l,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=mH.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,yi=_A(s.nextSibling),Bi=t,cn=!0,Io=null,e!==null&&(Ji[Xi++]=nc,Ji[Xi++]=sc,Ji[Xi++]=ed,nc=e.id,sc=e.overflow,ed=t),t=yB(t,n.children),t.flags|=4096,t)}function Wk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),G2(e.return,t,r)}function ew(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function zI(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(ha(e,t,n.children,r),n=yn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wk(e,r,t);else if(e.tag===19)Wk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Wr(yn,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ax(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ew(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ax(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ew(t,!0,r,null,a);break;case"together":ew(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),rd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Je(153));if(t.child!==null){for(e=t.child,r=UA(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=UA(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function nH(e,t,r){switch(t.tag){case 3:$I(t),eh();break;case 5:gI(t);break;case 1:qa(t.type)&&sx(t);break;case 4:fB(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Wr(ox,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Wr(yn,yn.current&1),t.flags|=128,null):r&t.child.childLanes?KI(e,t,r):(Wr(yn,yn.current&1),e=mc(e,t,r),e!==null?e.sibling:null);Wr(yn,yn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return zI(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Wr(yn,yn.current),n)break;return null;case 22:case 23:return t.lanes=0,MI(e,t,r)}return mc(e,t,r)}var VI,tj,GI,WI;VI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};tj=function(){};GI=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Tu(hl.current);var a=null;switch(r){case"input":s=j2(e,s),n=j2(e,n),a=[];break;case"select":s=Bn({},s,{value:void 0}),n=Bn({},n,{value:void 0}),a=[];break;case"textarea":s=N2(e,s),n=N2(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=rx)}S2(r,n);var l;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var A=s[u];for(l in A)A.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bm.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(A=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==A&&(c!=null||A!=null))if(u==="style")if(A){for(l in A)!A.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&A[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,A=A?A.__html:void 0,c!=null&&A!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Xr("scroll",e),a||A===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};WI=function(e,t,r,n){r!==n&&(t.flags|=4)};function F0(e,t){if(!cn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function sH(e,t,r){var n=t.pendingProps;switch(iB(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vs(t),null;case 1:return qa(t.type)&&nx(),Vs(t),null;case 3:return n=t.stateNode,rh(),en(Xa),en(ta),mB(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($g(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Io!==null&&(cj(Io),Io=null))),tj(e,t),Vs(t),null;case 5:hB(t);var s=Tu(Om.current);if(r=t.type,e!==null&&t.stateNode!=null)GI(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Je(166));return Vs(t),null}if(e=Tu(hl.current),$g(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[cl]=t,n[Pm]=a,e=(t.mode&1)!==0,r){case"dialog":Xr("cancel",n),Xr("close",n);break;case"iframe":case"object":case"embed":Xr("load",n);break;case"video":case"audio":for(s=0;s<Y0.length;s++)Xr(Y0[s],n);break;case"source":Xr("error",n);break;case"img":case"image":case"link":Xr("error",n),Xr("load",n);break;case"details":Xr("toggle",n);break;case"input":nk(n,a),Xr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Xr("invalid",n);break;case"textarea":ak(n,a),Xr("invalid",n)}S2(r,a),s=null;for(var l in a)if(a.hasOwnProperty(l)){var A=a[l];l==="children"?typeof A=="string"?n.textContent!==A&&(a.suppressHydrationWarning!==!0&&Hg(n.textContent,A,e),s=["children",A]):typeof A=="number"&&n.textContent!==""+A&&(a.suppressHydrationWarning!==!0&&Hg(n.textContent,A,e),s=["children",""+A]):Bm.hasOwnProperty(l)&&A!=null&&l==="onScroll"&&Xr("scroll",n)}switch(r){case"input":Pg(n),sk(n,a,!0);break;case"textarea":Pg(n),ik(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=rx)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[cl]=t,e[Pm]=n,VI(e,t,!1,!1),t.stateNode=e;e:{switch(l=_2(r,n),r){case"dialog":Xr("cancel",e),Xr("close",e),s=n;break;case"iframe":case"object":case"embed":Xr("load",e),s=n;break;case"video":case"audio":for(s=0;s<Y0.length;s++)Xr(Y0[s],e);s=n;break;case"source":Xr("error",e),s=n;break;case"img":case"image":case"link":Xr("error",e),Xr("load",e),s=n;break;case"details":Xr("toggle",e),s=n;break;case"input":nk(e,n),s=j2(e,n),Xr("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Bn({},n,{value:void 0}),Xr("invalid",e);break;case"textarea":ak(e,n),s=N2(e,n),Xr("invalid",e);break;default:s=n}S2(r,s),A=s;for(a in A)if(A.hasOwnProperty(a)){var c=A[a];a==="style"?CF(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jF(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Cm(e,c):typeof c=="number"&&Cm(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Bm.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Xr("scroll",e):c!=null&&z5(e,a,c,l))}switch(r){case"input":Pg(e),sk(e,n,!1);break;case"textarea":Pg(e),ik(e);break;case"option":n.value!=null&&e.setAttribute("value",""+MA(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Mf(e,!!n.multiple,a,!1):n.defaultValue!=null&&Mf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=rx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vs(t),null;case 6:if(e&&t.stateNode!=null)WI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Je(166));if(r=Tu(Om.current),Tu(hl.current),$g(t)){if(n=t.stateNode,r=t.memoizedProps,n[cl]=t,(a=n.nodeValue!==r)&&(e=Bi,e!==null))switch(e.tag){case 3:Hg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hg(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cl]=t,t.stateNode=n}return Vs(t),null;case 13:if(en(yn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(cn&&yi!==null&&t.mode&1&&!(t.flags&128))dI(),eh(),t.flags|=98560,a=!1;else if(a=$g(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Je(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Je(317));a[cl]=t}else eh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vs(t),a=!1}else Io!==null&&(cj(Io),Io=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||yn.current&1?cs===0&&(cs=3):kB())),t.updateQueue!==null&&(t.flags|=4),Vs(t),null);case 4:return rh(),tj(e,t),e===null&&Im(t.stateNode.containerInfo),Vs(t),null;case 10:return AB(t.type._context),Vs(t),null;case 17:return qa(t.type)&&nx(),Vs(t),null;case 19:if(en(yn),a=t.memoizedState,a===null)return Vs(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)F0(a,!1);else{if(cs!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ax(e),l!==null){for(t.flags|=128,F0(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Wr(yn,yn.current&1|2),t.child}e=e.sibling}a.tail!==null&&Mn()>sh&&(t.flags|=128,n=!0,F0(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ax(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),F0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!cn)return Vs(t),null}else 2*Mn()-a.renderingStartTime>sh&&r!==1073741824&&(t.flags|=128,n=!0,F0(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Mn(),t.sibling=null,r=yn.current,Wr(yn,n?r&1|2:r&1),t):(Vs(t),null);case 22:case 23:return NB(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vi&1073741824&&(Vs(t),t.subtreeFlags&6&&(t.flags|=8192)):Vs(t),null;case 24:return null;case 25:return null}throw Error(Je(156,t.tag))}function aH(e,t){switch(iB(t),t.tag){case 1:return qa(t.type)&&nx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rh(),en(Xa),en(ta),mB(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hB(t),null;case 13:if(en(yn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Je(340));eh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return en(yn),null;case 4:return rh(),null;case 10:return AB(t.type._context),null;case 22:case 23:return NB(),null;case 24:return null;default:return null}}var Vg=!1,qs=!1,iH=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Qf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Tn(e,t,n)}else r.current=null}function rj(e,t,r){try{r()}catch(n){Tn(e,t,n)}}var Yk=!1;function oH(e,t){if(D2=Zv,e=ZF(),sB(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,A=-1,c=-1,u=0,o=0,d=e,h=null;t:for(;;){for(var f;d!==r||s!==0&&d.nodeType!==3||(A=l+s),d!==a||n!==0&&d.nodeType!==3||(c=l+n),d.nodeType===3&&(l+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===r&&++u===s&&(A=l),h===a&&++o===n&&(c=l),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}r=A===-1||c===-1?null:{start:A,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(R2={focusedElem:e,selectionRange:r},Zv=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){t=vt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,x=g.memoizedState,p=t.stateNode,v=p.getSnapshotBeforeUpdate(t.elementType===t.type?m:_o(t.type,m),x);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Je(163))}}catch(j){Tn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}return g=Yk,Yk=!1,g}function om(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&rj(t,r,a)}s=s.next}while(s!==n)}}function jb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function nj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function YI(e){var t=e.alternate;t!==null&&(e.alternate=null,YI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cl],delete t[Pm],delete t[$2],delete t[$M],delete t[KM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function JI(e){return e.tag===5||e.tag===3||e.tag===4}function Jk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||JI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=rx));else if(n!==4&&(e=e.child,e!==null))for(sj(e,t,r),e=e.sibling;e!==null;)sj(e,t,r),e=e.sibling}function aj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(aj(e,t,r),e=e.sibling;e!==null;)aj(e,t,r),e=e.sibling}var Us=null,Eo=!1;function iA(e,t,r){for(r=r.child;r!==null;)XI(e,t,r),r=r.sibling}function XI(e,t,r){if(fl&&typeof fl.onCommitFiberUnmount=="function")try{fl.onCommitFiberUnmount(mb,r)}catch{}switch(r.tag){case 5:qs||Qf(r,t);case 6:var n=Us,s=Eo;Us=null,iA(e,t,r),Us=n,Eo=s,Us!==null&&(Eo?(e=Us,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Us.removeChild(r.stateNode));break;case 18:Us!==null&&(Eo?(e=Us,r=r.stateNode,e.nodeType===8?G1(e.parentNode,r):e.nodeType===1&&G1(e,r),_m(e)):G1(Us,r.stateNode));break;case 4:n=Us,s=Eo,Us=r.stateNode.containerInfo,Eo=!0,iA(e,t,r),Us=n,Eo=s;break;case 0:case 11:case 14:case 15:if(!qs&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&rj(r,t,l),s=s.next}while(s!==n)}iA(e,t,r);break;case 1:if(!qs&&(Qf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(A){Tn(r,t,A)}iA(e,t,r);break;case 21:iA(e,t,r);break;case 22:r.mode&1?(qs=(n=qs)||r.memoizedState!==null,iA(e,t,r),qs=n):iA(e,t,r);break;default:iA(e,t,r)}}function Xk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new iH),t.forEach(function(n){var s=pH.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Co(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,l=t,A=l;e:for(;A!==null;){switch(A.tag){case 5:Us=A.stateNode,Eo=!1;break e;case 3:Us=A.stateNode.containerInfo,Eo=!0;break e;case 4:Us=A.stateNode.containerInfo,Eo=!0;break e}A=A.return}if(Us===null)throw Error(Je(160));XI(a,l,s),Us=null,Eo=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Tn(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qI(t,e),t=t.sibling}function qI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Co(t,e),sl(e),n&4){try{om(3,e,e.return),jb(3,e)}catch(m){Tn(e,e.return,m)}try{om(5,e,e.return)}catch(m){Tn(e,e.return,m)}}break;case 1:Co(t,e),sl(e),n&512&&r!==null&&Qf(r,r.return);break;case 5:if(Co(t,e),sl(e),n&512&&r!==null&&Qf(r,r.return),e.flags&32){var s=e.stateNode;try{Cm(s,"")}catch(m){Tn(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,A=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{A==="input"&&a.type==="radio"&&a.name!=null&&bF(s,a),_2(A,l);var u=_2(A,a);for(l=0;l<c.length;l+=2){var o=c[l],d=c[l+1];o==="style"?CF(s,d):o==="dangerouslySetInnerHTML"?jF(s,d):o==="children"?Cm(s,d):z5(s,o,d,u)}switch(A){case"input":B2(s,a);break;case"textarea":yF(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Mf(s,!!a.multiple,f,!1):h!==!!a.multiple&&(a.defaultValue!=null?Mf(s,!!a.multiple,a.defaultValue,!0):Mf(s,!!a.multiple,a.multiple?[]:"",!1))}s[Pm]=a}catch(m){Tn(e,e.return,m)}}break;case 6:if(Co(t,e),sl(e),n&4){if(e.stateNode===null)throw Error(Je(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){Tn(e,e.return,m)}}break;case 3:if(Co(t,e),sl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{_m(t.containerInfo)}catch(m){Tn(e,e.return,m)}break;case 4:Co(t,e),sl(e);break;case 13:Co(t,e),sl(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(BB=Mn())),n&4&&Xk(e);break;case 22:if(o=r!==null&&r.memoizedState!==null,e.mode&1?(qs=(u=qs)||o,Co(t,e),qs=u):Co(t,e),sl(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!o&&e.mode&1)for(vt=e,o=e.child;o!==null;){for(d=vt=o;vt!==null;){switch(h=vt,f=h.child,h.tag){case 0:case 11:case 14:case 15:om(4,h,h.return);break;case 1:Qf(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Tn(n,r,m)}}break;case 5:Qf(h,h.return);break;case 22:if(h.memoizedState!==null){Zk(d);continue}}f!==null?(f.return=h,vt=f):Zk(d)}o=o.sibling}e:for(o=null,d=e;;){if(d.tag===5){if(o===null){o=d;try{s=d.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(A=d.stateNode,c=d.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,A.style.display=BF("display",l))}catch(m){Tn(e,e.return,m)}}}else if(d.tag===6){if(o===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Tn(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;o===d&&(o=null),d=d.return}o===d&&(o=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Co(t,e),sl(e),n&4&&Xk(e);break;case 21:break;default:Co(t,e),sl(e)}}function sl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(JI(r)){var n=r;break e}r=r.return}throw Error(Je(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Cm(s,""),n.flags&=-33);var a=Jk(e);aj(e,a,s);break;case 3:case 4:var l=n.stateNode.containerInfo,A=Jk(e);sj(e,A,l);break;default:throw Error(Je(161))}}catch(c){Tn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lH(e,t,r){vt=e,ZI(e)}function ZI(e,t,r){for(var n=(e.mode&1)!==0;vt!==null;){var s=vt,a=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||Vg;if(!l){var A=s.alternate,c=A!==null&&A.memoizedState!==null||qs;A=Vg;var u=qs;if(Vg=l,(qs=c)&&!u)for(vt=s;vt!==null;)l=vt,c=l.child,l.tag===22&&l.memoizedState!==null?eS(s):c!==null?(c.return=l,vt=c):eS(s);for(;a!==null;)vt=a,ZI(a),a=a.sibling;vt=s,Vg=A,qs=u}qk(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,vt=a):qk(e)}}function qk(e){for(;vt!==null;){var t=vt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qs||jb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!qs)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:_o(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ok(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ok(t,l,r)}break;case 5:var A=t.stateNode;if(r===null&&t.flags&4){r=A;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var o=u.memoizedState;if(o!==null){var d=o.dehydrated;d!==null&&_m(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Je(163))}qs||t.flags&512&&nj(t)}catch(h){Tn(t,t.return,h)}}if(t===e){vt=null;break}if(r=t.sibling,r!==null){r.return=t.return,vt=r;break}vt=t.return}}function Zk(e){for(;vt!==null;){var t=vt;if(t===e){vt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,vt=r;break}vt=t.return}}function eS(e){for(;vt!==null;){var t=vt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{jb(4,t)}catch(c){Tn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Tn(t,s,c)}}var a=t.return;try{nj(t)}catch(c){Tn(t,a,c)}break;case 5:var l=t.return;try{nj(t)}catch(c){Tn(t,l,c)}}}catch(c){Tn(t,t.return,c)}if(t===e){vt=null;break}var A=t.sibling;if(A!==null){A.return=t.return,vt=A;break}vt=t.return}}var cH=Math.ceil,fx=jc.ReactCurrentDispatcher,wB=jc.ReactCurrentOwner,ro=jc.ReactCurrentBatchConfig,gr=0,ws=null,Yn=null,Qs=0,vi=0,Df=YA(0),cs=0,Rm=null,rd=0,Bb=0,jB=0,lm=null,za=null,BB=0,sh=1/0,Jl=null,hx=!1,ij=null,FA=null,Gg=!1,wA=null,mx=0,cm=0,oj=null,Dv=-1,Rv=0;function xa(){return gr&6?Mn():Dv!==-1?Dv:Dv=Mn()}function IA(e){return e.mode&1?gr&2&&Qs!==0?Qs&-Qs:VM.transition!==null?(Rv===0&&(Rv=LF()),Rv):(e=Or,e!==0||(e=window.event,e=e===void 0?16:KF(e.type)),e):1}function Oo(e,t,r,n){if(50<cm)throw cm=0,oj=null,Error(Je(185));hp(e,r,n),(!(gr&2)||e!==ws)&&(e===ws&&(!(gr&2)&&(Bb|=r),cs===4&&pA(e,Qs)),Za(e,n),r===1&&gr===0&&!(t.mode&1)&&(sh=Mn()+500,bb&&JA()))}function Za(e,t){var r=e.callbackNode;V7(e,t);var n=qv(e,e===ws?Qs:0);if(n===0)r!==null&&ck(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ck(r),t===1)e.tag===0?zM(tS.bind(null,e)):cI(tS.bind(null,e)),MM(function(){!(gr&6)&&JA()}),r=null;else{switch(QF(n)){case 1:r=J5;break;case 4:r=TF;break;case 16:r=Xv;break;case 536870912:r=OF;break;default:r=Xv}r=oU(r,eU.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function eU(e,t){if(Dv=-1,Rv=0,gr&6)throw Error(Je(327));var r=e.callbackNode;if(Vf()&&e.callbackNode!==r)return null;var n=qv(e,e===ws?Qs:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=px(e,n);else{t=n;var s=gr;gr|=2;var a=rU();(ws!==e||Qs!==t)&&(Jl=null,sh=Mn()+500,$u(e,t));do try{dH();break}catch(A){tU(e,A)}while(!0);cB(),fx.current=a,gr=s,Yn!==null?t=0:(ws=null,Qs=0,t=cs)}if(t!==0){if(t===2&&(s=P2(e),s!==0&&(n=s,t=lj(e,s))),t===1)throw r=Rm,$u(e,0),pA(e,n),Za(e,Mn()),r;if(t===6)pA(e,n);else{if(s=e.current.alternate,!(n&30)&&!AH(s)&&(t=px(e,n),t===2&&(a=P2(e),a!==0&&(n=a,t=lj(e,a))),t===1))throw r=Rm,$u(e,0),pA(e,n),Za(e,Mn()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Je(345));case 2:Nu(e,za,Jl);break;case 3:if(pA(e,n),(n&130023424)===n&&(t=BB+500-Mn(),10<t)){if(qv(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){xa(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=H2(Nu.bind(null,e,za,Jl),t);break}Nu(e,za,Jl);break;case 4:if(pA(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var l=31-To(n);a=1<<l,l=t[l],l>s&&(s=l),n&=~a}if(n=s,n=Mn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cH(n/1960))-n,10<n){e.timeoutHandle=H2(Nu.bind(null,e,za,Jl),n);break}Nu(e,za,Jl);break;case 5:Nu(e,za,Jl);break;default:throw Error(Je(329))}}}return Za(e,Mn()),e.callbackNode===r?eU.bind(null,e):null}function lj(e,t){var r=lm;return e.current.memoizedState.isDehydrated&&($u(e,t).flags|=256),e=px(e,t),e!==2&&(t=za,za=r,t!==null&&cj(t)),e}function cj(e){za===null?za=e:za.push.apply(za,e)}function AH(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Lo(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pA(e,t){for(t&=~jB,t&=~Bb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-To(t),n=1<<r;e[r]=-1,t&=~n}}function tS(e){if(gr&6)throw Error(Je(327));Vf();var t=qv(e,0);if(!(t&1))return Za(e,Mn()),null;var r=px(e,t);if(e.tag!==0&&r===2){var n=P2(e);n!==0&&(t=n,r=lj(e,n))}if(r===1)throw r=Rm,$u(e,0),pA(e,t),Za(e,Mn()),r;if(r===6)throw Error(Je(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nu(e,za,Jl),Za(e,Mn()),null}function CB(e,t){var r=gr;gr|=1;try{return e(t)}finally{gr=r,gr===0&&(sh=Mn()+500,bb&&JA())}}function nd(e){wA!==null&&wA.tag===0&&!(gr&6)&&Vf();var t=gr;gr|=1;var r=ro.transition,n=Or;try{if(ro.transition=null,Or=1,e)return e()}finally{Or=n,ro.transition=r,gr=t,!(gr&6)&&JA()}}function NB(){vi=Df.current,en(Df)}function $u(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,RM(r)),Yn!==null)for(r=Yn.return;r!==null;){var n=r;switch(iB(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&nx();break;case 3:rh(),en(Xa),en(ta),mB();break;case 5:hB(n);break;case 4:rh();break;case 13:en(yn);break;case 19:en(yn);break;case 10:AB(n.type._context);break;case 22:case 23:NB()}r=r.return}if(ws=e,Yn=e=UA(e.current,null),Qs=vi=t,cs=0,Rm=null,jB=Bb=rd=0,za=lm=null,Pu!==null){for(t=0;t<Pu.length;t++)if(r=Pu[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=s,n.next=l}r.pending=n}Pu=null}return e}function tU(e,t){do{var r=Yn;try{if(cB(),Ov.current=dx,ux){for(var n=jn.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ux=!1}if(td=0,bs=is=jn=null,im=!1,Lm=0,wB.current=null,r===null||r.return===null){cs=1,Rm=t,Yn=null;break}e:{var a=e,l=r.return,A=r,c=t;if(t=Qs,A.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,o=A,d=o.tag;if(!(o.mode&1)&&(d===0||d===11||d===15)){var h=o.alternate;h?(o.updateQueue=h.updateQueue,o.memoizedState=h.memoizedState,o.lanes=h.lanes):(o.updateQueue=null,o.memoizedState=null)}var f=Hk(l);if(f!==null){f.flags&=-257,$k(f,l,A,a,t),f.mode&1&&Mk(a,u,t),t=f,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){Mk(a,u,t),kB();break e}c=Error(Je(426))}}else if(cn&&A.mode&1){var x=Hk(l);if(x!==null){!(x.flags&65536)&&(x.flags|=256),$k(x,l,A,a,t),oB(nh(c,A));break e}}a=c=nh(c,A),cs!==4&&(cs=2),lm===null?lm=[a]:lm.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=QI(a,c,t);Tk(a,p);break e;case 1:A=c;var v=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(FA===null||!FA.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=DI(a,A,t);Tk(a,j);break e}}a=a.return}while(a!==null)}sU(r)}catch(k){t=k,Yn===r&&r!==null&&(Yn=r=r.return);continue}break}while(!0)}function rU(){var e=fx.current;return fx.current=dx,e===null?dx:e}function kB(){(cs===0||cs===3||cs===2)&&(cs=4),ws===null||!(rd&268435455)&&!(Bb&268435455)||pA(ws,Qs)}function px(e,t){var r=gr;gr|=2;var n=rU();(ws!==e||Qs!==t)&&(Jl=null,$u(e,t));do try{uH();break}catch(s){tU(e,s)}while(!0);if(cB(),gr=r,fx.current=n,Yn!==null)throw Error(Je(261));return ws=null,Qs=0,cs}function uH(){for(;Yn!==null;)nU(Yn)}function dH(){for(;Yn!==null&&!L7();)nU(Yn)}function nU(e){var t=iU(e.alternate,e,vi);e.memoizedProps=e.pendingProps,t===null?sU(e):Yn=t,wB.current=null}function sU(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=aH(r,t),r!==null){r.flags&=32767,Yn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{cs=6,Yn=null;return}}else if(r=sH(r,t,vi),r!==null){Yn=r;return}if(t=t.sibling,t!==null){Yn=t;return}Yn=t=e}while(t!==null);cs===0&&(cs=5)}function Nu(e,t,r){var n=Or,s=ro.transition;try{ro.transition=null,Or=1,fH(e,t,r,n)}finally{ro.transition=s,Or=n}return null}function fH(e,t,r,n){do Vf();while(wA!==null);if(gr&6)throw Error(Je(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Je(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(G7(e,a),e===ws&&(Yn=ws=null,Qs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gg||(Gg=!0,oU(Xv,function(){return Vf(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ro.transition,ro.transition=null;var l=Or;Or=1;var A=gr;gr|=4,wB.current=null,oH(e,r),qI(r,e),UM(R2),Zv=!!D2,R2=D2=null,e.current=r,lH(r),Q7(),gr=A,Or=l,ro.transition=a}else e.current=r;if(Gg&&(Gg=!1,wA=e,mx=s),a=e.pendingLanes,a===0&&(FA=null),M7(r.stateNode),Za(e,Mn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(hx)throw hx=!1,e=ij,ij=null,e;return mx&1&&e.tag!==0&&Vf(),a=e.pendingLanes,a&1?e===oj?cm++:(cm=0,oj=e):cm=0,JA(),null}function Vf(){if(wA!==null){var e=QF(mx),t=ro.transition,r=Or;try{if(ro.transition=null,Or=16>e?16:e,wA===null)var n=!1;else{if(e=wA,wA=null,mx=0,gr&6)throw Error(Je(331));var s=gr;for(gr|=4,vt=e.current;vt!==null;){var a=vt,l=a.child;if(vt.flags&16){var A=a.deletions;if(A!==null){for(var c=0;c<A.length;c++){var u=A[c];for(vt=u;vt!==null;){var o=vt;switch(o.tag){case 0:case 11:case 15:om(8,o,a)}var d=o.child;if(d!==null)d.return=o,vt=d;else for(;vt!==null;){o=vt;var h=o.sibling,f=o.return;if(YI(o),o===u){vt=null;break}if(h!==null){h.return=f,vt=h;break}vt=f}}}var g=a.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}vt=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,vt=l;else e:for(;vt!==null;){if(a=vt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:om(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,vt=p;break e}vt=a.return}}var v=e.current;for(vt=v;vt!==null;){l=vt;var b=l.child;if(l.subtreeFlags&2064&&b!==null)b.return=l,vt=b;else e:for(l=v;vt!==null;){if(A=vt,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:jb(9,A)}}catch(k){Tn(A,A.return,k)}if(A===l){vt=null;break e}var j=A.sibling;if(j!==null){j.return=A.return,vt=j;break e}vt=A.return}}if(gr=s,JA(),fl&&typeof fl.onPostCommitFiberRoot=="function")try{fl.onPostCommitFiberRoot(mb,e)}catch{}n=!0}return n}finally{Or=r,ro.transition=t}}return!1}function rS(e,t,r){t=nh(r,t),t=QI(e,t,1),e=EA(e,t,1),t=xa(),e!==null&&(hp(e,1,t),Za(e,t))}function Tn(e,t,r){if(e.tag===3)rS(e,e,r);else for(;t!==null;){if(t.tag===3){rS(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(FA===null||!FA.has(n))){e=nh(r,e),e=DI(t,e,1),t=EA(t,e,1),e=xa(),t!==null&&(hp(t,1,e),Za(t,e));break}}t=t.return}}function hH(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=xa(),e.pingedLanes|=e.suspendedLanes&r,ws===e&&(Qs&r)===r&&(cs===4||cs===3&&(Qs&130023424)===Qs&&500>Mn()-BB?$u(e,0):jB|=r),Za(e,t)}function aU(e,t){t===0&&(e.mode&1?(t=Lg,Lg<<=1,!(Lg&130023424)&&(Lg=4194304)):t=1);var r=xa();e=hc(e,t),e!==null&&(hp(e,t,r),Za(e,r))}function mH(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),aU(e,r)}function pH(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Je(314))}n!==null&&n.delete(t),aU(e,r)}var iU;iU=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xa.current)Wa=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wa=!1,nH(e,t,r);Wa=!!(e.flags&131072)}else Wa=!1,cn&&t.flags&1048576&&AI(t,ix,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Qv(e,t),e=t.pendingProps;var s=Zf(t,ta.current);zf(t,r),s=gB(null,t,n,e,s,r);var a=vB();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qa(n)?(a=!0,sx(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,dB(t),s.updater=wb,t.stateNode=s,s._reactInternals=t,Y2(t,n,e,r),t=q2(null,t,n,!0,a,r)):(t.tag=0,cn&&a&&aB(t),ha(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Qv(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=vH(n),e=_o(n,e),s){case 0:t=X2(null,t,n,e,r);break e;case 1:t=Vk(null,t,n,e,r);break e;case 11:t=Kk(null,t,n,e,r);break e;case 14:t=zk(null,t,n,_o(n.type,e),r);break e}throw Error(Je(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:_o(n,s),X2(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:_o(n,s),Vk(e,t,n,s,r);case 3:e:{if($I(t),e===null)throw Error(Je(387));n=t.pendingProps,a=t.memoizedState,s=a.element,pI(e,t),cx(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=nh(Error(Je(423)),t),t=Gk(e,t,n,r,s);break e}else if(n!==s){s=nh(Error(Je(424)),t),t=Gk(e,t,n,r,s);break e}else for(yi=_A(t.stateNode.containerInfo.firstChild),Bi=t,cn=!0,Io=null,r=hI(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(eh(),n===s){t=mc(e,t,r);break e}ha(e,t,n,r)}t=t.child}return t;case 5:return gI(t),e===null&&V2(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,l=s.children,M2(n,s)?l=null:a!==null&&M2(n,a)&&(t.flags|=32),HI(e,t),ha(e,t,l,r),t.child;case 6:return e===null&&V2(t),null;case 13:return KI(e,t,r);case 4:return fB(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=th(t,null,n,r):ha(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:_o(n,s),Kk(e,t,n,s,r);case 7:return ha(e,t,t.pendingProps,r),t.child;case 8:return ha(e,t,t.pendingProps.children,r),t.child;case 12:return ha(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,l=s.value,Wr(ox,n._currentValue),n._currentValue=l,a!==null)if(Lo(a.value,l)){if(a.children===s.children&&!Xa.current){t=mc(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var A=a.dependencies;if(A!==null){l=a.child;for(var c=A.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=oc(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var o=u.pending;o===null?c.next=c:(c.next=o.next,o.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),G2(a.return,r,t),A.lanes|=r;break}c=c.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(Je(341));l.lanes|=r,A=l.alternate,A!==null&&(A.lanes|=r),G2(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}ha(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,zf(t,r),s=no(s),n=n(s),t.flags|=1,ha(e,t,n,r),t.child;case 14:return n=t.type,s=_o(n,t.pendingProps),s=_o(n.type,s),zk(e,t,n,s,r);case 15:return RI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:_o(n,s),Qv(e,t),t.tag=1,qa(n)?(e=!0,sx(t)):e=!1,zf(t,r),LI(t,n,s),Y2(t,n,s,r),q2(null,t,n,!0,e,r);case 19:return zI(e,t,r);case 22:return MI(e,t,r)}throw Error(Je(156,t.tag))};function oU(e,t){return PF(e,t)}function gH(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eo(e,t,r,n){return new gH(e,t,r,n)}function SB(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vH(e){if(typeof e=="function")return SB(e)?1:0;if(e!=null){if(e=e.$$typeof,e===G5)return 11;if(e===W5)return 14}return 2}function UA(e,t){var r=e.alternate;return r===null?(r=eo(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Mv(e,t,r,n,s,a){var l=2;if(n=e,typeof e=="function")SB(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case _f:return Ku(r.children,s,a,t);case V5:l=8,s|=8;break;case x2:return e=eo(12,r,t,s|2),e.elementType=x2,e.lanes=a,e;case b2:return e=eo(13,r,t,s),e.elementType=b2,e.lanes=a,e;case y2:return e=eo(19,r,t,s),e.elementType=y2,e.lanes=a,e;case gF:return Cb(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mF:l=10;break e;case pF:l=9;break e;case G5:l=11;break e;case W5:l=14;break e;case uA:l=16,n=null;break e}throw Error(Je(130,e==null?e:typeof e,""))}return t=eo(l,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Ku(e,t,r,n){return e=eo(7,e,n,t),e.lanes=r,e}function Cb(e,t,r,n){return e=eo(22,e,n,t),e.elementType=gF,e.lanes=r,e.stateNode={isHidden:!1},e}function tw(e,t,r){return e=eo(6,e,null,t),e.lanes=r,e}function rw(e,t,r){return t=eo(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xH(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=O1(0),this.expirationTimes=O1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O1(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _B(e,t,r,n,s,a,l,A,c){return e=new xH(e,t,r,A,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=eo(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dB(a),e}function bH(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function lU(e){if(!e)return HA;e=e._reactInternals;e:{if(vd(e)!==e||e.tag!==1)throw Error(Je(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Je(171))}if(e.tag===1){var r=e.type;if(qa(r))return lI(e,r,t)}return t}function cU(e,t,r,n,s,a,l,A,c){return e=_B(r,n,!0,e,s,a,l,A,c),e.context=lU(null),r=e.current,n=xa(),s=IA(r),a=oc(n,s),a.callback=t??null,EA(r,a,s),e.current.lanes=s,hp(e,s,n),Za(e,n),e}function Nb(e,t,r,n){var s=t.current,a=xa(),l=IA(s);return r=lU(r),t.context===null?t.context=r:t.pendingContext=r,t=oc(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=EA(s,t,l),e!==null&&(Oo(e,s,l,a),Tv(e,s,l)),l}function gx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function EB(e,t){nS(e,t),(e=e.alternate)&&nS(e,t)}function yH(){return null}var AU=typeof reportError=="function"?reportError:function(e){console.error(e)};function FB(e){this._internalRoot=e}kb.prototype.render=FB.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Je(409));Nb(e,t,null,null)};kb.prototype.unmount=FB.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nd(function(){Nb(null,e,null,null)}),t[fc]=null}};function kb(e){this._internalRoot=e}kb.prototype.unstable_scheduleHydration=function(e){if(e){var t=MF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<mA.length&&t!==0&&t<mA[r].priority;r++);mA.splice(r,0,e),r===0&&$F(e)}};function IB(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sS(){}function wH(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=gx(l);a.call(u)}}var l=cU(t,n,e,0,null,!1,!1,"",sS);return e._reactRootContainer=l,e[fc]=l.current,Im(e.nodeType===8?e.parentNode:e),nd(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var A=n;n=function(){var u=gx(c);A.call(u)}}var c=_B(e,0,!1,null,null,!1,!1,"",sS);return e._reactRootContainer=c,e[fc]=c.current,Im(e.nodeType===8?e.parentNode:e),nd(function(){Nb(t,c,r,n)}),c}function _b(e,t,r,n,s){var a=r._reactRootContainer;if(a){var l=a;if(typeof s=="function"){var A=s;s=function(){var c=gx(l);A.call(c)}}Nb(t,l,e,s)}else l=wH(r,t,e,s,n);return gx(l)}DF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=W0(t.pendingLanes);r!==0&&(X5(t,r|1),Za(t,Mn()),!(gr&6)&&(sh=Mn()+500,JA()))}break;case 13:nd(function(){var n=hc(e,1);if(n!==null){var s=xa();Oo(n,e,1,s)}}),EB(e,1)}};q5=function(e){if(e.tag===13){var t=hc(e,134217728);if(t!==null){var r=xa();Oo(t,e,134217728,r)}EB(e,134217728)}};RF=function(e){if(e.tag===13){var t=IA(e),r=hc(e,t);if(r!==null){var n=xa();Oo(r,e,t,n)}EB(e,t)}};MF=function(){return Or};HF=function(e,t){var r=Or;try{return Or=e,t()}finally{Or=r}};F2=function(e,t,r){switch(t){case"input":if(B2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=xb(n);if(!s)throw Error(Je(90));xF(n),B2(n,s)}}}break;case"textarea":yF(e,r);break;case"select":t=r.value,t!=null&&Mf(e,!!r.multiple,t,!1)}};SF=CB;_F=nd;var jH={usingClientEntryPoint:!1,Events:[pp,Uf,xb,NF,kF,CB]},I0={findFiberByHostInstance:Uu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BH={bundleType:I0.bundleType,version:I0.version,rendererPackageName:I0.rendererPackageName,rendererConfig:I0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=IF(e),e===null?null:e.stateNode},findFiberByHostInstance:I0.findFiberByHostInstance||yH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wg.isDisabled&&Wg.supportsFiber)try{mb=Wg.inject(BH),fl=Wg}catch{}}_i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jH;_i.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!IB(t))throw Error(Je(200));return bH(e,t,null,r)};_i.createRoot=function(e,t){if(!IB(e))throw Error(Je(299));var r=!1,n="",s=AU;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=_B(e,1,!1,null,null,r,!1,n,s),e[fc]=t.current,Im(e.nodeType===8?e.parentNode:e),new FB(t)};_i.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Je(188)):(e=Object.keys(e).join(","),Error(Je(268,e)));return e=IF(t),e=e===null?null:e.stateNode,e};_i.flushSync=function(e){return nd(e)};_i.hydrate=function(e,t,r){if(!Sb(t))throw Error(Je(200));return _b(null,e,t,!0,r)};_i.hydrateRoot=function(e,t,r){if(!IB(e))throw Error(Je(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",l=AU;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=cU(t,null,e,1,r??null,s,!1,a,l),e[fc]=t.current,Im(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new kb(t)};_i.render=function(e,t,r){if(!Sb(t))throw Error(Je(200));return _b(null,e,t,!1,r)};_i.unmountComponentAtNode=function(e){if(!Sb(e))throw Error(Je(40));return e._reactRootContainer?(nd(function(){_b(null,null,e,!1,function(){e._reactRootContainer=null,e[fc]=null})}),!0):!1};_i.unstable_batchedUpdates=CB;_i.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Sb(r))throw Error(Je(200));if(e==null||e._reactInternals===void 0)throw Error(Je(38));return _b(e,t,r,!1,n)};_i.version="18.3.1-next-f1338f8080-20240426";function uU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uU)}catch(e){console.error(e)}}uU(),uF.exports=_i;var UB=uF.exports,dU,aS=UB;dU=aS.createRoot,aS.hydrateRoot;const fU=E.createContext(void 0);function CH({children:e}){const[t,r]=E.useState(()=>{if(typeof window<"u"){const s=localStorage.getItem("theme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});E.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(t),localStorage.setItem("theme",t)},[t]);const n=()=>{r(s=>s==="light"?"dark":"light")};return i.jsx(fU.Provider,{value:{theme:t,toggleTheme:n},children:e})}function NH(){const e=E.useContext(fU);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),lt=(e,t)=>{const r=E.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:A="",children:c,...u},o)=>E.createElement("svg",{ref:o,...kH,width:s,height:s,stroke:n,strokeWidth:l?Number(a)*24/Number(s):a,className:["lucide",`lucide-${SH(e)}`,A].join(" "),...u},[...t.map(([d,h])=>E.createElement(d,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=lt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=lt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=lt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=lt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=lt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=lt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=lt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=lt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=lt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=lt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=lt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=lt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=lt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=lt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=lt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=lt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=lt("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=lt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=lt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=lt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=lt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=lt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=lt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=lt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=lt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=lt("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=lt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=lt("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=lt("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=lt("FileSearch",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"1vg67v"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=lt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=lt("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=lt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=lt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=lt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=lt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=lt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=lt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=lt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=lt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=lt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=lt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=lt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=lt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=lt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=lt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=lt("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=lt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=lt("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=lt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=lt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=lt("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=lt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=lt("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=lt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=lt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=lt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=lt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=lt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=lt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=lt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=lt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=lt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=lt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=lt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=lt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=lt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=lt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=lt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=lt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bU=E.createContext(void 0);function n9({children:e}){const[t,r]=E.useState([]),n=E.useCallback((c,u)=>{const o=Math.random().toString(36).substring(2,9);r(d=>[...d,{id:o,type:c,message:u}]),setTimeout(()=>{r(d=>d.filter(h=>h.id!==o))},4e3)},[]),s=E.useCallback(c=>n("success",c),[n]),a=E.useCallback(c=>n("error",c),[n]),l=E.useCallback(c=>n("info",c),[n]),A=c=>{r(u=>u.filter(o=>o.id!==c))};return i.jsxs(bU.Provider,{value:{showToast:n,success:s,error:a,info:l},children:[e,i.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 max-w-sm",children:t.map(c=>i.jsxs("div",{className:`flex items-start gap-3 px-4 py-3 rounded-lg shadow-lg border-2 backdrop-blur-sm transition-all animate-slide-in ${c.type==="success"?"bg-green-50/95 dark:bg-green-900/95 border-green-200 dark:border-green-700":c.type==="error"?"bg-red-50/95 dark:bg-red-900/95 border-red-200 dark:border-red-700":"bg-blue-50/95 dark:bg-blue-900/95 border-blue-200 dark:border-blue-700"}`,children:[c.type==="success"&&i.jsx(ar,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0"}),c.type==="error"&&i.jsx(Lr,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),c.type==="info"&&i.jsx(Sr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0"}),i.jsx("p",{className:`text-sm font-medium flex-1 ${c.type==="success"?"text-green-900 dark:text-green-100":c.type==="error"?"text-red-900 dark:text-red-100":"text-blue-900 dark:text-blue-100"}`,children:c.message}),i.jsx("button",{onClick:()=>A(c.id),className:`p-0.5 rounded hover:bg-black/10 dark:hover:bg-white/10 transition ${c.type==="success"?"text-green-700 dark:text-green-300":c.type==="error"?"text-red-700 dark:text-red-300":"text-blue-700 dark:text-blue-300"}`,children:i.jsx(un,{className:"w-4 h-4"})})]},c.id))})]})}function Cn(){const e=E.useContext(bU);if(!e)throw new Error("useToast must be used within ToastProvider");return e}const s9="modulepreload",a9=function(e){return"/"+e},AS={},TA=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),A=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=a9(c),c in AS)return;AS[c]=!0;const u=c.endsWith(".css"),o=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${o}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":s9,u||(d.as="script"),d.crossOrigin="",d.href=c,A&&d.setAttribute("nonce",A),document.head.appendChild(d),u)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(l){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=l,window.dispatchEvent(A),!A.defaultPrevented)throw l}return s.then(l=>{for(const A of l||[])A.status==="rejected"&&a(A.reason);return t().catch(a)})},i9=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>TA(async()=>{const{default:n}=await Promise.resolve().then(()=>_h);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class DB extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class o9 extends DB{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class uS extends DB{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dS extends DB{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hj||(hj={}));var l9=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function A(o){try{u(n.next(o))}catch(d){l(d)}}function c(o){try{u(n.throw(o))}catch(d){l(d)}}function u(o){o.done?a(o.value):s(o.value).then(A,c)}u((n=n.apply(e,t||[])).next())})};class c9{constructor(t,{headers:r={},customFetch:n,region:s=hj.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=i9(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return l9(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:l}=r;let A={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(A["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let o;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(A["Content-Type"]="application/octet-stream",o=l):typeof l=="string"?(A["Content-Type"]="text/plain",o=l):typeof FormData<"u"&&l instanceof FormData?o=l:(A["Content-Type"]="application/json",o=JSON.stringify(l)));const d=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},A),this.headers),s),body:o}).catch(m=>{throw new o9(m)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new uS(d);if(!d.ok)throw new dS(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof dS||s instanceof uS?s.context:void 0}}})}}var Va={},RB={},Eb={},xp={},Fb={},Ib={},A9=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ih=A9();const u9=ih.fetch,yU=ih.fetch.bind(ih),wU=ih.Headers,d9=ih.Request,f9=ih.Response,_h=Object.freeze(Object.defineProperty({__proto__:null,Headers:wU,Request:d9,Response:f9,default:yU,fetch:u9},Symbol.toStringTag,{value:"Module"})),h9=Z6(_h);var Ub={};Object.defineProperty(Ub,"__esModule",{value:!0});let m9=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ub.default=m9;var jU=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ib,"__esModule",{value:!0});const p9=jU(h9),g9=jU(Ub);let v9=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=p9.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,A,c,u;let o=null,d=null,h=null,f=a.status,g=a.statusText;if(a.ok){if(this.method!=="HEAD"){const v=await a.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?d=v:d=JSON.parse(v))}const x=(A=this.headers.get("Prefer"))===null||A===void 0?void 0:A.match(/count=(exact|planned|estimated)/),p=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");x&&p&&p.length>1&&(h=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(o={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await a.text();try{o=JSON.parse(x),Array.isArray(o)&&a.status===404&&(d=[],o=null,f=200,g="OK")}catch{a.status===404&&x===""?(f=204,g="No Content"):o={message:x}}if(o&&this.isMaybeSingle&&(!((u=o==null?void 0:o.details)===null||u===void 0)&&u.includes("0 rows"))&&(o=null,f=200,g="OK"),o&&this.shouldThrowOnError)throw new g9.default(o)}return{error:o,data:d,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(a=>{var l,A,c;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(A=a==null?void 0:a.stack)!==null&&A!==void 0?A:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Ib.default=v9;var x9=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fb,"__esModule",{value:!0});const b9=x9(Ib);let y9=class extends b9.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.order`:"order",A=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${A?`${A},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:l="text"}={}){var A;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(A=this.headers.get("Accept"))!==null&&A!==void 0?A:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${u}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Fb.default=y9;var w9=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xp,"__esModule",{value:!0});const j9=w9(Fb);let B9=class extends j9.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};xp.default=B9;var C9=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eb,"__esModule",{value:!0});const U0=C9(xp);let N9=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const l=(t??"*").split("").map(A=>/\s/.test(A)&&!a?"":(A==='"'&&(a=!a),A)).join("");return this.url.searchParams.set("select",l),n&&this.headers.append("Prefer",`count=${n}`),new U0.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((A,c)=>A.concat(Object.keys(c)),[]);if(l.length>0){const A=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",A.join(","))}}return new U0.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){var l;const A="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,o)=>u.concat(Object.keys(o)),[]);if(c.length>0){const u=[...new Set(c)].map(o=>`"${o}"`);this.url.searchParams.set("columns",u.join(","))}}return new U0.default({method:A,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new U0.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new U0.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Eb.default=N9;var BU=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(RB,"__esModule",{value:!0});const k9=BU(Eb),S9=BU(xp);let _9=class CU{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new k9.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new CU(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var l;let A;const c=new URL(`${this.url}/rpc/${t}`);let u;n||s?(A=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(A="POST",u=r);const o=new Headers(this.headers);return a&&o.set("Prefer",`count=${a}`),new S9.default({method:A,url:c,headers:o,schema:this.schemaName,body:u,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};RB.default=_9;var Eh=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Va,"__esModule",{value:!0});Va.PostgrestError=Va.PostgrestBuilder=Va.PostgrestTransformBuilder=Va.PostgrestFilterBuilder=Va.PostgrestQueryBuilder=Va.PostgrestClient=void 0;const NU=Eh(RB);Va.PostgrestClient=NU.default;const kU=Eh(Eb);Va.PostgrestQueryBuilder=kU.default;const SU=Eh(xp);Va.PostgrestFilterBuilder=SU.default;const _U=Eh(Fb);Va.PostgrestTransformBuilder=_U.default;const EU=Eh(Ib);Va.PostgrestBuilder=EU.default;const FU=Eh(Ub);Va.PostgrestError=FU.default;var E9=Va.default={PostgrestClient:NU.default,PostgrestQueryBuilder:kU.default,PostgrestFilterBuilder:SU.default,PostgrestTransformBuilder:_U.default,PostgrestBuilder:EU.default,PostgrestError:FU.default};const{PostgrestClient:F9,PostgrestQueryBuilder:$fe,PostgrestFilterBuilder:Kfe,PostgrestTransformBuilder:zfe,PostgrestBuilder:Vfe,PostgrestError:Gfe}=E9;class I9{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const U9="2.15.5",P9=`realtime-js/${U9}`,T9="1.0.0",mj=1e4,O9=1e3,L9=100;var Am;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Am||(Am={}));var ss;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ss||(ss={}));var Fo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fo||(Fo={}));var pj;(function(e){e.websocket="websocket"})(pj||(pj={}));var Iu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Iu||(Iu={}));class Q9{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let l=this.HEADER_LENGTH+2;const A=n.decode(t.slice(l,l+s));l=l+s;const c=n.decode(t.slice(l,l+a));l=l+a;const u=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:A,event:c,payload:u}}}class IU{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Vr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Vr||(Vr={}));const fS=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,l)=>(a[l]=D9(l,e,t,s),a),{})},D9=(e,t,r,n)=>{const s=t.find(A=>A.name===e),a=s==null?void 0:s.type,l=r[e];return a&&!n.includes(a)?UU(a,l):gj(l)},UU=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return $9(t,r)}switch(e){case Vr.bool:return R9(t);case Vr.float4:case Vr.float8:case Vr.int2:case Vr.int4:case Vr.int8:case Vr.numeric:case Vr.oid:return M9(t);case Vr.json:case Vr.jsonb:return H9(t);case Vr.timestamp:return K9(t);case Vr.abstime:case Vr.date:case Vr.daterange:case Vr.int4range:case Vr.int8range:case Vr.money:case Vr.reltime:case Vr.text:case Vr.time:case Vr.timestamptz:case Vr.timetz:case Vr.tsrange:case Vr.tstzrange:return gj(t);default:return gj(t)}},gj=e=>e,R9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},M9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},H9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$9=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const l=e.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(A=>UU(t,A))}return e},K9=e=>typeof e=="string"?e.replace(" ","T"):e,PU=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class sw{constructor(t,r,n={},s=mj){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hS||(hS={}));class um{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:l,onSync:A}=this.caller;this.joinRef=this.channel._joinRef(),this.state=um.syncState(this.state,s,a,l),this.pendingDiffs.forEach(c=>{this.state=um.syncDiff(this.state,c,a,l)}),this.pendingDiffs=[],A()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:A}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=um.syncDiff(this.state,s,a,l),A())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),l=this.transformState(r),A={},c={};return this.map(a,(u,o)=>{l[u]||(c[u]=o)}),this.map(l,(u,o)=>{const d=a[u];if(d){const h=o.map(x=>x.presence_ref),f=d.map(x=>x.presence_ref),g=o.filter(x=>f.indexOf(x.presence_ref)<0),m=d.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(A[u]=g),m.length>0&&(c[u]=m)}else A[u]=o}),this.syncDiff(a,{joins:A,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(A,c)=>{var u;const o=(u=t[A])!==null&&u!==void 0?u:[];if(t[A]=this.cloneDeep(c),o.length>0){const d=t[A].map(f=>f.presence_ref),h=o.filter(f=>d.indexOf(f.presence_ref)<0);t[A].unshift(...h)}n(A,o,c)}),this.map(l,(A,c)=>{let u=t[A];if(!u)return;const o=c.map(d=>d.presence_ref);u=u.filter(d=>o.indexOf(d.presence_ref)<0),t[A]=u,s(A,u,c),u.length===0&&delete t[A]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mS||(mS={}));var dm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(dm||(dm={}));var Xl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xl||(Xl={}));class MB{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ss.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sw(this,Fo.join,this.params,this.timeout),this.rejoinTimer=new IU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ss.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ss.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ss.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ss.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ss.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fo.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new um(this),this.broadcastEndpointURL=PU(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ss.closed){const{config:{broadcast:l,presence:A,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],o=!!this.bindings[dm.PRESENCE]&&this.bindings[dm.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},h={broadcast:l,presence:Object.assign(Object.assign({},A),{enabled:o}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Xl.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Xl.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){t==null||t(Xl.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,x=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,p=[];for(let v=0;v<x;v++){const b=m[v],{filter:{event:j,schema:k,table:S,filter:F}}=b,T=f&&f[v];if(T&&T.event===j&&T.schema===k&&T.table===S&&T.filter===F)p.push(Object.assign(Object.assign({},b),{id:T.id}));else{this.unsubscribe(),this.state=ss.errored,t==null||t(Xl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Xl.SUBSCRIBED);return}}).receive("error",f=>{this.state=ss.errored,t==null||t(Xl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ss.joined&&t===dm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,A,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(A=(l=this.params)===null||l===void 0?void 0:l.config)===null||A===void 0?void 0:A.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ss.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new sw(this,Fo.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ss.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new sw(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>L9){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const l=t.toLocaleLowerCase(),{close:A,error:c,leave:u,join:o}=Fo;if(n&&[A,c,u,o].indexOf(l)>=0&&n!==this._joinRef())return;let h=this._onMessage(l,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var g,m,x;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(m=f.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===l}).map(f=>f.callback(h,n)):(a=this.bindings[l])===null||a===void 0||a.filter(f=>{var g,m,x,p,v,b;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in f){const j=f.id,k=(g=f.filter)===null||g===void 0?void 0:g.event;return j&&((m=r.ids)===null||m===void 0?void 0:m.includes(j))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(v=(p=f==null?void 0:f.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===l}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:x,commit_timestamp:p,type:v,errors:b}=g;h=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:p,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(g))}f.callback(h,n)})}_isClosed(){return this.state===ss.closed}_isJoined(){return this.state===ss.joined}_isJoining(){return this.state===ss.joining}_isLeaving(){return this.state===ss.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&MB.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fo.close,{},t)}_onError(t){this._on(Fo.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ss.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=fS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=fS(t.columns,t.old_record)),r}}const aw=()=>{},Yg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},z9=[1e3,2e3,5e3,1e4],V9=1e4,G9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class W9{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mj,this.transport=null,this.heartbeatIntervalMs=Yg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=aw,this.ref=0,this.reconnectTimer=null,this.logger=aw,this.conn=null,this.sendBuffer=[],this.serializer=new Q9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>TA(async()=>{const{default:A}=await Promise.resolve().then(()=>_h);return{default:A}},void 0).then(({default:A})=>A(...l)).catch(A=>{throw new Error(`Failed to load @supabase/node-fetch: ${A.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${pj.websocket}`,this.httpEndpoint=PU(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=I9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:T9}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Am.connecting:return Iu.Connecting;case Am.open:return Iu.Open;case Am.closing:return Iu.Closing;default:return Iu.Closed}}isConnected(){return this.connectionState()===Iu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new MB(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,l=()=>{this.encode(t,A=>{var c;(c=this.conn)===null||c===void 0||c.send(A)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(O9,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Yg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:l}=r,A=l?`(${l})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${A}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fo.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([G9],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:P9};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Fo.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new IU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,l,A,c,u,o;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:mj,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Yg.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(A=t==null?void 0:t.heartbeatCallback)!==null&&A!==void 0?A:aw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:d=>z9[d-1]||V9,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(o=t==null?void 0:t.decode)!==null&&o!==void 0?o:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class HB extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function as(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Y9 extends HB{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vj extends HB{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var J9=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function A(o){try{u(n.next(o))}catch(d){l(d)}}function c(o){try{u(n.throw(o))}catch(d){l(d)}}function u(o){o.done?a(o.value):s(o.value).then(A,c)}u((n=n.apply(e,t||[])).next())})};const TU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>TA(async()=>{const{default:n}=await Promise.resolve().then(()=>_h);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},X9=()=>J9(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield TA(()=>Promise.resolve().then(()=>_h),void 0)).Response:Response}),xj=e=>{if(Array.isArray(e))return e.map(r=>xj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=xj(n)}),t},q9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var bd=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function A(o){try{u(n.next(o))}catch(d){l(d)}}function c(o){try{u(n.throw(o))}catch(d){l(d)}}function u(o){o.done?a(o.value):s(o.value).then(A,c)}u((n=n.apply(e,t||[])).next())})};const iw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Z9=(e,t,r)=>bd(void 0,void 0,void 0,function*(){const n=yield X9();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,l=(s==null?void 0:s.statusCode)||a+"";t(new Y9(iw(s),a,l))}).catch(s=>{t(new vj(iw(s),s))}):t(new vj(iw(e),e))}),e$=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(q9(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function bp(e,t,r,n,s,a){return bd(this,void 0,void 0,function*(){return new Promise((l,A)=>{e(r,e$(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>Z9(c,A,n))})})}function xx(e,t,r,n){return bd(this,void 0,void 0,function*(){return bp(e,"GET",t,r,n)})}function ll(e,t,r,n,s){return bd(this,void 0,void 0,function*(){return bp(e,"POST",t,n,s,r)})}function bj(e,t,r,n,s){return bd(this,void 0,void 0,function*(){return bp(e,"PUT",t,n,s,r)})}function t$(e,t,r,n){return bd(this,void 0,void 0,function*(){return bp(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function OU(e,t,r,n,s){return bd(this,void 0,void 0,function*(){return bp(e,"DELETE",t,n,s,r)})}var fa=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function A(o){try{u(n.next(o))}catch(d){l(d)}}function c(o){try{u(n.throw(o))}catch(d){l(d)}}function u(o){o.done?a(o.value):s(o.value).then(A,c)}u((n=n.apply(e,t||[])).next())})};const r$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class n${constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=TU(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return fa(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},pS),s);let A=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,A["cache-control"]=`max-age=${l.cacheControl}`,A["content-type"]=l.contentType,c&&(A["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(A=Object.assign(Object.assign({},A),s.headers));const u=this._removeEmptyFolders(r),o=this._getFinalPath(u),d=yield(t=="PUT"?bj:ll)(this.fetch,`${this.url}/object/${o}`,a,Object.assign({headers:A},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(as(a))return{data:null,error:a};throw a}})}upload(t,r,n){return fa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return fa(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),A=new URL(this.url+`/object/upload/sign/${l}`);A.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:pS.upsert},s),o=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,o["cache-control"]=`max-age=${u.cacheControl}`,o["content-type"]=u.contentType);const d=yield bj(this.fetch,A.toString(),c,{headers:o});return{data:{path:a,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(as(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return fa(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield ll(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+a.url),A=l.searchParams.get("token");if(!A)throw new HB("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:A},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(as(n))return{data:null,error:n};throw n}})}update(t,r,n){return fa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return fa(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(as(s))return{data:null,error:s};throw s}})}copy(t,r,n){return fa(this,void 0,void 0,function*(){try{return{data:{path:(yield ll(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(as(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return fa(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield ll(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(as(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return fa(this,void 0,void 0,function*(){try{const s=yield ll(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(as(s))return{data:null,error:s};throw s}})}download(t,r){return fa(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=a?`?${a}`:"";try{const A=this._getFinalPath(t);return{data:yield(yield xx(this.fetch,`${this.url}/${s}/${A}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(A){if(this.shouldThrowOnError)throw A;if(as(A))return{data:null,error:A};throw A}})}info(t){return fa(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield xx(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:xj(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(as(n))return{data:null,error:n};throw n}})}exists(t){return fa(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield t$(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(as(n)&&n instanceof vj){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const A=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${A}/public/${n}${u}`)}}}remove(t){return fa(this,void 0,void 0,function*(){try{return{data:yield OU(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(as(r))return{data:null,error:r};throw r}})}list(t,r,n){return fa(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},r$),r),{prefix:t||""});return{data:yield ll(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(as(s))return{data:null,error:s};throw s}})}listV2(t,r){return fa(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ll(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(as(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const s$="2.12.1",a$={"X-Client-Info":`storage-js/${s$}`};var uf=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function A(o){try{u(n.next(o))}catch(d){l(d)}}function c(o){try{u(n.throw(o))}catch(d){l(d)}}function u(o){o.done?a(o.value):s(o.value).then(A,c)}u((n=n.apply(e,t||[])).next())})};class i${constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},a$),r),this.fetch=TU(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return uf(this,void 0,void 0,function*(){try{return{data:yield xx(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(as(t))return{data:null,error:t};throw t}})}getBucket(t){return uf(this,void 0,void 0,function*(){try{return{data:yield xx(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(as(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return uf(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(as(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return uf(this,void 0,void 0,function*(){try{return{data:yield bj(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(as(n))return{data:null,error:n};throw n}})}emptyBucket(t){return uf(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(as(r))return{data:null,error:r};throw r}})}deleteBucket(t){return uf(this,void 0,void 0,function*(){try{return{data:yield OU(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(as(r))return{data:null,error:r};throw r}})}}class o$ extends i${constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new n$(this.url,this.headers,t,this.fetch)}}const l$="2.57.4";let J0="";typeof Deno<"u"?J0="deno":typeof document<"u"?J0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?J0="react-native":J0="node";const c$={"X-Client-Info":`supabase-js-${J0}/${l$}`},A$={headers:c$},u$={schema:"public"},d$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},f$={};var h$=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function A(o){try{u(n.next(o))}catch(d){l(d)}}function c(o){try{u(n.throw(o))}catch(d){l(d)}}function u(o){o.done?a(o.value):s(o.value).then(A,c)}u((n=n.apply(e,t||[])).next())})};const m$=e=>{let t;return e?t=e:typeof fetch>"u"?t=yU:t=fetch,(...r)=>t(...r)},p$=()=>typeof Headers>"u"?wU:Headers,g$=(e,t,r)=>{const n=m$(r),s=p$();return(a,l)=>h$(void 0,void 0,void 0,function*(){var A;const c=(A=yield t())!==null&&A!==void 0?A:e;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},l),{headers:u}))})};var v$=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function A(o){try{u(n.next(o))}catch(d){l(d)}}function c(o){try{u(n.throw(o))}catch(d){l(d)}}function u(o){o.done?a(o.value):s(o.value).then(A,c)}u((n=n.apply(e,t||[])).next())})};function x$(e){return e.endsWith("/")?e:e+"/"}function b$(e,t){var r,n;const{db:s,auth:a,realtime:l,global:A}=e,{db:c,auth:u,realtime:o,global:d}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},o),l),storage:{},global:Object.assign(Object.assign(Object.assign({},d),A),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=A==null?void 0:A.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>v$(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function y$(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(x$(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const LU="2.71.1",Bf=30*1e3,yj=3,ow=yj*Bf,w$="http://localhost:9999",j$="supabase.auth.token",B$={"X-Client-Info":`gotrue-js/${LU}`},wj="X-Supabase-Api-Version",QU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},C$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,N$=10*60*1e3;class $B extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Xt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class k$ extends $B{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function S$(e){return Xt(e)&&e.name==="AuthApiError"}class DU extends $B{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class qA extends $B{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class AA extends qA{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _$(e){return Xt(e)&&e.name==="AuthSessionMissingError"}class Jg extends qA{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xg extends qA{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qg extends qA{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function E$(e){return Xt(e)&&e.name==="AuthImplicitGrantRedirectError"}class gS extends qA{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jj extends qA{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function lw(e){return Xt(e)&&e.name==="AuthRetryableFetchError"}class vS extends qA{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bj extends qA{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xS=` 	
\r=`.split(""),F$=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xS.length;t+=1)e[xS[t].charCodeAt(0)]=-2;for(let t=0;t<bx.length;t+=1)e[bx[t].charCodeAt(0)]=t;return e})();function bS(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bx[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bx[n]),t.queuedBits-=6}}function RU(e,t,r){const n=F$[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yS(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=l=>{P$(l,n,r)};for(let l=0;l<e.length;l+=1)RU(e.charCodeAt(l),s,a);return t.join("")}function I$(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function U$(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}I$(n,t)}}function P$(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function T$(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)RU(e.charCodeAt(s),r,n);return new Uint8Array(t)}function O$(e){const t=[];return U$(e,r=>t.push(r)),new Uint8Array(t)}function L$(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>bS(s,r,n)),bS(null,r,n),t.join("")}function Q$(e){return Math.round(Date.now()/1e3)+e}function D$(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const So=()=>typeof window<"u"&&typeof document<"u",wu={tested:!1,writable:!1},MU=()=>{if(!So())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wu.tested)return wu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wu.tested=!0,wu.writable=!0}catch{wu.tested=!0,wu.writable=!1}return wu.writable};function R$(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const HU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>TA(async()=>{const{default:n}=await Promise.resolve().then(()=>_h);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},M$=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ju=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},oA=async(e,t)=>{await e.removeItem(t)};class Pb{constructor(){this.promise=new Pb.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Pb.promiseConstructor=Promise;function cw(e){const t=e.split(".");if(t.length!==3)throw new Bj("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!C$.test(t[n]))throw new Bj("JWT not in base64url format");return{header:JSON.parse(yS(t[0])),payload:JSON.parse(yS(t[1])),signature:T$(t[2]),raw:{header:t[0],payload:t[1]}}}async function H$(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $$(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){n(l);return}}catch(l){if(!t(a,l)){s(l);return}}})()})}function K$(e){return("0"+e.toString(16)).substr(-2)}function z$(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,K$).join("")}async function V$(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function G$(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await V$(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function df(e,t,r=!1){const n=z$();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Cf(e,`${t}-code-verifier`,s);const a=await G$(n);return[a,n===a?"plain":"s256"]}const W$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Y$(e){const t=e.headers.get(wj);if(!t||!t.match(W$))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function J$(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function X$(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const q$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ff(e){if(!q$.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Aw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wS(e){return JSON.parse(JSON.stringify(e))}var Z$=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ku=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eK=[502,503,504];async function jS(e){var t;if(!M$(e))throw new jj(ku(e),0);if(eK.includes(e.status))throw new jj(ku(e),e.status);let r;try{r=await e.json()}catch(a){throw new DU(ku(a),a)}let n;const s=Y$(e);if(s&&s.getTime()>=QU["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new vS(ku(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new AA}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new vS(ku(r),e.status,r.weak_password.reasons);throw new k$(ku(r),e.status||500,n)}const tK=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function sr(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[wj]||(a[wj]=QU["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const A=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await rK(e,t,r+A,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function rK(e,t,r,n,s,a){const l=tK(t,n,s,a);let A;try{A=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new jj(ku(c),0)}if(A.ok||await jS(A),n!=null&&n.noResolveJson)return A;try{return await A.json()}catch(c){await jS(c)}}function Yl(e){var t;let r=null;iK(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Q$(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function BS(e){const t=Yl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function gA(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nK(e){return{data:e,error:null}}function sK(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,l=Z$(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),A={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},l);return{data:{properties:A,user:c},error:null}}function aK(e){return e}function iK(e){return e.access_token&&e.refresh_token&&e.expires_in}const uw=["global","local","others"];var oK=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class lK{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=HU(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=uw[0]){if(uw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uw.join(", ")}`);try{return await sr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Xt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await sr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:gA})}catch(n){if(Xt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=oK(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await sr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:sK,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Xt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await sr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gA})}catch(r){if(Xt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,l,A,c;try{const u={nextPage:null,lastPage:0,total:0},o=await sr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:aK});if(o.error)throw o.error;const d=await o.json(),h=(l=o.headers.get("x-total-count"))!==null&&l!==void 0?l:0,f=(c=(A=o.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Xt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ff(t);try{return await sr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gA})}catch(r){if(Xt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ff(t);try{return await sr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:gA})}catch(n){if(Xt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ff(t);try{return await sr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:gA})}catch(n){if(Xt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ff(t.userId);try{const{data:r,error:n}=await sr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Xt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ff(t.userId),ff(t.id);try{return{data:await sr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Xt(r))return{data:null,error:r};throw r}}}function CS(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function cK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hf={debug:!!(globalThis&&MU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $U extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class AK extends $U{}async function uK(e,t,r){hf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),hf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){hf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{hf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw hf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new AK(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(hf.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}cK();const dK={url:w$,storageKey:j$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:B$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function NS(e,t,r){return await r()}const mf={};class Km{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Km.nextInstanceID,Km.nextInstanceID+=1,this.instanceID>0&&So()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},dK),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new lK({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=HU(s.fetch),this.lock=s.lock||NS,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:So()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=uK:this.lock=NS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:MU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=CS(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=CS(this.memoryStorage)),So()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=mf[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){mf[this.storageKey]=Object.assign(Object.assign({},mf[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=mf[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){mf[this.storageKey]=Object.assign(Object.assign({},mf[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${LU}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=R$(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),So()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),E$(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:A}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",A),await this._saveSession(l),setTimeout(async()=>{A==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Xt(r)?{error:r}:{error:new DU("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await sr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Yl}),{data:l,error:A}=a;if(A||!l)return{data:{user:null,session:null},error:A};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Xt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:o,password:d,options:h}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await df(this.storage,this.storageKey)),a=await sr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:o,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},xform:Yl})}else if("phone"in t){const{phone:o,password:d,options:h}=t;a=await sr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:o,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Yl})}else throw new Xg("You must provide either an email or phone number and a password");const{data:l,error:A}=a;if(A||!l)return{data:{user:null,session:null},error:A};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Xt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:l,options:A}=t;r=await sr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:BS})}else if("phone"in t){const{phone:a,password:l,options:A}=t;r=await sr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:BS})}else throw new Xg("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Jg}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Xt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,l,A,c,u,o,d,h,f;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:x,wallet:p,statement:v,options:b}=t;let j;if(So())if(typeof p=="object")j=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=p}const k=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),v?{statement:v}:null));let F;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")F=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)F=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)g=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),m=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${k.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((A=b==null?void 0:b.signInWithSolana)===null||A===void 0)&&A.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(o=b==null?void 0:b.signInWithSolana)===null||o===void 0?void 0:o.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:x,error:p}=await sr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:L$(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Yl});if(p)throw p;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Jg}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:p})}catch(x){if(Xt(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await ju(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:l}=await sr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Yl});if(await oA(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Jg}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(Xt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:l}=t,A=await sr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Yl}),{data:c,error:u}=A;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Jg}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Xt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,l;try{if("email"in t){const{email:A,options:c}=t;let u=null,o=null;this.flowType==="pkce"&&([u,o]=await df(this.storage,this.storageKey));const{error:d}=await sr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:A,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:o},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:A,options:c}=t,{data:u,error:o}=await sr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:A,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:o}}throw new Xg("You must provide either an email or phone number.")}catch(A){if(Xt(A))return{data:{user:null,session:null},error:A};throw A}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:A}=await sr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Yl});if(A)throw A;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Xt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await df(this.storage,this.storageKey)),await sr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:nK})}catch(a){if(Xt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new AA;const{error:s}=await sr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Xt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:l}=await sr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:l,error:A}=await sr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:A}}throw new Xg("You must provide either an email or phone number and a type")}catch(r){if(Xt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ju(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ow:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await ju(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Aw()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,o)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,o))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await sr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gA}):await this._useSession(async r=>{var n,s,a;const{data:l,error:A}=r;if(A)throw A;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AA}:await sr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:gA})})}catch(r){if(Xt(r))return _$(r)&&(await this._removeSession(),await oA(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new AA;const l=s.session;let A=null,c=null;this.flowType==="pkce"&&t.email!=null&&([A,c]=await df(this.storage,this.storageKey));const{data:u,error:o}=await sr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:A,code_challenge_method:c}),jwt:l.access_token,xform:gA});if(o)throw o;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(Xt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new AA;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:l}=cw(t.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{session:A,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!A)return{data:{user:null,session:null},error:null};a=A}else{const{data:A,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:A.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Xt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:A}=r;if(A)throw A;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new AA;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Xt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!So())throw new qg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new gS("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:A,expires_at:c,token_type:u}=t;if(!a||!A||!l||!u)throw new qg("No session defined in URL");const o=Math.round(Date.now()/1e3),d=parseInt(A);let h=o+d;c&&(h=parseInt(c));const f=h-o;f*1e3<=Bf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const g=h-d;o-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,o):o-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,o);const{data:m,error:x}=await this._getUser(a);if(x)throw x;const p={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:d,expires_at:h,refresh_token:l,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(Xt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ju(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:A}=await this.admin.signOut(l,t);if(A&&!(S$(A)&&(A.status===404||A.status===401||A.status===403)))return{error:A}}return t!=="others"&&(await this._removeSession(),await oA(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=D$(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await df(this.storage,this.storageKey,!0));try{return await sr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Xt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Xt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var l,A,c,u,o;const{data:d,error:h}=a;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(A=t.options)===null||A===void 0?void 0:A.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await sr(this.fetch,"GET",f,{headers:this.headers,jwt:(o=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&o!==void 0?o:void 0})});if(s)throw s;return So()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Xt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:l}=r;if(l)throw l;return await sr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Xt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await $$(async s=>(s>0&&await H$(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await sr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Yl})),(s,a)=>{const l=200*Math.pow(2,s);return a&&lw(a)&&Date.now()+l-n<Bf})}catch(n){if(this._debug(r,"error",n),Xt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),So()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ju(this.storage,this.storageKey);if(s&&this.userStorage){let l=await ju(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Cf(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Aw()}else if(s&&!s.user&&!s.user){const l=await ju(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await oA(this.storage,this.storageKey+"-user"),await Cf(this.storage,this.storageKey,s)):s.user=Aw()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ow;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${ow}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),lw(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:A}=await this._getUser(s.access_token);!A&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new AA;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Pb;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new AA;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const A={session:a.session,error:null};return this.refreshingDeferred.resolve(A),A}catch(a){if(this._debug(s,"error",a),Xt(a)){const l={session:null,error:a};return lw(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async A=>{try{await A.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(l),a.length>0){for(let A=0;A<a.length;A+=1)console.error(a[A]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Cf(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=wS(s);await Cf(this.storage,this.storageKey,a)}else{const s=wS(r);await Cf(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await oA(this.storage,this.storageKey),await oA(this.storage,this.storageKey+"-code-verifier"),await oA(this.storage,this.storageKey+"-user"),this.userStorage&&await oA(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&So()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bf);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Bf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Bf}ms, refresh threshold is ${yj} ticks`),s<=yj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $U)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!So()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await df(this.storage,this.storageKey),A=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(A.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await sr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Xt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:l}=r;if(l)return{data:null,error:l};const A=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await sr(this.fetch,"POST",`${this.url}/factors`,{body:A,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Xt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:l,error:A}=await sr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return A?{data:null,error:A}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:A})})}catch(r){if(Xt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await sr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Xt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=cw(s.access_token);let A=null;l.aal&&(A=l.aal);let c=A;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const o=l.amr||[];return{data:{currentLevel:A,nextLevel:c,currentAuthenticationMethods:o},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(A=>A.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(A=>A.kid===t),n&&this.jwks_cached_at+N$>s)return n;const{data:a,error:l}=await sr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(A=>A.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};n=f.session.access_token}const{header:s,payload:a,signature:l,raw:{header:A,payload:c}}=cw(n);r!=null&&r.allowExpired||J$(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:a,header:s,signature:l},error:null}}const o=X$(s.alg),d=await crypto.subtle.importKey("jwk",u,o,!0,["verify"]);if(!await crypto.subtle.verify(o,d,l,O$(`${A}.${c}`)))throw new Bj("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(n){if(Xt(n))return{data:null,error:n};throw n}}}Km.nextInstanceID=0;const fK=Km;class hK extends fK{constructor(t){super(t)}}var mK=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function A(o){try{u(n.next(o))}catch(d){l(d)}}function c(o){try{u(n.throw(o))}catch(d){l(d)}}function u(o){o.done?a(o.value):s(o.value).then(A,c)}u((n=n.apply(e,t||[])).next())})};class pK{constructor(t,r,n){var s,a,l;this.supabaseUrl=t,this.supabaseKey=r;const A=y$(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",A),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",A),this.storageUrl=new URL("storage/v1",A),this.functionsUrl=new URL("functions/v1",A);const c=`sb-${A.hostname.split(".")[0]}-auth-token`,u={db:u$,realtime:f$,auth:Object.assign(Object.assign({},d$),{storageKey:c}),global:A$},o=b$(n??{},u);this.storageKey=(s=o.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=o.global.headers)!==null&&a!==void 0?a:{},o.accessToken?(this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=o.auth)!==null&&l!==void 0?l:{},this.headers,o.global.fetch),this.fetch=g$(r,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.rest=new F9(new URL("rest/v1",A).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch}),this.storage=new o$(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new c9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return mK(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:l,flowType:A,lock:c,debug:u},o,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hK({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),o),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:A,lock:c,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new W9(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gK=(e,t,r)=>new pK(e,t,r);function vK(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}vK()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xK=void 0,bK=void 0;throw new Error("Missing Supabase environment variables");const Ie=gK(xK,bK),KU=E.createContext(void 0);function yK({children:e}){const[t,r]=E.useState(null),[n,s]=E.useState(null),[a,l]=E.useState(null),[A,c]=E.useState(!0),u=async m=>{const{data:x,error:p}=await Ie.from("app_users").select("*").eq("id",m).maybeSingle();return p?(console.error("Error fetching profile:",p),null):x},o=async()=>{if(t){const m=await u(t.id);s(m)}};E.useEffect(()=>{Ie.auth.getSession().then(({data:{session:x}})=>{(async()=>{if(l(x),r((x==null?void 0:x.user)??null),x!=null&&x.user){const p=await u(x.user.id);s(p)}c(!1)})()});const{data:{subscription:m}}=Ie.auth.onAuthStateChange((x,p)=>{(async()=>{if(l(p),r((p==null?void 0:p.user)??null),p!=null&&p.user){const v=await u(p.user.id);s(v)}else s(null)})()});return()=>m.unsubscribe()},[]);const g={user:t,profile:n,session:a,loading:A,signIn:async(m,x)=>{const{error:p}=await Ie.auth.signInWithPassword({email:m,password:x});if(p)throw p},signUp:async(m,x,p)=>{const{data:v,error:b}=await Ie.auth.signUp({email:m,password:x});if(b)throw b;if(v.user){const{error:j}=await Ie.from("app_users").insert({id:v.user.id,email:m,name:p,role:"club_admin"});if(j)throw j}},signOut:async()=>{const{error:m}=await Ie.auth.signOut();if(m)throw m;s(null)},refreshProfile:o};return i.jsx(KU.Provider,{value:g,children:e})}function Nn(){const e=E.useContext(KU);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function wK(){const t=new URLSearchParams(window.location.search).get("asTenant");return t?(localStorage.setItem("as_tenant_id",t),t):localStorage.getItem("as_tenant_id")}async function jK(e,t){if(!t)return null;const{data:r,error:n}=await e.from("tenants").select("id, name, email_signature_html, rgpd_content_md, cgu_content_md, privacy_content_md").eq("id",t).maybeSingle();return n?(console.error("Error loading tenant basics:",n),null):r}function As(){const{profile:e}=Nn(),[t,r]=E.useState(null);E.useEffect(()=>{const A=wK();r(A)},[]);const n=A=>{A?(localStorage.setItem("as_tenant_id",A),r(A)):(localStorage.removeItem("as_tenant_id"),r(null))},s=()=>{localStorage.removeItem("as_tenant_id"),r(null)},a=(e==null?void 0:e.role)==="super_admin"&&!!t,l=t||(e==null?void 0:e.tenant_id)||null;return{asTenantId:t,isMasquerading:a,setAsTenantId:n,clearAsTenant:s,effectiveTenantId:l}}const BK=E.createContext(void 0);function CK({children:e}){const{asTenantId:t}=As(),[r,n]=E.useState(!1),[s,a]=E.useState(!1);E.useEffect(()=>{t?l(t):n(!1)},[t]);const l=async A=>{a(!0);try{const{data:c}=await Ie.from("tenants").select("status").eq("id",A).maybeSingle();n((c==null?void 0:c.status)==="inactive")}catch(c){console.error("[ReadOnlyContext] Error checking tenant status:",c),n(!1)}finally{a(!1)}};return i.jsx(BK.Provider,{value:{isReadOnly:r,isLoading:s},children:e})}const zU=E.createContext({});function Tb(){return E.useContext(zU)}function Zg({children:e}){const r=window.location.pathname.split("/").filter(Boolean),n={};return(r[0]==="sponsor"||r[0]==="respond")&&r[1]?n.token=r[1]:r[0]==="p"&&r[1]?n.slug=r[1]:r[0]==="template"&&r[1]?n.idOrKey=r[1]:r[0]==="templates"&&r[1]&&(n.id=r[1]),i.jsx(zU.Provider,{value:n,children:e})}function NK(){const[e,t]=E.useState(""),[r,n]=E.useState(""),[s,a]=E.useState(""),[l,A]=E.useState(!1),{signIn:c}=Nn(),u=async o=>{o.preventDefault(),a(""),A(!0);try{await c(e,r)}catch(d){a(d.message||"chec de la connexion")}finally{A(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("div",{className:"bg-blue-600 p-3 rounded-xl",children:i.jsx($H,{className:"w-8 h-8 text-white"})})}),i.jsx("h1",{className:"text-2xl font-bold text-center text-slate-900 mb-2",children:"Sponsoring crans"}),i.jsx("p",{className:"text-center text-slate-600 mb-8",children:"Connexion  votre espace"}),i.jsxs("form",{onSubmit:u,className:"space-y-5","data-testid":"login-form",children:[s&&i.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm","data-testid":"login-error",children:s}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),i.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:o=>t(o.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"votre@email.com","data-testid":"login-email"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-2",children:"Mot de passe"}),i.jsx("input",{id:"password",type:"password",required:!0,value:r,onChange:o=>n(o.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"","data-testid":"login-password"})]}),i.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"login-submit",children:l?"Connexion...":"Se connecter"})]})]})})}const kK=[{label:"Dashboard",icon:iS,path:"/dashboard",roles:["super_admin"]},{label:"Clubs",icon:Gf,path:"/clubs",roles:["super_admin"]},{label:"Templates e-mails",icon:zn,path:"/emails/templates",roles:["super_admin","club_admin"]},{label:"Vrificateur de Schma",icon:Ls,path:"/schema-checker",roles:["super_admin"]},{label:"Vrificateur RLS",icon:cc,path:"/rls-checker",roles:["super_admin"]},{label:"Vrificateur Stockage",icon:uj,path:"/storage-checker",roles:["super_admin"]},{label:"Vrificateur Env",icon:ar,path:"/env-checker",roles:["super_admin"]},{label:"Audit Schema vs Code",icon:DH,path:"/schema-audit",roles:["super_admin"]},{label:"Tableau de bord",icon:iS,path:"/club",roles:["club_admin"]},{label:"Campagnes",icon:Ga,path:"/campaigns",roles:["club_admin"]},{label:"Sponsors",icon:XA,path:"/sponsors",roles:["club_admin"]},{label:"Partage",icon:QB,path:"/share",roles:["club_admin"]},{label:"Emails",icon:zn,path:"/emails",roles:["club_admin"]},{label:"Envois planifis",icon:Qo,path:"/scheduled",roles:["club_admin"]},{label:"Paramtres",icon:LB,path:"/settings",roles:["club_admin"]},{label:"Lgal & E-mails",icon:ad,path:"/settings/legal",roles:["club_admin"]},{label:"Contenus Lgaux",icon:ad,path:"/club/legal",roles:["club_admin"]}];function _r({children:e}){var b;const{profile:t,signOut:r}=Nn(),{theme:n,toggleTheme:s}=NH(),{asTenantId:a,isMasquerading:l,clearAsTenant:A}=As(),c=Cn(),[u,o]=E.useState(!1),[d,h]=E.useState(null),[f,g]=E.useState(null),m=kK.filter(j=>t!=null&&t.role?j.roles.includes(t.role):!1),x=window.location.pathname;E.useEffect(()=>{a?p(a):(g(null),h(null))},[a]);const p=async j=>{const{data:k}=await Ie.from("tenants").select("name, status").eq("id",j).maybeSingle();k&&(h(k.name),g(k.status))},v=()=>{A(),c.success("Mode masquerade dsactiv"),window.location.href="/admin/clubs"};return i.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[i.jsx("div",{className:`fixed inset-0 bg-black/50 z-40 lg:hidden transition-opacity ${u?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>o(!1)}),i.jsx("aside",{className:`fixed top-0 left-0 z-50 h-full w-64 bg-white dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700 transition-transform duration-300 ease-in-out lg:translate-x-0 ${u?"translate-x-0":"-translate-x-full"}`,children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-green-500 flex items-center justify-center",children:i.jsx(Ga,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"font-bold text-slate-900 dark:text-white",children:"SponsoZone"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:(t==null?void 0:t.role)==="super_admin"?"Super Admin":"Club Admin"})]})]}),i.jsx("button",{onClick:()=>o(!1),className:"lg:hidden text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",children:i.jsx(un,{className:"w-5 h-5"})})]}),i.jsx("nav",{className:"flex-1 px-3 py-4 overflow-y-auto",children:i.jsx("div",{className:"space-y-1",children:m.map(j=>{const k=j.icon,S=x===j.path;return i.jsxs("a",{href:j.path,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all ${S?"bg-gradient-to-r from-blue-500 to-green-500 text-white shadow-lg shadow-blue-500/30":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[i.jsx(k,{className:"w-5 h-5 flex-shrink-0"}),i.jsx("span",{className:"font-medium",children:j.label})]},j.path)})})}),i.jsxs("div",{className:"p-3 border-t border-slate-200 dark:border-slate-700",children:[i.jsx("button",{onClick:s,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 transition",children:n==="light"?i.jsxs(i.Fragment,{children:[i.jsx(VH,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"Mode sombre"})]}):i.jsxs(i.Fragment,{children:[i.jsx(e9,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"Mode clair"})]})}),i.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition mt-1",children:[i.jsx(KH,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"Dconnexion"})]})]})]})}),i.jsxs("div",{className:"lg:pl-64",children:[i.jsx("header",{className:"sticky top-0 z-30 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 backdrop-blur-sm bg-white/90 dark:bg-slate-800/90",children:i.jsxs("div",{className:"flex items-center justify-between px-4 lg:px-8 py-3",children:[i.jsx("button",{onClick:()=>o(!0),className:"lg:hidden text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white",children:i.jsx(zH,{className:"w-6 h-6"})}),i.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[i.jsxs("div",{className:"text-right hidden sm:block",children:[i.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:t==null?void 0:t.name}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:t==null?void 0:t.email})]}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-green-500 flex items-center justify-center text-white font-bold shadow-lg",children:(b=t==null?void 0:t.name)==null?void 0:b.charAt(0).toUpperCase()})]})]})}),l&&i.jsx("div",{"data-testid":"banner-masquerade",className:"sticky top-[57px] z-20 bg-gradient-to-r from-orange-600 to-orange-700 text-white px-4 py-3 shadow-lg",children:i.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Sr,{className:"w-5 h-5"}),i.jsxs("p",{className:"text-sm font-medium",children:["Mode super_admin  Vous voyez l'environnement du club : ",i.jsx("span",{className:"font-bold",children:d||"Chargement..."})]})]}),i.jsxs("button",{onClick:v,className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition text-sm font-medium flex items-center gap-2",children:[i.jsx(un,{className:"w-4 h-4"}),"Quitter"]})]})}),a&&f==="inactive"&&i.jsx("div",{"data-testid":"banner-tenant-inactive",className:"sticky top-[57px] z-20 bg-gradient-to-r from-red-600 to-red-700 text-white px-4 py-3 shadow-lg",children:i.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-3",children:[i.jsx(Sr,{className:"w-5 h-5"}),i.jsx("p",{className:"text-sm font-medium",children:"Ce club est dsactiv  accs en lecture seule"})]})}),i.jsx("main",{className:"p-4 lg:p-8",children:e})]})]})}function SK(){const{profile:e}=Nn(),t=Cn(),[r,n]=E.useState([]),[s,a]=E.useState([]),[l,A]=E.useState(""),[c,u]=E.useState({totalTenants:0,totalCampaigns:0,totalPledges:0,totalPledgedAmount:0}),[o,d]=E.useState(!1),[h,f]=E.useState(!0),[g,m]=E.useState(!1),[x,p]=E.useState({name:"",email_contact:"",logo_url:"",admin_name:"",admin_email:"",admin_password:""});E.useEffect(()=>{v()},[]),E.useEffect(()=>{if(l.trim()==="")a(r);else{const k=l.toLowerCase(),S=r.filter(F=>F.name.toLowerCase().includes(k)||F.email_contact.toLowerCase().includes(k));a(S)}},[l,r]);const v=async()=>{f(!0);try{const{data:k,error:S}=await Ie.from("tenants").select("*").order("created_at",{ascending:!1});if(S)throw S;if(k){const F=await Promise.all(k.map(async U=>{const{data:D}=await Ie.from("campaigns").select("id").eq("tenant_id",U.id),{data:Q}=await Ie.from("pledges").select("amount").in("campaign_id",(D==null?void 0:D.map(W=>W.id))||[]),H=(Q==null?void 0:Q.reduce((W,V)=>W+Number(V.amount||0),0))||0;return{...U,campaigns_count:(D==null?void 0:D.length)||0,pledges_count:(Q==null?void 0:Q.length)||0,total_pledged:H}}));n(F);const{data:T}=await Ie.from("campaigns").select("id"),{data:P}=await Ie.from("pledges").select("amount"),R=(P==null?void 0:P.reduce((U,D)=>U+Number(D.amount||0),0))||0;u({totalTenants:k.length,totalCampaigns:(T==null?void 0:T.length)||0,totalPledges:(P==null?void 0:P.length)||0,totalPledgedAmount:R})}}catch(k){t.error("Erreur lors du chargement des donnes: "+k.message)}finally{f(!1)}},b=async k=>{if(k.preventDefault(),!x.name.trim()){t.error("Le nom du club est requis");return}if(!x.email_contact.trim()){t.error("L'email de contact est requis");return}if(!x.admin_email.trim()){t.error("L'email de l'administrateur est requis");return}if(!x.admin_password||x.admin_password.length<6){t.error("Le mot de passe doit contenir au moins 6 caractres");return}m(!0);try{const{data:S,error:F}=await Ie.auth.signUp({email:x.admin_email,password:x.admin_password});if(F)throw F;if(!S.user)throw new Error("Erreur lors de la cration du compte");const{data:T,error:P}=await Ie.from("tenants").insert({name:x.name,email_contact:x.email_contact,logo_url:x.logo_url||null,status:"active"}).select().single();if(P)throw P;const{error:R}=await Ie.from("app_users").insert({id:S.user.id,email:x.admin_email,name:x.admin_name||x.admin_email,role:"club_admin",tenant_id:T.id});if(R)throw R;t.success(`Club "${x.name}" cr avec succs`),p({name:"",email_contact:"",logo_url:"",admin_name:"",admin_email:"",admin_password:""}),d(!1),v()}catch(S){console.error("Erreur:",S),t.error("Erreur: "+S.message)}finally{m(!1)}},j=async(k,S)=>{if(confirm(`tes-vous sr de vouloir supprimer le club "${S}" ?`))try{const{error:F}=await Ie.from("tenants").delete().eq("id",k);if(F)throw F;t.success(`Club "${S}" supprim avec succs`),v()}catch(F){t.error("Erreur lors de la suppression: "+F.message)}};return h?i.jsx(_r,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Chargement..."})})}):i.jsxs(_r,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Dashboard"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Vue d'ensemble de tous les clubs"})]}),i.jsxs("div",{className:"flex gap-3",children:[(e==null?void 0:e.role)==="super_admin"&&i.jsxs("button",{onClick:()=>window.location.href="/admin/clubs",className:"flex items-center gap-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-200 dark:hover:bg-blue-900/50 text-blue-700 dark:text-blue-300 rounded-lg transition",children:[i.jsx(Gf,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Clubs (admin)"})]}),i.jsxs("button",{onClick:()=>window.location.href="/auth-test",className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-lg transition",children:[i.jsx(qH,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Auth Test"})]}),i.jsxs("button",{onClick:()=>window.location.href="/db-diagnostics",className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-lg transition",children:[i.jsx(Ls,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"DB Diagnostics"})]}),i.jsxs("button",{onClick:()=>window.location.href="/emails/templates",className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-lg transition",children:[i.jsx(zn,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Templates E-mails"})]}),i.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white rounded-lg transition shadow-lg",children:[i.jsx(gc,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Crer un club"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-lg",children:i.jsx(Gf,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Clubs"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:c.totalTenants})]})]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-lg",children:i.jsx(Ga,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Campagnes"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:c.totalCampaigns})]})]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 p-3 rounded-lg",children:i.jsx(XA,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Rponses"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:c.totalPledges})]})]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-lg",children:i.jsx(Sh,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Promesses"}),i.jsxs("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:[c.totalPledgedAmount.toLocaleString("fr-FR"),""]})]})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Liste des clubs"}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[s.length," club(s)"]})]}),i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(kh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Rechercher par nom ou email...",value:l,onChange:k=>A(k.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})}),s.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(Gf,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:l?"Aucun club trouv":"Aucun club cr"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Club"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Contact"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Campagnes"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Rponses"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Montant promis"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Statut"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:s.map(k=>i.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-3",children:[k.logo_url?i.jsx("img",{src:k.logo_url,alt:k.name,className:"w-10 h-10 rounded-lg object-cover"}):i.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-green-500 flex items-center justify-center text-white font-bold",children:k.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:k.name}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(k.created_at||"").toLocaleDateString("fr-FR")})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"text-sm text-slate-900 dark:text-white",children:k.email_contact})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:k.campaigns_count||0})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:k.pledges_count||0})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("p",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:[(k.total_pledged||0).toLocaleString("fr-FR"),""]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k.status==="active"?i.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400",children:[i.jsx(ar,{className:"w-3 h-3"}),"Actif"]}):i.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400",children:[i.jsx(Lr,{className:"w-3 h-3"}),"Inactif"]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:i.jsx("button",{onClick:()=>j(k.id,k.name),className:"text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 font-medium transition",children:"Supprimer"})})]},k.id))})]})})]})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Crer un nouveau club"}),i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Nom du club *"}),i.jsx("input",{type:"text",required:!0,value:x.name,onChange:k=>p({...x,name:k.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Ex: FC Paris"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email de contact *"}),i.jsx("input",{type:"email",required:!0,value:x.email_contact,onChange:k=>p({...x,email_contact:k.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"contact@fcparis.fr"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"URL du logo"}),i.jsx("input",{type:"url",value:x.logo_url,onChange:k=>p({...x,logo_url:k.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"https://example.com/logo.png"})]}),i.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4 mt-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-3",children:"Compte administrateur"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Nom de l'administrateur"}),i.jsx("input",{type:"text",value:x.admin_name,onChange:k=>p({...x,admin_name:k.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Jean Dupont"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email administrateur *"}),i.jsx("input",{type:"email",required:!0,value:x.admin_email,onChange:k=>p({...x,admin_email:k.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"admin@fcparis.fr"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mot de passe * (min. 6 caractres)"}),i.jsx("input",{type:"password",required:!0,minLength:6,value:x.admin_password,onChange:k=>p({...x,admin_password:k.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:""})]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition font-medium",disabled:g,children:"Annuler"}),i.jsx("button",{type:"submit",disabled:g,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white rounded-lg transition font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Cration...":"Crer le club"})]})]})]})})]})}const P0=20;function _K(){const e=Cn(),[t,r]=E.useState([]),[n,s]=E.useState(()=>new URLSearchParams(window.location.search).get("q")||""),[a,l]=E.useState(()=>new URLSearchParams(window.location.search).get("q")||""),[A,c]=E.useState(1),[u,o]=E.useState(0),[d,h]=E.useState(null),[f,g]=E.useState({}),[m,x]=E.useState(!1),[p,v]=E.useState(!0),[b,j]=E.useState(!1),[k,S]=E.useState({name:"",email_contact:"",logo_url:"",admin_name:"",admin_email:"",admin_password:""});E.useEffect(()=>{F()},[a,A]),E.useEffect(()=>{const K=setTimeout(()=>{l(n),c(1);const X=new URLSearchParams(window.location.search);n?X.set("q",n):X.delete("q");const le=`${window.location.pathname}${X.toString()?"?"+X.toString():""}`;window.history.replaceState({},"",le)},300);return()=>clearTimeout(K)},[n]);const F=async()=>{v(!0);try{let K=Ie.from("tenants").select("*",{count:"exact"}).order("created_at",{ascending:!1});a.trim()&&(K=K.or(`name.ilike.%${a}%,email_contact.ilike.%${a}%`));const X=(A-1)*P0,le=X+P0-1,{data:Ae,error:M,count:G}=await K.range(X,le);if(M)throw M;if(Ae){const re=await Promise.all(Ae.map(async ne=>{const{data:de}=await Ie.from("campaigns").select("id").eq("tenant_id",ne.id);return{...ne,campaigns_count:(de==null?void 0:de.length)||0}}));r(re),o(G||0)}}catch(K){e.error("Erreur lors du chargement: "+K.message)}finally{v(!1)}},T=async K=>{if(K.preventDefault(),!k.name.trim()){e.error("Le nom du club est requis");return}if(!k.email_contact.trim()){e.error("L'email de contact est requis");return}if(!k.admin_email.trim()){e.error("L'email de l'administrateur est requis");return}if(!k.admin_password||k.admin_password.length<6){e.error("Le mot de passe doit contenir au moins 6 caractres");return}j(!0);try{const{data:X,error:le}=await Ie.auth.signUp({email:k.admin_email,password:k.admin_password});if(le)throw le;if(!X.user)throw new Error("Erreur lors de la cration du compte");const{data:Ae,error:M}=await Ie.from("tenants").insert({name:k.name,email_contact:k.email_contact,logo_url:k.logo_url||null,status:"active"}).select().single();if(M)throw M;const{error:G}=await Ie.from("app_users").insert({id:X.user.id,email:k.admin_email,name:k.admin_name||k.admin_email,role:"club_admin",tenant_id:Ae.id});if(G)throw G;e.success(`Club "${k.name}" cr avec succs`),S({name:"",email_contact:"",logo_url:"",admin_name:"",admin_email:"",admin_password:""}),x(!1),F()}catch(X){e.error("Erreur: "+X.message)}finally{j(!1)}},P=K=>{h(K.id),g({name:K.name,email_contact:K.email_contact,logo_url:K.logo_url||""})},R=async K=>{var X,le;if(!((X=f.name)!=null&&X.trim())){e.error("Le nom du club est requis");return}if(!((le=f.email_contact)!=null&&le.trim())){e.error("L'email de contact est requis");return}j(!0);try{const{error:Ae}=await Ie.from("tenants").update({name:f.name,email_contact:f.email_contact,logo_url:f.logo_url||null}).eq("id",K);if(Ae)throw Ae;e.success("Club modifi avec succs"),h(null),F()}catch(Ae){e.error("Erreur lors de la modification: "+Ae.message)}finally{j(!1)}},U=()=>{h(null),g({})},D=async(K,X,le)=>{const Ae=X==="active"?"inactive":"active",M=Ae==="active"?"activ":"suspendu";try{const{error:G}=await Ie.from("tenants").update({status:Ae}).eq("id",K);if(G)throw G;e.success(`Club "${le}" ${M} avec succs`),F()}catch(G){e.error("Erreur lors du changement de statut: "+G.message)}},Q=async(K,X)=>{if(confirm(`tes-vous sr de vouloir supprimer le club "${X}" ?`))try{const{error:le}=await Ie.from("tenants").delete().eq("id",K);if(le)throw le;e.success(`Club "${X}" supprim avec succs`),F()}catch(le){e.error("Erreur lors de la suppression: "+le.message)}},H=K=>{localStorage.setItem("as_tenant_id",K),window.location.href=`/club/dashboard?asTenant=${K}`},W=Math.ceil(u/P0),V=(A-1)*P0,Z=Math.min(V+P0,u);return p?i.jsx(_r,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Chargement..."})})}):i.jsxs(_r,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Gestion des clubs"}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[u," club(s) au total"]})]}),i.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white rounded-lg transition shadow-lg",children:[i.jsx(gc,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Crer un club"})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",role:"search",children:[i.jsx(kh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"search","data-testid":"sa-club-search",placeholder:"Rechercher par nom ou email...",value:n,onChange:K=>s(K.target.value),onKeyDown:K=>{K.key==="Enter"&&(l(n),c(1))},className:"w-full pl-10 pr-10 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Rechercher un club"}),n&&i.jsx("button",{onClick:()=>s(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition focus:outline-none focus:ring-2 focus:ring-blue-500 rounded","aria-label":"Effacer la recherche",children:i.jsx(un,{className:"w-4 h-4"})})]}),a&&i.jsx("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg border border-blue-200 dark:border-blue-800",children:i.jsxs("span",{className:"text-sm font-medium",children:[u," rsultat",u!==1?"s":""]})})]})}),t.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(Gf,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:n?"Aucun club trouv":"Aucun club cr"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Club"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Email contact"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Statut"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Date cration"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Campagnes"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:t.map(K=>i.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition",children:d===K.id?i.jsxs(i.Fragment,{children:[i.jsx("td",{className:"px-6 py-4",children:i.jsx("input",{type:"text",value:f.name||"",onChange:X=>g({...f,name:X.target.value}),className:"w-full px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"Nom du club"})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("input",{type:"email",value:f.email_contact||"",onChange:X=>g({...f,email_contact:X.target.value}),className:"w-full px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"Email"})}),i.jsx("td",{className:"px-6 py-4",colSpan:3,children:i.jsx("input",{type:"url",value:f.logo_url||"",onChange:X=>g({...f,logo_url:X.target.value}),className:"w-full px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"URL du logo (optionnel)"})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>R(K.id),disabled:b,className:"p-1.5 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded hover:bg-green-200 dark:hover:bg-green-900/50 transition disabled:opacity-50",children:i.jsx(EH,{className:"w-4 h-4"})}),i.jsx("button",{onClick:U,disabled:b,className:"p-1.5 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 rounded hover:bg-slate-200 dark:hover:bg-slate-600 transition disabled:opacity-50",children:i.jsx(un,{className:"w-4 h-4"})})]})})]}):i.jsxs(i.Fragment,{children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-3",children:[K.logo_url?i.jsx("img",{src:K.logo_url,alt:K.name,className:"w-10 h-10 rounded-lg object-cover"}):i.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-green-500 flex items-center justify-center text-white font-bold",children:K.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:K.name}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["ID: ",K.id.substring(0,8),"..."]})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"text-sm text-slate-900 dark:text-white",children:K.email_contact})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:K.status==="active"?i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400",children:[i.jsx(ar,{className:"w-3 h-3"}),"Actif"]}):i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-400",children:[i.jsx(lS,{className:"w-3 h-3"}),"Suspendu"]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"text-sm text-slate-900 dark:text-white",children:new Date(K.created_at||"").toLocaleDateString("fr-FR")})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:K.campaigns_count||0})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>H(K.id),className:"p-1.5 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded transition",title:"Voir comme ce club",children:i.jsx(ao,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>P(K),className:"p-1.5 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition",title:"diter",children:i.jsx(OB,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>D(K.id,K.status,K.name),className:`p-1.5 rounded transition ${K.status==="active"?"text-amber-600 dark:text-amber-400 hover:bg-amber-50 dark:hover:bg-amber-900/30":"text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/30"}`,title:K.status==="active"?"Suspendre":"Activer",children:K.status==="active"?i.jsx(lS,{className:"w-4 h-4"}):i.jsx($m,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>Q(K.id,K.name),className:"p-1.5 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded transition",title:"Supprimer",children:i.jsx(Lr,{className:"w-4 h-4"})})]})})]})},K.id))})]})}),W>1&&i.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Page ",A," sur ",W," (",V+1,"-",Z," sur ",u,")"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>c(K=>Math.max(1,K-1)),disabled:A===1,className:"p-2 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:i.jsx(Aj,{className:"w-4 h-4 text-slate-600 dark:text-slate-400"})}),i.jsx("button",{onClick:()=>c(K=>Math.min(W,K+1)),disabled:A===W,className:"p-2 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:i.jsx(FH,{className:"w-4 h-4 text-slate-600 dark:text-slate-400"})})]})]})})]})]})]}),m&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Crer un nouveau club"}),i.jsxs("form",{onSubmit:T,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Nom du club *"}),i.jsx("input",{type:"text",required:!0,value:k.name,onChange:K=>S({...k,name:K.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Ex: FC Paris"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email de contact *"}),i.jsx("input",{type:"email",required:!0,value:k.email_contact,onChange:K=>S({...k,email_contact:K.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"contact@fcparis.fr"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"URL du logo"}),i.jsx("input",{type:"url",value:k.logo_url,onChange:K=>S({...k,logo_url:K.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"https://example.com/logo.png"})]}),i.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4 mt-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-3",children:"Inviter un administrateur"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Nom de l'administrateur"}),i.jsx("input",{type:"text",value:k.admin_name,onChange:K=>S({...k,admin_name:K.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Jean Dupont"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email administrateur *"}),i.jsx("input",{type:"email",required:!0,value:k.admin_email,onChange:K=>S({...k,admin_email:K.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"admin@fcparis.fr"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mot de passe * (min. 6 caractres)"}),i.jsx("input",{type:"password",required:!0,minLength:6,value:k.admin_password,onChange:K=>S({...k,admin_password:K.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:""})]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition font-medium",disabled:b,children:"Annuler"}),i.jsx("button",{type:"submit",disabled:b,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white rounded-lg transition font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Cration...":"Crer le club"})]})]})]})})]})}function EK(e){return e.replace(/<style[\s\S]*?<\/style>/gi,"").replace(/<script[\s\S]*?<\/script>/gi,"").replace(/<br\s*\/?>/gi,`
`).replace(/<\/p>/gi,`

`).replace(/<[^>]+>/g,"").replace(/\n{3,}/g,`

`).trim()}async function FK(){var t;const{data:e}=await Ie.auth.getUser();return((t=e.user)==null?void 0:t.id)??null}function IK(e,t){const r={};for(const n of t)n in e&&e[n]!==void 0&&(r[n]=e[n]);return r}async function VU(e,t){if(!e)throw new Error("templateId manquant");const r=(t.text_body??EK(t.html||""))||null,n=new Date().toISOString(),s=await FK(),a=IK({subject:t.subject??"",key:t.key??"",html:t.html??"",text_body:r,updated_at:n,updated_by:s},["subject","key","html","text_body","updated_at","updated_by"]);console.log("[saveEmailTemplateProd] Payload to send:",{templateId:e,payloadKeys:Object.keys(a),textBodyLength:(r==null?void 0:r.length)||0,payload:a});const{data:l,error:A,status:c}=await Ie.from("email_templates").update(a).eq("id",e).select("id,key,subject,text_body,updated_at");if(console.log("[saveEmailTemplateProd] Response:",{data:l,error:A,status:c}),A)throw console.error("SAVE_TPL_ERR",{status:c,...A,sentKeys:Object.keys(a)}),Object.assign(new Error(A.message),{status:c,details:A.details,hint:A.hint,code:A.code,sentKeys:Object.keys(a)});if(!l||l.length===0)throw new Error("Aucune ligne mise  jour - vrifiez les permissions RLS");return l[0]||l}const dw=["invitation","reminder_5d","reminder_10d","confirmation","campaign_summary","sponsor_ack"],UK={invitation:"Invitation initiale",reminder_5d:"Rappel 5 jours",reminder_10d:"Rappel 10 jours",confirmation:"Confirmation de rponse",sponsor_ack:"Accus rception sponsor",campaign_summary:"Rsum de campagne"};function PK(){var de;const e=Cn(),{user:t}=Nn(),{effectiveTenantId:r}=As(),[n,s]=E.useState([]),[a,l]=E.useState(!0),[A,c]=E.useState(null),[u,o]=E.useState({}),[d,h]=E.useState(!1),[f,g]=E.useState(null),[m,x]=E.useState(null),[p,v]=E.useState(!0),[b,j]=E.useState(!1),[k,S]=E.useState([]),[F,T]=E.useState("all"),[P,R]=E.useState(null),[U,D]=E.useState(!1),[Q,H]=E.useState(null);E.useEffect(()=>{W()},[]);const W=async()=>{l(!0);try{const{data:q,error:pe}=await Ie.from("email_templates").select("id, tenant_id, key, subject, html, text_body, created_at").is("tenant_id",null).order("key");if(pe){const oe=pe.message||"";if(oe.includes("column")&&oe.includes("does not exist")){x("B"),T("key");const{data:fe,error:ye}=await Ie.from("email_templates").select("*").is("tenant_id",null).order("type");if(ye)throw ye;const ue=(fe||[]).map(be=>({...be,key:be.type,html:be.html_body,placeholders:Array.isArray(be.placeholders)?be.placeholders:JSON.parse(be.placeholders||"[]")})),_e=ue.filter(be=>dw.includes(be.key));_e.length>0?(s(_e),v(!0)):(s(ue),v(!1),await V("B"))}else throw pe}else{x("A"),T("key");const oe=(q||[]).map(ye=>({...ye,type:ye.key,html_body:ye.html,text_body:ye.text_body||"",placeholders:[],is_active:!0,updated_at:ye.created_at||new Date().toISOString()})),fe=oe.filter(ye=>dw.includes(ye.key||""));fe.length>0?(s(fe),v(!0)):(s(oe),v(!1),await V("A"))}}catch(q){console.error("Error fetching templates:",q),e.error("Erreur lors du chargement des templates")}finally{l(!1)}},V=async q=>{try{if(q==="A"){const{data:pe}=await Ie.from("email_templates").select("id, key, subject").is("tenant_id",null).order("created_at",{ascending:!1}).limit(5);pe&&S(pe.map(oe=>({id:oe.id,key:oe.key||"",subject:oe.subject})))}else{const{data:pe}=await Ie.from("email_templates").select("id, type, subject").is("tenant_id",null).order("updated_at",{ascending:!1}).limit(5);pe&&S(pe.map(oe=>({id:oe.id,key:oe.type,subject:oe.subject})))}}catch(pe){console.error("Error fetching suggestions:",pe)}},Z=q=>{c(q.id),o({subject:q.subject,html_body:q.html_body,text_body:q.text_body,is_active:q.is_active,key:q.key||q.type,type:q.type})},K=()=>{c(null),o({}),R(null),H(null)};async function X(){var pe;const{data:q}=await Ie.auth.getSession();return((pe=q.session)==null?void 0:pe.access_token)||null}async function le(q){console.log("[DEBUG REST] Starting with templateId:",q),console.log("[DEBUG REST] editForm:",u),D(!0),R(null);try{const pe=await X(),oe=`undefined/rest/v1/email_templates?id=eq.${q}`,fe={subject:u.subject??"",html:u.html_body??"",key:(u.key||u.type)??""};console.log("[DEBUG REST] Payload:",fe);const ye={method:"PATCH",headers:{apikey:void 0,Authorization:pe?`Bearer ${pe}`:"Bearer undefined","Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(fe)};console.log("[DEBUG REST] Request:",{url:oe,...ye,body:fe});const ue=await fetch(oe,ye),_e=await ue.text();console.log("[DEBUG REST] Response text:",_e);let be=null;try{be=JSON.parse(_e)}catch{be={raw:_e}}console.log("[DEBUG REST] Response status:",ue.status),console.log("[DEBUG REST] Response json:",be),R({request:{url:oe,...ye,body:fe},response:{status:ue.status,json:be}})}catch(pe){console.error("[DEBUG REST] Error:",pe),R({response:{error:String(pe)}})}finally{D(!1)}}const Ae=async q=>{h(!0),H(null);try{await VU(q,{subject:u.subject||"",key:u.key||u.type||"",html:u.html_body||"",text_body:u.text_body||""}),e.success("Template sauvegard avec succs"),c(null),o({}),R(null),H(null),await W()}catch(pe){console.error("Error saving template:",pe),H({status:pe.status,message:pe.message,details:pe.details,hint:pe.hint,code:pe.code,sentKeys:pe.sentKeys});const oe=pe.hint||pe.message||"Erreur lors de la sauvegarde";e.error(oe)}finally{h(!1)}},M=async q=>{if(confirm("Voulez-vous vraiment dupliquer ce template vers tous les clubs existants ? Cette opration crasera leurs templates existants de ce type.")){g(q.id);try{const{data:pe,error:oe}=await Ie.from("tenants").select("id");if(oe)throw oe;if(!pe||pe.length===0){e.info("Aucun club trouv");return}let fe=0,ye=0;for(const ue of pe)try{const{data:_e,error:be}=await Ie.from("email_templates").select("id").eq("tenant_id",ue.id).eq("type",q.type).maybeSingle();if(be)throw be;if(_e){const{error:ie}=await Ie.from("email_templates").update({subject:q.subject,html_body:q.html_body,text_body:q.text_body,placeholders:q.placeholders,is_active:q.is_active}).eq("id",_e.id);if(ie)throw ie}else{const{error:ie}=await Ie.from("email_templates").insert({tenant_id:ue.id,type:q.type,subject:q.subject,html_body:q.html_body,text_body:q.text_body,placeholders:q.placeholders,is_active:q.is_active});if(ie)throw ie}fe++}catch(_e){console.error(`Error duplicating to tenant ${ue.id}:`,_e),ye++}ye===0?e.success(`Template dupliqu vers ${fe} club(s)`):e.error(`${fe} russi(s), ${ye} erreur(s)`)}catch(pe){console.error("Error duplicating template:",pe),e.error("Erreur lors de la duplication")}finally{g(null)}}},G=((de=t==null?void 0:t.app_metadata)==null?void 0:de.role)||"user",re="unknown",ne=n.length>0?"trouv":"non trouv";return a?i.jsx(_r,{children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Chargement..."})})}):i.jsx(_r,{children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-3 rounded-xl shadow-lg",children:i.jsx(zn,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Modles e-mails par dfaut"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Grez les templates par dfaut utiliss par tous les clubs"})]})]}),i.jsxs("div",{"data-testid":"tmpl-diag",className:"mt-4 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>j(!b),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-slate-100 dark:hover:bg-slate-800 transition",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Diagnostics"})}),b?i.jsx(TB,{className:"w-4 h-4 text-slate-400"}):i.jsx(PB,{className:"w-4 h-4 text-slate-400"})]}),b&&i.jsxs("div",{className:"px-4 pb-4 pt-2 space-y-3 text-sm border-t border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Project ID:"})}),i.jsx("code",{className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:re})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Utilisateur:"})}),i.jsx("code",{className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:(t==null?void 0:t.email)||"(none)"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Role:"})}),i.jsx("code",{"data-testid":"tmpl-diag-role",className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:G})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Tenant ID:"})}),i.jsx("code",{"data-testid":"tmpl-diag-tenant",className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:r||"(aucun)"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Mode dtect:"})}),i.jsx("code",{"data-testid":"tmpl-diag-mode",className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:m||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Type de requte:"})}),i.jsx("code",{className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:F})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Rsultat:"})}),i.jsxs("code",{className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:[ne," (",n.length," template(s))"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Cls canoniques:"})}),i.jsxs("code",{"data-testid":"default-templates-count",className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:[p?"Oui":"Non"," - ",n.length," affichs"]})]})]}),k.length>0&&!p&&i.jsxs("div",{className:"mt-4",children:[i.jsx("p",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:"5 derniers templates globaux disponibles:"}),i.jsx("div",{className:"space-y-2",children:k.map(q=>i.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[i.jsxs("span",{className:"font-mono text-xs text-slate-500 dark:text-slate-500",children:["ID: ",q.id]}),i.jsxs("span",{className:"font-mono text-xs text-blue-600 dark:text-blue-400",children:["key: ",q.key]})]}),i.jsx("p",{className:"text-sm text-slate-900 dark:text-white",children:q.subject})]},q.id))})]})]})]}),!p&&n.length>0&&i.jsx("div",{className:"mt-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Sr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-900 dark:text-blue-300 mb-1",children:"Aucune cl canonique dtecte"}),i.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-400",children:["Affichage de tous les templates globaux disponibles. Cls attendues : ",dw.join(", ")]})]})]})})]}),i.jsx("div",{className:"space-y-4",children:n.length===0?i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-12 text-center",children:[i.jsx(zn,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Aucun template par dfaut trouv"})]}):n.map(q=>i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:UK[q.key||q.type]||q.key||q.type}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${q.is_active?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:q.is_active?"Actif":"Inactif"})]}),A!==q.id&&i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:["Sujet : ",q.subject]})]}),i.jsx("div",{className:"flex items-center gap-2",children:A===q.id?i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>Ae(q.id),disabled:d,className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 disabled:bg-slate-400 text-white rounded-lg transition",children:[i.jsx(xd,{className:"w-4 h-4"}),d?"Sauvegarde...":"Sauvegarder"]}),i.jsxs("button",{onClick:K,disabled:d,className:"flex items-center gap-2 px-4 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-800 dark:text-white rounded-lg transition",children:[i.jsx(un,{className:"w-4 h-4"}),"Annuler"]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>Z(q),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition",children:[i.jsx(OB,{className:"w-4 h-4"}),"diter"]}),i.jsxs("button",{onClick:()=>M(q),disabled:f===q.id,className:"flex items-center gap-2 px-4 py-2 bg-purple-500 hover:bg-purple-600 disabled:bg-slate-400 text-white rounded-lg transition",children:[i.jsx(pc,{className:"w-4 h-4"}),f===q.id?"Duplication...":"Dupliquer vers clubs"]})]})})]}),A===q.id&&i.jsxs("div",{className:"space-y-4 mt-4 border-t border-slate-200 dark:border-slate-700 pt-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Statut"}),i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:u.is_active??!1,onChange:pe=>o({...u,is_active:pe.target.checked}),className:"w-4 h-4 text-blue-500 border-slate-300 rounded focus:ring-2 focus:ring-blue-500"}),i.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Template actif"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sujet"}),i.jsx("input",{type:"text",value:u.subject||"",onChange:pe=>o({...u,subject:pe.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Corps HTML"}),i.jsx("textarea",{value:u.html_body||"",onChange:pe=>o({...u,html_body:pe.target.value}),rows:10,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-white font-mono text-sm resize-y"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Corps texte brut"}),i.jsx("textarea",{value:u.text_body||"",onChange:pe=>o({...u,text_body:pe.target.value}),rows:8,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-white font-mono text-sm resize-y"})]}),q.placeholders&&q.placeholders.length>0&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Variables disponibles"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:q.placeholders.map(pe=>i.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs font-mono",children:`{{${pe}}}`},pe))})]}),i.jsxs("div",{className:"border border-slate-300 dark:border-slate-600 rounded p-3 bg-slate-50 dark:bg-slate-800",children:[i.jsx("div",{className:"font-semibold mb-2 text-slate-800 dark:text-slate-200",children:"Debug  Save (REST minimal)"}),i.jsx("button",{type:"button",onClick:()=>le(q.id),disabled:U,className:"px-3 py-1 rounded bg-black dark:bg-slate-700 text-white disabled:opacity-50","data-testid":"btn-save-debug-rest",children:U?"Saving":"Save (debug via REST)"}),P&&i.jsxs("div",{className:"mt-3 grid gap-2",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs font-mono opacity-70 dark:text-slate-400",children:"REQUEST"}),i.jsx("pre",{className:"text-xs bg-white dark:bg-slate-900 p-2 rounded overflow-auto border border-slate-200 dark:border-slate-700",children:JSON.stringify(P.request,null,2)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs font-mono opacity-70 dark:text-slate-400",children:"RESPONSE"}),i.jsx("pre",{className:"text-xs bg-white dark:bg-slate-900 p-2 rounded overflow-auto border border-slate-200 dark:border-slate-700",children:JSON.stringify(P.response,null,2)})]})]})]}),Q&&i.jsx("div",{className:"border border-red-300 dark:border-red-700 rounded p-4 bg-red-50 dark:bg-red-900/20",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Sr,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-red-800 dark:text-red-200 mb-2",children:"Erreur lors de la sauvegarde"}),Q.status&&i.jsxs("div",{className:"text-sm mb-1",children:[i.jsx("span",{className:"font-medium text-red-700 dark:text-red-300",children:"Status:"})," ",i.jsx("span",{className:"text-red-600 dark:text-red-400",children:Q.status})]}),Q.code&&i.jsxs("div",{className:"text-sm mb-1",children:[i.jsx("span",{className:"font-medium text-red-700 dark:text-red-300",children:"Code:"})," ",i.jsx("span",{className:"text-red-600 dark:text-red-400",children:Q.code})]}),Q.message&&i.jsxs("div",{className:"text-sm mb-1",children:[i.jsx("span",{className:"font-medium text-red-700 dark:text-red-300",children:"Message:"})," ",i.jsx("span",{className:"text-red-600 dark:text-red-400",children:Q.message})]}),Q.details&&i.jsxs("div",{className:"text-sm mb-1",children:[i.jsx("span",{className:"font-medium text-red-700 dark:text-red-300",children:"Dtails:"})," ",i.jsx("span",{className:"text-red-600 dark:text-red-400",children:Q.details})]}),Q.hint&&i.jsxs("div",{className:"text-sm mb-1",children:[i.jsx("span",{className:"font-medium text-red-700 dark:text-red-300",children:"Hint:"})," ",i.jsx("span",{className:"text-red-600 dark:text-red-400",children:Q.hint})]}),Q.sentKeys&&Q.sentKeys.length>0&&i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-red-700 dark:text-red-300",children:"Cls envoyes:"})," ",i.jsx("span",{className:"text-red-600 dark:text-red-400",children:Q.sentKeys.join(", ")})]})]})]})})]})]})},q.id))})]})})}const fw=["club_name","campaign_title","invite_link","deadline","sponsor_name","tenant_name","tenant_email","contact_name","response_url","annual_price","campaign_description","response_status","company","email","total_invitations","yes_count","maybe_count","no_count","total_pledged","objective_amount","achievement_rate"],TK={club_name:"Club Sportif Example",campaign_title:"Nouveau Panneau LED 2024",invite_link:"https://example.com/respond/abc123",deadline:"31 dcembre 2024",sponsor_name:"Jean Dupont",tenant_name:"Mon Club",tenant_email:"contact@monclub.fr",contact_name:"Marie Martin",response_url:"https://example.com/respond/xyz789",annual_price:"1500",campaign_description:"Installation d'un panneau LED publicitaire",response_status:"Oui, intress",company:"Entreprise ABC",email:"contact@entreprise-abc.fr",total_invitations:"50",yes_count:"15",maybe_count:"10",no_count:"5",total_pledged:"22500",objective_amount:"30000",achievement_rate:"75"};function OK({isOpen:e,onClose:t,onSave:r,onSuccess:n,initialData:s,mode:a,templateId:l,existingKeys:A=[]}){var de;const c=Cn(),{effectiveTenantId:u}=As(),[o,d]=E.useState(s||{type:"",subject:"",html_body:"",is_active:!0}),[h,f]=E.useState(!1),[g,m]=E.useState("edit"),[x,p]=E.useState(JSON.stringify(TK,null,2)),[v,b]=E.useState(!1),[j,k]=E.useState(""),[S,F]=E.useState(""),[T,P]=E.useState(!1),[R,U]=E.useState(null),[D,Q]=E.useState(null),[H,W]=E.useState(!1),V=E.useMemo(()=>{const pe=`${o.subject} ${o.html_body}`.match(/\{\{(\w+)\}\}/g);return pe?[...new Set(pe.map(oe=>oe.replace(/[{}]/g,"")))]:[]},[o.subject,o.html_body]),Z=E.useMemo(()=>V.filter(q=>!fw.includes(q)),[V]);E.useEffect(()=>{v&&u&&K()},[v,u]);const K=async()=>{if(u){P(!0);try{const{data:q,error:pe}=await Ie.from("tenants").select("email_signature_html, rgpd_content_md").eq("id",u).maybeSingle();if(pe)throw pe;q&&(k(q.email_signature_html||""),F(q.rgpd_content_md||""))}catch(q){console.error("Error loading tenant signature:",q)}finally{P(!1)}}},X=(q,pe)=>{let oe=q;return Object.keys(pe).forEach(fe=>{const ye=new RegExp(`\\{\\{${fe}\\}\\}`,"g");oe=oe.replace(ye,pe[fe])}),oe},le=E.useMemo(()=>{let q=o.html_body;try{const pe=JSON.parse(x);q=X(q,pe)}catch{return o.html_body}return q},[o.html_body,x]),Ae=E.useMemo(()=>{try{const q=JSON.parse(x);return X(o.subject,q)}catch{return o.subject}},[o.subject,x]),M=E.useMemo(()=>{let q=le;if(j&&(q+=`<hr style="margin: 20px 0; border: none; border-top: 1px solid #ccc;" />${j}`),S){const pe=S.split(`
`).map(oe=>oe.trim()).filter(oe=>oe.length>0).join("<br />");q+=`<hr style="margin: 20px 0; border: none; border-top: 1px solid #ccc;" /><small style="color: #666; font-size: 11px;">${pe}</small>`}return q},[le,j,S]);async function G(){var pe;const{data:q}=await Ie.auth.getSession();return((pe=q.session)==null?void 0:pe.access_token)||null}async function re(){if(!l){Q({response:{error:"No templateId in edit mode"}});return}W(!0),Q(null);try{const q=await G(),pe=`undefined/rest/v1/email_templates?id=eq.${l}`,oe={subject:o.subject??"",html:o.html_body??"",key:o.type??""},fe={method:"PATCH",headers:{apikey:void 0,Authorization:q?`Bearer ${q}`:"Bearer undefined","Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(oe)},ye=await fetch(pe,fe),ue=await ye.text();let _e=null;try{_e=JSON.parse(ue)}catch{_e={raw:ue}}Q({request:{url:pe,...fe,body:oe},response:{status:ye.status,json:_e}})}catch(q){Q({response:{error:String(q)}})}finally{W(!1)}}const ne=async()=>{if(!o.type.trim()){alert("Le type est obligatoire");return}if(!o.subject.trim()){alert("Le sujet est obligatoire");return}if(a==="create"&&A.includes(o.type)){alert(`Le type "${o.type}" existe dj. Veuillez choisir un type unique.`);return}f(!0),U(null);try{if(a==="edit"&&l){await VU(l,{subject:o.subject,html:o.html_body,key:o.type,text_body:o.text_body||""}),c.success("Modle enregistr"),n&&await n(),t();return}await r(o),t()}catch(q){console.error("Error saving template:",q),U({status:q==null?void 0:q.status,message:q==null?void 0:q.message,details:q==null?void 0:q.details,hint:q==null?void 0:q.hint,code:q==null?void 0:q.code,sentKeys:q==null?void 0:q.sentKeys})}finally{f(!1)}};return e?i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:a==="create"?"Crer un template":"diter le template"}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition",children:i.jsx(un,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),i.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex",children:[i.jsxs("button",{onClick:()=>m("edit"),className:`flex items-center gap-2 px-6 py-3 border-b-2 transition ${g==="edit"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[i.jsx(UH,{className:"w-4 h-4"}),"dition"]}),i.jsxs("button",{onClick:()=>m("preview"),"data-testid":"tab-preview",className:`flex items-center gap-2 px-6 py-3 border-b-2 transition ${g==="preview"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[i.jsx(ao,{className:"w-4 h-4"}),"Prvisualisation"]}),u&&i.jsxs("button",{onClick:()=>{m("preview"),b(!0)},"data-testid":"tab-preview-signature",className:`flex items-center gap-2 px-6 py-3 border-b-2 transition ${g==="preview"&&v?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[i.jsx(QH,{className:"w-4 h-4"}),"Prvisualisation (avec signature)"]})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[R&&i.jsx("div",{"data-testid":"tmpl-save-error",className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 p-2 rounded-lg",children:i.jsx(Sr,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-sm font-semibold text-red-900 dark:text-red-400 mb-3",children:"Erreur lors de la sauvegarde"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{className:"text-red-800 dark:text-red-300",children:"Status:"}),i.jsx("code",{className:"ml-2 px-2 py-0.5 bg-red-100 dark:bg-red-900/40 rounded font-mono text-xs text-red-900 dark:text-red-300",children:R.status})]}),i.jsxs("div",{children:[i.jsx("strong",{className:"text-red-800 dark:text-red-300",children:"Message:"}),i.jsx("p",{className:"mt-1 text-red-700 dark:text-red-400",children:R.message})]}),R.details&&i.jsxs("div",{children:[i.jsx("strong",{className:"text-red-800 dark:text-red-300",children:"Details:"}),i.jsx("p",{className:"mt-1 text-red-700 dark:text-red-400",children:R.details})]}),R.hint&&i.jsxs("div",{children:[i.jsx("strong",{className:"text-red-800 dark:text-red-300",children:"Hint:"}),i.jsx("p",{className:"mt-1 text-red-700 dark:text-red-400",children:R.hint})]})]}),i.jsx("button",{onClick:()=>U(null),className:"mt-3 text-xs text-red-600 dark:text-red-400 hover:underline",children:"Fermer ce message"})]}),i.jsx("button",{onClick:()=>U(null),className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/40 rounded transition",children:i.jsx(un,{className:"w-4 h-4 text-red-600 dark:text-red-400"})})]})}),g==="edit"?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Type (unique)"}),i.jsx("input",{type:"text","data-testid":"tmpl-key",value:o.type,onChange:q=>d({...o,type:q.target.value}),disabled:a==="edit",placeholder:"ex: invitation_custom",className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-white disabled:bg-slate-100 dark:disabled:bg-slate-700 disabled:cursor-not-allowed"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sujet"}),i.jsx("input",{type:"text","data-testid":"tmpl-subject",value:o.subject,onChange:q=>d({...o,subject:q.target.value}),placeholder:"ex: Invitation : {{campaign_title}}",className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Corps HTML"}),i.jsx("textarea",{"data-testid":"tmpl-html",value:o.html_body,onChange:q=>d({...o,html_body:q.target.value}),rows:16,placeholder:"<html>...</html>",className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-white font-mono text-sm resize-y"})]}),i.jsx("div",{children:i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:o.is_active,onChange:q=>d({...o,is_active:q.target.checked}),className:"w-4 h-4 text-blue-500 border-slate-300 rounded focus:ring-2 focus:ring-blue-500"}),i.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Template actif"})]})}),Z.length>0&&i.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Ci,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-500 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-400 mb-2",children:"Placeholders inconnus dtects"}),i.jsx("ul",{className:"list-disc list-inside text-sm text-yellow-700 dark:text-yellow-500 space-y-1",children:Z.map(q=>i.jsx("li",{children:i.jsx("code",{className:"bg-yellow-100 dark:bg-yellow-900/40 px-1 rounded",children:`{{${q}}}`})},q))}),i.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-500 mt-2",children:["Placeholders connus : ",fw.map(q=>`{{${q}}}`).join(", ")]})]})]})}),V.length>0&&i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[i.jsxs("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-400 mb-2",children:["Placeholders dtects (",V.length,")"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:V.map(q=>i.jsx("span",{className:`px-2 py-1 rounded text-xs font-mono ${fw.includes(q)?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:`{{${q}}}`},q))})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Donnes de test (JSON)"}),i.jsx("textarea",{value:x,onChange:q=>p(q.target.value),rows:8,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-white font-mono text-sm resize-y"})]}),v&&u&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>b(!1),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:" Retour  la prvisualisation simple"}),T&&i.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Chargement de la signature..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:v?"Sujet (avec placeholders remplacs)":"Sujet"}),v&&i.jsx("div",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-900 dark:text-white",children:Ae})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:v&&u?"Aperu avec signature & RGPD":"Aperu"}),i.jsx("div",{className:"border border-slate-300 dark:border-slate-600 rounded-lg p-4 bg-white dark:bg-slate-900 overflow-auto max-h-96",children:i.jsx("div",{"data-testid":"preview-content",dangerouslySetInnerHTML:{__html:v&&u?M:le}})})]})]})]}),R&&i.jsxs("div",{"data-testid":"tmpl-save-error",className:"mx-6 mt-4 border border-red-300 bg-red-50 dark:bg-red-900/20 dark:border-red-700 text-red-800 dark:text-red-200 rounded p-3 text-sm",children:[i.jsx("div",{className:"font-semibold mb-1",children:"Erreur de sauvegarde"}),i.jsxs("div",{children:["status: ",R.status??""]}),i.jsxs("div",{children:["message: ",R.message??""]}),i.jsxs("div",{children:["details: ",R.details??""]}),i.jsxs("div",{children:["hint: ",R.hint??""]}),i.jsxs("div",{children:["code: ",R.code??""]}),i.jsxs("div",{children:["sentKeys: ",((de=R.sentKeys)==null?void 0:de.join(", "))??""]}),i.jsx("button",{type:"button",onClick:()=>U(null),className:"text-xs underline mt-1 hover:no-underline",children:"Effacer debug"})]}),a==="edit"&&i.jsxs("div",{className:"mx-6 mt-4 border border-slate-300 dark:border-slate-600 rounded p-3 bg-slate-50 dark:bg-slate-800",children:[i.jsx("div",{className:"font-semibold mb-2 text-slate-800 dark:text-slate-200",children:"Debug  Save (REST minimal)"}),i.jsx("button",{type:"button",onClick:re,disabled:H,className:"px-3 py-1 rounded bg-black dark:bg-slate-700 text-white disabled:opacity-50","data-testid":"btn-save-debug-rest",children:H?"Saving":"Save (debug via REST)"}),D&&i.jsxs("div",{className:"mt-3 grid gap-2",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs font-mono opacity-70 dark:text-slate-400",children:"REQUEST"}),i.jsx("pre",{className:"text-xs bg-white dark:bg-slate-900 p-2 rounded overflow-auto border border-slate-200 dark:border-slate-700",children:JSON.stringify(D.request,null,2)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs font-mono opacity-70 dark:text-slate-400",children:"RESPONSE"}),i.jsx("pre",{className:"text-xs bg-white dark:bg-slate-900 p-2 rounded overflow-auto border border-slate-200 dark:border-slate-700",children:JSON.stringify(D.response,null,2)})]})]})]}),i.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex items-center justify-end gap-3",children:[i.jsx("button",{onClick:t,disabled:h,className:"px-4 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-800 dark:text-white rounded-lg transition disabled:opacity-50",children:"Annuler"}),i.jsx("button",{onClick:ne,disabled:h,"data-testid":"btn-save-template",className:"px-4 py-2 bg-green-500 hover:bg-green-600 disabled:bg-slate-400 text-white rounded-lg transition",children:h?"Sauvegarde...":a==="create"?"Crer":"Sauvegarder"})]})]})}):null}function LK({isOpen:e,onClose:t,template:r,onSuccess:n}){const[s,a]=E.useState([]),[l,A]=E.useState(!1),[c,u]=E.useState(!1),[o,d]=E.useState("safe"),[h,f]=E.useState({current:0,total:0}),[g,m]=E.useState(null);E.useEffect(()=>{e&&(x(),m(null),f({current:0,total:0}))},[e]);const x=async()=>{A(!0);try{const{data:j,error:k}=await Ie.from("tenants").select("id, name").order("name");if(k)throw k;a(j||[])}catch(j){console.error("Error fetching tenants:",j)}finally{A(!1)}},p=async()=>{u(!0),f({current:0,total:s.length});let j=0,k=0;for(let S=0;S<s.length;S++){const F=s[S];f({current:S+1,total:s.length});try{const{data:T,error:P}=await Ie.rpc("clone_default_email_templates",{p_tenant_id:F.id});if(P)throw P;T&&T>0&&j++}catch(T){console.error(`Error pushing to tenant ${F.name}:`,T),k++}}m({success:j,failed:k,skipped:s.length-j-k}),u(!1),n()},v=async()=>{if(r){u(!0),f({current:0,total:s.length});let j=0,k=0;for(let S=0;S<s.length;S++){const F=s[S];f({current:S+1,total:s.length});try{const{error:T}=await Ie.from("email_templates").upsert({tenant_id:F.id,type:r.type,subject:r.subject,html_body:r.html_body,text_body:r.text_body,placeholders:r.placeholders,is_active:r.is_active},{onConflict:"tenant_id,type"});if(T)throw T;j++}catch(T){console.error(`Error pushing to tenant ${F.name}:`,T),k++}}m({success:j,failed:k,skipped:0}),u(!1),n()}else{u(!0),f({current:0,total:s.length});let j=0,k=0;const{data:S,error:F}=await Ie.from("email_templates").select("*").is("tenant_id",null);if(F){console.error("Error fetching global templates:",F),u(!1);return}for(let T=0;T<s.length;T++){const P=s[T];f({current:T+1,total:s.length});let R=0;for(const U of S||[])try{const{error:D}=await Ie.from("email_templates").upsert({tenant_id:P.id,type:U.type,subject:U.subject,html_body:U.html_body,text_body:U.text_body,placeholders:U.placeholders,is_active:U.is_active},{onConflict:"tenant_id,type"});if(D)throw D;R++}catch(D){console.error(`Error upserting template for tenant ${P.name}:`,D)}R>0?j++:k++}m({success:j,failed:k,skipped:0}),u(!1),n()}},b=async()=>{!s.length||!confirm(o==="safe"?`Dupliquer les templates vers ${s.length} club(s) ? (mode safe : uniquement si absent)`:`ATTENTION : craser les templates existants dans ${s.length} club(s) ? Cette opration est irrversible.`)||(o==="safe"?await p():await v())};return e?i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-2xl w-full",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r?`Dupliquer "${r.type}" vers clubs`:"Dupliquer tous les templates vers clubs"}),i.jsx("button",{onClick:t,disabled:c,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition disabled:opacity-50",children:i.jsx(un,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),i.jsx("div",{className:"p-6 space-y-6",children:l?i.jsx("div",{className:"text-center py-8 text-slate-600 dark:text-slate-400",children:"Chargement des clubs..."}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-400",children:[s.length," club(s) trouv(s)"]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mode de duplication"}),i.jsxs("label",{className:"flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer transition hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[i.jsx("input",{type:"radio",name:"mode",value:"safe",checked:o==="safe",onChange:()=>d("safe"),disabled:c,className:"mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-slate-900 dark:text-white mb-1",children:"Ajouter si absent (Safe)"}),i.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Ajoute les templates uniquement s'ils n'existent pas dj pour le club. Les templates existants ne seront pas modifis."})]})]}),i.jsxs("label",{className:"flex items-start gap-3 p-4 border-2 border-orange-300 dark:border-orange-700 rounded-lg cursor-pointer transition hover:bg-orange-50 dark:hover:bg-orange-900/20",children:[i.jsx("input",{type:"radio",name:"mode",value:"force",checked:o==="force",onChange:()=>d("force"),disabled:c,className:"mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"font-medium text-orange-800 dark:text-orange-400 mb-1 flex items-center gap-2",children:[i.jsx(Ci,{className:"w-4 h-4"}),"craser existants (Force)"]}),i.jsx("div",{className:"text-sm text-orange-700 dark:text-orange-500",children:"Remplace tous les templates des clubs par les versions globales. Cette action est irrversible."})]})]})]}),c&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("span",{children:"Progression"}),i.jsxs("span",{children:[h.current," / ",h.total]})]}),i.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:i.jsx("div",{className:"bg-blue-500 h-2.5 rounded-full transition-all duration-300",style:{width:`${h.total>0?h.current/h.total*100:0}%`}})})]}),g&&i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-green-800 dark:text-green-400 mb-2",children:"Opration termine"}),i.jsxs("div",{className:"text-sm text-green-700 dark:text-green-500 space-y-1",children:[i.jsxs("p",{children:[" ",g.success," club(s) mis  jour avec succs"]}),g.skipped>0&&i.jsxs("p",{children:[" ",g.skipped," club(s) ignors (templates dj prsents)"]}),g.failed>0&&i.jsxs("p",{className:"text-red-600 dark:text-red-400",children:[" ",g.failed," chec(s)"]})]})]})]})}),i.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex items-center justify-end gap-3",children:[i.jsx("button",{onClick:t,disabled:c,className:"px-4 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-800 dark:text-white rounded-lg transition disabled:opacity-50",children:g?"Fermer":"Annuler"}),!g&&i.jsxs("button",{onClick:b,disabled:c||l||s.length===0,"data-testid":o==="safe"?"btn-push-safe":"btn-push-force",className:`flex items-center gap-2 px-4 py-2 rounded-lg transition disabled:opacity-50 ${o==="force"?"bg-orange-500 hover:bg-orange-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:[i.jsx(PA,{className:"w-4 h-4"}),c?"Duplication en cours...":o==="safe"?"Dupliquer (Safe)":"Dupliquer (Force)"]})]})]})}):null}function QK({isOpen:e,onClose:t,templateId:r,templateType:n,onRollback:s}){const[a,l]=E.useState([]),[A,c]=E.useState(!1),[u,o]=E.useState(null),[d,h]=E.useState(!1);E.useEffect(()=>{e&&r&&f()},[e,r]);const f=async()=>{c(!0);try{const{data:x,error:p}=await Ie.from("email_template_versions").select("*").eq("template_id",r).order("version_number",{ascending:!1}).limit(5);if(p)throw p;l((x||[]).map(v=>({...v,placeholders:Array.isArray(v.placeholders)?v.placeholders:JSON.parse(v.placeholders||"[]")})))}catch(x){console.error("Error fetching versions:",x)}finally{c(!1)}},g=async x=>{if(confirm(`Restaurer la version ${x.version_number} ?

Cela remplacera le sujet et le contenu HTML actuels par cette version.`))try{await s(x),t()}catch(v){console.error("Error during rollback:",v)}},m=x=>new Date(x).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return e?i.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 p-2 rounded-lg",children:i.jsx(dj,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Historique des versions"}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Template : ",n]})]})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition",children:i.jsx(un,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:A?i.jsx("div",{className:"text-center py-12 text-slate-600 dark:text-slate-400",children:"Chargement de l'historique..."}):a.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(dj,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Aucune version disponible"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-2",children:"Les versions sont cres automatiquement lors des modifications"})]}):i.jsx("div",{className:"space-y-4",children:a.map((x,p)=>i.jsxs("div",{className:`bg-slate-50 dark:bg-slate-900 border rounded-lg p-4 transition ${p===0?"border-green-300 dark:border-green-700":"border-slate-200 dark:border-slate-700"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:["Version ",x.version_number]}),p===0&&i.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full text-xs font-medium",children:"Version actuelle"}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.is_active?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:x.is_active?"Actif":"Inactif"})]}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:[i.jsx("strong",{children:"Sujet :"})," ",x.subject]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-500",children:[i.jsx(Qo,{className:"w-3 h-3"}),i.jsx("span",{children:m(x.created_at)})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>{o(x),h(!0)},className:"px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition text-sm",children:"Prvisualiser"}),p>0&&i.jsxs("button",{onClick:()=>g(x),className:"flex items-center gap-2 px-3 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition text-sm",children:[i.jsx(cS,{className:"w-4 h-4"}),"Restaurer"]})]})]}),x.placeholders.length>0&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:[i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500 mb-2",children:["Placeholders (",x.placeholders.length,")"]}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[x.placeholders.slice(0,8).map((v,b)=>i.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded text-xs font-mono",children:`{{${v}}}`},b)),x.placeholders.length>8&&i.jsxs("span",{className:"px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 rounded text-xs",children:["+",x.placeholders.length-8]})]})]})]},x.id))})}),i.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex items-center justify-end",children:i.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-800 dark:text-white rounded-lg transition",children:"Fermer"})})]}),d&&u&&i.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[60] p-4",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[i.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:["Prvisualisation - Version ",u.version_number]}),i.jsx("button",{onClick:()=>{h(!1),o(null)},className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition",children:i.jsx(un,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sujet"}),i.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-900 rounded-lg text-slate-900 dark:text-white",children:u.subject})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Aperu HTML"}),i.jsx("div",{className:"border border-slate-300 dark:border-slate-600 rounded-lg p-4 bg-white dark:bg-slate-900 overflow-auto max-h-96",children:i.jsx("div",{dangerouslySetInnerHTML:{__html:u.html_body}})})]})]}),i.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex items-center justify-end gap-3",children:[i.jsx("button",{onClick:()=>{h(!1),o(null)},className:"px-4 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-800 dark:text-white rounded-lg transition",children:"Fermer"}),i.jsxs("button",{onClick:()=>{h(!1),g(u)},className:"flex items-center gap-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition",children:[i.jsx(cS,{className:"w-4 h-4"}),"Restaurer cette version"]})]})]})})]}):null}function fm(e,t){const r={};for(const n of t)n in e&&e[n]!==void 0&&(r[n]=e[n]);return r}function kS(e){const t=((e==null?void 0:e.message)||"").toLowerCase();return t.includes("column")&&t.includes("does not exist")}function DK(e){const t={};return typeof e.subject=="string"&&(t.subject=e.subject),typeof e.key=="string"&&(t.key=e.key),typeof e.html=="string"&&(t.html=e.html),fm(t,["subject","key","html"])}async function RK(e,t){const r=DK(t);console.debug("[TEMPLATES] UPDATE payload",{id:e,payload:r});const n=Ie.from("email_templates").update(r,{returning:"representation"}).eq("id",e).select("id, key, subject"),{data:s,error:a,status:l}=await n;if(a)throw console.error("[TEMPLATES] UPDATE error",{status:l,error:a}),{status:l,message:a.message,details:a.details,hint:a.hint};return s==null?void 0:s[0]}async function GU(e){const t=!!e.id;if(new Date().toISOString(),t){try{return{ok:!0,id:(await RK(e.id,e)).id,mode:"A",action:"update"}}catch(r){if(!kS(r))return{ok:!1,mode:"A",status:r.status,message:r.message,details:r.details,hint:r.hint}}try{const r={subject:e.subject,type:e.key,html_body:e.html},n=fm(r,["subject","type","html_body"]),{data:s,error:a,status:l}=await Ie.from("email_templates").update(n).eq("id",e.id).select("id").single();if(a)throw{...a,status:l,mode:"B"};return{ok:!0,id:s.id,mode:"B",action:"update"}}catch(r){return{ok:!1,mode:"B",status:r.status,message:r.message,details:r.details,hint:r.hint}}}try{const r={subject:e.subject,key:e.key,html:e.html,tenant_id:e.tenant_id??null};e.text_body!==void 0&&(r.text_body=e.text_body);const n=["subject","key","html","tenant_id"];e.text_body!==void 0&&n.push("text_body");const s=fm(r,n),{data:a,error:l,status:A}=await Ie.from("email_templates").insert(s).select("id").single();if(l)throw{...l,status:A,mode:"A"};return{ok:!0,id:a.id,mode:"A",action:"insert"}}catch(r){if(!kS(r))return{ok:!1,mode:"A",status:r.status,message:r.message,details:r.details,hint:r.hint}}try{const r={subject:e.subject,type:e.key,html_body:e.html,tenant_id:e.tenant_id??null};e.text_body!==void 0&&(r.text_body=e.text_body);const n=["subject","type","html_body","tenant_id"];e.text_body!==void 0&&n.push("text_body");const s=fm(r,n),{data:a,error:l,status:A}=await Ie.from("email_templates").insert(s).select("id").single();if(l)throw{...l,status:A,mode:"B"};return{ok:!0,id:a.id,mode:"B",action:"insert"}}catch(r){return{ok:!1,mode:"B",status:r.status,message:r.message,details:r.details,hint:r.hint}}}const hw=20;function MK(){const e=Cn(),{effectiveTenantId:t}=As(),[r,n]=E.useState([]),[s,a]=E.useState(!0),[l,A]=E.useState(""),[c,u]=E.useState(1),[o,d]=E.useState(null),[h,f]=E.useState({isOpen:!1,mode:"create"}),[g,m]=E.useState({isOpen:!1,template:null}),[x,p]=E.useState({isOpen:!1,previewData:null}),[v,b]=E.useState({isOpen:!1,templateId:null,templateType:null}),j=E.useRef(null);E.useEffect(()=>{k()},[]),E.useEffect(()=>{const M=setTimeout(()=>{u(1)},300);return()=>clearTimeout(M)},[l]);const k=async()=>{a(!0);try{const{data:M,error:G}=await Ie.from("email_templates").select("*").is("tenant_id",null).order("key");if(G){const re=G.message||"";if(re.includes("column")&&re.includes("does not exist")){const{data:ne,error:de}=await Ie.from("email_templates").select("*").is("tenant_id",null).order("type");if(de)throw de;n((ne||[]).map(q=>({...q,key:q.type,html:q.html_body,placeholders:Array.isArray(q.placeholders)?q.placeholders:JSON.parse(q.placeholders||"[]")})))}else throw G}else n((M||[]).map(re=>({...re,type:re.key,html_body:re.html,placeholders:Array.isArray(re.placeholders)?re.placeholders:JSON.parse(re.placeholders||"[]")})))}catch(M){console.error("Error fetching templates:",M),e.error("Erreur lors du chargement des templates")}finally{a(!1)}},S=E.useMemo(()=>{if(!l.trim())return r;const M=l.toLowerCase();return r.filter(G=>G.type.toLowerCase().includes(M)||G.subject.toLowerCase().includes(M))},[r,l]),F=E.useMemo(()=>{const M=(c-1)*hw;return S.slice(M,M+hw)},[S,c]),T=Math.ceil(S.length/hw),P=E.useMemo(()=>r.map(M=>M.type),[r]),R=()=>{f({isOpen:!0,mode:"create"})},U=M=>{f({isOpen:!0,mode:"edit",templateId:M.id,initialData:{type:M.type,subject:M.subject,html_body:M.html_body,is_active:M.is_active}})},D=()=>{f({isOpen:!1,mode:"create"})},Q=M=>M.replace(/<style[^>]*>.*?<\/style>/gi,"").replace(/<script[^>]*>.*?<\/script>/gi,"").replace(/<[^>]+>/g,"").replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/\s+/g," ").trim(),H=async M=>{d(null);try{const G=Q(M.html_body),ne=await GU({tenant_id:t||null,key:M.type,subject:M.subject,html:M.html_body,text_body:G});if(!ne.ok)throw d(ne),new Error(ne.message||"Save failed");e.success(`Modle cr (mode ${ne.mode})`),await k(),D()}catch(G){throw console.error("Error saving template:",G),o||e.error("Erreur lors de la sauvegarde"),G}},W=async M=>{try{const re={tenant_id:null,type:`${M.type}_copy_${Date.now()}`,subject:`${M.subject} (copie)`,html_body:M.html_body,text_body:M.text_body,is_active:!1,placeholders:M.placeholders},ne=fm(re,["tenant_id","type","subject","html_body","text_body","is_active","placeholders"]),{error:de}=await Ie.from("email_templates").insert(ne);if(de)throw de;e.success("Template dupliqu avec succs"),await k()}catch(G){console.error("Error duplicating template:",G),e.error("Erreur lors de la duplication")}},V=async M=>{if(confirm(`Voulez-vous vraiment supprimer le template "${M.type}" ?`))try{const{error:G}=await Ie.from("email_templates").delete().eq("id",M.id);if(G)throw G;e.success("Template supprim avec succs"),await k()}catch(G){console.error("Error deleting template:",G),e.error("Erreur lors de la suppression")}},Z=()=>{if(r.length===0){e.error("Aucun template  exporter");return}const M=r.map(de=>({type:de.type,subject:de.subject,html_body:de.html_body,text_body:de.text_body,placeholders:de.placeholders,is_active:de.is_active})),G=new Blob([JSON.stringify(M,null,2)],{type:"application/json"}),re=URL.createObjectURL(G),ne=document.createElement("a");ne.href=re,ne.download=`global-email-templates-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),URL.revokeObjectURL(re),e.success(`${r.length} template(s) export(s)`)},K=()=>{var M;(M=j.current)==null||M.click()},X=async M=>{var re;const G=(re=M.target.files)==null?void 0:re[0];if(G){if(!G.name.endsWith(".json")){e.error("Veuillez slectionner un fichier JSON");return}try{const ne=await G.text(),de=JSON.parse(ne);if(!Array.isArray(de)){e.error("Le fichier JSON doit contenir un tableau de templates");return}const q=de.filter(pe=>pe.type&&typeof pe.type=="string"&&pe.subject&&typeof pe.subject=="string"&&pe.html_body&&typeof pe.html_body=="string");if(q.length===0){e.error("Aucun template valide trouv dans le fichier");return}p({isOpen:!0,previewData:q.map(pe=>({id:"",tenant_id:null,type:pe.type,subject:pe.subject,html_body:pe.html_body,text_body:pe.text_body||pe.html_body,placeholders:Array.isArray(pe.placeholders)?pe.placeholders:[],is_active:typeof pe.is_active=="boolean"?pe.is_active:!0}))})}catch(ne){console.error("Error reading file:",ne),e.error("Erreur lors de la lecture du fichier JSON")}finally{j.current&&(j.current.value="")}}},le=async()=>{if(x.previewData)try{let M=0,G=0;for(const re of x.previewData)try{const{error:ne}=await Ie.from("email_templates").upsert({tenant_id:null,type:re.type,subject:re.subject,html_body:re.html_body,text_body:re.text_body,placeholders:re.placeholders,is_active:re.is_active},{onConflict:"tenant_id,type"});if(ne)throw ne;M++}catch(ne){console.error(`Error importing template ${re.type}:`,ne),G++}G===0?e.success(`${M} template(s) import(s) avec succs`):e.error(`${M} russi(s), ${G} chec(s)`),p({isOpen:!1,previewData:null}),await k()}catch(M){console.error("Error importing templates:",M),e.error("Erreur lors de l'importation")}},Ae=async M=>{try{const{error:G}=await Ie.from("email_templates").update({subject:M.subject,html_body:M.html_body,text_body:M.text_body,is_active:M.is_active}).eq("id",M.template_id);if(G)throw G;e.success("Template restaur avec succs"),await k()}catch(G){throw console.error("Error rolling back template:",G),e.error("Erreur lors de la restauration"),G}};return s?i.jsx(_r,{children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Chargement..."})})}):i.jsxs(_r,{children:[i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-3 rounded-xl shadow-lg",children:i.jsx(zn,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Templates e-mails globaux"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Grez les templates globaux (tenant_id IS NULL)"})]})]}),i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"text",placeholder:"Rechercher par type ou sujet...",value:l,onChange:M=>A(M.target.value),"data-testid":"global-templates-search",className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-white"})}),i.jsxs("button",{onClick:Z,"data-testid":"btn-export-json",disabled:r.length===0,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-slate-400 text-white rounded-lg transition",title:"Exporter tous les templates en JSON",children:[i.jsx(Mm,{className:"w-4 h-4"}),"Export JSON"]}),i.jsxs("button",{onClick:K,"data-testid":"btn-import-json",className:"flex items-center gap-2 px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg transition",title:"Importer des templates depuis JSON",children:[i.jsx(RH,{className:"w-4 h-4"}),"Import JSON"]}),i.jsx("input",{ref:j,type:"file",accept:".json",onChange:X,className:"hidden"}),i.jsxs("button",{onClick:()=>m({isOpen:!0,template:null}),className:"flex items-center gap-2 px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition",title:"Dupliquer tous les templates vers les clubs",children:[i.jsx(PA,{className:"w-4 h-4"}),"Dupliquer tous"]}),i.jsxs("button",{onClick:R,"data-testid":"btn-create-template",className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition",children:[i.jsx(gc,{className:"w-4 h-4"}),"Crer"]})]})]}),i.jsx("div",{className:"space-y-4",children:F.length===0?i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-12 text-center",children:[i.jsx(zn,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:l?"Aucun template trouv":"Aucun template global"})]}):F.map(M=>i.jsx("div",{"data-testid":`row-template-${M.type}`,className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:M.type}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M.is_active?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:M.is_active?"Actif":"Inactif"})]}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:["Sujet : ",M.subject]}),M.updated_at&&i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Modifi : ",new Date(M.updated_at).toLocaleString("fr-FR")]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>b({isOpen:!0,templateId:M.id,templateType:M.type}),className:"flex items-center gap-2 px-3 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg transition",title:"Historique des versions",children:i.jsx(dj,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>U(M),className:"flex items-center gap-2 px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition",title:"diter",children:i.jsx(OB,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>m({isOpen:!0,template:M}),className:"flex items-center gap-2 px-3 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition",title:"Dupliquer vers clubs",children:i.jsx(PA,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>W(M),className:"flex items-center gap-2 px-3 py-2 bg-slate-500 hover:bg-slate-600 text-white rounded-lg transition",title:"Dupliquer (copie)",children:i.jsx(pc,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>V(M),className:"flex items-center gap-2 px-3 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition",title:"Supprimer",children:i.jsx(t9,{className:"w-4 h-4"})})]})]})})},M.id))}),T>1&&i.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[i.jsx("button",{onClick:()=>u(Math.max(1,c-1)),disabled:c===1,className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 disabled:bg-slate-100 disabled:text-slate-400 dark:bg-slate-700 dark:hover:bg-slate-600 dark:disabled:bg-slate-800 text-slate-900 dark:text-white rounded-lg transition",children:"Prcdent"}),i.jsxs("span",{className:"text-slate-700 dark:text-slate-300",children:["Page ",c," sur ",T]}),i.jsx("button",{onClick:()=>u(Math.min(T,c+1)),disabled:c===T,className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 disabled:bg-slate-100 disabled:text-slate-400 dark:bg-slate-700 dark:hover:bg-slate-600 dark:disabled:bg-slate-800 text-slate-900 dark:text-white rounded-lg transition",children:"Suivant"})]})]}),o&&!o.ok&&i.jsx("div",{"data-testid":"tmpl-save-error",className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-2xl w-full p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[i.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 p-3 rounded-lg",children:i.jsx(Sr,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-red-900 dark:text-red-400 mb-2",children:"Erreur lors de la sauvegarde"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[o.mode&&i.jsxs("div",{children:[i.jsx("strong",{className:"text-slate-700 dark:text-slate-300",children:"Mode:"}),i.jsx("code",{className:"ml-2 px-2 py-0.5 bg-slate-100 dark:bg-slate-700 rounded font-mono text-xs",children:o.mode})]}),o.status&&i.jsxs("div",{children:[i.jsx("strong",{className:"text-slate-700 dark:text-slate-300",children:"Status:"}),i.jsx("code",{className:"ml-2 px-2 py-0.5 bg-slate-100 dark:bg-slate-700 rounded font-mono text-xs",children:o.status})]}),o.message&&i.jsxs("div",{children:[i.jsx("strong",{className:"text-slate-700 dark:text-slate-300",children:"Message:"}),i.jsx("p",{className:"mt-1 text-slate-600 dark:text-slate-400",children:o.message})]}),o.details&&i.jsxs("div",{children:[i.jsx("strong",{className:"text-slate-700 dark:text-slate-300",children:"Details:"}),i.jsx("p",{className:"mt-1 text-slate-600 dark:text-slate-400",children:o.details})]}),o.hint&&i.jsxs("div",{children:[i.jsx("strong",{className:"text-slate-700 dark:text-slate-300",children:"Hint:"}),i.jsx("p",{className:"mt-1 text-slate-600 dark:text-slate-400",children:o.hint})]})]})]})]}),i.jsx("div",{className:"flex items-center justify-end gap-3 mt-6",children:i.jsx("button",{onClick:()=>d(null),className:"px-4 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-800 dark:text-white rounded-lg transition",children:"Fermer"})})]})}),i.jsx(OK,{isOpen:h.isOpen,onClose:D,onSave:H,onSuccess:k,initialData:h.initialData,mode:h.mode,templateId:h.templateId,existingKeys:P}),i.jsx(LK,{isOpen:g.isOpen,onClose:()=>m({isOpen:!1,template:null}),template:g.template,onSuccess:()=>{e.success("Templates dupliqus avec succs")}}),x.isOpen&&x.previewData&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Aperu de l'importation"}),i.jsx("button",{onClick:()=>p({isOpen:!1,previewData:null}),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition",children:i.jsx(un,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[i.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:i.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-400",children:[x.previewData.length," template(s) sera(ont) import(s). Les templates existants seront mis  jour."]})}),i.jsx("div",{className:"space-y-4",children:x.previewData.map((M,G)=>i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:M.type}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Sujet : ",M.subject]})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M.is_active?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:M.is_active?"Actif":"Inactif"})]}),M.placeholders.length>0&&i.jsxs("div",{className:"mt-2",children:[i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500 mb-1",children:["Placeholders : ",M.placeholders.length]}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.placeholders.slice(0,5).map((re,ne)=>i.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded text-xs font-mono",children:`{{${re}}}`},ne)),M.placeholders.length>5&&i.jsxs("span",{className:"px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 rounded text-xs",children:["+",M.placeholders.length-5," autres"]})]})]})]},G))})]}),i.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex items-center justify-end gap-3",children:[i.jsx("button",{onClick:()=>p({isOpen:!1,previewData:null}),className:"px-4 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-800 dark:text-white rounded-lg transition",children:"Annuler"}),i.jsx("button",{onClick:le,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition",children:"Confirmer l'importation"})]})]})}),v.isOpen&&v.templateId&&v.templateType&&i.jsx(QK,{isOpen:v.isOpen,onClose:()=>b({isOpen:!1,templateId:null,templateType:null}),templateId:v.templateId,templateType:v.templateType,onRollback:Ae})]})}function HK(e){var a;if(!e)return!1;const t=e.code?parseInt(e.code):null,r=((a=e.message)==null?void 0:a.toLowerCase())||"",n=t===400||t===406,s=r.includes("column")&&r.includes("does not exist");return n||s}function SS(e){return e?{status:e.code?parseInt(e.code):void 0,message:e.message||String(e),details:e.details||void 0,hint:e.hint||void 0}:{message:"Unknown error"}}function _S(e){const t=e.key??e.type??"unknown",r=e.html??e.html_body??"",n=e.tenant_id?"tenant":"global",s=e.updated_at??e.created_at??void 0;return{id:e.id,tenant_id:e.tenant_id,scope:n,key:t,subject:e.subject||"",html:r,updated_at:s}}async function KB(e,t){let r,n="";const s=!t||t==="";s&&t!==null&&(r="Tenant ID est vide ou invalide. Chargement des templates globaux uniquement.",console.warn("[loadTemplatesFlex]",r,{tenantId:t}));const a=t===null||s?"tenant_id IS NULL":`(tenant_id IS NULL OR tenant_id='${t}')`;n=`SELECT id, tenant_id, key, subject, html, created_at FROM email_templates WHERE ${a} ORDER BY tenant_id ASC NULLS FIRST, created_at DESC`;let l=e.from("email_templates").select("id, tenant_id, key, subject, html, created_at");t===null||s?l=l.is("tenant_id",null):l=l.or(`tenant_id.is.null,tenant_id.eq.${t}`),l=l.order("tenant_id",{ascending:!0,nullsFirst:!0}),l=l.order("created_at",{ascending:!1});const{data:A,error:c}=await l;if(!c&&A)return{mode:"A",rows:A.map(_S),lastSql:n,warning:r};if(!HK(c))return{mode:"A",rows:[],lastSql:n,error:SS(c),warning:r};n=`SELECT id, tenant_id, type, subject, html_body, updated_at FROM email_templates WHERE ${a} ORDER BY tenant_id ASC NULLS FIRST, updated_at DESC`;let u=e.from("email_templates").select("id, tenant_id, type, subject, html_body, updated_at");t===null||s?u=u.is("tenant_id",null):u=u.or(`tenant_id.is.null,tenant_id.eq.${t}`),u=u.order("tenant_id",{ascending:!0,nullsFirst:!0}),u=u.order("updated_at",{ascending:!1});const{data:o,error:d}=await u;return d?{mode:"B",rows:[],lastSql:n,error:SS(d),warning:r}:{mode:"B",rows:(o||[]).map(_S),lastSql:n,warning:r}}const $K=[{key:"club_name",label:"Nom du club",description:"Nom complet du club"},{key:"campaign_title",label:"Titre de la campagne",description:"Titre de la campagne de sponsoring"},{key:"invite_link",label:"Lien d'invitation",description:"URL unique pour rpondre"},{key:"deadline",label:"Date limite",description:"Date limite (AAAA-MM-JJ)"},{key:"sponsor_name",label:"Nom du contact sponsor",description:"Nom complet du contact"},{key:"sponsor_company",label:"Raison sociale sponsor",description:"Nom de l'entreprise"},{key:"amount_hint",label:"Prix indicatif/an",description:"Montant annuel suggr ()"},{key:"footfall",label:"Passages estims/jour",description:"Nombre de passages quotidiens"},{key:"screen_type",label:"Type d'cran",description:"Type d'affichage (LED, borne, etc.)"},{key:"campaign_objective",label:"Objectif ()",description:"Objectif financier de la campagne"},{key:"pledge_amount",label:"Montant promis ()",description:"Montant engag par le sponsor"},{key:"club_contact_name",label:"Nom contact club",description:"Nom du contact du club"},{key:"club_contact_email",label:"Email contact club",description:"Email de contact du club"},{key:"club_contact_phone",label:"Tlphone contact club",description:"Tlphone du club"}],pf={club_name:"FC Exemple",campaign_title:"Campagne crans LED 2024",invite_link:"https://app.example.com/invite/abc123",deadline:"2024-12-31",sponsor_name:"Jean Dupont",sponsor_company:"Entreprise ABC",amount_hint:"2500",footfall:"5000",screen_type:"LED Extrieur",campaign_objective:"50000",pledge_amount:"3000",club_contact_name:"Marie Martin",club_contact_email:"contact@fcexemple.fr",club_contact_phone:"+33 6 12 34 56 78"};function ES(e,t){return e.replace(/\{\{(\w+)\}\}/g,(r,n)=>n in t?String(t[n]):"")}const KK=["invitation","confirmation","reminder","pledge_yes","pledge_no"];function FS(){const e=Cn(),{effectiveTenantId:t,tenantData:r}=As(),n=E.useRef(null),[s,a]=E.useState(""),[l,A]=E.useState(()=>{const ye=new URLSearchParams(window.location.search).get("tab");return ye==="global"||ye==="default"||ye==="tenant"?ye:"global"}),[c,u]=E.useState([]),[o,d]=E.useState(!0),[h,f]=E.useState(null),[g,m]=E.useState(!1),[x,p]=E.useState({subject:"",html:""}),[v,b]=E.useState(""),[j,k]=E.useState(!1),[S,F]=E.useState(!1),[T,P]=E.useState(pf),[R,U]=E.useState(JSON.stringify(pf,null,2)),[D,Q]=E.useState("");E.useEffect(()=>{H()},[t]),E.useEffect(()=>{const ye=new URLSearchParams(window.location.search).get("tab");(ye==="global"||ye==="default"||ye==="tenant")&&A(ye)},[]);const H=async()=>{d(!0);try{const fe=await KB(Ie,t||null);fe.error?(e.error("Erreur lors du chargement des templates"),console.error("[EmailTemplatesHub] Load error:",fe.error)):(u(fe.rows),fe.warning&&console.warn("[EmailTemplatesHub]",fe.warning))}catch(fe){e.error("Erreur lors du chargement des templates"),console.error("[EmailTemplatesHub] Error:",fe)}finally{d(!1)}},W=E.useMemo(()=>c.filter(fe=>fe.scope==="global"),[c]),V=E.useMemo(()=>c.filter(fe=>fe.scope==="global"&&KK.includes(fe.key)),[c]),Z=E.useMemo(()=>c.filter(fe=>fe.scope==="tenant"&&fe.tenant_id===t),[c,t]),K=E.useMemo(()=>l==="global"?W:l==="default"?V:Z,[l,W,V,Z]),X=E.useMemo(()=>{if(!s.trim())return K;const fe=s.toLowerCase();return K.filter(ye=>ye.key.toLowerCase().includes(fe)||ye.subject.toLowerCase().includes(fe))},[K,s]),le=fe=>{A(fe);const ye=new URL(window.location.href);ye.searchParams.set("tab",fe),window.history.replaceState({},"",ye.toString())},Ae=fe=>{f(fe),p({subject:fe.subject,html:fe.html}),k(!1),b(""),U(JSON.stringify(pf,null,2)),P(pf),Q(""),m(!0)},M=()=>{m(!1),f(null),p({subject:"",html:""}),k(!1),b(""),U(JSON.stringify(pf,null,2)),P(pf),Q("")},G=fe=>{U(fe);try{const ye=JSON.parse(fe);P(ye),Q("")}catch(ye){Q("JSON invalide : "+ye.message)}},re=fe=>{const ye=`{{${fe}}}`;navigator.clipboard.writeText(ye),e.success(`Copi : ${ye}`)},ne=fe=>{const ye=`{{${fe}}}`,ue=n.current;if(!ue){e.error("Impossible d'insrer : zone de texte non trouve");return}const _e=ue.selectionStart,be=ue.selectionEnd,ie=x.html,et=ie.substring(0,_e),ke=ie.substring(be),Re=et+ye+ke;p({...x,html:Re}),setTimeout(()=>{ue.focus();const Oe=_e+ye.length;ue.setSelectionRange(Oe,Oe)},0),e.success(`Insr : ${ye}`)},de=async()=>{if(!h)return;let fe=x.subject,ye=x.html;fe=ES(fe,T),ye=ES(ye,T);let ue="",_e="";if(t)try{const{data:ie,error:et}=await Ie.from("tenants").select("email_signature_html, rgpd_content_md").eq("id",t).maybeSingle();et?console.error("[Preview] Error fetching tenant data:",et):ie&&(ue=ie.email_signature_html||"",_e=ie.rgpd_content_md||"")}catch(ie){console.error("[Preview] Exception:",ie)}let be=ye;if((ue||_e)&&(be+="<hr/>",ue&&(be+=ue),_e)){const ie=_e.replace(/\n/g,"<br/>");be+=`<small>${ie}</small>`}b(be),k(!0)},q=async()=>{if(h){F(!0);try{const fe=await GU({id:h.id,tenant_id:h.tenant_id,key:h.key,subject:x.subject,html:x.html});fe.ok?(e.success("Template enregistr avec succs"),await H(),M()):(e.error(`Erreur: ${fe.message||"chec de l'enregistrement"}`),console.error("[EmailTemplatesHub] Save error:",fe))}catch(fe){e.error("Erreur lors de l'enregistrement"),console.error("[EmailTemplatesHub] Save exception:",fe)}finally{F(!1)}}},pe=fe=>fe?new Date(fe).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",oe=l==="tenant"&&!t;return i.jsxs(_r,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Templates e-mails"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Gestion centralise des templates d'emails"})]})}),oe&&i.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 flex items-start gap-3",children:[i.jsx(Sr,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),i.jsx("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Tenant non dfini  affichage des globaux uniquement"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex gap-4 px-6",children:[i.jsxs("button",{"data-testid":"tabs-global",onClick:()=>le("global"),className:`px-4 py-3 text-sm font-medium transition border-b-2 ${l==="global"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:["Globaux (",W.length,")"]}),i.jsxs("button",{"data-testid":"tabs-default",onClick:()=>le("default"),className:`px-4 py-3 text-sm font-medium transition border-b-2 ${l==="default"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:["Par dfaut (",V.length,")"]}),i.jsxs("button",{"data-testid":"tabs-tenant",onClick:()=>le("tenant"),className:`px-4 py-3 text-sm font-medium transition border-b-2 ${l==="tenant"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:["Mon club (",Z.length,")"]})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(kh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{"data-testid":"search-input",type:"text",value:s,onChange:fe=>a(fe.target.value),placeholder:"Rechercher par key ou subject...",className:"w-full pl-10 pr-10 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white"}),s&&i.jsx("button",{onClick:()=>a(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:i.jsx(un,{className:"w-4 h-4"})})]}),o?i.jsx("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:"Chargement..."}):X.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(zn,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:s?"Aucun template trouv pour cette recherche":"Aucun template disponible"})]}):i.jsx("div",{className:"space-y-2",children:X.map(fe=>i.jsx("div",{onClick:()=>Ae(fe),className:"p-4 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:fe.key}),i.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${fe.scope==="global"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300"}`,children:fe.scope==="global"?"Global":"Tenant"})]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate",children:fe.subject}),fe.updated_at&&i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:["Mis  jour: ",pe(fe.updated_at)]})]}),i.jsx(zn,{className:"w-5 h-5 text-slate-400 flex-shrink-0"})]})},fe.id))})]})]})]}),g&&h&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-end",onClick:fe=>{fe.target===fe.currentTarget&&M()},children:i.jsxs("div",{"data-testid":"drawer-template",className:"bg-white dark:bg-slate-800 w-full max-w-5xl overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 p-6 flex items-center justify-between z-10",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:h.key}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:h.scope==="global"?"Template global":"Template du club"})]}),i.jsx("button",{onClick:M,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition",children:i.jsx(un,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sujet"}),i.jsx("input",{type:"text",value:x.subject,onChange:fe=>p({...x,subject:fe.target.value}),className:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Corps HTML"}),i.jsx("textarea",{ref:n,value:x.html,onChange:fe=>p({...x,html:fe.target.value}),rows:12,className:"w-full px-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white"})]}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-200 mb-3",children:"Placeholders utilisables"}),i.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:$K.map(fe=>i.jsxs("div",{className:"flex items-center justify-between gap-3 p-2 bg-white dark:bg-slate-800 rounded border border-blue-100 dark:border-blue-900",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("code",{className:"text-xs font-mono text-blue-700 dark:text-blue-300",children:`{{${fe.key}}}`}),i.jsx("span",{className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:fe.label})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-0.5",children:fe.description})]}),i.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[i.jsx("button",{onClick:()=>re(fe.key),className:"p-1.5 hover:bg-blue-100 dark:hover:bg-blue-900/50 rounded transition",title:"Copier la cl",children:i.jsx(pc,{className:"w-3.5 h-3.5 text-blue-600 dark:text-blue-400"})}),i.jsx("button",{onClick:()=>ne(fe.key),className:"p-1.5 hover:bg-blue-100 dark:hover:bg-blue-900/50 rounded transition",title:"Insrer dans le curseur",children:i.jsx(gc,{className:"w-3.5 h-3.5 text-blue-600 dark:text-blue-400"})})]})]},fe.key))})]}),i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-200 mb-3",children:"Exemple de rendu (JSON ditable)"}),i.jsx("textarea",{"data-testid":"placeholders-json",value:R,onChange:fe=>G(fe.target.value),rows:8,className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded text-xs font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white"}),D&&i.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-2",children:D})]}),j&&i.jsxs("div",{"data-testid":"preview-pane",children:[i.jsx("h3",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Prvisualisation (avec signature et RGPD)"}),i.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden bg-white dark:bg-slate-900",children:i.jsx("iframe",{srcDoc:v,className:"w-full h-96 border-0",sandbox:"allow-same-origin",title:"Email Preview"})})]}),i.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[i.jsxs("button",{"data-testid":"btn-preview-legal",onClick:de,disabled:S||!!D,className:"flex items-center gap-2 px-4 py-2 bg-slate-600 hover:bg-slate-700 text-white rounded-lg transition text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(ao,{className:"w-4 h-4"}),"Prvisualiser (avec signature)"]}),i.jsxs("button",{onClick:q,disabled:S,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(xd,{className:"w-4 h-4"}),S?"Enregistrement...":"Enregistrer"]})]})]})]})})]})}const IS={tables:{tenants:["id","name","email_contact","status","email_signature_html","rgpd_content_md","cgu_content_md","privacy_content_md","created_at"],app_users:["id","email","name","role","tenant_id","created_at"],campaigns:["id","tenant_id","title","screen_type","location","annual_price_hint","objective_amount","daily_footfall_estimate","lighting_hours","cover_image_url","deadline","description_md","is_public_share_enabled","public_slug","cost_estimate","created_at"],sponsors:["id","tenant_id","company","contact_name","email","phone","segment","notes"],invitations:["id","campaign_id","sponsor_id","email","token","status","expires_at","created_at"],pledges:["id","campaign_id","sponsor_id","invitation_id","status","amount","comment","consent","source","created_at"],scenarios:["id","campaign_id","params_json","results_json","created_at"],email_templates:["id","tenant_id","key","subject","html","created_at"],email_events:["id","invitation_id","type","meta_json","created_at"],scheduled_jobs:["id","campaign_id","tenant_id","run_at","status","payload","created_at"]},views:{campaign_aggregates:["campaign_id","sum_yes_amount","yes_count","maybe_count","no_count"]}};function zK(){const[e,t]=E.useState(!1),[r,n]=E.useState(null),s=Cn(),a=async(S,F)=>{const T=F.join(",");try{const{data:P,error:R}=await Ie.from(S).select(T).limit(1);if(R){if(R.code==="PGRST116"||R.message.includes("column")||R.message.includes("does not exist")){const H=A(R.message,F);return{name:S,exists:!0,columns:F.map(W=>({name:W,present:!H.includes(W)})),missingColumns:H,extraColumns:[],rlsBlocked:!1,error:R.message}}return R.code==="42P01"||R.message.includes("does not exist")?{name:S,exists:!1,columns:F.map(H=>({name:H,present:!1})),missingColumns:F,extraColumns:[],rlsBlocked:!1,error:"Table does not exist"}:R.code==="42501"||R.message.includes("permission denied")||R.message.includes("RLS")?{name:S,exists:!0,columns:F.map(H=>({name:H,present:!0})),missingColumns:[],extraColumns:[],rlsBlocked:!0,error:"RLS blocks read (role=anon)"}:{name:S,exists:!0,columns:F.map(H=>({name:H,present:!1})),missingColumns:F,extraColumns:[],rlsBlocked:!1,error:R.message}}const U=P&&P.length>0?Object.keys(P[0]):F,D=F.filter(H=>!U.includes(H)),Q=U.filter(H=>!F.includes(H));return{name:S,exists:!0,columns:F.map(H=>({name:H,present:U.includes(H)})),missingColumns:D,extraColumns:Q,rlsBlocked:!1}}catch(P){const R=P;return{name:S,exists:!1,columns:F.map(U=>({name:U,present:!1})),missingColumns:F,extraColumns:[],rlsBlocked:!1,error:R.message}}},l=async(S,F)=>{const T=F.join(",");try{const{data:P,error:R}=await Ie.from(S).select(T).limit(1);if(R){if(R.code==="PGRST116"||R.message.includes("column")){const Q=A(R.message,F);return{name:S,exists:!0,columns:F.map(H=>({name:H,present:!Q.includes(H)})),missingColumns:Q,error:R.message}}return R.code==="42P01"||R.message.includes("does not exist")?{name:S,exists:!1,columns:F.map(Q=>({name:Q,present:!1})),missingColumns:F,error:"View does not exist"}:{name:S,exists:!0,columns:F.map(Q=>({name:Q,present:!1})),missingColumns:F,error:R.message}}const U=P&&P.length>0?Object.keys(P[0]):F,D=F.filter(Q=>!U.includes(Q));return{name:S,exists:!0,columns:F.map(Q=>({name:Q,present:U.includes(Q)})),missingColumns:D}}catch(P){const R=P;return{name:S,exists:!1,columns:F.map(U=>({name:U,present:!1})),missingColumns:F,error:R.message}}},A=(S,F)=>{const T=[];return F.forEach(P=>{(S.includes(`column "${P}"`)||S.includes(`"${P}" does not exist`))&&T.push(P)}),T},c=async()=>{t(!0);try{const S=[];for(const[P,R]of Object.entries(IS.tables)){const U=await a(P,R);S.push(U)}const F=[];for(const[P,R]of Object.entries(IS.views)){const U=await l(P,R);F.push(U)}const T={tables:S,views:F,timestamp:new Date().toISOString()};n(T),s.success("Vrification du schma termine")}catch(S){s.error("Erreur lors de la vrification du schma"),console.error(S)}finally{t(!1)}},u=(S,F)=>S.endsWith("_id")||S==="id"?"uuid":S.endsWith("_amount")||S.includes("amount")?"numeric":S.endsWith("_estimate")||S.includes("estimate")||S.endsWith("_count")||S.includes("footfall")?"integer":S.endsWith("_json")||S.includes("json")||S.endsWith("_hours")?"jsonb":S.endsWith("_at")||S==="created_at"||S==="updated_at"||S==="expires_at"||S==="run_at"?"timestamptz":S==="deadline"?"date":S==="status"?F==="tenants"?"status_active":F==="invitations"||F==="pledges"?"status_response":F==="scheduled_jobs"?"job_status":"text":S==="role"?"role_app":S==="segment"?"sponsor_segment":S.startsWith("is_")||S.includes("consent")||S.endsWith("_enabled")?"boolean":(S.endsWith("_html")||S.endsWith("_md"),"text"),o=(S,F)=>F==="uuid"&&S==="id"?" default gen_random_uuid()":F==="timestamptz"&&S==="created_at"?" default now()":F==="boolean"?(S.includes("consent")||S.includes("is_public")," default false"):F==="integer"&&S.endsWith("_count")?" default 0":F==="status_active"?" default 'active'":F==="status_response"||F==="job_status"?" default 'pending'":"",d=S=>["id","tenant_id","campaign_id","email","status","role","created_at"].includes(S),h=S=>{const F=[];return F.push("-- SQL Patch pour corriger le schma"),F.push(`-- Gnr le ${new Date(S.timestamp).toLocaleString("fr-FR")}`),F.push(""),S.tables.forEach(P=>{P.exists?(P.missingColumns.length>0&&(F.push(`-- Colonnes manquantes dans la table "${P.name}"`),P.missingColumns.forEach(R=>{const U=u(R,P.name),D=o(R,U),Q=d(R)?" not null":"";F.push(`alter table ${P.name} add column if not exists ${R} ${U}${D}${Q};`)}),F.push("")),P.extraColumns.length>0&&(F.push(`-- Colonnes supplmentaires dans la table "${P.name}" (non destructif - dcommenter si ncessaire)`),P.extraColumns.forEach(R=>{F.push(`-- alter table ${P.name} drop column if exists ${R};`)}),F.push(""))):(F.push(`-- ERREUR: La table "${P.name}" n'existe pas!`),F.push("-- Vous devez crer cette table manuellement."),F.push(""))}),S.views.forEach(P=>{P.exists||(F.push(`-- Vue manquante: "${P.name}"`),P.name==="campaign_aggregates"?(F.push("create or replace view public.campaign_aggregates as"),F.push("select c.id as campaign_id,"),F.push("       sum(case when p.status='yes' then coalesce(p.amount,0) else 0 end) as sum_yes_amount,"),F.push("       count(*) filter (where p.status='yes') as yes_count,"),F.push("       count(*) filter (where p.status='maybe') as maybe_count,"),F.push("       count(*) filter (where p.status='no') as no_count"),F.push("from public.campaigns c"),F.push("left join public.pledges p on p.campaign_id = c.id"),F.push("group by c.id;"),F.push("")):(F.push("-- Dfinition de la vue  crer manuellement"),F.push("")))}),S.tables.some(P=>P.name==="pledges"&&P.exists)&&(F.push("-- Contraintes de validation"),F.push("-- Assure que pledges.amount est non-ngatif"),F.push("alter table pledges drop constraint if exists pledges_amount_check;"),F.push("alter table pledges add constraint pledges_amount_check check (amount >= 0);"),F.push("")),F.length===3&&F.push("-- Aucune correction ncessaire! Le schma est conforme."),F.join(`
`)},f=()=>r?h(r):"",g=()=>{const S=f();navigator.clipboard.writeText(S),s.success("SQL patch copi dans le presse-papiers")},m=()=>{const S=f(),F=new Blob([S],{type:"text/plain;charset=utf-8"}),T=URL.createObjectURL(F),P=document.createElement("a");P.href=T,P.download="patch_add_columns.sql",document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(T),s.success("Fichier patch_add_columns.sql tlcharg")},x=()=>{const S=[];return S.push("-- Patch pour recrer la vue campaign_aggregates"),S.push(`-- Gnr le ${new Date().toLocaleString("fr-FR")}`),S.push(""),S.push("-- Supprime la vue existante si prsente"),S.push("drop view if exists public.campaign_aggregates;"),S.push(""),S.push("-- Cre la vue avec LEFT JOIN pour inclure toutes les campagnes"),S.push("create or replace view public.campaign_aggregates as"),S.push("select c.id as campaign_id,"),S.push("       sum(case when p.status='yes' then coalesce(p.amount,0) else 0 end) as sum_yes_amount,"),S.push("       count(*) filter (where p.status='yes') as yes_count,"),S.push("       count(*) filter (where p.status='maybe') as maybe_count,"),S.push("       count(*) filter (where p.status='no') as no_count"),S.push("from public.campaigns c"),S.push("left join public.pledges p on p.campaign_id = c.id"),S.push("group by c.id;"),S.join(`
`)},p=()=>{const S=x(),F=new Blob([S],{type:"text/plain;charset=utf-8"}),T=URL.createObjectURL(F),P=document.createElement("a");P.href=T,P.download="patch_view_campaign_aggregates.sql",document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(T),s.success("Fichier patch_view_campaign_aggregates.sql tlcharg")},v=(S,F,T)=>S?T?i.jsx(Ci,{className:"w-5 h-5 text-orange-600"}):F.length>0?i.jsx(Ci,{className:"w-5 h-5 text-yellow-600"}):i.jsx(ar,{className:"w-5 h-5 text-green-600"}):i.jsx(Lr,{className:"w-5 h-5 text-red-600"}),b=(r==null?void 0:r.tables.every(S=>S.exists&&S.missingColumns.length===0&&!S.rlsBlocked))??!1,j=(r==null?void 0:r.views.every(S=>S.exists&&S.missingColumns.length===0))??!1,k=b&&j;return i.jsx(_r,{children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[i.jsx(Ls,{className:"w-8 h-8 text-blue-600"}),"Vrificateur de Schma"]}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Vrifie que toutes les tables et colonnes requises sont prsentes dans la base de donnes"})]}),i.jsxs("button",{onClick:c,disabled:e,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(lc,{className:`w-5 h-5 ${e?"animate-spin":""}`}),e?"Vrification...":"Vrifier le schma"]})]})}),r&&i.jsxs("div",{className:"space-y-6","data-testid":"schema-report",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:k?i.jsxs(i.Fragment,{children:[i.jsx(ar,{className:"w-6 h-6 text-green-600"}),"Schma Conforme"]}):i.jsxs(i.Fragment,{children:[i.jsx(Ci,{className:"w-6 h-6 text-yellow-600"}),"Problmes Dtects"]})}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Vrifi le ",new Date(r.timestamp).toLocaleString("fr-FR")]})]}),!k&&i.jsxs("button",{onClick:g,"data-testid":"btn-copy-sql-patch",className:"px-4 py-2 bg-slate-600 hover:bg-slate-700 text-white rounded-lg transition flex items-center gap-2",children:[i.jsx(pc,{className:"w-4 h-4"}),"Copier le SQL patch"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Tables"}),r.tables.map(S=>i.jsxs("div",{"data-testid":`row-${S.name}`,className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[v(S.exists,S.missingColumns,S.rlsBlocked),i.jsx("span",{className:"font-mono font-semibold text-slate-900 dark:text-white",children:S.name})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[!S.exists&&i.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 rounded",children:"Table manquante"}),S.rlsBlocked&&i.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 rounded",children:"RLS bloqu"}),S.exists&&S.missingColumns.length>0&&i.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 rounded",children:[S.missingColumns.length," colonne(s) manquante(s)"]}),S.exists&&S.extraColumns.length>0&&i.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded",children:[S.extraColumns.length," colonne(s) supplmentaire(s)"]}),S.exists&&S.missingColumns.length===0&&!S.rlsBlocked&&i.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded",children:"OK"})]})]}),S.error&&i.jsx("div",{className:"mt-2 p-2 bg-slate-100 dark:bg-slate-900 rounded text-xs font-mono text-slate-600 dark:text-slate-400",children:S.error}),S.missingColumns.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Colonnes manquantes :"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:S.missingColumns.map(F=>i.jsx("span",{className:"px-2 py-1 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded text-sm font-mono",children:F},F))})]}),S.extraColumns.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Colonnes supplmentaires :"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:S.extraColumns.map(F=>i.jsx("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded text-sm font-mono",children:F},F))})]})]},S.name)),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mt-6",children:"Vues"}),r.views.map(S=>i.jsxs("div",{"data-testid":`row-${S.name}`,className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[v(S.exists,S.missingColumns,!1),i.jsx("span",{className:"font-mono font-semibold text-slate-900 dark:text-white",children:S.name})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[S.name==="campaign_aggregates"&&i.jsxs("button",{onClick:p,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded transition flex items-center gap-1.5 text-xs",title:"Tlcharger patch pour recrer la vue avec LEFT JOIN",children:[i.jsx(Mm,{className:"w-3.5 h-3.5"}),"Patch Vue"]}),!S.exists&&i.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 rounded",children:"Vue manquante"}),S.exists&&S.missingColumns.length>0&&i.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 rounded",children:[S.missingColumns.length," colonne(s) manquante(s)"]}),S.exists&&S.missingColumns.length===0&&i.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded",children:"OK"})]})]}),S.error&&i.jsx("div",{className:"mt-2 p-2 bg-slate-100 dark:bg-slate-900 rounded text-xs font-mono text-slate-600 dark:text-slate-400",children:S.error}),S.missingColumns.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Colonnes manquantes :"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:S.missingColumns.map(F=>i.jsx("span",{className:"px-2 py-1 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded text-sm font-mono",children:F},F))})]})]},S.name))]})]}),!k&&i.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(gU,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"SQL Patch Suggr"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:g,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition flex items-center gap-2 text-sm",children:[i.jsx(pc,{className:"w-4 h-4"}),"Copier"]}),i.jsxs("button",{onClick:m,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition flex items-center gap-2 text-sm",children:[i.jsx(Mm,{className:"w-4 h-4"}),"Tlcharger"]})]})]}),i.jsx("textarea",{readOnly:!0,value:f(),className:"w-full h-96 bg-slate-900 text-slate-100 p-4 rounded-lg text-sm font-mono resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",spellCheck:!1})]})]}),!r&&!e&&i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-12 text-center",children:[i.jsx(Ls,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:"Aucune vrification effectue"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:`Cliquez sur "Vrifier le schma" pour commencer l'analyse de la base de donnes`})]})]})})}function VK(){const{profile:e}=Nn(),t=Cn(),[r,n]=E.useState(!1),[s,a]=E.useState(null),[l,A]=E.useState(""),[c,u]=E.useState(""),[o,d]=E.useState(!1),h=async()=>{const b=[];try{const{data:j,error:k}=await Ie.from("tenants").select("id,name").limit(1);b.push({name:"Super Admin - Lecture tenants",success:!k&&!!j,message:k?`Erreur: ${k.message}`:`Succs: ${(j==null?void 0:j.length)||0} tenant(s) lu(s)`,error:k==null?void 0:k.message})}catch(j){const k=j;b.push({name:"Super Admin - Lecture tenants",success:!1,message:`Exception: ${k.message}`,error:k.message})}try{const{data:j,error:k}=await Ie.from("campaigns").select("id,tenant_id").limit(1);b.push({name:"Super Admin - Lecture campaigns",success:!k&&!!j,message:k?`Erreur: ${k.message}`:`Succs: ${(j==null?void 0:j.length)||0} campagne(s) lue(s)`,error:k==null?void 0:k.message})}catch(j){const k=j;b.push({name:"Super Admin - Lecture campaigns",success:!1,message:`Exception: ${k.message}`,error:k.message})}try{const{data:j,error:k}=await Ie.from("pledges").select("id,campaign_id,amount").limit(1);b.push({name:"Super Admin - Lecture pledges",success:!k&&!!j,message:k?`Erreur: ${k.message}`:`Succs: ${(j==null?void 0:j.length)||0} promesse(s) lue(s)`,error:k==null?void 0:k.message})}catch(j){const k=j;b.push({name:"Super Admin - Lecture pledges",success:!1,message:`Exception: ${k.message}`,error:k.message})}return b},f=async(b,j)=>{const k=[];let S=Ie,F=null;if((e==null?void 0:e.role)!=="club_admin"){const{data:R,error:U}=await Ie.auth.signInWithPassword({email:b,password:j});if(U||!R.user)return k.push({name:"Club Admin - Authentification",success:!1,message:`chec connexion: ${(U==null?void 0:U.message)||"Utilisateur introuvable"}`,error:U==null?void 0:U.message}),k;k.push({name:"Club Admin - Authentification",success:!0,message:`Connexion russie: ${R.user.email}`});const{data:D}=await Ie.from("app_users").select("tenant_id,role").eq("email",b).maybeSingle();if(!D||D.role!=="club_admin")return k.push({name:"Club Admin - Vrification rle",success:!1,message:"Utilisateur n'est pas club_admin"}),k;F=D.tenant_id,k.push({name:"Club Admin - Vrification rle",success:!0,message:`Rle confirm: club_admin (tenant_id: ${F})`})}else F=e.tenant_id,k.push({name:"Club Admin - Authentification",success:!0,message:"Utilisation session actuelle (dj club_admin)"});try{const{data:R,error:U}=await S.from("tenants").select("id,name"),D=R==null?void 0:R.some(Q=>Q.id===F);k.push({name:"Club Admin - Lecture tenants",success:!U&&D===!0,message:U?`Erreur: ${U.message}`:D?`Succs: Peut lire son tenant uniquement (${(R==null?void 0:R.length)||0} tenant(s))`:"Problme: Ne peut pas lire son propre tenant ou voit d'autres tenants",error:U==null?void 0:U.message})}catch(R){const U=R;k.push({name:"Club Admin - Lecture tenants",success:!1,message:`Exception: ${U.message}`,error:U.message})}if(!F)return k.push({name:"Club Admin - Tests insert",success:!1,message:"Impossible de continuer: tenant_id inconnu"}),k;const{data:T}=await S.from("campaigns").select("id").eq("tenant_id",F).limit(1),{data:P}=await S.from("campaigns").select("id").neq("tenant_id",F).limit(1);if(T&&T.length>0){const R=T[0].id;try{const{error:U}=await S.from("pledges").insert({campaign_id:R,sponsor_id:null,invitation_id:null,status:"yes",amount:100,comment:"Test RLS checker",consent:!0,source:"manual"}).select().single();k.push({name:"Club Admin - Insert pledge (propre campagne)",success:!U,message:U?`Erreur: ${U.message}`:"Succs: Insert autoris sur propre campagne",error:U==null?void 0:U.message}),U||await S.from("pledges").delete().eq("campaign_id",R).eq("comment","Test RLS checker")}catch(U){const D=U;k.push({name:"Club Admin - Insert pledge (propre campagne)",success:!1,message:`Exception: ${D.message}`,error:D.message})}}else k.push({name:"Club Admin - Insert pledge (propre campagne)",success:!1,message:"Aucune campagne trouve pour ce tenant"});if(P&&P.length>0){const R=P[0].id;try{const{error:U}=await S.from("pledges").insert({campaign_id:R,sponsor_id:null,invitation_id:null,status:"yes",amount:100,comment:"Test RLS checker",consent:!0,source:"manual"}).select().single(),D=U&&(U.code==="42501"||U.message.includes("permission")||U.message.includes("policy"));k.push({name:"Club Admin - Insert pledge (autre tenant) - DOIT CHOUER",success:D,message:D?`Succs: Insert correctement bloqu (${(U==null?void 0:U.code)||"RLS"})`:"PROBLME: Insert autoris sur autre tenant!",error:U==null?void 0:U.message}),U||await S.from("pledges").delete().eq("campaign_id",R).eq("comment","Test RLS checker")}catch(U){const D=U;k.push({name:"Club Admin - Insert pledge (autre tenant) - DOIT CHOUER",success:!0,message:"Succs: Insert correctement bloqu (Exception)",error:D.message})}}else k.push({name:"Club Admin - Insert pledge (autre tenant) - DOIT CHOUER",success:!1,message:"Aucune campagne d'autre tenant trouve pour tester"});return k},g=async()=>{if((e==null?void 0:e.role)!=="super_admin"){t.error("Vous devez tre super_admin pour excuter ces tests");return}n(!0);try{const j={superAdminTests:await h(),clubAdminTests:(s==null?void 0:s.clubAdminTests)||[],timestamp:new Date().toISOString()};a(j),t.success("Tests super_admin termins")}catch(b){t.error("Erreur lors des tests super_admin"),console.error(b)}finally{n(!1)}},m=async()=>{if((e==null?void 0:e.role)!=="club_admin"&&(!l||!c)){t.error("Veuillez saisir email et mot de passe club_admin");return}d(!0);try{const b=await f(l,c),j={superAdminTests:(s==null?void 0:s.superAdminTests)||[],clubAdminTests:b,timestamp:new Date().toISOString()};a(j),t.success("Tests club_admin termins")}catch(b){t.error("Erreur lors des tests club_admin"),console.error(b)}finally{d(!1)}},x=(b,j)=>j.includes("DOIT CHOUER")?b?i.jsx(ar,{className:"w-5 h-5 text-green-600"}):i.jsx(Lr,{className:"w-5 h-5 text-red-600"}):b?i.jsx(ar,{className:"w-5 h-5 text-green-600"}):i.jsx(Lr,{className:"w-5 h-5 text-red-600"}),p=(s==null?void 0:s.superAdminTests.every(b=>b.success))??!1,v=(s==null?void 0:s.clubAdminTests.every(b=>b.success))??!1;return i.jsx(_r,{children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[i.jsx(cc,{className:"w-8 h-8 text-blue-600"}),"Vrificateur RLS (Row Level Security)"]}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Teste les politiques de scurit RLS pour les diffrents rles"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(cc,{className:"w-5 h-5 text-purple-600"}),"A) Tests Super Admin"]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Lecture libre des tables principales"})]})}),i.jsx("div",{className:"space-y-3 mb-6",children:i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("p",{className:"font-medium mb-2",children:"Tests effectus:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[i.jsx("li",{children:"Lecture table tenants"}),i.jsx("li",{children:"Lecture table campaigns"}),i.jsx("li",{children:"Lecture table pledges"})]})]})}),i.jsxs("button",{onClick:g,disabled:r||(e==null?void 0:e.role)!=="super_admin",className:"w-full px-4 py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-slate-400 disabled:cursor-not-allowed text-white rounded-lg transition flex items-center justify-center gap-2",children:[i.jsx($m,{className:`w-5 h-5 ${r?"animate-pulse":""}`}),r?"Test en cours...":"Excuter tests Super Admin"]}),(e==null?void 0:e.role)!=="super_admin"&&i.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-400 mt-2 text-center",children:"Vous devez tre super_admin pour excuter ces tests"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(xU,{className:"w-5 h-5 text-blue-600"}),"B) Tests Club Admin"]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Vrification isolation par tenant"})]})}),(e==null?void 0:e.role)!=="club_admin"&&i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email club_admin"}),i.jsx("input",{type:"email",value:l,onChange:b=>A(b.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",placeholder:"admin@club.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mot de passe"}),i.jsx("input",{type:"password",value:c,onChange:b=>u(b.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",placeholder:""})]})]}),(e==null?void 0:e.role)==="club_admin"&&i.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:i.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Session actuelle utilise (dj club_admin)"})}),i.jsx("div",{className:"space-y-3 mb-6",children:i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("p",{className:"font-medium mb-2",children:"Tests effectus:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[i.jsx("li",{children:"Lecture propre tenant uniquement"}),i.jsx("li",{children:"Insert sur propre campagne (autoris)"}),i.jsx("li",{children:"Insert sur autre tenant (bloqu)"})]})]})}),i.jsxs("button",{onClick:m,disabled:o||(e==null?void 0:e.role)!=="club_admin"&&(!l||!c),className:"w-full px-4 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 disabled:cursor-not-allowed text-white rounded-lg transition flex items-center justify-center gap-2",children:[i.jsx($m,{className:`w-5 h-5 ${o?"animate-pulse":""}`}),o?"Test en cours...":"Excuter tests Club Admin"]})]})]}),s&&i.jsxs("div",{className:"space-y-6",children:[s.superAdminTests.length>0&&i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:p?i.jsxs(i.Fragment,{children:[i.jsx(ar,{className:"w-6 h-6 text-green-600"}),"Tests Super Admin - OK"]}):i.jsxs(i.Fragment,{children:[i.jsx(Ci,{className:"w-6 h-6 text-yellow-600"}),"Tests Super Admin - Problmes dtects"]})})}),i.jsx("div",{className:"space-y-3","data-testid":"rls-super-ok",children:s.superAdminTests.map((b,j)=>i.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[x(b.success,b.name),i.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:b.name})]}),i.jsx("span",{className:`px-2 py-1 rounded text-sm ${b.success?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:b.success?"Succs":"chec"})]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 ml-8",children:b.message}),b.error&&i.jsx("div",{className:"mt-2 ml-8 p-2 bg-red-50 dark:bg-red-900/20 rounded text-xs font-mono text-red-700 dark:text-red-300",children:b.error})]},j))})]}),s.clubAdminTests.length>0&&i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:v?i.jsxs(i.Fragment,{children:[i.jsx(ar,{className:"w-6 h-6 text-green-600"}),"Tests Club Admin - OK"]}):i.jsxs(i.Fragment,{children:[i.jsx(Ci,{className:"w-6 h-6 text-yellow-600"}),"Tests Club Admin - Problmes dtects"]})})}),i.jsx("div",{className:"space-y-3","data-testid":"rls-club-ok",children:s.clubAdminTests.map((b,j)=>i.jsxs("div",{"data-testid":b.name.includes("autre tenant")?"rls-club-insert-denied":void 0,className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[x(b.success,b.name),i.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:b.name})]}),i.jsx("span",{className:`px-2 py-1 rounded text-sm ${b.success?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:b.success?"Succs":"chec"})]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 ml-8",children:b.message}),b.error&&i.jsx("div",{className:"mt-2 ml-8 p-2 bg-slate-50 dark:bg-slate-900 rounded text-xs font-mono text-slate-700 dark:text-slate-300",children:b.error})]},j))})]}),i.jsxs("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:["Tests excuts le ",new Date(s.timestamp).toLocaleString("fr-FR")]})]}),!s&&i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-12 text-center",children:[i.jsx(cc,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:"Aucun test effectu"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Slectionnez une catgorie de tests ci-dessus pour commencer"})]})]})})}function GK(){const e=Cn(),[t,r]=E.useState(!1),[n,s]=E.useState(null),a=()=>{const h=document.createElement("canvas");h.width=100,h.height=100;const f=h.getContext("2d");return f&&(f.fillStyle="#3b82f6",f.fillRect(0,0,100,100),f.fillStyle="white",f.font="20px Arial",f.fillText("TEST",25,55)),new Promise(g=>{h.toBlob(m=>{g(m||new Blob)},"image/png")})},l=()=>{const h=`%PDF-1.4
1 0 obj
<<
/Type /Catalog
/Pages 2 0 R
>>
endobj
2 0 obj
<<
/Type /Pages
/Kids [3 0 R]
/Count 1
>>
endobj
3 0 obj
<<
/Type /Page
/Parent 2 0 R
/Resources <<
/Font <<
/F1 <<
/Type /Font
/Subtype /Type1
/BaseFont /Helvetica
>>
>>
>>
/MediaBox [0 0 612 792]
/Contents 4 0 R
>>
endobj
4 0 obj
<<
/Length 44
>>
stream
BT
/F1 12 Tf
100 700 Td
(Test PDF) Tj
ET
endstream
endobj
xref
0 5
0000000000 65535 f
0000000009 00000 n
0000000058 00000 n
0000000115 00000 n
0000000317 00000 n
trailer
<<
/Size 5
/Root 1 0 R
>>
startxref
410
%%EOF`;return new Blob([h],{type:"application/pdf"})},A=async()=>{const h=[],g=`test/${`test-${Date.now()}.png`}`;try{const m=a(),{data:x,error:p}=await Ie.storage.from("club_public").upload(g,m,{contentType:"image/png",upsert:!0});if(h.push({name:"Upload image dans club_public",success:!p&&!!x,message:p?`chec: ${p.message}`:`Succs: Image uploade (${g})`,error:p==null?void 0:p.message}),!p&&x){const{data:v}=Ie.storage.from("club_public").getPublicUrl(g),b=v.publicUrl&&v.publicUrl.startsWith("http");h.push({name:"Rcupration URL publique",success:b,message:b?"Succs: URL publique gnre":"chec: URL publique invalide",url:v.publicUrl}),await Ie.storage.from("club_public").remove([g])}else h.push({name:"Rcupration URL publique",success:!1,message:"Non test: Upload a chou"})}catch(m){const x=m;h.push({name:"Upload image dans club_public",success:!1,message:`Exception: ${x.message}`,error:x.message}),h.push({name:"Rcupration URL publique",success:!1,message:"Non test: Exception lors de l'upload"})}return h},c=async()=>{const h=[],g=`exports/${`test-${Date.now()}.pdf`}`;try{const m=l(),{data:x,error:p}=await Ie.storage.from("club_exports").upload(g,m,{contentType:"application/pdf",upsert:!0});if(h.push({name:"Upload PDF dans club_exports",success:!p&&!!x,message:p?`chec: ${p.message}`:`Succs: PDF upload (${g})`,error:p==null?void 0:p.message}),!p&&x){const{data:v,error:b}=await Ie.storage.from("club_exports").createSignedUrl(g,60),j=(v==null?void 0:v.signedUrl)&&v.signedUrl.startsWith("http");h.push({name:"Gnration URL signe (60s)",success:!b&&j,message:b?`chec: ${b.message}`:j?"Succs: URL signe gnre (expire dans 60s)":"chec: URL signe invalide",error:b==null?void 0:b.message,url:v==null?void 0:v.signedUrl}),await Ie.storage.from("club_exports").remove([g])}else h.push({name:"Gnration URL signe (60s)",success:!1,message:"Non test: Upload a chou"})}catch(m){const x=m;h.push({name:"Upload PDF dans club_exports",success:!1,message:`Exception: ${x.message}`,error:x.message}),h.push({name:"Gnration URL signe (60s)",success:!1,message:"Non test: Exception lors de l'upload"})}return h},u=async()=>{r(!0);try{const{data:h,error:f}=await Ie.storage.listBuckets();if(f){e.error(`Erreur lors de la rcupration des buckets: ${f.message}`),r(!1);return}const g=h||[],m=g.some(b=>b.name==="club_public"),x=g.some(b=>b.name==="club_exports"),p=[];if(m){const b=await A();p.push({name:"club_public",exists:!0,tests:b})}else p.push({name:"club_public",exists:!1,tests:[{name:"Existence bucket",success:!1,message:"Bucket club_public introuvable"}]});if(x){const b=await c();p.push({name:"club_exports",exists:!0,tests:b})}else p.push({name:"club_exports",exists:!1,tests:[{name:"Existence bucket",success:!1,message:"Bucket club_exports introuvable"}]});const v={buckets:p,timestamp:new Date().toISOString()};s(v),e.success("Tests de stockage termins")}catch(h){e.error("Erreur lors des tests de stockage"),console.error(h)}finally{r(!1)}},o=h=>h?i.jsx(ar,{className:"w-5 h-5 text-green-600"}):i.jsx(Lr,{className:"w-5 h-5 text-red-600"}),d=(n==null?void 0:n.buckets.every(h=>h.exists&&h.tests.every(f=>f.success)))??!1;return i.jsx(_r,{children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[i.jsx(uj,{className:"w-8 h-8 text-blue-600"}),"Vrificateur de Stockage"]}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Vrifie l'existence et le bon fonctionnement des buckets Supabase Storage"})]}),i.jsxs("button",{onClick:u,disabled:t,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx($m,{className:`w-5 h-5 ${t?"animate-pulse":""}`}),t?"Test en cours...":"Excuter les tests"]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(nw,{className:"w-6 h-6 text-blue-600"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"club_public"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Bucket public pour logos et images"})]})]}),i.jsxs("div",{className:"space-y-2 text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("p",{className:"font-medium",children:"Tests effectus:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[i.jsx("li",{children:"Vrification existence bucket"}),i.jsx("li",{children:"Upload image de test (PNG)"}),i.jsx("li",{children:"Rcupration URL publique"}),i.jsx("li",{children:"Nettoyage fichier test"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(nw,{className:"w-6 h-6 text-green-600"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"club_exports"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Bucket priv pour exports PDF"})]})]}),i.jsxs("div",{className:"space-y-2 text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("p",{className:"font-medium",children:"Tests effectus:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[i.jsx("li",{children:"Vrification existence bucket"}),i.jsx("li",{children:"Upload PDF de test"}),i.jsx("li",{children:"Gnration URL signe (60s)"}),i.jsx("li",{children:"Nettoyage fichier test"})]})]})]})]}),n&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:d?i.jsxs(i.Fragment,{children:[i.jsx(ar,{className:"w-6 h-6 text-green-600"}),"Tous les tests russis"]}):i.jsxs(i.Fragment,{children:[i.jsx(Ci,{className:"w-6 h-6 text-yellow-600"}),"Problmes dtects"]})}),i.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(n.timestamp).toLocaleString("fr-FR")})]}),i.jsx("div",{className:"space-y-6",children:n.buckets.map(h=>{const f=h.exists&&h.tests.every(g=>g.success);return i.jsxs("div",{"data-testid":h.name==="club_public"?"bucket-public-ok":"bucket-exports-ok",className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[h.exists?i.jsx(nw,{className:"w-6 h-6 text-blue-600"}):i.jsx(Ci,{className:"w-6 h-6 text-red-600"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900 dark:text-white font-mono",children:h.name}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:h.exists?"Bucket trouv":"Bucket manquant"})]})]}),i.jsx("span",{className:`px-3 py-1 rounded text-sm font-medium ${f?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:f?"OK":"Erreur"})]}),i.jsx("div",{className:"space-y-3",children:h.tests.map((g,m)=>i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[o(g.success),i.jsx("span",{className:"font-medium text-slate-900 dark:text-white text-sm",children:g.name})]}),i.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${g.success?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:g.success?"Succs":"chec"})]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 ml-7",children:g.message}),g.url&&i.jsx("div",{className:"mt-2 ml-7",children:i.jsx("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 dark:text-blue-400 hover:underline break-all font-mono",children:g.url})}),g.error&&i.jsx("div",{className:"mt-2 ml-7 p-2 bg-red-50 dark:bg-red-900/20 rounded text-xs font-mono text-red-700 dark:text-red-300",children:g.error})]},m))})]},h.name)})})]}),!d&&i.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Ci,{className:"w-5 h-5 text-orange-600 dark:text-orange-400 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-orange-900 dark:text-orange-200 mb-2",children:"Actions recommandes"}),i.jsxs("ul",{className:"space-y-1 text-sm text-orange-800 dark:text-orange-300",children:[n.buckets.some(h=>!h.exists)&&i.jsx("li",{children:" Crer les buckets manquants dans Supabase Dashboard  Storage"}),n.buckets.some(h=>h.tests.some(f=>{var g;return(g=f.error)==null?void 0:g.includes("permission")}))&&i.jsx("li",{children:" Vrifier les politiques RLS sur les buckets (policies)"}),n.buckets.some(h=>h.tests.some(f=>{var g;return(g=f.error)==null?void 0:g.includes("unauthorized")}))&&i.jsx("li",{children:" Vrifier que l'utilisateur a les permissions ncessaires"}),i.jsx("li",{children:" Consulter les logs Supabase pour plus de dtails"})]})]})]})})]}),!n&&!t&&i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-12 text-center",children:[i.jsx(uj,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:"Aucun test effectu"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:'Cliquez sur "Excuter les tests" pour vrifier le stockage'})]})]})})}const WK={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},US=[{name:"VITE_SUPABASE_URL",key:"VITE_SUPABASE_URL",required:!0,description:"URL du projet Supabase"},{name:"VITE_SUPABASE_ANON_KEY",key:"VITE_SUPABASE_ANON_KEY",required:!0,description:"Cl anonyme Supabase (public)"},{name:"VITE_PUBLIC_BASE_URL",key:"VITE_PUBLIC_BASE_URL",required:!1,description:"URL de base publique (QR codes, emails)"},{name:"RESEND_API_KEY",key:"RESEND_API_KEY",required:!1,description:"Cl API Resend (emails)"}];function YK(){const[e,t]=E.useState(!1),[r,n]=E.useState(null),s=u=>WK[u],a=u=>{const o=s(u);return o!==void 0&&o!==""},l=u=>a(u.key)?"success":u.required?"error":"warning",A=async()=>{t(!0),n(null);try{const u=s("VITE_SUPABASE_URL"),o=s("VITE_SUPABASE_ANON_KEY");if(!u||!o){n({success:!1,message:"Variables Supabase manquantes",details:{url:!!u,key:!!o}}),t(!1);return}const d=Date.now(),{data:h,error:f,count:g}=await Ie.from("tenants").select("id",{count:"exact",head:!1}).limit(1),m=Date.now()-d;n(f?{success:!1,message:`Erreur de connexion: ${f.message}`,details:{code:f.code,hint:f.hint,duration:`${m}ms`}}:{success:!0,message:"Connexion russie!",details:{tenantsCount:g||0,duration:`${m}ms`,dataReturned:(h==null?void 0:h.length)||0}})}catch(u){n({success:!1,message:`Erreur: ${u.message}`,details:{error:u.toString()}})}finally{t(!1)}},c=US.filter(u=>u.required).every(u=>a(u.key));return i.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ls,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Variables d'environnement"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Vrification de la configuration de l'application"})]})]})}),i.jsx("div",{className:"p-6 space-y-4",children:US.map(u=>{const o=l(u),d=s(u.key);return i.jsxs("div",{className:"flex items-start gap-4 p-4 bg-slate-50 dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"mt-0.5",children:[o==="success"&&i.jsx(sd,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),o==="warning"&&i.jsx(Sr,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),o==="error"&&i.jsx(Lr,{className:"w-5 h-5 text-red-600 dark:text-red-400"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("code",{className:"text-sm font-mono font-semibold text-slate-900 dark:text-white",children:u.name}),!u.required&&i.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded",children:"Optionnel"})]}),i.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-400",children:u.description}),d&&i.jsx("div",{className:"mt-2",children:i.jsx("code",{className:"text-xs font-mono text-slate-500 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded break-all",children:u.key.includes("KEY")?`${d.substring(0,20)}...`:d})}),!d&&i.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-500 italic",children:"Non dfinie"})]})]},u.key)})}),i.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:"Statut de configuration"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:c?i.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Toutes les variables requises sont dfinies"}):i.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Des variables requises sont manquantes"})})]}),i.jsx("button",{onClick:A,disabled:e||!c,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-300 dark:disabled:bg-slate-700 disabled:cursor-not-allowed text-white rounded-lg transition font-medium",children:e?i.jsxs(i.Fragment,{children:[i.jsx(ah,{className:"w-4 h-4 animate-spin"}),"Test en cours..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ls,{className:"w-4 h-4"}),"Tester connexion"]})})]})}),r&&i.jsx("div",{className:`p-6 border-t ${r.success?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[r.success?i.jsx(sd,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5"}):i.jsx(Lr,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`font-medium ${r.success?"text-green-900 dark:text-green-100":"text-red-900 dark:text-red-100"}`,children:r.message}),r.details&&i.jsx("div",{className:"mt-2 space-y-1",children:Object.entries(r.details).map(([u,o])=>i.jsxs("div",{className:"text-sm font-mono text-slate-700 dark:text-slate-300",children:[i.jsxs("span",{className:"font-semibold",children:[u,":"]})," ",i.jsx("span",{children:String(o)})]},u))})]})]})})]}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[i.jsx("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Configuration"}),i.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[i.jsxs("p",{children:["Les variables d'environnement doivent tre dfinies dans le fichier"," ",i.jsx("code",{className:"px-1 py-0.5 bg-blue-100 dark:bg-blue-800 rounded font-mono",children:".env"})]}),i.jsxs("p",{children:["Voir"," ",i.jsx("code",{className:"px-1 py-0.5 bg-blue-100 dark:bg-blue-800 rounded font-mono",children:".env.example"})," ","pour un exemple de configuration"]})]})]})]})}function JK(){const[e,t]=E.useState(""),[r,n]=E.useState(""),[s,a]=E.useState(null),[l,A]=E.useState(null),[c,u]=E.useState(!1),o="Non dfini",d="Non dfini",h=async g=>{var m,x;g.preventDefault(),u(!0),a(null);try{const{data:p,error:v}=await Ie.auth.signInWithPassword({email:e,password:r});a(v?{success:!1,error:{message:v.message,status:v.status,name:v.name,details:JSON.stringify(v,null,2)}}:{success:!0,data:{user_id:(m=p.user)==null?void 0:m.id,user_email:(x=p.user)==null?void 0:x.email,session_exists:!!p.session}})}catch(p){a({success:!1,error:{message:p.message||"Erreur inconnue",details:JSON.stringify(p,null,2)}})}finally{u(!1)}},f=async()=>{u(!0),A(null);try{const{data:g,error:m}=await Ie.from("tenants").select("*").limit(1);A(m?{success:!1,error:{message:m.message,code:m.code,details:JSON.stringify(m,null,2)}}:{success:!0,data:g,count:(g==null?void 0:g.length)||0})}catch(g){A({success:!1,error:{message:g.message||"Erreur inconnue",details:JSON.stringify(g,null,2)}})}finally{u(!1)}};return i.jsx("div",{className:"min-h-screen bg-slate-50 p-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Diagnostic Authentification & Environnement"}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-700 mb-2",children:"Variables d'environnement"}),i.jsxs("div",{className:"bg-slate-100 p-4 rounded space-y-2 font-mono text-sm",children:[i.jsxs("div",{"data-testid":"env-url",children:[i.jsx("span",{className:"text-slate-600",children:"VITE_SUPABASE_URL:"}),i.jsx("span",{className:"ml-2 text-slate-900",children:o})]}),i.jsxs("div",{"data-testid":"env-anon",children:[i.jsx("span",{className:"text-slate-600",children:"VITE_SUPABASE_ANON_KEY:"}),i.jsx("span",{className:"ml-2 text-slate-900",children:d})]})]})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-700 mb-4",children:"Test d'authentification"}),i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),i.jsx("input",{type:"email",value:e,onChange:g=>t(g.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"exemple@email.com",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Mot de passe"}),i.jsx("input",{type:"password",value:r,onChange:g=>n(g.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0})]}),i.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition disabled:opacity-50",children:c?"Test en cours...":"Tester la connexion"})]}),s&&i.jsxs("div",{"data-testid":"auth-result",className:`mt-4 p-4 rounded-lg ${s.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[i.jsx("h3",{className:`font-semibold mb-2 ${s.success?"text-green-900":"text-red-900"}`,children:s.success?"Connexion russie":"Erreur de connexion"}),i.jsx("pre",{className:`text-xs overflow-auto ${s.success?"text-green-800":"text-red-800"}`,children:JSON.stringify(s,null,2)})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-700 mb-4",children:"Test de requte base de donnes"}),i.jsx("button",{onClick:f,disabled:c,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition disabled:opacity-50",children:c?"Test en cours...":"Tester SELECT tenants"}),l&&i.jsxs("div",{"data-testid":"db-ping",className:`mt-4 p-4 rounded-lg ${l.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[i.jsx("h3",{className:`font-semibold mb-2 ${l.success?"text-green-900":"text-red-900"}`,children:l.success?`Requte russie (${l.count} rsultat(s))`:"Erreur de requte"}),i.jsx("pre",{className:`text-xs overflow-auto ${l.success?"text-green-800":"text-red-800"}`,children:JSON.stringify(l,null,2)})]})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:i.jsx("a",{href:"/",className:"text-blue-600 hover:text-blue-700 font-medium",children:" Retour  l'application"})})]})})}const mw={tenants:{id:{type:"uuid",nullable:!1},name:{type:"text",nullable:!1},email_contact:{type:"text",nullable:!1},status:{type:"status_active",nullable:!1,defaultValue:"active"},billing_email:{type:"text",nullable:!0},logo_url:{type:"text",nullable:!0},email_signature_html:{type:"text",nullable:!0},rgpd_content_md:{type:"text",nullable:!0},cgu_content_md:{type:"text",nullable:!0},privacy_content_md:{type:"text",nullable:!0},max_campaigns:{type:"integer",nullable:!1},max_invitations_per_month:{type:"integer",nullable:!1},created_at:{type:"timestamptz",nullable:!1}},app_users:{id:{type:"uuid",nullable:!1},email:{type:"text",nullable:!1},name:{type:"text",nullable:!0},role:{type:"role_app",nullable:!1},tenant_id:{type:"uuid",nullable:!0},created_at:{type:"timestamptz",nullable:!1}},campaigns:{id:{type:"uuid",nullable:!1},tenant_id:{type:"uuid",nullable:!1},title:{type:"text",nullable:!1},screen_type:{type:"screen_type",nullable:!1},location:{type:"text",nullable:!0},annual_price_hint:{type:"numeric",nullable:!0},objective_amount:{type:"numeric",nullable:!0},daily_footfall_estimate:{type:"integer",nullable:!0},lighting_hours:{type:"jsonb",nullable:!0},cover_image_url:{type:"text",nullable:!0},deadline:{type:"date",nullable:!0},description_md:{type:"text",nullable:!0},is_public_share_enabled:{type:"boolean",nullable:!1,defaultValue:"false"},public_slug:{type:"text",nullable:!0},cost_estimate:{type:"numeric",nullable:!0},created_at:{type:"timestamptz",nullable:!1}},sponsors:{id:{type:"uuid",nullable:!1},tenant_id:{type:"uuid",nullable:!1},company:{type:"text",nullable:!1},contact_name:{type:"text",nullable:!0},email:{type:"text",nullable:!1},phone:{type:"text",nullable:!0},segment:{type:"sponsor_segment",nullable:!0},notes:{type:"text",nullable:!0},created_at:{type:"timestamptz",nullable:!1}},invitations:{id:{type:"uuid",nullable:!1},campaign_id:{type:"uuid",nullable:!1},sponsor_id:{type:"uuid",nullable:!1},email:{type:"text",nullable:!1},token:{type:"text",nullable:!1},status:{type:"invitation_status",nullable:!1},expires_at:{type:"timestamptz",nullable:!0},created_at:{type:"timestamptz",nullable:!1}},pledges:{id:{type:"uuid",nullable:!1},campaign_id:{type:"uuid",nullable:!1},sponsor_id:{type:"uuid",nullable:!0},invitation_id:{type:"uuid",nullable:!0},status:{type:"pledge_status",nullable:!1},amount:{type:"numeric",nullable:!0},comment:{type:"text",nullable:!0},consent:{type:"boolean",nullable:!1,defaultValue:"false"},source:{type:"text",nullable:!1},created_at:{type:"timestamptz",nullable:!1}},scenarios:{id:{type:"uuid",nullable:!1},campaign_id:{type:"uuid",nullable:!1},params_json:{type:"jsonb",nullable:!1},results_json:{type:"jsonb",nullable:!1},created_at:{type:"timestamptz",nullable:!1}},email_templates:{id:{type:"uuid",nullable:!1},tenant_id:{type:"uuid",nullable:!0},key:{type:"text",nullable:!1},subject:{type:"text",nullable:!1},html:{type:"text",nullable:!1},created_at:{type:"timestamptz",nullable:!1}},email_events:{id:{type:"uuid",nullable:!1},invitation_id:{type:"uuid",nullable:!1},type:{type:"email_event_type",nullable:!1},meta_json:{type:"jsonb",nullable:!0},created_at:{type:"timestamptz",nullable:!1}},scheduled_jobs:{id:{type:"uuid",nullable:!1},campaign_id:{type:"uuid",nullable:!1},tenant_id:{type:"uuid",nullable:!1},run_at:{type:"timestamptz",nullable:!1},status:{type:"job_status",nullable:!1},payload:{type:"jsonb",nullable:!1},created_at:{type:"timestamptz",nullable:!1}}};function XK(){const e=Cn(),[t,r]=E.useState(!1),[n,s]=E.useState([]),[a,l]=E.useState({}),A=async()=>{r(!0),s([]),l({});try{const m=Object.keys(mw),x={},p=[],{data:v,error:b}=await Ie.rpc("get_enum_values"),j={};if(!b&&v)for(const k of v)j[k.enum_name]||(j[k.enum_name]=[]),j[k.enum_name].push(k.enum_value);for(const k of m)try{const{data:S,error:F}=await Ie.rpc("get_table_columns",{table_name:k});if(F||!S){e.error(`Table ${k} inaccessible: ${F==null?void 0:F.message}`),p.push({table:k,missing:["Table non accessible ou inexistante"],extra:[],mismatches:[],enumIssues:[],status:"error"});continue}const T=S.map(R=>({column_name:R.column_name,data_type:R.data_type,is_nullable:R.is_nullable,column_default:R.column_default,udt_name:R.udt_name}));x[k]={columns:T,enums:j};const P=c(k,x[k],mw[k]);p.push(P)}catch(S){e.error(`Erreur ${k}: ${S.message}`),p.push({table:k,missing:["Erreur lors de la vrification"],extra:[],mismatches:[],enumIssues:[],status:"error"})}try{const{data:k,error:S}=await Ie.from("campaign_aggregates").select("*").limit(0);S||!k?p.push({table:"campaign_aggregates (view)",missing:["Vue complte manquante"],extra:[],mismatches:[],enumIssues:[],status:"error"}):p.push({table:"campaign_aggregates (view)",missing:[],extra:[],mismatches:[],enumIssues:[],status:"ok"})}catch{p.push({table:"campaign_aggregates (view)",missing:["Vue inaccessible"],extra:[],mismatches:[],enumIssues:[],status:"error"})}l(x),s(p),e.success("Audit termin!")}catch(m){e.error(`Erreur audit: ${m.message}`)}finally{r(!1)}},c=(m,x,p)=>{const v=[],b=[],j=[],k=[],S=new Set(x.columns.map(P=>P.column_name)),F=Object.keys(p);for(const P of F)if(!S.has(P))v.push(`${P} (${p[P].type}${p[P].nullable?"?":""})`);else{const R=x.columns.find(H=>H.column_name===P),U=p[P],D=u(R.data_type,U.type,R.udt_name),Q=R.is_nullable==="YES"==(U.nullable!==!1);if(D||j.push(`${P}: type attendu=${U.type}, trouv=${R.udt_name||R.data_type}`),Q||j.push(`${P}: nullable attendu=${U.nullable!==!1}, trouv=${R.is_nullable==="YES"}`),U.type.includes("_")&&R.udt_name){const H=R.udt_name;x.enums[H]||k.push(`${P}: enum ${H} non trouv`)}}for(const P of x.columns)F.includes(P.column_name)||b.push(`${P.column_name} (${P.data_type})`);let T="ok";return v.length>0||j.some(P=>P.includes("type attendu"))?T="error":(b.length>0||j.length>0||k.length>0)&&(T="warning"),{table:m,missing:v,extra:b,mismatches:j,enumIssues:k,status:T}},u=(m,x,p)=>{const v={text:["text","character varying","varchar"],uuid:["uuid"],numeric:["numeric","double precision","real"],integer:["integer","bigint","smallint"],boolean:["boolean"],timestamptz:["timestamp with time zone","timestamp without time zone"],date:["date"],jsonb:["jsonb","json"]};return x.includes("_")?p===x:(v[x]||[x]).includes(m)},o=m=>({text:"text",uuid:"uuid",int:"integer",integer:"integer",numeric:"numeric",bool:"boolean",boolean:"boolean",jsonb:"jsonb",date:"date",timestamptz:"timestamptz",role_app:"role_app",status_active:"status_active",screen_type:"screen_type",sponsor_segment:"sponsor_segment",invitation_status:"invitation_status",pledge_status:"pledge_status",email_event_type:"email_event_type",job_status:"job_status"})[m]||m,d=()=>{var p;const m=[];m.push("/*"),m.push("  Schema Patch SQL"),m.push("  Gnr automatiquement par SchemaVsCodeAudit"),m.push("  "),m.push("  ATTENTION: Vrifier et tester ce patch avant application en production!"),m.push("*/"),m.push("");let x=!1;for(const v of n){if(v.table==="campaign_aggregates (view)"){v.status==="error"&&(x=!0);continue}if(!(v.missing.length===0&&v.mismatches.length===0&&v.enumIssues.length===0)){m.push("-- ========================================"),m.push(`-- Table: ${v.table}`),m.push("-- ========================================"),m.push("");for(const b of v.missing){const j=b.match(/^(\w+)\s+\((.+?)\)$/);if(!j)continue;const k=j[1],S=j[2],F=S.includes("?"),T=S.replace("?",""),P=o(T),R=(p=mw[v.table])==null?void 0:p[k],U=F?"":"NOT NULL",D=R!=null&&R.defaultValue?`DEFAULT ${R.defaultValue}`:"";m.push(`ALTER TABLE public.${v.table} ADD COLUMN IF NOT EXISTS ${k} ${P} ${D} ${U};`.trim())}v.missing.length>0&&m.push("");for(const b of v.mismatches)if(b.includes("type attendu")){const j=b.split(":")[0],k=b.match(/type attendu=(\w+), trouv=(\w+)/);if(k){const[,S,F]=k;m.push(`-- ATTENTION: ${j} - type actuel '${F}' vs attendu '${S}'`),m.push("-- Migration potentiellement destructrice.  faire manuellement avec USING:"),m.push(`-- ALTER TABLE public.${v.table} ALTER COLUMN ${j} TYPE ${o(S)} USING ${j}::${o(S)};`),m.push("")}}else if(b.includes("nullable")){const j=b.split(":")[0];b.includes("nullable attendu=true")?m.push(`ALTER TABLE public.${v.table} ALTER COLUMN ${j} DROP NOT NULL;`):(m.push(""),m.push(`-- Rendre ${j} NOT NULL (vrifier qu'il n'y a pas de valeurs NULL)`),m.push(`-- UPDATE public.${v.table} SET ${j} = '<default>' WHERE ${j} IS NULL;`),m.push(`ALTER TABLE public.${v.table} ALTER COLUMN ${j} SET NOT NULL;`))}v.mismatches.length>0&&m.push("");for(const b of v.enumIssues){const j=b.match(/(\w+):\s+enum\s+(\w+)/);if(j){const[,k,S]=j;m.push(`-- Enum manquant pour ${k}: ${S}`),m.push(`-- Vrifier que l'enum ${S} existe et est correctement rfrenc`),m.push("")}}m.push("")}}return x&&(m.push("-- ========================================"),m.push("-- Vue: campaign_aggregates"),m.push("-- ========================================"),m.push(""),m.push("CREATE OR REPLACE VIEW public.campaign_aggregates AS"),m.push("SELECT"),m.push("  c.id AS campaign_id,"),m.push("  c.tenant_id,"),m.push("  SUM(CASE WHEN p.status = 'yes' THEN COALESCE(p.amount, 0) ELSE 0 END) AS sum_yes_amount,"),m.push("  COUNT(*) FILTER (WHERE p.status = 'yes') AS yes_count,"),m.push("  COUNT(*) FILTER (WHERE p.status = 'maybe') AS maybe_count,"),m.push("  COUNT(*) FILTER (WHERE p.status = 'no') AS no_count,"),m.push("  COUNT(*) AS total_invitations"),m.push("FROM public.campaigns c"),m.push("LEFT JOIN public.pledges p ON p.campaign_id = c.id"),m.push("GROUP BY c.id, c.tenant_id;"),m.push("")),m.push("-- ========================================"),m.push("-- Contraintes de validation"),m.push("-- ========================================"),m.push(""),m.push("-- Montant des pledges non ngatif"),m.push("ALTER TABLE public.pledges DROP CONSTRAINT IF EXISTS pledges_amount_nonneg;"),m.push("ALTER TABLE public.pledges ADD CONSTRAINT pledges_amount_nonneg CHECK (amount IS NULL OR amount >= 0);"),m.push(""),m.push("-- ========================================"),m.push("-- Valeurs d'enums manquantes (si dtectes)"),m.push("-- ========================================"),m.push(""),m.push("-- Exemple pour ajouter une valeur  un enum:"),m.push("-- DO $$"),m.push("-- BEGIN"),m.push("--   IF NOT EXISTS ("),m.push("--     SELECT 1 FROM pg_type t"),m.push("--     JOIN pg_enum e ON e.enumtypid = t.oid"),m.push("--     WHERE t.typname = 'pledge_status' AND e.enumlabel = 'nouvelle_valeur'"),m.push("--   ) THEN"),m.push("--     ALTER TYPE pledge_status ADD VALUE IF NOT EXISTS 'nouvelle_valeur';"),m.push("--   END IF;"),m.push("-- END $$;"),m.push(""),m.join(`
`)},h=()=>{const m=[];m.push("# TODO Code - Schema Audit"),m.push(""),m.push("Gnr automatiquement par SchemaVsCodeAudit"),m.push("");const x=[];for(const p of n)p.missing.length===0&&p.mismatches.length===0&&p.enumIssues.length===0&&p.extra.length===0||(m.push(`## Table: ${p.table}`),m.push(""),p.missing.length>0&&(m.push("### Colonnes manquantes dans la DB:"),p.missing.forEach(v=>{const b=v.match(/^(\w+)\s+\((.+?)\)$/);if(b){const[,j,k]=b;m.push(`- [ ] Ajouter colonne ${j} (${k}) dans la table ${p.table}`),m.push("  - Appliquer la migration SQL correspondante"),m.push("  - Vrifier que le code TypeScript utilise bien cette colonne")}else m.push(`- [ ] ${v}`)}),m.push("")),p.extra.length>0&&(m.push("### Colonnes en trop dans la DB:"),p.extra.forEach(v=>{const b=v.match(/^(\w+)\s+\((.+?)\)$/);if(b){const[,j]=b;m.push(`- [ ] Vrifier si colonne ${j} est utilise dans le code`),m.push("  - Si oui: ajouter au EXPECTED_SCHEMA"),m.push("  - Si non: considrer suppression ou documenter raison"),x.push(`// TODO(code): Vrifier utilisation de ${p.table}.${j} dans le code`)}else m.push(`- [ ] ${v}`)}),m.push("")),p.mismatches.length>0&&(m.push("### Mismatches type/nullable:"),p.mismatches.forEach(v=>{const b=v.split(":")[0];if(v.includes("type attendu")){const j=v.match(/type attendu=(\w+), trouv=(\w+)/);if(j){const[,k,S]=j;m.push(`- [ ] ${b}: aligner type DB (${S}) avec type attendu (${k})`),m.push("  - Vrifier impact sur donnes existantes"),m.push("  - Mettre  jour le code TypeScript si ncessaire"),x.push(`// TODO(code): Aligner type TS de ${p.table}.${b} avec type DB '${k}'`)}}else v.includes("nullable")&&(v.includes("nullable attendu=true")?(m.push(`- [ ] ${b}: rendre nullable dans la DB (actuellement NOT NULL)`),m.push(`  - Appliquer: ALTER COLUMN ${b} DROP NOT NULL`)):(m.push(`- [ ] ${b}: rendre NOT NULL dans la DB (actuellement nullable)`),m.push("  - Vrifier qu'il n'y a pas de valeurs NULL existantes"),m.push("  - Mettre  jour les donnes si ncessaire"),m.push(`  - Appliquer: ALTER COLUMN ${b} SET NOT NULL`),x.push(`// TODO(code): Rendre ${p.table}.${b} requis dans les formulaires (NOT NULL en DB)`)))}),m.push("")),p.enumIssues.length>0&&(m.push("### Problmes enums:"),p.enumIssues.forEach(v=>{const b=v.match(/(\w+):\s+enum\s+(\w+)/);if(b){const[,j,k]=b;m.push(`- [ ] ${j}: vrifier enum ${k}`),m.push("  - Confirmer que l'enum existe dans la DB"),m.push("  - Vrifier les valeurs de l'enum"),m.push("  - Synchroniser avec le type TypeScript"),x.push(`// TODO(code): Aligner type TS de ${p.table}.${j} avec enum '${k}'`)}else m.push(`- [ ] Rsoudre: ${v}`)}),m.push("")));return x.length>0&&(m.push("---"),m.push(""),m.push("## TODO Code ( intgrer dans les fichiers TypeScript)"),m.push(""),m.push("```typescript"),x.forEach(p=>m.push(p)),m.push("```"),m.push(""),m.push("### Actions suggres:"),m.push(""),m.push("1. **CampaignForm.tsx, CampaignDetail.tsx**"),m.push("   - Vrifier que les props correspondent aux colonnes DB"),m.push("   - Exemple: `coverUrl`  `cover_image_url`"),m.push("   - Adapter le mapping des donnes"),m.push(""),m.push("2. **SponsorsList.tsx, InviteModal.tsx**"),m.push("   - Rendre les champs requis si NOT NULL en DB"),m.push("   - Ajouter validation approprie"),m.push("   - Exemple: `company`  required"),m.push(""),m.push("3. **database.types.ts**"),m.push("   - Rgnrer les types Supabase aprs migrations"),m.push("   - Commande: `npx supabase gen types typescript --project-id <id>`"),m.push("   - Vrifier alignement avec EXPECTED_SCHEMA"),m.push("")),m.join(`
`)},f=async(m,x)=>{try{await navigator.clipboard.writeText(m),e.success(`${x} copi!`)}catch{e.error("Erreur lors de la copie")}},g=m=>m==="ok"?i.jsx(sd,{className:"w-5 h-5 text-green-600"}):m==="warning"?i.jsx(Ci,{className:"w-5 h-5 text-orange-600"}):i.jsx(Lr,{className:"w-5 h-5 text-red-600"});return i.jsx(_r,{children:i.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ls,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Schema vs Code Audit"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Compare le schma Supabase rel avec le modle attendu"})]})]}),i.jsx("button",{onClick:A,disabled:t,"data-testid":"audit-run",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-300 dark:disabled:bg-slate-700 text-white rounded-lg transition font-medium",children:t?i.jsxs(i.Fragment,{children:[i.jsx(ah,{className:"w-4 h-4 animate-spin"}),"Audit en cours..."]}):i.jsxs(i.Fragment,{children:[i.jsx(YH,{className:"w-4 h-4"}),"Lancer l'audit"]})})]})}),n.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[n.filter(m=>m.status==="ok").length," OK,"," ",n.filter(m=>m.status==="warning").length," Warnings,"," ",n.filter(m=>m.status==="error").length," Errors"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>f(d(),"SQL patch"),"data-testid":"btn-copy-sql",className:"flex items-center gap-2 px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white rounded-lg transition text-sm font-medium",children:[i.jsx(pc,{className:"w-4 h-4"}),"Copier SQL patch"]}),i.jsxs("button",{onClick:()=>f(h(),"TODO code"),"data-testid":"btn-copy-todos",className:"flex items-center gap-2 px-3 py-1.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition text-sm font-medium",children:[i.jsx(gU,{className:"w-4 h-4"}),"Copier TODO code"]})]})]})}),i.jsx("div",{className:"p-6 space-y-4","data-testid":"audit-report",children:n.map(m=>i.jsxs("div",{"data-testid":`row-${m.table}`,className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 dark:bg-slate-900",children:[g(m.status),i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:m.table}),i.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:[m.missing.length+m.mismatches.length+m.enumIssues.length," issues"]})]}),(m.missing.length>0||m.extra.length>0||m.mismatches.length>0||m.enumIssues.length>0)&&i.jsxs("div",{className:"p-4 space-y-3",children:[m.missing.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-semibold text-red-600 dark:text-red-400 mb-2",children:["Colonnes manquantes (",m.missing.length,")"]}),i.jsx("ul",{className:"space-y-1",children:m.missing.map((x,p)=>i.jsxs("li",{className:"text-sm text-slate-700 dark:text-slate-300 pl-4",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400",children:""})," ",x]},p))})]}),m.extra.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-semibold text-orange-600 dark:text-orange-400 mb-2",children:["Colonnes en trop (",m.extra.length,")"]}),i.jsx("ul",{className:"space-y-1",children:m.extra.map((x,p)=>i.jsxs("li",{className:"text-sm text-slate-700 dark:text-slate-300 pl-4",children:[i.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:""})," ",x]},p))})]}),m.mismatches.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-semibold text-orange-600 dark:text-orange-400 mb-2",children:["Mismatches (",m.mismatches.length,")"]}),i.jsx("ul",{className:"space-y-1",children:m.mismatches.map((x,p)=>i.jsxs("li",{className:"text-sm text-slate-700 dark:text-slate-300 pl-4",children:[i.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:""})," ",x]},p))})]}),m.enumIssues.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-semibold text-red-600 dark:text-red-400 mb-2",children:["Problmes enums (",m.enumIssues.length,")"]}),i.jsx("ul",{className:"space-y-1",children:m.enumIssues.map((x,p)=>i.jsxs("li",{className:"text-sm text-slate-700 dark:text-slate-300 pl-4",children:[i.jsx("span",{className:"text-red-600 dark:text-red-400",children:""})," ",x]},p))})]})]})]},m.table))})]}),!t&&n.length===0&&i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(Ls,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:`Cliquez sur "Lancer l'audit" pour commencer`})]})]})})})}var KA={},qK=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},WU={},Fi={};let zB;const ZK=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Fi.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Fi.getSymbolTotalCodewords=function(t){return ZK[t]};Fi.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Fi.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');zB=t};Fi.isKanjiModeEnabled=function(){return typeof zB<"u"};Fi.toSJIS=function(t){return zB(t)};var Ob={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,s){if(e.isValid(n))return n;try{return t(n)}catch{return s}}})(Ob);function YU(){this.buffer=[],this.length=0}YU.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var ez=YU;function yp(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}yp.prototype.set=function(e,t,r,n){const s=e*this.size+t;this.data[s]=r,n&&(this.reservedBit[s]=!0)};yp.prototype.get=function(e,t){return this.data[e*this.size+t]};yp.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};yp.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var tz=yp,JU={};(function(e){const t=Fi.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const s=Math.floor(n/7)+2,a=t(n),l=a===145?26:Math.ceil((a-13)/(2*s-2))*2,A=[a-7];for(let c=1;c<s-1;c++)A[c]=A[c-1]-l;return A.push(6),A.reverse()},e.getPositions=function(n){const s=[],a=e.getRowColCoords(n),l=a.length;for(let A=0;A<l;A++)for(let c=0;c<l;c++)A===0&&c===0||A===0&&c===l-1||A===l-1&&c===0||s.push([a[A],a[c]]);return s}})(JU);var XU={};const rz=Fi.getSymbolSize,PS=7;XU.getPositions=function(t){const r=rz(t);return[[0,0],[r-PS,0],[0,r-PS]]};var qU={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const a=s.size;let l=0,A=0,c=0,u=null,o=null;for(let d=0;d<a;d++){A=c=0,u=o=null;for(let h=0;h<a;h++){let f=s.get(d,h);f===u?A++:(A>=5&&(l+=t.N1+(A-5)),u=f,A=1),f=s.get(h,d),f===o?c++:(c>=5&&(l+=t.N1+(c-5)),o=f,c=1)}A>=5&&(l+=t.N1+(A-5)),c>=5&&(l+=t.N1+(c-5))}return l},e.getPenaltyN2=function(s){const a=s.size;let l=0;for(let A=0;A<a-1;A++)for(let c=0;c<a-1;c++){const u=s.get(A,c)+s.get(A,c+1)+s.get(A+1,c)+s.get(A+1,c+1);(u===4||u===0)&&l++}return l*t.N2},e.getPenaltyN3=function(s){const a=s.size;let l=0,A=0,c=0;for(let u=0;u<a;u++){A=c=0;for(let o=0;o<a;o++)A=A<<1&2047|s.get(u,o),o>=10&&(A===1488||A===93)&&l++,c=c<<1&2047|s.get(o,u),o>=10&&(c===1488||c===93)&&l++}return l*t.N3},e.getPenaltyN4=function(s){let a=0;const l=s.data.length;for(let c=0;c<l;c++)a+=s.data[c];return Math.abs(Math.ceil(a*100/l/5)-10)*t.N4};function r(n,s,a){switch(n){case e.Patterns.PATTERN000:return(s+a)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(s+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return s*a%2+s*a%3===0;case e.Patterns.PATTERN110:return(s*a%2+s*a%3)%2===0;case e.Patterns.PATTERN111:return(s*a%3+(s+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(s,a){const l=a.size;for(let A=0;A<l;A++)for(let c=0;c<l;c++)a.isReserved(c,A)||a.xor(c,A,r(s,c,A))},e.getBestMask=function(s,a){const l=Object.keys(e.Patterns).length;let A=0,c=1/0;for(let u=0;u<l;u++){a(u),e.applyMask(u,s);const o=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(u,s),o<c&&(c=o,A=u)}return A}})(qU);var Lb={};const jA=Ob,ev=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],tv=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Lb.getBlocksCount=function(t,r){switch(r){case jA.L:return ev[(t-1)*4+0];case jA.M:return ev[(t-1)*4+1];case jA.Q:return ev[(t-1)*4+2];case jA.H:return ev[(t-1)*4+3];default:return}};Lb.getTotalCodewordsCount=function(t,r){switch(r){case jA.L:return tv[(t-1)*4+0];case jA.M:return tv[(t-1)*4+1];case jA.Q:return tv[(t-1)*4+2];case jA.H:return tv[(t-1)*4+3];default:return}};var ZU={},Qb={};const hm=new Uint8Array(512),yx=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)hm[r]=t,yx[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)hm[r]=hm[r-255]})();Qb.log=function(t){if(t<1)throw new Error("log("+t+")");return yx[t]};Qb.exp=function(t){return hm[t]};Qb.mul=function(t,r){return t===0||r===0?0:hm[yx[t]+yx[r]]};(function(e){const t=Qb;e.mul=function(n,s){const a=new Uint8Array(n.length+s.length-1);for(let l=0;l<n.length;l++)for(let A=0;A<s.length;A++)a[l+A]^=t.mul(n[l],s[A]);return a},e.mod=function(n,s){let a=new Uint8Array(n);for(;a.length-s.length>=0;){const l=a[0];for(let c=0;c<s.length;c++)a[c]^=t.mul(s[c],l);let A=0;for(;A<a.length&&a[A]===0;)A++;a=a.slice(A)}return a},e.generateECPolynomial=function(n){let s=new Uint8Array([1]);for(let a=0;a<n;a++)s=e.mul(s,new Uint8Array([1,t.exp(a)]));return s}})(ZU);const eP=ZU;function VB(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}VB.prototype.initialize=function(t){this.degree=t,this.genPoly=eP.generateECPolynomial(this.degree)};VB.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=eP.mod(r,this.genPoly),s=this.degree-n.length;if(s>0){const a=new Uint8Array(this.degree);return a.set(n,s),a}return n};var nz=VB,tP={},ZA={},GB={};GB.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var yl={};const rP="[0-9]+",sz="[A-Z $%*+\\-./:]+";let zm="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";zm=zm.replace(/u/g,"\\u");const az="(?:(?![A-Z0-9 $%*+\\-./:]|"+zm+`)(?:.|[\r
]))+`;yl.KANJI=new RegExp(zm,"g");yl.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");yl.BYTE=new RegExp(az,"g");yl.NUMERIC=new RegExp(rP,"g");yl.ALPHANUMERIC=new RegExp(sz,"g");const iz=new RegExp("^"+zm+"$"),oz=new RegExp("^"+rP+"$"),lz=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");yl.testKanji=function(t){return iz.test(t)};yl.testNumeric=function(t){return oz.test(t)};yl.testAlphanumeric=function(t){return lz.test(t)};(function(e){const t=GB,r=yl;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,l){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?a.ccBits[0]:l<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return r.testNumeric(a)?e.NUMERIC:r.testAlphanumeric(a)?e.ALPHANUMERIC:r.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function n(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(a,l){if(e.isValid(a))return a;try{return n(a)}catch{return l}}})(ZA);(function(e){const t=Fi,r=Lb,n=Ob,s=ZA,a=GB,l=7973,A=t.getBCHDigit(l);function c(h,f,g){for(let m=1;m<=40;m++)if(f<=e.getCapacity(m,g,h))return m}function u(h,f){return s.getCharCountIndicator(h,f)+4}function o(h,f){let g=0;return h.forEach(function(m){const x=u(m.mode,f);g+=x+m.getBitsLength()}),g}function d(h,f){for(let g=1;g<=40;g++)if(o(h,g)<=e.getCapacity(g,f,s.MIXED))return g}e.from=function(f,g){return a.isValid(f)?parseInt(f,10):g},e.getCapacity=function(f,g,m){if(!a.isValid(f))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=s.BYTE);const x=t.getSymbolTotalCodewords(f),p=r.getTotalCodewordsCount(f,g),v=(x-p)*8;if(m===s.MIXED)return v;const b=v-u(m,f);switch(m){case s.NUMERIC:return Math.floor(b/10*3);case s.ALPHANUMERIC:return Math.floor(b/11*2);case s.KANJI:return Math.floor(b/13);case s.BYTE:default:return Math.floor(b/8)}},e.getBestVersionForData=function(f,g){let m;const x=n.from(g,n.M);if(Array.isArray(f)){if(f.length>1)return d(f,x);if(f.length===0)return 1;m=f[0]}else m=f;return c(m.mode,m.getLength(),x)},e.getEncodedBits=function(f){if(!a.isValid(f)||f<7)throw new Error("Invalid QR Code version");let g=f<<12;for(;t.getBCHDigit(g)-A>=0;)g^=l<<t.getBCHDigit(g)-A;return f<<12|g}})(tP);var nP={};const Cj=Fi,sP=1335,cz=21522,TS=Cj.getBCHDigit(sP);nP.getEncodedBits=function(t,r){const n=t.bit<<3|r;let s=n<<10;for(;Cj.getBCHDigit(s)-TS>=0;)s^=sP<<Cj.getBCHDigit(s)-TS;return(n<<10|s)^cz};var aP={};const Az=ZA;function oh(e){this.mode=Az.NUMERIC,this.data=e.toString()}oh.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};oh.prototype.getLength=function(){return this.data.length};oh.prototype.getBitsLength=function(){return oh.getBitsLength(this.data.length)};oh.prototype.write=function(t){let r,n,s;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),s=parseInt(n,10),t.put(s,10);const a=this.data.length-r;a>0&&(n=this.data.substr(r),s=parseInt(n,10),t.put(s,a*3+1))};var uz=oh;const dz=ZA,pw=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function lh(e){this.mode=dz.ALPHANUMERIC,this.data=e}lh.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};lh.prototype.getLength=function(){return this.data.length};lh.prototype.getBitsLength=function(){return lh.getBitsLength(this.data.length)};lh.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=pw.indexOf(this.data[r])*45;n+=pw.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(pw.indexOf(this.data[r]),6)};var fz=lh;const hz=ZA;function ch(e){this.mode=hz.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}ch.getBitsLength=function(t){return t*8};ch.prototype.getLength=function(){return this.data.length};ch.prototype.getBitsLength=function(){return ch.getBitsLength(this.data.length)};ch.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var mz=ch;const pz=ZA,gz=Fi;function Ah(e){this.mode=pz.KANJI,this.data=e}Ah.getBitsLength=function(t){return t*13};Ah.prototype.getLength=function(){return this.data.length};Ah.prototype.getBitsLength=function(){return Ah.getBitsLength(this.data.length)};Ah.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=gz.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var vz=Ah,iP={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,s){var a={},l={};l[n]=0;var A=t.PriorityQueue.make();A.push(n,0);for(var c,u,o,d,h,f,g,m,x;!A.empty();){c=A.pop(),u=c.value,d=c.cost,h=r[u]||{};for(o in h)h.hasOwnProperty(o)&&(f=h[o],g=d+f,m=l[o],x=typeof l[o]>"u",(x||m>g)&&(l[o]=g,A.push(o,g),a[o]=u))}if(typeof s<"u"&&typeof l[s]>"u"){var p=["Could not find a path from ",n," to ",s,"."].join("");throw new Error(p)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var s=[],a=n;a;)s.push(a),r[a],a=r[a];return s.reverse(),s},find_path:function(r,n,s){var a=t.single_source_shortest_paths(r,n,s);return t.extract_shortest_path_from_predecessor_list(a,s)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,s={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(s[a]=n[a]);return s.queue=[],s.sorter=r.sorter||n.default_sorter,s},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var s={value:r,cost:n};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(iP);var xz=iP.exports;(function(e){const t=ZA,r=uz,n=fz,s=mz,a=vz,l=yl,A=Fi,c=xz;function u(p){return unescape(encodeURIComponent(p)).length}function o(p,v,b){const j=[];let k;for(;(k=p.exec(b))!==null;)j.push({data:k[0],index:k.index,mode:v,length:k[0].length});return j}function d(p){const v=o(l.NUMERIC,t.NUMERIC,p),b=o(l.ALPHANUMERIC,t.ALPHANUMERIC,p);let j,k;return A.isKanjiModeEnabled()?(j=o(l.BYTE,t.BYTE,p),k=o(l.KANJI,t.KANJI,p)):(j=o(l.BYTE_KANJI,t.BYTE,p),k=[]),v.concat(b,j,k).sort(function(F,T){return F.index-T.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function h(p,v){switch(v){case t.NUMERIC:return r.getBitsLength(p);case t.ALPHANUMERIC:return n.getBitsLength(p);case t.KANJI:return a.getBitsLength(p);case t.BYTE:return s.getBitsLength(p)}}function f(p){return p.reduce(function(v,b){const j=v.length-1>=0?v[v.length-1]:null;return j&&j.mode===b.mode?(v[v.length-1].data+=b.data,v):(v.push(b),v)},[])}function g(p){const v=[];for(let b=0;b<p.length;b++){const j=p[b];switch(j.mode){case t.NUMERIC:v.push([j,{data:j.data,mode:t.ALPHANUMERIC,length:j.length},{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.ALPHANUMERIC:v.push([j,{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.KANJI:v.push([j,{data:j.data,mode:t.BYTE,length:u(j.data)}]);break;case t.BYTE:v.push([{data:j.data,mode:t.BYTE,length:u(j.data)}])}}return v}function m(p,v){const b={},j={start:{}};let k=["start"];for(let S=0;S<p.length;S++){const F=p[S],T=[];for(let P=0;P<F.length;P++){const R=F[P],U=""+S+P;T.push(U),b[U]={node:R,lastCount:0},j[U]={};for(let D=0;D<k.length;D++){const Q=k[D];b[Q]&&b[Q].node.mode===R.mode?(j[Q][U]=h(b[Q].lastCount+R.length,R.mode)-h(b[Q].lastCount,R.mode),b[Q].lastCount+=R.length):(b[Q]&&(b[Q].lastCount=R.length),j[Q][U]=h(R.length,R.mode)+4+t.getCharCountIndicator(R.mode,v))}}k=T}for(let S=0;S<k.length;S++)j[k[S]].end=0;return{map:j,table:b}}function x(p,v){let b;const j=t.getBestModeForData(p);if(b=t.from(v,j),b!==t.BYTE&&b.bit<j.bit)throw new Error('"'+p+'" cannot be encoded with mode '+t.toString(b)+`.
 Suggested mode is: `+t.toString(j));switch(b===t.KANJI&&!A.isKanjiModeEnabled()&&(b=t.BYTE),b){case t.NUMERIC:return new r(p);case t.ALPHANUMERIC:return new n(p);case t.KANJI:return new a(p);case t.BYTE:return new s(p)}}e.fromArray=function(v){return v.reduce(function(b,j){return typeof j=="string"?b.push(x(j,null)):j.data&&b.push(x(j.data,j.mode)),b},[])},e.fromString=function(v,b){const j=d(v,A.isKanjiModeEnabled()),k=g(j),S=m(k,b),F=c.find_path(S.map,"start","end"),T=[];for(let P=1;P<F.length-1;P++)T.push(S.table[F[P]].node);return e.fromArray(f(T))},e.rawSplit=function(v){return e.fromArray(d(v,A.isKanjiModeEnabled()))}})(aP);const Db=Fi,gw=Ob,bz=ez,yz=tz,wz=JU,jz=XU,Nj=qU,kj=Lb,Bz=nz,wx=tP,Cz=nP,Nz=ZA,vw=aP;function kz(e,t){const r=e.size,n=jz.getPositions(t);for(let s=0;s<n.length;s++){const a=n[s][0],l=n[s][1];for(let A=-1;A<=7;A++)if(!(a+A<=-1||r<=a+A))for(let c=-1;c<=7;c++)l+c<=-1||r<=l+c||(A>=0&&A<=6&&(c===0||c===6)||c>=0&&c<=6&&(A===0||A===6)||A>=2&&A<=4&&c>=2&&c<=4?e.set(a+A,l+c,!0,!0):e.set(a+A,l+c,!1,!0))}}function Sz(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function _z(e,t){const r=wz.getPositions(t);for(let n=0;n<r.length;n++){const s=r[n][0],a=r[n][1];for(let l=-2;l<=2;l++)for(let A=-2;A<=2;A++)l===-2||l===2||A===-2||A===2||l===0&&A===0?e.set(s+l,a+A,!0,!0):e.set(s+l,a+A,!1,!0)}}function Ez(e,t){const r=e.size,n=wx.getEncodedBits(t);let s,a,l;for(let A=0;A<18;A++)s=Math.floor(A/3),a=A%3+r-8-3,l=(n>>A&1)===1,e.set(s,a,l,!0),e.set(a,s,l,!0)}function xw(e,t,r){const n=e.size,s=Cz.getEncodedBits(t,r);let a,l;for(a=0;a<15;a++)l=(s>>a&1)===1,a<6?e.set(a,8,l,!0):a<8?e.set(a+1,8,l,!0):e.set(n-15+a,8,l,!0),a<8?e.set(8,n-a-1,l,!0):a<9?e.set(8,15-a-1+1,l,!0):e.set(8,15-a-1,l,!0);e.set(n-8,8,1,!0)}function Fz(e,t){const r=e.size;let n=-1,s=r-1,a=7,l=0;for(let A=r-1;A>0;A-=2)for(A===6&&A--;;){for(let c=0;c<2;c++)if(!e.isReserved(s,A-c)){let u=!1;l<t.length&&(u=(t[l]>>>a&1)===1),e.set(s,A-c,u),a--,a===-1&&(l++,a=7)}if(s+=n,s<0||r<=s){s-=n,n=-n;break}}}function Iz(e,t,r){const n=new bz;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),Nz.getCharCountIndicator(c.mode,e)),c.write(n)});const s=Db.getSymbolTotalCodewords(e),a=kj.getTotalCodewordsCount(e,t),l=(s-a)*8;for(n.getLengthInBits()+4<=l&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const A=(l-n.getLengthInBits())/8;for(let c=0;c<A;c++)n.put(c%2?17:236,8);return Uz(n,e,t)}function Uz(e,t,r){const n=Db.getSymbolTotalCodewords(t),s=kj.getTotalCodewordsCount(t,r),a=n-s,l=kj.getBlocksCount(t,r),A=n%l,c=l-A,u=Math.floor(n/l),o=Math.floor(a/l),d=o+1,h=u-o,f=new Bz(h);let g=0;const m=new Array(l),x=new Array(l);let p=0;const v=new Uint8Array(e.buffer);for(let F=0;F<l;F++){const T=F<c?o:d;m[F]=v.slice(g,g+T),x[F]=f.encode(m[F]),g+=T,p=Math.max(p,T)}const b=new Uint8Array(n);let j=0,k,S;for(k=0;k<p;k++)for(S=0;S<l;S++)k<m[S].length&&(b[j++]=m[S][k]);for(k=0;k<h;k++)for(S=0;S<l;S++)b[j++]=x[S][k];return b}function Pz(e,t,r,n){let s;if(Array.isArray(e))s=vw.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const o=vw.rawSplit(e);u=wx.getBestVersionForData(o,r)}s=vw.fromString(e,u||40)}else throw new Error("Invalid data");const a=wx.getBestVersionForData(s,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const l=Iz(t,r,s),A=Db.getSymbolSize(t),c=new yz(A);return kz(c,t),Sz(c),_z(c,t),xw(c,r,0),t>=7&&Ez(c,t),Fz(c,l),isNaN(n)&&(n=Nj.getBestMask(c,xw.bind(null,c,r))),Nj.applyMask(n,c),xw(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:s}}WU.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=gw.M,s,a;return typeof r<"u"&&(n=gw.from(r.errorCorrectionLevel,gw.M),s=wx.from(r.version),a=Nj.from(r.maskPattern),r.toSJISFunc&&Db.setToSJISFunction(r.toSJISFunc)),Pz(t,s,n,a)};var oP={},WB={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const s=parseInt(n.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const s=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,l=n.scale||4;return{width:a,scale:a?4:l,margin:s,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,s){return s.width&&s.width>=n+s.margin*2?s.width/(n+s.margin*2):s.scale},e.getImageWidth=function(n,s){const a=e.getScale(n,s);return Math.floor((n+s.margin*2)*a)},e.qrToImageData=function(n,s,a){const l=s.modules.size,A=s.modules.data,c=e.getScale(l,a),u=Math.floor((l+a.margin*2)*c),o=a.margin*c,d=[a.color.light,a.color.dark];for(let h=0;h<u;h++)for(let f=0;f<u;f++){let g=(h*u+f)*4,m=a.color.light;if(h>=o&&f>=o&&h<u-o&&f<u-o){const x=Math.floor((h-o)/c),p=Math.floor((f-o)/c);m=d[A[x*l+p]?1:0]}n[g++]=m.r,n[g++]=m.g,n[g++]=m.b,n[g]=m.a}}})(WB);(function(e){const t=WB;function r(s,a,l){s.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=l,a.width=l,a.style.height=l+"px",a.style.width=l+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,l,A){let c=A,u=l;typeof c>"u"&&(!l||!l.getContext)&&(c=l,l=void 0),l||(u=n()),c=t.getOptions(c);const o=t.getImageWidth(a.modules.size,c),d=u.getContext("2d"),h=d.createImageData(o,o);return t.qrToImageData(h.data,a,c),r(d,u,o),d.putImageData(h,0,0),u},e.renderToDataURL=function(a,l,A){let c=A;typeof c>"u"&&(!l||!l.getContext)&&(c=l,l=void 0),c||(c={});const u=e.render(a,l,c),o=c.type||"image/png",d=c.rendererOpts||{};return u.toDataURL(o,d.quality)}})(oP);var lP={};const Tz=WB;function OS(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function bw(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function Oz(e,t,r){let n="",s=0,a=!1,l=0;for(let A=0;A<e.length;A++){const c=Math.floor(A%t),u=Math.floor(A/t);!c&&!a&&(a=!0),e[A]?(l++,A>0&&c>0&&e[A-1]||(n+=a?bw("M",c+r,.5+u+r):bw("m",s,0),s=0,a=!1),c+1<t&&e[A+1]||(n+=bw("h",l),l=0)):s++}return n}lP.render=function(t,r,n){const s=Tz.getOptions(r),a=t.modules.size,l=t.modules.data,A=a+s.margin*2,c=s.color.light.a?"<path "+OS(s.color.light,"fill")+' d="M0 0h'+A+"v"+A+'H0z"/>':"",u="<path "+OS(s.color.dark,"stroke")+' d="'+Oz(l,a,s.margin)+'"/>',o='viewBox="0 0 '+A+" "+A+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+o+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,h),h};const Lz=qK,Sj=WU,cP=oP,Qz=lP;function YB(e,t,r,n,s){const a=[].slice.call(arguments,1),l=a.length,A=typeof a[l-1]=="function";if(!A&&!Lz())throw new Error("Callback required as last argument");if(A){if(l<2)throw new Error("Too few arguments provided");l===2?(s=r,r=t,t=n=void 0):l===3&&(t.getContext&&typeof s>"u"?(s=n,n=void 0):(s=n,n=r,r=t,t=void 0))}else{if(l<1)throw new Error("Too few arguments provided");return l===1?(r=t,t=n=void 0):l===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,u){try{const o=Sj.create(r,n);c(e(o,t,n))}catch(o){u(o)}})}try{const c=Sj.create(r,n);s(null,e(c,t,n))}catch(c){s(c)}}KA.create=Sj.create;KA.toCanvas=YB.bind(null,cP.render);KA.toDataURL=YB.bind(null,cP.renderToDataURL);KA.toString=YB.bind(null,function(e,t,r){return Qz.render(e,r)});function Dz({campaignId:e,objectiveAmount:t,currentPledged:r,onClose:n}){Nn();const[s,a]=E.useState(5e3),[l,A]=E.useState(5),[c,u]=E.useState(""),[o,d]=E.useState(!1),h=s*l,f=t>0?h/t*100:0,g=r+h,m=t>0?g/t*100:0,x=async()=>{if(!c.trim()){alert("Veuillez donner un nom au scnario");return}d(!0);try{const{error:p}=await Ie.from("scenarios").insert({campaign_id:e,params_json:{price_per_sponsor:s,expected_sponsors_count:l},results_json:{name:c,estimated_revenue:h,achievement_rate:f,total_with_current:g,total_achievement_rate:m}});if(p)throw p;alert("Scnario enregistr avec succs"),u("")}catch(p){alert("Erreur: "+p.message)}finally{d(!1)}};return i.jsxs("div",{className:"fixed inset-y-0 right-0 w-full max-w-md bg-white shadow-2xl z-50 overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:i.jsx(pU,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Mode Prvisionnel"}),i.jsx("p",{className:"text-xs text-blue-100",children:"Simulez vos revenus futurs"})]})]}),i.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-lg transition",children:i.jsx(un,{className:"w-5 h-5 text-white"})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:[i.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"tat actuel"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Promesses actuelles"}),i.jsxs("span",{className:"font-bold text-slate-900",children:[r.toLocaleString("fr-FR"),""]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Objectif"}),i.jsxs("span",{className:"font-bold text-slate-900",children:[t.toLocaleString("fr-FR"),""]})]}),i.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"Reste  atteindre"}),i.jsxs("span",{className:"font-bold text-blue-600",children:[Math.max(0,t-r).toLocaleString("fr-FR"),""]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-2",children:[i.jsx(PH,{className:"w-4 h-4 text-blue-600"}),"Prix par sponsor ()"]}),i.jsx("input",{type:"range",min:"100",max:"20000",step:"100",value:s,onChange:p=>a(Number(p.target.value)),className:"w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsx("input",{type:"number",value:s,onChange:p=>a(Number(p.target.value)),className:"w-32 px-3 py-2 border border-slate-300 rounded-lg text-center font-bold text-slate-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),i.jsx("span",{className:"text-xs text-slate-500",children:"100 - 20 000"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 mb-2",children:[i.jsx(XA,{className:"w-4 h-4 text-green-600"}),"Nombre de sponsors attendus"]}),i.jsx("input",{type:"range",min:"1",max:"50",step:"1",value:l,onChange:p=>A(Number(p.target.value)),className:"w-full h-2 bg-green-200 rounded-lg appearance-none cursor-pointer accent-green-600"}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsx("input",{type:"number",value:l,onChange:p=>A(Number(p.target.value)),className:"w-32 px-3 py-2 border border-slate-300 rounded-lg text-center font-bold text-slate-900 focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"}),i.jsx("span",{className:"text-xs text-slate-500",children:"1 - 50 sponsors"})]})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-xl p-5 border-2 border-green-200 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Sh,{className:"w-5 h-5 text-green-700"}),i.jsx("h3",{className:"text-sm font-bold text-slate-900 uppercase tracking-wide",children:"Rsultats de la simulation"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"bg-white rounded-lg p-3",children:[i.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Revenu estim"}),i.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[h.toLocaleString("fr-FR"),""]}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[s.toLocaleString("fr-FR"),"  ",l," sponsors"]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-3",children:[i.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Taux d'atteinte prvisionnel"}),i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[f.toFixed(1),"%"]}),i.jsx("p",{className:"text-xs text-slate-500",children:"de l'objectif"})]}),i.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 mt-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all ${f>=100?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-blue-600 to-green-600"}`,style:{width:`${Math.min(f,100)}%`}})})]}),i.jsxs("div",{className:"bg-gradient-to-r from-green-100 to-blue-100 rounded-lg p-3 border border-green-200",children:[i.jsx("p",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Total avec promesses actuelles"}),i.jsxs("p",{className:"text-xl font-bold text-slate-900",children:[g.toLocaleString("fr-FR"),""]}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx("div",{className:"flex-1",children:i.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5",children:i.jsx("div",{className:`h-1.5 rounded-full transition-all ${m>=100?"bg-green-600":"bg-blue-600"}`,style:{width:`${Math.min(m,100)}%`}})})}),i.jsxs("span",{className:"text-xs font-bold text-slate-700",children:[m.toFixed(1),"%"]})]})]})]})]}),i.jsxs("div",{className:"border-t border-slate-200 pt-6",children:[i.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Enregistrer ce scnario"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("input",{type:"text",value:c,onChange:p=>u(p.target.value),placeholder:"Ex: Scnario optimiste, Plan B...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),i.jsxs("button",{onClick:x,disabled:o||!c.trim(),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(xd,{className:"w-4 h-4"}),o?"Enregistrement...":"Enregistrer le scnario"]})]})]}),i.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:i.jsxs("p",{className:"text-xs text-amber-900",children:[i.jsx("strong",{children:"Note:"})," Ces simulations sont des estimations bases sur vos paramtres. Les rsultats rels peuvent varier en fonction de nombreux facteurs."]})})]})]})}function AP(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=AP(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Qr(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=AP(e))&&(n&&(n+=" "),n+=t);return n}var Rz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function JB(e){if(typeof e!="string")return!1;var t=Rz;return t.includes(e)}var Mz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function uP(e){if(typeof e!="string")return!1;var t=Mz;return t.includes(e)}function dP(e){return typeof e=="string"&&e.startsWith("data-")}function Do(e){var t=Object.entries(e).filter(r=>{var[n]=r;return uP(n)||dP(n)});return Object.fromEntries(t)}function Vm(e){if(e==null)return null;if(E.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Do(t)}return typeof e=="object"&&!Array.isArray(e)?Do(e):null}function io(e){var t=Object.entries(e).filter(r=>{var[n]=r;return uP(n)||dP(n)||JB(n)});return Object.fromEntries(t)}var Hz=["children","width","height","viewBox","className","style","title","desc"];function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_j.apply(null,arguments)}function $z(e,t){if(e==null)return{};var r,n,s=Kz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Kz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XB=E.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:a,className:l,style:A,title:c,desc:u}=e,o=$z(e,Hz),d=a||{width:n,height:s,x:0,y:0},h=Qr("recharts-surface",l);return E.createElement("svg",_j({},io(o),{className:h,width:n,height:s,style:A,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),E.createElement("title",null,c),E.createElement("desc",null,u),r)}),zz=["children","className"];function Ej(){return Ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ej.apply(null,arguments)}function Vz(e,t){if(e==null)return{};var r,n,s=Gz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Gz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ei=E.forwardRef((e,t)=>{var{children:r,className:n}=e,s=Vz(e,zz),a=Qr("recharts-layer",n);return E.createElement("g",Ej({className:a},io(s),{ref:t}),r)}),fP=E.createContext(null),Wz=()=>E.useContext(fP);function Gr(e){return function(){return e}}const hP=Math.cos,jx=Math.sin,Mo=Math.sqrt,Bx=Math.PI,Rb=2*Bx,Fj=Math.PI,Ij=2*Fj,Su=1e-6,Yz=Ij-Su;function mP(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Jz(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mP;const r=10**t;return function(n){this._+=n[0];for(let s=1,a=n.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Xz{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?mP:Jz(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,a,l){this._append`C${+t},${+r},${+n},${+s},${this._x1=+a},${this._y1=+l}`}arcTo(t,r,n,s,a){if(t=+t,r=+r,n=+n,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,A=this._y1,c=n-t,u=s-r,o=l-t,d=A-r,h=o*o+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Su)if(!(Math.abs(d*c-u*o)>Su)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let f=n-l,g=s-A,m=c*c+u*u,x=f*f+g*g,p=Math.sqrt(m),v=Math.sqrt(h),b=a*Math.tan((Fj-Math.acos((m+h-x)/(2*p*v)))/2),j=b/v,k=b/p;Math.abs(j-1)>Su&&this._append`L${t+j*o},${r+j*d}`,this._append`A${a},${a},0,0,${+(d*f>o*g)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,s,a,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let A=n*Math.cos(s),c=n*Math.sin(s),u=t+A,o=r+c,d=1^l,h=l?s-a:a-s;this._x1===null?this._append`M${u},${o}`:(Math.abs(this._x1-u)>Su||Math.abs(this._y1-o)>Su)&&this._append`L${u},${o}`,n&&(h<0&&(h=h%Ij+Ij),h>Yz?this._append`A${n},${n},0,1,${d},${t-A},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=o}`:h>Su&&this._append`A${n},${n},0,${+(h>=Fj)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function qB(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Xz(t)}function ZB(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pP(e){this._context=e}pP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Mb(e){return new pP(e)}function gP(e){return e[0]}function vP(e){return e[1]}function xP(e,t){var r=Gr(!0),n=null,s=Mb,a=null,l=qB(A);e=typeof e=="function"?e:e===void 0?gP:Gr(e),t=typeof t=="function"?t:t===void 0?vP:Gr(t);function A(c){var u,o=(c=ZB(c)).length,d,h=!1,f;for(n==null&&(a=s(f=l())),u=0;u<=o;++u)!(u<o&&r(d=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,u,c),+t(d,u,c));if(f)return a=null,f+""||null}return A.x=function(c){return arguments.length?(e=typeof c=="function"?c:Gr(+c),A):e},A.y=function(c){return arguments.length?(t=typeof c=="function"?c:Gr(+c),A):t},A.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Gr(!!c),A):r},A.curve=function(c){return arguments.length?(s=c,n!=null&&(a=s(n)),A):s},A.context=function(c){return arguments.length?(c==null?n=a=null:a=s(n=c),A):n},A}function rv(e,t,r){var n=null,s=Gr(!0),a=null,l=Mb,A=null,c=qB(u);e=typeof e=="function"?e:e===void 0?gP:Gr(+e),t=typeof t=="function"?t:Gr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?vP:Gr(+r);function u(d){var h,f,g,m=(d=ZB(d)).length,x,p=!1,v,b=new Array(m),j=new Array(m);for(a==null&&(A=l(v=c())),h=0;h<=m;++h){if(!(h<m&&s(x=d[h],h,d))===p)if(p=!p)f=h,A.areaStart(),A.lineStart();else{for(A.lineEnd(),A.lineStart(),g=h-1;g>=f;--g)A.point(b[g],j[g]);A.lineEnd(),A.areaEnd()}p&&(b[h]=+e(x,h,d),j[h]=+t(x,h,d),A.point(n?+n(x,h,d):b[h],r?+r(x,h,d):j[h]))}if(v)return A=null,v+""||null}function o(){return xP().defined(s).curve(l).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Gr(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Gr(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Gr(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Gr(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Gr(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Gr(+d),u):r},u.lineX0=u.lineY0=function(){return o().x(e).y(t)},u.lineY1=function(){return o().x(e).y(r)},u.lineX1=function(){return o().x(n).y(t)},u.defined=function(d){return arguments.length?(s=typeof d=="function"?d:Gr(!!d),u):s},u.curve=function(d){return arguments.length?(l=d,a!=null&&(A=l(a)),u):l},u.context=function(d){return arguments.length?(d==null?a=A=null:A=l(a=d),u):a},u}class bP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function qz(e){return new bP(e,!0)}function Zz(e){return new bP(e,!1)}const eC={draw(e,t){const r=Mo(t/Bx);e.moveTo(r,0),e.arc(0,0,r,0,Rb)}},eV={draw(e,t){const r=Mo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},yP=Mo(1/3),tV=yP*2,rV={draw(e,t){const r=Mo(t/tV),n=r*yP;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},nV={draw(e,t){const r=Mo(t),n=-r/2;e.rect(n,n,r,r)}},sV=.8908130915292852,wP=jx(Bx/10)/jx(7*Bx/10),aV=jx(Rb/10)*wP,iV=-hP(Rb/10)*wP,oV={draw(e,t){const r=Mo(t*sV),n=aV*r,s=iV*r;e.moveTo(0,-r),e.lineTo(n,s);for(let a=1;a<5;++a){const l=Rb*a/5,A=hP(l),c=jx(l);e.lineTo(c*r,-A*r),e.lineTo(A*n-c*s,c*n+A*s)}e.closePath()}},yw=Mo(3),lV={draw(e,t){const r=-Mo(t/(yw*3));e.moveTo(0,r*2),e.lineTo(-yw*r,-r),e.lineTo(yw*r,-r),e.closePath()}},Vi=-.5,Gi=Mo(3)/2,Uj=1/Mo(12),cV=(Uj/2+1)*3,AV={draw(e,t){const r=Mo(t/cV),n=r/2,s=r*Uj,a=n,l=r*Uj+r,A=-a,c=l;e.moveTo(n,s),e.lineTo(a,l),e.lineTo(A,c),e.lineTo(Vi*n-Gi*s,Gi*n+Vi*s),e.lineTo(Vi*a-Gi*l,Gi*a+Vi*l),e.lineTo(Vi*A-Gi*c,Gi*A+Vi*c),e.lineTo(Vi*n+Gi*s,Vi*s-Gi*n),e.lineTo(Vi*a+Gi*l,Vi*l-Gi*a),e.lineTo(Vi*A+Gi*c,Vi*c-Gi*A),e.closePath()}};function uV(e,t){let r=null,n=qB(s);e=typeof e=="function"?e:Gr(e||eC),t=typeof t=="function"?t:Gr(t===void 0?64:+t);function s(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:Gr(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:Gr(+a),s):t},s.context=function(a){return arguments.length?(r=a??null,s):r},s}function Cx(){}function Nx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function jP(e){this._context=e}jP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dV(e){return new jP(e)}function BP(e){this._context=e}BP.prototype={areaStart:Cx,areaEnd:Cx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fV(e){return new BP(e)}function CP(e){this._context=e}CP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Nx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hV(e){return new CP(e)}function NP(e){this._context=e}NP.prototype={areaStart:Cx,areaEnd:Cx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mV(e){return new NP(e)}function LS(e){return e<0?-1:1}function QS(e,t,r){var n=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(n||s<0&&-0),l=(r-e._y1)/(s||n<0&&-0),A=(a*s+l*n)/(n+s);return(LS(a)+LS(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(A))||0}function DS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ww(e,t,r){var n=e._x0,s=e._y0,a=e._x1,l=e._y1,A=(a-n)/3;e._context.bezierCurveTo(n+A,s+A*t,a-A,l-A*r,a,l)}function kx(e){this._context=e}kx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ww(this,this._t0,DS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ww(this,DS(this,r=QS(this,e,t)),r);break;default:ww(this,this._t0,r=QS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function kP(e){this._context=new SP(e)}(kP.prototype=Object.create(kx.prototype)).point=function(e,t){kx.prototype.point.call(this,t,e)};function SP(e){this._context=e}SP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,a){this._context.bezierCurveTo(t,e,n,r,a,s)}};function pV(e){return new kx(e)}function gV(e){return new kP(e)}function _P(e){this._context=e}_P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=RS(e),s=RS(t),a=0,l=1;l<r;++a,++l)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function RS(e){var t,r=e.length-1,n,s=new Array(r),a=new Array(r),l=new Array(r);for(s[0]=0,a[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,a[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,a[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/a[t-1],a[t]-=n,l[t]-=n*l[t-1];for(s[r-1]=l[r-1]/a[r-1],t=r-2;t>=0;--t)s[t]=(l[t]-s[t+1])/a[t];for(a[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function vV(e){return new _P(e)}function Hb(e,t){this._context=e,this._t=t}Hb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function xV(e){return new Hb(e,.5)}function bV(e){return new Hb(e,0)}function yV(e){return new Hb(e,1)}function uh(e,t){if((l=e.length)>1)for(var r=1,n,s,a=e[t[0]],l,A=a.length;r<l;++r)for(s=a,a=e[t[r]],n=0;n<A;++n)a[n][1]+=a[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Pj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function wV(e,t){return e[t]}function jV(e){const t=[];return t.key=e,t}function BV(){var e=Gr([]),t=Pj,r=uh,n=wV;function s(a){var l=Array.from(e.apply(this,arguments),jV),A,c=l.length,u=-1,o;for(const d of a)for(A=0,++u;A<c;++A)(l[A][u]=[0,+n(d,l[A].key,u,a)]).data=d;for(A=0,o=ZB(t(l));A<c;++A)l[o[A]].index=A;return r(l,o),l}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Gr(Array.from(a)),s):e},s.value=function(a){return arguments.length?(n=typeof a=="function"?a:Gr(+a),s):n},s.order=function(a){return arguments.length?(t=a==null?Pj:typeof a=="function"?a:Gr(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(r=a??uh,s):r},s}function CV(e,t){if((n=e.length)>0){for(var r,n,s=0,a=e[0].length,l;s<a;++s){for(l=r=0;r<n;++r)l+=e[r][s][1]||0;if(l)for(r=0;r<n;++r)e[r][s][1]/=l}uh(e,t)}}function NV(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,a=n.length;r<a;++r){for(var l=0,A=0;l<s;++l)A+=e[l][r][1]||0;n[r][1]+=n[r][0]=-A/2}uh(e,t)}}function kV(e,t){if(!(!((l=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,a,l;n<a;++n){for(var A=0,c=0,u=0;A<l;++A){for(var o=e[t[A]],d=o[n][1]||0,h=o[n-1][1]||0,f=(d-h)/2,g=0;g<A;++g){var m=e[t[g]],x=m[n][1]||0,p=m[n-1][1]||0;f+=x-p}c+=d,u+=f*d}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,uh(e,t)}}var $b={},EP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(EP);var tC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(tC);var Kb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Kb);var zb={},FP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(FP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FP,r=Kb;function n(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const a=[],l=s.length;if(l===0)return a;let A=0,c="",u="",o=!1;for(s.charCodeAt(0)===46&&(a.push(""),A++);A<l;){const d=s[A];u?d==="\\"&&A+1<l?(A++,c+=s[A]):d===u?u="":c+=d:o?d==='"'||d==="'"?u=d:d==="]"?(o=!1,a.push(c),c=""):c+=d:d==="["?(o=!0,c&&(a.push(c),c="")):d==="."?c&&(a.push(c),c=""):c+=d,A++}return c&&a.push(c),a}e.toPath=n})(zb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EP,r=tC,n=Kb,s=zb;function a(A,c,u){if(A==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const o=A[c];return o===void 0?r.isDeepKey(c)?a(A,s.toPath(c),u):u:o}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const o=A[c];return o===void 0?u:o}default:{if(Array.isArray(c))return l(A,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const o=A[c];return o===void 0?u:o}}}function l(A,c,u){if(c.length===0)return u;let o=A;for(let d=0;d<c.length;d++){if(o==null||t.isUnsafeProperty(c[d]))return u;o=o[c[d]]}return o===void 0?u:o}e.get=a})($b);var SV=$b.get;const id=bl(SV);var ys=e=>e===0?0:e>0?1:-1,oo=e=>typeof e=="number"&&e!=+e,vc=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ot=e=>(typeof e=="number"||e instanceof Number)&&!oo(e),vl=e=>Ot(e)||typeof e=="string",_V=0,Gm=e=>{var t=++_V;return"".concat(e||"").concat(t)},ea=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ot(t)&&typeof t!="string")return n;var a;if(vc(t)){if(r==null)return n;var l=t.indexOf("%");a=r*parseFloat(t.slice(0,l))/100}else a=+t;return oo(a)&&(a=n),s&&r!=null&&a>r&&(a=r),a},IP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Os(e,t,r){return Ot(e)&&Ot(t)?e+r*(t-e):t}function EV(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):id(n,t))===r)}var js=e=>e===null||typeof e>"u",wp=e=>js(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),FV=["type","size","sizeType"];function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tj.apply(null,arguments)}function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){IV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IV(e,t,r){return(t=UV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UV(e){var t=PV(e,"string");return typeof t=="symbol"?t:t+""}function PV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TV(e,t){if(e==null)return{};var r,n,s=OV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function OV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UP={symbolCircle:eC,symbolCross:eV,symbolDiamond:rV,symbolSquare:nV,symbolStar:oV,symbolTriangle:lV,symbolWye:AV},LV=Math.PI/180,QV=e=>{var t="symbol".concat(wp(e));return UP[t]||eC},DV=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*LV;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},RV=(e,t)=>{UP["symbol".concat(wp(e))]=t},rC=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=TV(e,FV),a=HS(HS({},s),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var A=()=>{var h=QV(l),f=uV().type(h).size(DV(r,n,l)),g=f();if(g!==null)return g},{className:c,cx:u,cy:o}=a,d=io(a);return u===+u&&o===+o&&r===+r?E.createElement("path",Tj({},d,{className:Qr("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(o,")"),d:A()})):null};rC.registerSymbol=RV;var MV=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(E.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{JB(s)&&(n[s]=a=>r[s](r,a))}),n},HV=(e,t,r)=>n=>(e(t,r,n),null),jp=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var a=e[s];JB(s)&&typeof a=="function"&&(n||(n={}),n[s]=HV(a,t,r))}),n};function Oj(){return Oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oj.apply(null,arguments)}function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $V(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){nC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nC(e,t,r){return(t=KV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KV(e){var t=zV(e,"string");return typeof t=="symbol"?t:t+""}function zV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wi=32;class sC extends E.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,s=Wi/2,a=Wi/6,l=Wi/3,A=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return E.createElement("line",{strokeWidth:4,fill:"none",stroke:A,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:Wi,y2:s,className:"recharts-legend-icon"});if(c==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:A,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Wi,"M").concat(2*l,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(c==="rect")return E.createElement("path",{stroke:"none",fill:A,d:"M0,".concat(Wi/8,"h").concat(Wi,"v").concat(Wi*3/4,"h").concat(-Wi,"z"),className:"recharts-legend-icon"});if(E.isValidElement(t.legendIcon)){var u=$V({},t);return delete u.legendIcon,E.cloneElement(t.legendIcon,u)}return E.createElement(rC,{fill:A,cx:s,cy:s,size:Wi,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:a,iconType:l}=this.props,A={x:0,y:0,width:Wi,height:Wi},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((o,d)=>{var h=o.formatter||s,f=Qr({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:o.inactive});if(o.type==="none")return null;var g=o.inactive?a:o.color,m=h?h(o.value,o,d):o.value;return E.createElement("li",Oj({className:f,style:c,key:"legend-item-".concat(d)},jp(this.props,o,d)),E.createElement(XB,{width:r,height:r,viewBox:A,style:u,"aria-label":"".concat(m," legend icon")},this.renderIcon(o,l)),E.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},m))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}nC(sC,"displayName","Legend");nC(sC,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var PP={},TP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let a=0;a<r.length;a++){const l=r[a],A=n(l);s.has(A)||s.set(A,l)}return Array.from(s.values())}e.uniqBy=t})(TP);var aC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(aC);var OP={},Vb={},LP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(LP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LP;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Vb);var QP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(QP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vb,r=QP;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(OP);var DP={},RP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$b;function r(n){return function(s){return t.get(s,n)}}e.property=r})(RP);var MP={},iC={},HP={},oC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(oC);var lC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(lC);var cC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(cC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oC,r=lC,n=cC;function s(o,d,h){return typeof h!="function"?s(o,d,()=>{}):a(o,d,function f(g,m,x,p,v,b){const j=h(g,m,x,p,v,b);return j!==void 0?!!j:a(g,m,f,b)},new Map)}function a(o,d,h,f){if(d===o)return!0;switch(typeof d){case"object":return l(o,d,h,f);case"function":return Object.keys(d).length>0?a(o,{...d},h,f):n.eq(o,d);default:return t.isObject(o)?typeof d=="string"?d==="":!0:n.eq(o,d)}}function l(o,d,h,f){if(d==null)return!0;if(Array.isArray(d))return c(o,d,h,f);if(d instanceof Map)return A(o,d,h,f);if(d instanceof Set)return u(o,d,h,f);const g=Object.keys(d);if(o==null)return g.length===0;if(g.length===0)return!0;if(f!=null&&f.has(d))return f.get(d)===o;f==null||f.set(d,o);try{for(let m=0;m<g.length;m++){const x=g[m];if(!r.isPrimitive(o)&&!(x in o)||d[x]===void 0&&o[x]!==void 0||d[x]===null&&o[x]!==null||!h(o[x],d[x],x,o,d,f))return!1}return!0}finally{f==null||f.delete(d)}}function A(o,d,h,f){if(d.size===0)return!0;if(!(o instanceof Map))return!1;for(const[g,m]of d.entries()){const x=o.get(g);if(h(x,m,g,o,d,f)===!1)return!1}return!0}function c(o,d,h,f){if(d.length===0)return!0;if(!Array.isArray(o))return!1;const g=new Set;for(let m=0;m<d.length;m++){const x=d[m];let p=!1;for(let v=0;v<o.length;v++){if(g.has(v))continue;const b=o[v];let j=!1;if(h(b,x,m,o,d,f)&&(j=!0),j){g.add(v),p=!0;break}}if(!p)return!1}return!0}function u(o,d,h,f){return d.size===0?!0:o instanceof Set?c([...o],[...d],h,f):!1}e.isMatchWith=s,e.isSetMatch=u})(HP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HP;function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r})(iC);var $P={},AC={},KP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(KP);var uC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(uC);var dC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",a="[object Arguments]",l="[object Symbol]",A="[object Date]",c="[object Map]",u="[object Set]",o="[object Array]",d="[object Function]",h="[object ArrayBuffer]",f="[object Object]",g="[object Error]",m="[object DataView]",x="[object Uint8Array]",p="[object Uint8ClampedArray]",v="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",k="[object Int8Array]",S="[object Int16Array]",F="[object Int32Array]",T="[object BigInt64Array]",P="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=o,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=j,e.booleanTag=s,e.dataViewTag=m,e.dateTag=A,e.errorTag=g,e.float32ArrayTag=P,e.float64ArrayTag=R,e.functionTag=d,e.int16ArrayTag=S,e.int32ArrayTag=F,e.int8ArrayTag=k,e.mapTag=c,e.numberTag=n,e.objectTag=f,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=v,e.uint32ArrayTag=b,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=p})(dC);var zP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(zP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KP,r=uC,n=dC,s=lC,a=zP;function l(o,d){return A(o,void 0,o,new Map,d)}function A(o,d,h,f=new Map,g=void 0){const m=g==null?void 0:g(o,d,h,f);if(m!==void 0)return m;if(s.isPrimitive(o))return o;if(f.has(o))return f.get(o);if(Array.isArray(o)){const x=new Array(o.length);f.set(o,x);for(let p=0;p<o.length;p++)x[p]=A(o[p],p,h,f,g);return Object.hasOwn(o,"index")&&(x.index=o.index),Object.hasOwn(o,"input")&&(x.input=o.input),x}if(o instanceof Date)return new Date(o.getTime());if(o instanceof RegExp){const x=new RegExp(o.source,o.flags);return x.lastIndex=o.lastIndex,x}if(o instanceof Map){const x=new Map;f.set(o,x);for(const[p,v]of o)x.set(p,A(v,p,h,f,g));return x}if(o instanceof Set){const x=new Set;f.set(o,x);for(const p of o)x.add(A(p,void 0,h,f,g));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(o))return o.subarray();if(a.isTypedArray(o)){const x=new(Object.getPrototypeOf(o)).constructor(o.length);f.set(o,x);for(let p=0;p<o.length;p++)x[p]=A(o[p],p,h,f,g);return x}if(o instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&o instanceof SharedArrayBuffer)return o.slice(0);if(o instanceof DataView){const x=new DataView(o.buffer.slice(0),o.byteOffset,o.byteLength);return f.set(o,x),c(x,o,h,f,g),x}if(typeof File<"u"&&o instanceof File){const x=new File([o],o.name,{type:o.type});return f.set(o,x),c(x,o,h,f,g),x}if(typeof Blob<"u"&&o instanceof Blob){const x=new Blob([o],{type:o.type});return f.set(o,x),c(x,o,h,f,g),x}if(o instanceof Error){const x=new o.constructor;return f.set(o,x),x.message=o.message,x.name=o.name,x.stack=o.stack,x.cause=o.cause,c(x,o,h,f,g),x}if(o instanceof Boolean){const x=new Boolean(o.valueOf());return f.set(o,x),c(x,o,h,f,g),x}if(o instanceof Number){const x=new Number(o.valueOf());return f.set(o,x),c(x,o,h,f,g),x}if(o instanceof String){const x=new String(o.valueOf());return f.set(o,x),c(x,o,h,f,g),x}if(typeof o=="object"&&u(o)){const x=Object.create(Object.getPrototypeOf(o));return f.set(o,x),c(x,o,h,f,g),x}return o}function c(o,d,h=o,f,g){const m=[...Object.keys(d),...t.getSymbols(d)];for(let x=0;x<m.length;x++){const p=m[x],v=Object.getOwnPropertyDescriptor(o,p);(v==null||v.writable)&&(o[p]=A(d[p],p,h,f,g))}}function u(o){switch(r.getTag(o)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=A,e.copyProperties=c})(AC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AC;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})($P);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iC,r=$P;function n(s){return s=r.cloneDeep(s),a=>t.isMatch(a,s)}e.matches=n})(MP);var VP={},GP={},WP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AC,r=dC;function n(s,a){return t.cloneDeepWith(s,(l,A,c,u)=>{const o=a==null?void 0:a(l,A,c,u);if(o!==void 0)return o;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(d,s),d}case r.argumentsTag:{const d={};return t.copyProperties(d,s),d.length=s.length,d[Symbol.iterator]=s[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(WP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WP;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(GP);var YP={},fC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(fC);var JP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uC;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(JP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tC,r=fC,n=JP,s=zb;function a(l,A){let c;if(Array.isArray(A)?c=A:typeof A=="string"&&t.isDeepKey(A)&&(l==null?void 0:l[A])==null?c=s.toPath(A):c=[A],c.length===0)return!1;let u=l;for(let o=0;o<c.length;o++){const d=c[o];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=a})(YP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iC,r=Kb,n=GP,s=$b,a=YP;function l(A,c){switch(typeof A){case"object":{Object.is(A==null?void 0:A.valueOf(),-0)&&(A="-0");break}case"number":{A=r.toKey(A);break}}return c=n.cloneDeep(c),function(u){const o=s.get(u,A);return o===void 0?a.has(u,A):c===void 0?o===void 0:t.isMatch(o,c)}}e.matchesProperty=l})(VP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aC,r=RP,n=MP,s=VP;function a(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?s.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=a})(DP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TP,r=aC,n=OP,s=DP;function a(l,A=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),s.iteratee(A)):[]}e.uniqBy=a})(PP);var VV=PP.uniqBy;const KS=bl(VV);function XP(e,t,r){return t===!0?KS(e,r):typeof t=="function"?KS(e,t):e}var qP={exports:{}},ZP={},eT={exports:{}},tT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh=E;function GV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WV=typeof Object.is=="function"?Object.is:GV,YV=dh.useState,JV=dh.useEffect,XV=dh.useLayoutEffect,qV=dh.useDebugValue;function ZV(e,t){var r=t(),n=YV({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return XV(function(){s.value=r,s.getSnapshot=t,jw(s)&&a({inst:s})},[e,r,t]),JV(function(){return jw(s)&&a({inst:s}),e(function(){jw(s)&&a({inst:s})})},[e]),qV(r),r}function jw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!WV(e,r)}catch{return!0}}function eG(e,t){return t()}var tG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eG:ZV;tT.useSyncExternalStore=dh.useSyncExternalStore!==void 0?dh.useSyncExternalStore:tG;eT.exports=tT;var rG=eT.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb=E,nG=rG;function sG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aG=typeof Object.is=="function"?Object.is:sG,iG=nG.useSyncExternalStore,oG=Gb.useRef,lG=Gb.useEffect,cG=Gb.useMemo,AG=Gb.useDebugValue;ZP.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var a=oG(null);if(a.current===null){var l={hasValue:!1,value:null};a.current=l}else l=a.current;a=cG(function(){function c(f){if(!u){if(u=!0,o=f,f=n(f),s!==void 0&&l.hasValue){var g=l.value;if(s(g,f))return d=g}return d=f}if(g=d,aG(o,f))return g;var m=n(f);return s!==void 0&&s(g,m)?(o=f,g):(o=f,d=m)}var u=!1,o,d,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var A=iG(e,a[0],a[1]);return lG(function(){l.hasValue=!0,l.value=A},[A]),AG(A),A};qP.exports=ZP;var uG=qP.exports,hC=E.createContext(null),dG=e=>e,dn=()=>{var e=E.useContext(hC);return e?e.store.dispatch:dG},Hv=()=>{},fG=()=>Hv,hG=(e,t)=>e===t;function Pt(e){var t=E.useContext(hC);return uG.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:fG,t?t.store.getState:Hv,t?t.store.getState:Hv,t?e:Hv,hG)}function mG(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function pG(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function gG(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var zS=e=>Array.isArray(e)?e:[e];function vG(e){const t=Array.isArray(e[0])?e[0]:e;return gG(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function xG(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var bG=class{constructor(e){this.value=e}deref(){return this.value}},yG=typeof WeakRef<"u"?WeakRef:bG,wG=0,VS=1;function nv(){return{s:wG,v:void 0,o:null,p:null}}function rT(e,t={}){let r=nv();const{resultEqualityCheck:n}=t;let s,a=0;function l(){var d;let A=r;const{length:c}=arguments;for(let h=0,f=c;h<f;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let m=A.o;m===null&&(A.o=m=new WeakMap);const x=m.get(g);x===void 0?(A=nv(),m.set(g,A)):A=x}else{let m=A.p;m===null&&(A.p=m=new Map);const x=m.get(g);x===void 0?(A=nv(),m.set(g,A)):A=x}}const u=A;let o;if(A.s===VS)o=A.v;else if(o=e.apply(null,arguments),a++,n){const h=((d=s==null?void 0:s.deref)==null?void 0:d.call(s))??s;h!=null&&n(h,o)&&(o=h,a!==0&&a--),s=typeof o=="object"&&o!==null||typeof o=="function"?new yG(o):o}return u.s=VS,u.v=o,o}return l.clearCache=()=>{r=nv(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function jG(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let a=0,l=0,A,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),mG(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const o={...r,...c},{memoize:d,memoizeOptions:h=[],argsMemoize:f=rT,argsMemoizeOptions:g=[],devModeChecks:m={}}=o,x=zS(h),p=zS(g),v=vG(s),b=d(function(){return a++,u.apply(null,arguments)},...x),j=f(function(){l++;const S=xG(v,arguments);return A=b.apply(null,S),A},...p);return Object.assign(j,{resultFunc:u,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>A,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:f})};return Object.assign(n,{withTypes:()=>n}),n}var Te=jG(rT),BG=Object.assign((e,t=Te)=>{pG(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((l,A,c)=>(l[r[c]]=A,l),{}))},{withTypes:()=>BG}),nT={},sT={},aT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,a)=>{if(n!==s){const l=t(n),A=t(s);if(l===A&&l===0){if(n<s)return a==="desc"?1:-1;if(n>s)return a==="desc"?-1:1}return a==="desc"?A-l:l-A}return 0};e.compareValues=r})(aT);var iT={},mC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(mC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mC,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||l!=null&&Object.hasOwn(l,a)}e.isKey=s})(iT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aT,r=iT,n=zb;function s(a,l,A,c){if(a==null)return[];A=c?void 0:A,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(A)||(A=A==null?[]:[A]),A=A.map(f=>String(f));const u=(f,g)=>{let m=f;for(let x=0;x<g.length&&m!=null;++x)m=m[g[x]];return m},o=(f,g)=>g==null||f==null?g:typeof f=="object"&&"key"in f?Object.hasOwn(g,f.key)?g[f.key]:u(g,f.path):typeof f=="function"?f(g):Array.isArray(f)?u(g,f):typeof g=="object"?g[f]:g,d=l.map(f=>(Array.isArray(f)&&f.length===1&&(f=f[0]),f==null||typeof f=="function"||Array.isArray(f)||r.isKey(f)?f:{key:f,path:n.toPath(f)}));return a.map(f=>({original:f,criteria:d.map(g=>o(g,f))})).slice().sort((f,g)=>{for(let m=0;m<d.length;m++){const x=t.compareValues(f.criteria[m],g.criteria[m],A[m]);if(x!==0)return x}return 0}).map(f=>f.original)}e.orderBy=s})(sT);var oT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],a=Math.floor(n),l=(A,c)=>{for(let u=0;u<A.length;u++){const o=A[u];Array.isArray(o)&&c<a?l(o,c+1):s.push(o)}};return l(r,0),s}e.flatten=t})(oT);var pC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fC,r=Vb,n=oC,s=cC;function a(l,A,c){return n.isObject(c)&&(typeof A=="number"&&r.isArrayLike(c)&&t.isIndex(A)&&A<c.length||typeof A=="string"&&A in c)?s.eq(c[A],l):!1}e.isIterateeCall=a})(pC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sT,r=oT,n=pC;function s(a,...l){const A=l.length;return A>1&&n.isIterateeCall(a,l[0],l[1])?l=[]:A>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(a,r.flatten(l),["asc"])}e.sortBy=s})(nT);var CG=nT.sortBy;const Wb=bl(CG);var lT=e=>e.legend.settings,NG=e=>e.legend.size,kG=e=>e.legend.payload,SG=Te([kG,lT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Wb(n,r):n});function _G(){return Pt(SG)}var sv=1;function cT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=E.useState({height:0,left:0,top:0,width:0}),n=E.useCallback(s=>{if(s!=null){var a=s.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-t.height)>sv||Math.abs(l.left-t.left)>sv||Math.abs(l.top-t.top)>sv||Math.abs(l.width-t.width)>sv)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Is(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var EG=typeof Symbol=="function"&&Symbol.observable||"@@observable",GS=EG,Bw=()=>Math.random().toString(36).substring(7).split("").join("."),FG={INIT:`@@redux/INIT${Bw()}`,REPLACE:`@@redux/REPLACE${Bw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Bw()}`},Sx=FG;function gC(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function AT(e,t,r){if(typeof e!="function")throw new Error(Is(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Is(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Is(1));return r(AT)(e,t)}let n=e,s=t,a=new Map,l=a,A=0,c=!1;function u(){l===a&&(l=new Map,a.forEach((x,p)=>{l.set(p,x)}))}function o(){if(c)throw new Error(Is(3));return s}function d(x){if(typeof x!="function")throw new Error(Is(4));if(c)throw new Error(Is(5));let p=!0;u();const v=A++;return l.set(v,x),function(){if(p){if(c)throw new Error(Is(6));p=!1,u(),l.delete(v),a=null}}}function h(x){if(!gC(x))throw new Error(Is(7));if(typeof x.type>"u")throw new Error(Is(8));if(typeof x.type!="string")throw new Error(Is(17));if(c)throw new Error(Is(9));try{c=!0,s=n(s,x)}finally{c=!1}return(a=l).forEach(v=>{v()}),x}function f(x){if(typeof x!="function")throw new Error(Is(10));n=x,h({type:Sx.REPLACE})}function g(){const x=d;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(Is(11));function v(){const j=p;j.next&&j.next(o())}return v(),{unsubscribe:x(v)}},[GS](){return this}}}return h({type:Sx.INIT}),{dispatch:h,subscribe:d,getState:o,replaceReducer:f,[GS]:g}}function IG(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Sx.INIT})>"u")throw new Error(Is(12));if(typeof r(void 0,{type:Sx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Is(13))})}function uT(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const l=t[a];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let s;try{IG(r)}catch(a){s=a}return function(l={},A){if(s)throw s;let c=!1;const u={};for(let o=0;o<n.length;o++){const d=n[o],h=r[d],f=l[d],g=h(f,A);if(typeof g>"u")throw A&&A.type,new Error(Is(14));u[d]=g,c=c||g!==f}return c=c||n.length!==Object.keys(l).length,c?u:l}}function _x(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function UG(...e){return t=>(r,n)=>{const s=t(r,n);let a=()=>{throw new Error(Is(15))};const l={getState:s.getState,dispatch:(c,...u)=>a(c,...u)},A=e.map(c=>c(l));return a=_x(...A)(s.dispatch),{...s,dispatch:a}}}function dT(e){return gC(e)&&"type"in e&&typeof e.type=="string"}var fT=Symbol.for("immer-nothing"),WS=Symbol.for("immer-draftable"),Si=Symbol.for("immer-state");function Uo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wm=Object.getPrototypeOf;function od(e){return!!e&&!!e[Si]}function xc(e){var t;return e?hT(e)||Array.isArray(e)||!!e[WS]||!!((t=e.constructor)!=null&&t[WS])||Bp(e)||Jb(e):!1}var PG=Object.prototype.constructor.toString(),YS=new WeakMap;function hT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=YS.get(r);return n===void 0&&(n=Function.toString.call(r),YS.set(r,n)),n===PG}function Ex(e,t,r=!0){Yb(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function Yb(e){const t=e[Si];return t?t.type_:Array.isArray(e)?1:Bp(e)?2:Jb(e)?3:0}function Lj(e,t){return Yb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mT(e,t,r){const n=Yb(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function TG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Bp(e){return e instanceof Map}function Jb(e){return e instanceof Set}function _u(e){return e.copy_||e.base_}function Qj(e,t){if(Bp(e))return new Map(e);if(Jb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=hT(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Si];let s=Reflect.ownKeys(n);for(let a=0;a<s.length;a++){const l=s[a],A=n[l];A.writable===!1&&(A.writable=!0,A.configurable=!0),(A.get||A.set)&&(n[l]={configurable:!0,writable:!0,enumerable:A.enumerable,value:e[l]})}return Object.create(Wm(e),n)}else{const n=Wm(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function vC(e,t=!1){return Xb(e)||od(e)||!xc(e)||(Yb(e)>1&&Object.defineProperties(e,{set:av,add:av,clear:av,delete:av}),Object.freeze(e),t&&Object.values(e).forEach(r=>vC(r,!0))),e}function OG(){Uo(2)}var av={value:OG};function Xb(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var LG={};function ld(e){const t=LG[e];return t||Uo(0,e),t}var Ym;function pT(){return Ym}function QG(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function JS(e,t){t&&(ld("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dj(e){Rj(e),e.drafts_.forEach(DG),e.drafts_=null}function Rj(e){e===Ym&&(Ym=e.parent_)}function XS(e){return Ym=QG(Ym,e)}function DG(e){const t=e[Si];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function qS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Si].modified_&&(Dj(t),Uo(4)),xc(e)&&(e=Fx(t,e),t.parent_||Ix(t,e)),t.patches_&&ld("Patches").generateReplacementPatches_(r[Si].base_,e,t.patches_,t.inversePatches_)):e=Fx(t,r,[]),Dj(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==fT?e:void 0}function Fx(e,t,r){if(Xb(t))return t;const n=e.immer_.shouldUseStrictIteration(),s=t[Si];if(!s)return Ex(t,(a,l)=>ZS(e,s,t,a,l,r),n),t;if(s.scope_!==e)return t;if(!s.modified_)return Ix(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const a=s.copy_;let l=a,A=!1;s.type_===3&&(l=new Set(a),a.clear(),A=!0),Ex(l,(c,u)=>ZS(e,s,a,c,u,r,A),n),Ix(e,a,!1),r&&e.patches_&&ld("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function ZS(e,t,r,n,s,a,l){if(s==null||typeof s!="object"&&!l)return;const A=Xb(s);if(!(A&&!l)){if(od(s)){const c=a&&t&&t.type_!==3&&!Lj(t.assigned_,n)?a.concat(n):void 0,u=Fx(e,s,c);if(mT(r,n,u),od(u))e.canAutoFreeze_=!1;else return}else l&&r.add(s);if(xc(s)&&!A){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===s&&A)return;Fx(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Bp(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Ix(e,s)}}}function Ix(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&vC(t,r)}function RG(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:pT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,a=xC;r&&(s=[n],a=Jm);const{revoke:l,proxy:A}=Proxy.revocable(s,a);return n.draft_=A,n.revoke_=l,A}var xC={get(e,t){if(t===Si)return e;const r=_u(e);if(!Lj(r,t))return MG(e,r,t);const n=r[t];return e.finalized_||!xc(n)?n:n===Cw(e.base_,t)?(Nw(e),e.copy_[t]=Hj(n,e)):n},has(e,t){return t in _u(e)},ownKeys(e){return Reflect.ownKeys(_u(e))},set(e,t,r){const n=gT(_u(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Cw(_u(e),t),a=s==null?void 0:s[Si];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(TG(r,s)&&(r!==void 0||Lj(e.base_,t)))return!0;Nw(e),Mj(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Cw(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Nw(e),Mj(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=_u(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Uo(11)},getPrototypeOf(e){return Wm(e.base_)},setPrototypeOf(){Uo(12)}},Jm={};Ex(xC,(e,t)=>{Jm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Jm.deleteProperty=function(e,t){return Jm.set.call(this,e,t,void 0)};Jm.set=function(e,t,r){return xC.set.call(this,e[0],t,r,e[0])};function Cw(e,t){const r=e[Si];return(r?_u(r):e)[t]}function MG(e,t,r){var s;const n=gT(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function gT(e,t){if(!(t in e))return;let r=Wm(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Wm(r)}}function Mj(e){e.modified_||(e.modified_=!0,e.parent_&&Mj(e.parent_))}function Nw(e){e.copy_||(e.copy_=Qj(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var HG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const l=this;return function(c=a,...u){return l.produce(c,o=>r.call(this,o,...u))}}typeof r!="function"&&Uo(6),n!==void 0&&typeof n!="function"&&Uo(7);let s;if(xc(t)){const a=XS(this),l=Hj(t,void 0);let A=!0;try{s=r(l),A=!1}finally{A?Dj(a):Rj(a)}return JS(a,n),qS(s,a)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===fT&&(s=void 0),this.autoFreeze_&&vC(s,!0),n){const a=[],l=[];ld("Patches").generateReplacementPatches_(t,s,a,l),n(a,l)}return s}else Uo(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...A)=>this.produceWithPatches(l,c=>t(c,...A));let n,s;return[this.produce(t,r,(l,A)=>{n=l,s=A}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){xc(e)||Uo(8),od(e)&&(e=Ac(e));const t=XS(this),r=Hj(e,void 0);return r[Si].isManual_=!0,Rj(t),r}finishDraft(e,t){const r=e&&e[Si];(!r||!r.isManual_)&&Uo(9);const{scope_:n}=r;return JS(n,t),qS(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=ld("Patches").applyPatches_;return od(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Hj(e,t){const r=Bp(e)?ld("MapSet").proxyMap_(e,t):Jb(e)?ld("MapSet").proxySet_(e,t):RG(e,t);return(t?t.scope_:pT()).drafts_.push(r),r}function Ac(e){return od(e)||Uo(10,e),vT(e)}function vT(e){if(!xc(e)||Xb(e))return e;const t=e[Si];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Qj(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Qj(e,!0);return Ex(r,(s,a)=>{mT(r,s,vT(a))},n),t&&(t.finalized_=!1),r}var $G=new HG,xT=$G.produce;function bT(e){return({dispatch:r,getState:n})=>s=>a=>typeof a=="function"?a(r,n,e):s(a)}var KG=bT(),zG=bT,VG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_x:_x.apply(null,arguments)};function lo(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Ni(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>dT(n)&&n.type===e,r}var yT=class X0 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,X0.prototype)}static get[Symbol.species](){return X0}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new X0(...t[0].concat(this)):new X0(...t.concat(this))}};function e_(e){return xc(e)?xT(e,()=>{}):e}function iv(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function GG(e){return typeof e=="boolean"}var WG=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:a=!0}=t??{};let l=new yT;return r&&(GG(r)?l.push(KG):l.push(zG(r.extraArgument))),l},wT="RTK_autoBatch",ma=()=>e=>({payload:e,meta:{[wT]:!0}}),t_=e=>t=>{setTimeout(t,e)},jT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,a=!1,l=!1;const A=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:t_(10):e.type==="callback"?e.queueNotification:t_(e.timeout),u=()=>{l=!1,a&&(a=!1,A.forEach(o=>o()))};return Object.assign({},n,{subscribe(o){const d=()=>s&&o(),h=n.subscribe(d);return A.add(o),()=>{h(),A.delete(o)}},dispatch(o){var d;try{return s=!((d=o==null?void 0:o.meta)!=null&&d[wT]),a=!s,a&&(l||(l=!0,c(u))),n.dispatch(o)}finally{s=!0}}})},YG=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new yT(e);return n&&s.push(jT(typeof n=="object"?n:void 0)),s};function JG(e){const t=WG(),{reducer:r=void 0,middleware:n,devTools:s=!0,duplicateMiddlewareCheck:a=!0,preloadedState:l=void 0,enhancers:A=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(gC(r))c=uT(r);else throw new Error(Ni(1));let u;typeof n=="function"?u=n(t):u=t();let o=_x;s&&(o=VG({trace:!1,...typeof s=="object"&&s}));const d=UG(...u),h=YG(d);let f=typeof A=="function"?A(h):h();const g=o(...f);return AT(c,l,g)}function BT(e){const t={},r=[];let n;const s={addCase(a,l){const A=typeof a=="string"?a:a.type;if(!A)throw new Error(Ni(28));if(A in t)throw new Error(Ni(29));return t[A]=l,s},addAsyncThunk(a,l){return l.pending&&(t[a.pending.type]=l.pending),l.rejected&&(t[a.rejected.type]=l.rejected),l.fulfilled&&(t[a.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:a.settled,reducer:l.settled}),s},addMatcher(a,l){return r.push({matcher:a,reducer:l}),s},addDefaultCase(a){return n=a,s}};return e(s),[t,r,n]}function XG(e){return typeof e=="function"}function qG(e,t){let[r,n,s]=BT(t),a;if(XG(e))a=()=>e_(e());else{const A=e_(e);a=()=>A}function l(A=a(),c){let u=[r[c.type],...n.filter(({matcher:o})=>o(c)).map(({reducer:o})=>o)];return u.filter(o=>!!o).length===0&&(u=[s]),u.reduce((o,d)=>{if(d)if(od(o)){const f=d(o,c);return f===void 0?o:f}else{if(xc(o))return xT(o,h=>d(h,c));{const h=d(o,c);if(h===void 0){if(o===null)return o;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return o},A)}return l.getInitialState=a,l}var ZG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",eW=(e=21)=>{let t="",r=e;for(;r--;)t+=ZG[Math.random()*64|0];return t},tW=Symbol.for("rtk-slice-createasyncthunk");function rW(e,t){return`${e}/${t}`}function nW({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[tW];return function(s){const{name:a,reducerPath:l=a}=s;if(!a)throw new Error(Ni(11));typeof process<"u";const A=(typeof s.reducers=="function"?s.reducers(aW()):s.reducers)||{},c=Object.keys(A),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(j,k){const S=typeof j=="string"?j:j.type;if(!S)throw new Error(Ni(12));if(S in u.sliceCaseReducersByType)throw new Error(Ni(13));return u.sliceCaseReducersByType[S]=k,o},addMatcher(j,k){return u.sliceMatchers.push({matcher:j,reducer:k}),o},exposeAction(j,k){return u.actionCreators[j]=k,o},exposeCaseReducer(j,k){return u.sliceCaseReducersByName[j]=k,o}};c.forEach(j=>{const k=A[j],S={reducerName:j,type:rW(a,j),createNotation:typeof s.reducers=="function"};oW(k)?cW(S,k,o,t):iW(S,k,o)});function d(){const[j={},k=[],S=void 0]=typeof s.extraReducers=="function"?BT(s.extraReducers):[s.extraReducers],F={...j,...u.sliceCaseReducersByType};return qG(s.initialState,T=>{for(let P in F)T.addCase(P,F[P]);for(let P of u.sliceMatchers)T.addMatcher(P.matcher,P.reducer);for(let P of k)T.addMatcher(P.matcher,P.reducer);S&&T.addDefaultCase(S)})}const h=j=>j,f=new Map,g=new WeakMap;let m;function x(j,k){return m||(m=d()),m(j,k)}function p(){return m||(m=d()),m.getInitialState()}function v(j,k=!1){function S(T){let P=T[j];return typeof P>"u"&&k&&(P=iv(g,S,p)),P}function F(T=h){const P=iv(f,k,()=>new WeakMap);return iv(P,T,()=>{const R={};for(const[U,D]of Object.entries(s.selectors??{}))R[U]=sW(D,T,()=>iv(g,T,p),k);return R})}return{reducerPath:j,getSelectors:F,get selectors(){return F(S)},selectSlice:S}}const b={name:a,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:p,...v(l),injectInto(j,{reducerPath:k,...S}={}){const F=k??l;return j.inject({reducerPath:F,reducer:x},S),{...b,...v(F,!0)}}};return b}}function sW(e,t,r,n){function s(a,...l){let A=t(a);return typeof A>"u"&&n&&(A=r()),e(A,...l)}return s.unwrapped=e,s}var Ii=nW();function aW(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function iW({type:e,reducerName:t,createNotation:r},n,s){let a,l;if("reducer"in n){if(r&&!lW(n))throw new Error(Ni(17));a=n.reducer,l=n.prepare}else a=n;s.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,l?lo(e,l):lo(e))}function oW(e){return e._reducerDefinitionType==="asyncThunk"}function lW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function cW({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Ni(18));const{payloadCreator:a,fulfilled:l,pending:A,rejected:c,settled:u,options:o}=r,d=s(e,a,o);n.exposeAction(t,d),l&&n.addCase(d.fulfilled,l),A&&n.addCase(d.pending,A),c&&n.addCase(d.rejected,c),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(t,{fulfilled:l||ov,pending:A||ov,rejected:c||ov,settled:u||ov})}function ov(){}var AW="task",CT="listener",NT="completed",bC="cancelled",uW=`task-${bC}`,dW=`task-${NT}`,$j=`${CT}-${bC}`,fW=`${CT}-${NT}`,qb=class{constructor(e){Cr(this,"name","TaskAbortError");Cr(this,"message");this.code=e,this.message=`${AW} ${bC} (reason: ${e})`}},yC=(e,t)=>{if(typeof e!="function")throw new TypeError(Ni(32))},Ux=()=>{},kT=(e,t=Ux)=>(e.catch(t),e),ST=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),zu=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Vu=e=>{if(e.aborted){const{reason:t}=e;throw new qb(t)}};function _T(e,t){let r=Ux;return new Promise((n,s)=>{const a=()=>s(new qb(e.reason));if(e.aborted){a();return}r=ST(e,a),t.finally(()=>r()).then(n,s)}).finally(()=>{r=Ux})}var hW=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof qb?"cancelled":"rejected",error:r}}finally{t==null||t()}},Px=e=>t=>kT(_T(e,t).then(r=>(Vu(e),r))),ET=e=>{const t=Px(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Wf}=Object,r_={},Zb="listenerMiddleware",mW=(e,t)=>{const r=n=>ST(e,()=>zu(n,e.reason));return(n,s)=>{yC(n);const a=new AbortController;r(a);const l=hW(async()=>{Vu(e),Vu(a.signal);const A=await n({pause:Px(a.signal),delay:ET(a.signal),signal:a.signal});return Vu(a.signal),A},()=>zu(a,dW));return s!=null&&s.autoJoin&&t.push(l.catch(Ux)),{result:Px(e)(l),cancel(){zu(a,uW)}}}},pW=(e,t)=>{const r=async(n,s)=>{Vu(t);let a=()=>{};const A=[new Promise((c,u)=>{let o=e({predicate:n,effect:(d,h)=>{h.unsubscribe(),c([d,h.getState(),h.getOriginalState()])}});a=()=>{o(),u()}})];s!=null&&A.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await _T(t,Promise.race(A));return Vu(t),c}finally{a()}};return(n,s)=>kT(r(n,s))},FT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:a}=e;if(t)s=lo(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(Ni(21));return yC(a),{predicate:s,type:t,effect:a}},IT=Wf(e=>{const{type:t,predicate:r,effect:n}=FT(e);return{id:eW(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ni(22))}}},{withTypes:()=>IT}),n_=(e,t)=>{const{type:r,effect:n,predicate:s}=FT(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===s)&&a.effect===n)},Kj=e=>{e.pending.forEach(t=>{zu(t,$j)})},gW=(e,t)=>()=>{for(const r of t.keys())Kj(r);e.clear()},s_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},UT=Wf(lo(`${Zb}/add`),{withTypes:()=>UT}),vW=lo(`${Zb}/removeAll`),PT=Wf(lo(`${Zb}/remove`),{withTypes:()=>PT}),xW=(...e)=>{console.error(`${Zb}/error`,...e)},Cp=(e={})=>{const t=new Map,r=new Map,n=f=>{const g=r.get(f)??0;r.set(f,g+1)},s=f=>{const g=r.get(f)??1;g===1?r.delete(f):r.set(f,g-1)},{extra:a,onError:l=xW}=e;yC(l);const A=f=>(f.unsubscribe=()=>t.delete(f.id),t.set(f.id,f),g=>{f.unsubscribe(),g!=null&&g.cancelActive&&Kj(f)}),c=f=>{const g=n_(t,f)??IT(f);return A(g)};Wf(c,{withTypes:()=>c});const u=f=>{const g=n_(t,f);return g&&(g.unsubscribe(),f.cancelActive&&Kj(g)),!!g};Wf(u,{withTypes:()=>u});const o=async(f,g,m,x)=>{const p=new AbortController,v=pW(c,p.signal),b=[];try{f.pending.add(p),n(f),await Promise.resolve(f.effect(g,Wf({},m,{getOriginalState:x,condition:(j,k)=>v(j,k).then(Boolean),take:v,delay:ET(p.signal),pause:Px(p.signal),extra:a,signal:p.signal,fork:mW(p.signal,b),unsubscribe:f.unsubscribe,subscribe:()=>{t.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((j,k,S)=>{j!==p&&(zu(j,$j),S.delete(j))})},cancel:()=>{zu(p,$j),f.pending.delete(p)},throwIfCancelled:()=>{Vu(p.signal)}})))}catch(j){j instanceof qb||s_(l,j,{raisedBy:"effect"})}finally{await Promise.all(b),zu(p,fW),s(f),f.pending.delete(p)}},d=gW(t,r);return{middleware:f=>g=>m=>{if(!dT(m))return g(m);if(UT.match(m))return c(m.payload);if(vW.match(m)){d();return}if(PT.match(m))return u(m.payload);let x=f.getState();const p=()=>{if(x===r_)throw new Error(Ni(23));return x};let v;try{if(v=g(m),t.size>0){const b=f.getState(),j=Array.from(t.values());for(const k of j){let S=!1;try{S=k.predicate(m,b,x)}catch(F){S=!1,s_(l,F,{raisedBy:"predicate"})}S&&o(k,m,f,p)}}}finally{x=r_}return v},startListening:c,stopListening:u,clearListeners:d}};function Ni(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var bW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},TT=Ii({name:"chartLayout",initialState:bW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:yW,setLayout:wW,setChartSize:jW,setScale:BW}=TT.actions,CW=TT.reducer;function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function i_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){NW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NW(e,t,r){return(t=kW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kW(e){var t=SW(e,"string");return typeof t=="symbol"?t:t+""}function SW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tx=Math.PI/180,_W=e=>e*180/Math.PI,Jn=(e,t,r,n)=>({x:e+Math.cos(-Tx*n)*r,y:t+Math.sin(-Tx*n)*r}),OT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},EW=(e,t)=>{var{x:r,y:n}=e,{x:s,y:a}=t;return Math.sqrt((r-s)**2+(n-a)**2)},FW=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:a}=t,l=EW({x:r,y:n},{x:s,y:a});if(l<=0)return{radius:l,angle:0};var A=(r-s)/l,c=Math.acos(A);return n>a&&(c=2*Math.PI-c),{radius:l,angle:_W(c),angleInRadian:c}},IW=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),a=Math.min(n,s);return{startAngle:t-a*360,endAngle:r-a*360}},UW=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),a=Math.floor(n/360),l=Math.min(s,a);return e+l*360},PW=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:a}=FW({x:r,y:n},t),{innerRadius:l,outerRadius:A}=t;if(s<l||s>A||s===0)return null;var{startAngle:c,endAngle:u}=IW(t),o=a,d;if(c<=u){for(;o>u;)o-=360;for(;o<c;)o+=360;d=o>=c&&o<=u}else{for(;o>c;)o-=360;for(;o<u;)o+=360;d=o>=u&&o<=c}return d?i_(i_({},t),{},{radius:s,angle:UW(o,t)}):null};function LT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){TW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TW(e,t,r){return(t=OW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OW(e){var t=LW(e,"string");return typeof t=="symbol"?t:t+""}function LW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wn(e,t,r){return js(e)||js(t)?r:vl(t)?id(e,t,r):typeof t=="function"?t(e):r}var QW=(e,t,r,n,s)=>{var a,l=-1,A=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(A<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<A;c++){var u=c>0?r[c-1].coordinate:r[A-1].coordinate,o=r[c].coordinate,d=c>=A-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(ys(o-u)!==ys(d-o)){var f=[];if(ys(d-o)===ys(s[1]-s[0])){h=d;var g=o+s[1]-s[0];f[0]=Math.min(g,(g+u)/2),f[1]=Math.max(g,(g+u)/2)}else{h=u;var m=d+s[1]-s[0];f[0]=Math.min(o,(m+o)/2),f[1]=Math.max(o,(m+o)/2)}var x=[Math.min(o,(h+o)/2),Math.max(o,(h+o)/2)];if(e>x[0]&&e<=x[1]||e>=f[0]&&e<=f[1]){({index:l}=r[c]);break}}else{var p=Math.min(u,d),v=Math.max(u,d);if(e>(p+o)/2&&e<=(v+o)/2){({index:l}=r[c]);break}}}else if(t){for(var b=0;b<A;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<A-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===A-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:l}=t[b]);break}}return l},DW=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:a,verticalAlign:l,layout:A}=t;if((A==="vertical"||A==="horizontal"&&l==="middle")&&a!=="center"&&Ot(e[a]))return qi(qi({},e),{},{[a]:e[a]+(n||0)});if((A==="horizontal"||A==="vertical"&&a==="center")&&l!=="middle"&&Ot(e[l]))return qi(qi({},e),{},{[l]:e[l]+(s||0)})}return e},yd=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",QT=(e,t,r,n)=>{if(n)return e.map(A=>A.coordinate);var s,a,l=e.map(A=>(A.coordinate===t&&(s=!0),A.coordinate===r&&(a=!0),A.coordinate));return s||l.push(t),a||l.push(r),l},DT=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:a,scale:l,realScaleType:A,isCategorical:c,categoricalDomain:u,tickCount:o,ticks:d,niceTicks:h,axisType:f}=e;if(!l)return null;var g=A==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,m=s==="category"&&l.bandwidth?l.bandwidth()/g:0;if(m=f==="angleAxis"&&a&&a.length>=2?ys(a[0]-a[1])*2*m:m,d||h){var x=(d||h||[]).map((p,v)=>{var b=n?n.indexOf(p):p;return{coordinate:l(b)+m,value:p,offset:m,index:v}});return x.filter(p=>!oo(p.coordinate))}return c&&u?u.map((p,v)=>({coordinate:l(p)+m,value:p,index:v,offset:m})):l.ticks&&!r&&o!=null?l.ticks(o).map((p,v)=>({coordinate:l(p)+m,value:p,offset:m,index:v})):l.domain().map((p,v)=>({coordinate:l(p)+m,value:n?n[p]:p,index:v,offset:m}))},l_=1e-4,RW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-l_,a=Math.max(n[0],n[1])+l_,l=e(t[0]),A=e(t[r-1]);(l<s||l>a||A<s||A>a)&&e.domain([t[0],t[r-1]])}},MW=(e,t)=>{if(!t||t.length!==2||!Ot(t[0])||!Ot(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Ot(e[0])||e[0]<r)&&(s[0]=r),(!Ot(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},HW=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,a=0,l=0;l<t;++l){var A=oo(e[l][r][1])?e[l][r][0]:e[l][r][1];A>=0?(e[l][r][0]=s,e[l][r][1]=s+A,s=e[l][r][1]):(e[l][r][0]=a,e[l][r][1]=a+A,a=e[l][r][1])}},$W=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,a=0;a<t;++a){var l=oo(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},KW={sign:HW,expand:CV,none:uh,silhouette:NV,wiggle:kV,positive:$W},zW=(e,t,r)=>{var n=KW[r],s=BV().keys(t).value((a,l)=>+wn(a,l,0)).order(Pj).offset(n);return s(e)};function VW(e){return e==null?void 0:String(e)}var c_=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:a,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var A=wn(a,t.dataKey,t.scale.domain()[l]);return js(A)?null:t.scale(A)-s/2+n},GW=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},WW=e=>{var t=e.flat(2).filter(Ot);return[Math.min(...t),Math.max(...t)]},YW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],JW=(e,t,r)=>{if(e!=null)return YW(Object.keys(e).reduce((n,s)=>{var a=e[s],{stackedData:l}=a,A=l.reduce((c,u)=>{var o=LT(u,t,r),d=WW(o);return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(A[0],n[0]),Math.max(A[1],n[1])]},[1/0,-1/0]))},A_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,u_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wC=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=Wb(t,o=>o.coordinate),a=1/0,l=1,A=s.length;l<A;l++){var c=s[l],u=s[l-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function d_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:a}=e;return qi(qi({},t),{},{dataKey:r,payload:n,value:s,name:a})}function ey(e,t){if(e)return String(e);if(typeof t=="string")return t}function XW(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var a=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return a?{x:e,y:t}:null}return n?PW({x:e,y:t},n):null}var qW=(e,t,r,n)=>{var s=t.find(u=>u&&u.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,{radius:l}=n;return qi(qi(qi({},n),Jn(n.cx,n.cy,l,a)),{},{angle:a,radius:l})}var A=s.coordinate,{angle:c}=n;return qi(qi(qi({},n),Jn(n.cx,n.cy,A,c)),{},{angle:c,radius:A})}return{x:0,y:0}},ZW=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Bc=e=>e.layout.width,Cc=e=>e.layout.height,eY=e=>e.layout.scale,RT=e=>e.layout.margin,ty=Te(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ry=Te(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),MT="data-recharts-item-index",HT="data-recharts-item-data-key",Np=60;function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){tY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tY(e,t,r){return(t=rY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rY(e){var t=nY(e,"string");return typeof t=="symbol"?t:t+""}function nY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sY=e=>e.brush.height;function aY(e){var t=ry(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Np;return r+s}return r},0)}function iY(e){var t=ry(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Np;return r+s}return r},0)}function oY(e){var t=ty(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function lY(e){var t=ty(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var us=Te([Bc,Cc,RT,sY,aY,iY,oY,lY,lT,NG],(e,t,r,n,s,a,l,A,c,u)=>{var o={left:(r.left||0)+s,right:(r.right||0)+a},d={top:(r.top||0)+l,bottom:(r.bottom||0)+A},h=lv(lv({},d),o),f=h.bottom;h.bottom+=n,h=DW(h,c,u);var g=e-h.left-h.right,m=t-h.top-h.bottom;return lv(lv({brushBottom:f},h),{},{width:Math.max(g,0),height:Math.max(m,0)})}),cY=Te(us,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),jC=Te(Bc,Cc,(e,t)=>({x:0,y:0,width:e,height:t})),AY=E.createContext(null),Ui=()=>E.useContext(AY)!=null,ny=e=>e.brush,sy=Te([ny,us,RT],(e,t,r)=>({height:e.height,x:Ot(e.x)?e.x:t.left,y:Ot(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Ot(e.width)?e.width:t.width})),$T={},KT={},zT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:a}={}){let l,A=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),o=()=>{A!==null&&(r.apply(l,A),l=void 0,A=null)},d=()=>{u&&o(),m()};let h=null;const f=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},m=()=>{g(),l=void 0,A=null},x=()=>{o()},p=function(...v){if(s!=null&&s.aborted)return;l=this,A=v;const b=h==null;f(),c&&b&&o()};return p.schedule=f,p.cancel=m,p.flush=x,s==null||s.addEventListener("abort",m,{once:!0}),p}e.debounce=t})(zT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zT;function r(n,s=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:A=!0,maxWait:c}=a,u=Array(2);l&&(u[0]="leading"),A&&(u[1]="trailing");let o,d=null;const h=t.debounce(function(...m){o=n.apply(this,m),d=null},s,{edges:u}),f=function(...m){return c!=null&&(d===null&&(d=Date.now()),Date.now()-d>=c)?(o=n.apply(this,m),d=Date.now(),h.cancel(),h.schedule(),o):(h.apply(this,m),o)},g=()=>(h.flush(),o);return f.cancel=h.cancel,f.flush=g,f}e.debounce=r})(KT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KT;function r(n,s=0,a={}){const{leading:l=!0,trailing:A=!0}=a;return t.debounce(n,s,{leading:l,maxWait:s,trailing:A})}e.throttle=r})($T);var uY=$T.throttle;const dY=bl(uY);var Ox=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a]},VT=(e,t,r)=>{var{width:n="100%",height:s="100%",aspect:a,maxHeight:l}=r,A=vc(n)?e:Number(n),c=vc(s)?t:Number(s);return a&&a>0&&(A?c=A/a:c&&(A=c*a),l&&c>l&&(c=l)),{calculatedWidth:A,calculatedHeight:c}},fY={width:0,height:0,overflow:"visible"},hY={width:0,overflowX:"visible"},mY={height:0,overflowY:"visible"},pY={},gY=e=>{var{width:t,height:r}=e,n=vc(t),s=vc(r);return n&&s?fY:n?hY:s?mY:pY};function vY(e){var{width:t,height:r,aspect:n}=e,s=t,a=r;return s===void 0&&a===void 0?(s="100%",a="100%"):s===void 0?s=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:s,height:a}}function ra(e){return Number.isFinite(e)}function fh(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function zj(){return zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zj.apply(null,arguments)}function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function m_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){xY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xY(e,t,r){return(t=bY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bY(e){var t=yY(e,"string");return typeof t=="symbol"?t:t+""}function yY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GT=E.createContext({width:-1,height:-1});function WT(e){var{children:t,width:r,height:n}=e,s=E.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:E.createElement(GT.Provider,{value:s},t)}var BC=()=>E.useContext(GT),wY=E.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s,height:a,minWidth:l=0,minHeight:A,maxHeight:c,children:u,debounce:o=0,id:d,className:h,onResize:f,style:g={}}=e,m=E.useRef(null),x=E.useRef();x.current=f,E.useImperativeHandle(t,()=>m.current);var[p,v]=E.useState({containerWidth:n.width,containerHeight:n.height}),b=E.useCallback((T,P)=>{v(R=>{var U=Math.round(T),D=Math.round(P);return R.containerWidth===U&&R.containerHeight===D?R:{containerWidth:U,containerHeight:D}})},[]);E.useEffect(()=>{var T=D=>{var Q,{width:H,height:W}=D[0].contentRect;b(H,W),(Q=x.current)===null||Q===void 0||Q.call(x,H,W)};o>0&&(T=dY(T,o,{trailing:!0,leading:!1}));var P=new ResizeObserver(T),{width:R,height:U}=m.current.getBoundingClientRect();return b(R,U),P.observe(m.current),()=>{P.disconnect()}},[b,o]);var{containerWidth:j,containerHeight:k}=p;Ox(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:F}=VT(j,k,{width:s,height:a,aspect:r,maxHeight:c});return Ox(S>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,F,s,a,l,A,r),E.createElement("div",{id:d?"".concat(d):void 0,className:Qr("recharts-responsive-container",h),style:m_(m_({},g),{},{width:s,height:a,minWidth:l,minHeight:A,maxHeight:c}),ref:m},E.createElement("div",{style:gY({width:s,height:a})},E.createElement(WT,{width:S,height:F},u)))}),YT=E.forwardRef((e,t)=>{var r=BC();if(fh(r.width)&&fh(r.height))return e.children;var{width:n,height:s}=vY({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:l}=VT(void 0,void 0,{width:n,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Ot(a)&&Ot(l)?E.createElement(WT,{width:a,height:l},e.children):E.createElement(wY,zj({},e,{width:n,height:s,ref:t}))}),ay=()=>{var e,t=Ui(),r=Pt(cY),n=Pt(sy),s=(e=Pt(ny))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},jY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},JT=()=>{var e;return(e=Pt(us))!==null&&e!==void 0?e:jY},CC=()=>Pt(Bc),NC=()=>Pt(Cc),BY=()=>Pt(e=>e.layout.margin),wr=e=>e.layout.layoutType,kC=()=>Pt(wr),iy=e=>{var t=dn(),r=Ui(),{width:n,height:s}=e,a=BC(),l=n,A=s;return a&&(l=a.width>0?a.width:n,A=a.height>0?a.height:s),E.useEffect(()=>{!r&&fh(l)&&fh(A)&&t(jW({width:l,height:A}))},[t,r,l,A]),null},CY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},XT=Ii({name:"legend",initialState:CY,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ma()},removeLegendPayload:{reducer(e,t){var r=Ac(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:ma()}}}),{setLegendSize:p_,setLegendSettings:NY,addLegendPayload:qT,removeLegendPayload:ZT}=XT.actions,kY=XT.reducer,SY=["contextPayload"];function Vj(){return Vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vj.apply(null,arguments)}function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(n){SC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SC(e,t,r){return(t=_Y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Y(e){var t=EY(e,"string");return typeof t=="symbol"?t:t+""}function EY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FY(e,t){if(e==null)return{};var r,n,s=IY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function IY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UY(e){return e.value}function PY(e){var{contextPayload:t}=e,r=FY(e,SY),n=XP(t,e.payloadUniqBy,UY),s=hh(hh({},r),{},{payload:n});return E.isValidElement(e.content)?E.cloneElement(e.content,s):typeof e.content=="function"?E.createElement(e.content,s):E.createElement(sC,s)}function TY(e,t,r,n,s,a){var{layout:l,align:A,verticalAlign:c}=t,u,o;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(A==="center"&&l==="vertical"?u={left:((n||0)-a.width)/2}:u=A==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?o={top:((s||0)-a.height)/2}:o=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),hh(hh({},u),o)}function OY(e){var t=dn();return E.useEffect(()=>{t(NY(e))},[t,e]),null}function LY(e){var t=dn();return E.useEffect(()=>(t(p_(e)),()=>{t(p_({width:0,height:0}))}),[t,e]),null}function QY(e){var t=_G(),r=Wz(),n=BY(),{width:s,height:a,wrapperStyle:l,portal:A}=e,[c,u]=cT([t]),o=CC(),d=NC();if(o==null||d==null)return null;var h=o-(n.left||0)-(n.right||0),f=oy.getWidthOrHeight(e.layout,a,s,h),g=A?l:hh(hh({position:"absolute",width:(f==null?void 0:f.width)||s||"auto",height:(f==null?void 0:f.height)||a||"auto"},TY(l,e,n,o,d,c)),l),m=A??r;if(m==null)return null;var x=E.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},E.createElement(OY,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),E.createElement(LY,{width:c.width,height:c.height}),E.createElement(PY,Vj({},e,f,{margin:n,chartWidth:o,chartHeight:d,contextPayload:t})));return UB.createPortal(x,m)}class oy extends E.PureComponent{static getWidthOrHeight(t,r,n,s){return t==="vertical"&&Ot(r)?{height:r}:t==="horizontal"?{width:n||s}:null}render(){return E.createElement(QY,this.props)}}SC(oy,"displayName","Legend");SC(oy,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Gj(){return Gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gj.apply(null,arguments)}function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){DY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DY(e,t,r){return(t=RY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RY(e){var t=MY(e,"string");return typeof t=="symbol"?t:t+""}function MY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HY(e){return Array.isArray(e)&&vl(e[0])&&vl(e[1])?e.join(" ~ "):e}var $Y=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:a,formatter:l,itemSorter:A,wrapperClassName:c,labelClassName:u,label:o,labelFormatter:d,accessibilityLayer:h=!1}=e,f=()=>{if(a&&a.length){var k={padding:0,margin:0},S=(A?Wb(a,A):a).map((F,T)=>{if(F.type==="none")return null;var P=F.formatter||l||HY,{value:R,name:U}=F,D=R,Q=U;if(P){var H=P(R,U,F,T,a);if(Array.isArray(H))[D,Q]=H;else if(H!=null)D=H;else return null}var W=kw({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},n);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:W},vl(Q)?E.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,vl(Q)?E.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,E.createElement("span",{className:"recharts-tooltip-item-value"},D),E.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:k},S)}return null},g=kw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=kw({margin:0},s),x=!js(o),p=x?o:"",v=Qr("recharts-default-tooltip",c),b=Qr("recharts-tooltip-label",u);x&&d&&a!==void 0&&a!==null&&(p=d(o,a));var j=h?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",Gj({className:v,style:g},j),E.createElement("p",{className:b,style:m},E.isValidElement(p)?p:"".concat(p)),f())},T0="recharts-tooltip-wrapper",KY={visibility:"hidden"};function zY(e){var{coordinate:t,translateX:r,translateY:n}=e;return Qr(T0,{["".concat(T0,"-right")]:Ot(r)&&t&&Ot(t.x)&&r>=t.x,["".concat(T0,"-left")]:Ot(r)&&t&&Ot(t.x)&&r<t.x,["".concat(T0,"-bottom")]:Ot(n)&&t&&Ot(t.y)&&n>=t.y,["".concat(T0,"-top")]:Ot(n)&&t&&Ot(t.y)&&n<t.y})}function x_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:a,reverseDirection:l,tooltipDimension:A,viewBox:c,viewBoxDimension:u}=e;if(a&&Ot(a[n]))return a[n];var o=r[n]-A-(s>0?s:0),d=r[n]+s;if(t[n])return l[n]?o:d;var h=c[n];if(h==null)return 0;if(l[n]){var f=o,g=h;return f<g?Math.max(d,h):Math.max(o,h)}if(u==null)return 0;var m=d+A,x=h+u;return m>x?Math.max(o,h):Math.max(d,h)}function VY(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function GY(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:a,tooltipBox:l,useTranslate3d:A,viewBox:c}=e,u,o,d;return l.height>0&&l.width>0&&r?(o=x_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),d=x_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),u=VY({translateX:o,translateY:d,useTranslate3d:A})):u=KY,{cssProperties:u,cssClasses:zY({translateX:o,translateY:d,coordinate:r})}}function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){Wj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wj(e,t,r){return(t=WY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WY(e){var t=YY(e,"string");return typeof t=="symbol"?t:t+""}function YY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class JY extends E.PureComponent{constructor(){super(...arguments),Wj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Wj(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:a,coordinate:l,hasPayload:A,isAnimationActive:c,offset:u,position:o,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:g,lastBoundingBox:m,innerRef:x,hasPortalFromProps:p}=this.props,{cssClasses:v,cssProperties:b}=GY({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:u,position:o,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),j=p?{}:cv(cv({transition:c&&t?"transform ".concat(n,"ms ").concat(s):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&A?"visible":"hidden",position:"absolute",top:0,left:0}),k=cv(cv({},j),{},{visibility:!this.state.dismissed&&t&&A?"visible":"hidden"},g);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:k,ref:x},a)}}var XY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),wd={devToolsEnabled:!1,isSsr:XY()},eO=()=>Pt(e=>e.rootProps.accessibilityLayer);function Yj(){return Yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yj.apply(null,arguments)}function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function w_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(n){qY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qY(e,t,r){return(t=ZY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZY(e){var t=eJ(e,"string");return typeof t=="symbol"?t:t+""}function eJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j_={curveBasisClosed:fV,curveBasisOpen:hV,curveBasis:dV,curveBumpX:qz,curveBumpY:Zz,curveLinearClosed:mV,curveLinear:Mb,curveMonotoneX:pV,curveMonotoneY:gV,curveNatural:vV,curveStep:xV,curveStepAfter:yV,curveStepBefore:bV},Av=e=>ra(e.x)&&ra(e.y),O0=e=>e.x,L0=e=>e.y,tJ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(wp(e));return(r==="curveMonotone"||r==="curveBump")&&t?j_["".concat(r).concat(t==="vertical"?"Y":"X")]:j_[r]||Mb},rJ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:a=!1}=e,l=tJ(t,s),A=a?r.filter(Av):r,c;if(Array.isArray(n)){var u=a?n.filter(d=>Av(d)):n,o=A.map((d,h)=>w_(w_({},d),{},{base:u[h]}));return s==="vertical"?c=rv().y(L0).x1(O0).x0(d=>d.base.x):c=rv().x(O0).y1(L0).y0(d=>d.base.y),c.defined(Av).curve(l),c(o)}return s==="vertical"&&Ot(n)?c=rv().y(L0).x1(O0).x0(n):Ot(n)?c=rv().x(O0).y1(L0).y0(n):c=xP().x(O0).y(L0),c.defined(Av).curve(l),c(A)},tO=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?rJ(e):n;return E.createElement("path",Yj({},Do(e),MV(e),{className:Qr("recharts-curve",t),d:a===null?void 0:a,ref:s}))},nJ=["x","y","top","left","width","height","className"];function Jj(){return Jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jj.apply(null,arguments)}function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(n){aJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aJ(e,t,r){return(t=iJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iJ(e){var t=oJ(e,"string");return typeof t=="symbol"?t:t+""}function oJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lJ(e,t){if(e==null)return{};var r,n,s=cJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function cJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AJ=(e,t,r,n,s,a)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),uJ=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:a=0,height:l=0,className:A}=e,c=lJ(e,nJ),u=sJ({x:t,y:r,top:n,left:s,width:a,height:l},c);return!Ot(t)||!Ot(r)||!Ot(a)||!Ot(l)||!Ot(n)||!Ot(s)?null:E.createElement("path",Jj({},io(u),{className:Qr("recharts-cross",A),d:AJ(t,r,a,l,n,s)}))};function dJ(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){hJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hJ(e,t,r){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mJ(e){var t=pJ(e,"string");return typeof t=="symbol"?t:t+""}function pJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ja(e,t){var r=fJ({},e),n=t,s=Object.keys(t),a=s.reduce((l,A)=>(l[A]===void 0&&n[A]!==void 0&&(l[A]=n[A]),l),r);return a}function gJ(){}function vJ(e){return e!=null}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function k_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){xJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xJ(e,t,r){return(t=bJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bJ(e){var t=yJ(e,"string");return typeof t=="symbol"?t:t+""}function yJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wJ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),rO=(e,t,r)=>e.map(n=>"".concat(wJ(n)," ").concat(t,"ms ").concat(r)).join(","),jJ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),Xm=(e,t)=>Object.keys(t).reduce((r,n)=>k_(k_({},r),{},{[n]:e(n,t[n])}),{});function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){BJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BJ(e,t,r){return(t=CJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CJ(e){var t=NJ(e,"string");return typeof t=="symbol"?t:t+""}function NJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lx=(e,t,r)=>e+(t-e)*r,Xj=e=>{var{from:t,to:r}=e;return t!==r},nO=(e,t,r)=>{var n=Xm((s,a)=>{if(Xj(a)){var[l,A]=e(a.from,a.to,a.velocity);return Ts(Ts({},a),{},{from:l,velocity:A})}return a},t);return r<1?Xm((s,a)=>Xj(a)?Ts(Ts({},a),{},{velocity:Lx(a.velocity,n[s].velocity,r),from:Lx(a.from,n[s].from,r)}):a,t):nO(e,n,r-1)};function kJ(e,t,r,n,s,a){var l,A=n.reduce((h,f)=>Ts(Ts({},h),{},{[f]:{from:e[f],velocity:0,to:t[f]}}),{}),c=()=>Xm((h,f)=>f.from,A),u=()=>!Object.values(A).filter(Xj).length,o=null,d=h=>{l||(l=h);var f=h-l,g=f/r.dt;A=nO(r,A,g),s(Ts(Ts(Ts({},e),t),c())),l=h,u()||(o=a.setTimeout(d))};return()=>(o=a.setTimeout(d),()=>{o()})}function SJ(e,t,r,n,s,a,l){var A=null,c=s.reduce((d,h)=>Ts(Ts({},d),{},{[h]:[e[h],t[h]]}),{}),u,o=d=>{u||(u=d);var h=(d-u)/n,f=Xm((m,x)=>Lx(...x,r(h)),c);if(a(Ts(Ts(Ts({},e),t),f)),h<1)A=l.setTimeout(o);else{var g=Xm((m,x)=>Lx(...x,r(1)),c);a(Ts(Ts(Ts({},e),t),g))}};return()=>(A=l.setTimeout(o),()=>{A()})}const _J=(e,t,r,n,s,a)=>{var l=jJ(e,t);return r.isStepper===!0?kJ(e,t,r,l,s,a):SJ(e,t,r,n,l,s,a)};var Qx=1e-4,sO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],aO=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),__=(e,t)=>r=>{var n=sO(e,t);return aO(n,r)},EJ=(e,t)=>r=>{var n=sO(e,t),s=[...n.map((a,l)=>a*l).slice(1),0];return aO(s,r)},E_=function(){for(var t,r,n,s,a=arguments.length,l=new Array(a),A=0;A<a;A++)l[A]=arguments[A];if(l.length===1)switch(l[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var c=l[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,s]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else l.length===4&&([t,n,r,s]=l);var u=__(t,r),o=__(n,s),d=EJ(t,r),h=g=>g>1?1:g<0?0:g,f=g=>{for(var m=g>1?1:g,x=m,p=0;p<8;++p){var v=u(x)-m,b=d(x);if(Math.abs(v-m)<Qx||b<Qx)return o(x);x=h(x-v/b)}return o(x)};return f.isStepper=!1,f},FJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,a=(l,A,c)=>{var u=-(l-A)*r,o=c*n,d=c+(u-o)*s/1e3,h=c*s/1e3+l;return Math.abs(h-A)<Qx&&Math.abs(d)<Qx?[A,0]:[h,d]};return a.isStepper=!0,a.dt=s,a},IJ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return E_(e);case"spring":return FJ();default:if(e.split("(")[0]==="cubic-bezier")return E_(e)}return typeof e=="function"?e:null};function UJ(e){var t,r=()=>null,n=!1,s=null,a=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var A=l,[c,...u]=A;if(typeof c=="number"){s=e.setTimeout(a.bind(null,u),c);return}a(c),s=e.setTimeout(a.bind(null,u));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,s&&(s(),s=null),a(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class PJ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,a=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(a))};return s=requestAnimationFrame(a),()=>{cancelAnimationFrame(s)}}}function TJ(){return UJ(new PJ)}var OJ=E.createContext(TJ);function LJ(e,t){var r=E.useContext(OJ);return E.useMemo(()=>t??r(e),[e,t,r])}var QJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},F_={t:0},Sw={t:1};function ly(e){var t=ja(e,QJ),{isActive:r,canBegin:n,duration:s,easing:a,begin:l,onAnimationEnd:A,onAnimationStart:c,children:u}=t,o=LJ(t.animationId,t.animationManager),[d,h]=E.useState(r?F_:Sw),f=E.useRef(null);return E.useEffect(()=>{r||h(Sw)},[r]),E.useEffect(()=>{if(!r||!n)return gJ;var g=_J(F_,Sw,IJ(a),s,h,o.getTimeoutController()),m=()=>{f.current=g()};return o.start([c,l,m,s,A]),()=>{o.stop(),f.current&&f.current(),A()}},[r,n,s,a,l,c,A,o]),u(d.t)}function cy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=E.useRef(Gm(t)),n=E.useRef(e);return n.current!==e&&(r.current=Gm(t),n.current=e),r.current}var DJ=["radius"],RJ=["radius"];function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function U_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){MJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MJ(e,t,r){return(t=HJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HJ(e){var t=$J(e,"string");return typeof t=="symbol"?t:t+""}function $J(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(null,arguments)}function P_(e,t){if(e==null)return{};var r,n,s=KJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function KJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var T_=(e,t,r,n,s)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,A=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&s instanceof Array){for(var o=[0,0,0,0],d=0,h=4;d<h;d++)o[d]=s[d]>a?a:s[d];u="M".concat(e,",").concat(t+l*o[0]),o[0]>0&&(u+="A ".concat(o[0],",").concat(o[0],",0,0,").concat(c,",").concat(e+A*o[0],",").concat(t)),u+="L ".concat(e+r-A*o[1],",").concat(t),o[1]>0&&(u+="A ".concat(o[1],",").concat(o[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+l*o[1])),u+="L ".concat(e+r,",").concat(t+n-l*o[2]),o[2]>0&&(u+="A ".concat(o[2],",").concat(o[2],",0,0,").concat(c,`,
        `).concat(e+r-A*o[2],",").concat(t+n)),u+="L ".concat(e+A*o[3],",").concat(t+n),o[3]>0&&(u+="A ".concat(o[3],",").concat(o[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-l*o[3])),u+="Z"}else if(a>0&&s===+s&&s>0){var f=Math.min(a,s);u="M ".concat(e,",").concat(t+l*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+A*f,",").concat(t,`
            L `).concat(e+r-A*f,",").concat(t,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r,",").concat(t+l*f,`
            L `).concat(e+r,",").concat(t+n-l*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r-A*f,",").concat(t+n,`
            L `).concat(e+A*f,",").concat(t+n,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+n-l*f," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},zJ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iO=e=>{var t=ja(e,zJ),r=E.useRef(null),[n,s]=E.useState(-1);E.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&s(V)}catch{}},[]);var{x:a,y:l,width:A,height:c,radius:u,className:o}=t,{animationEasing:d,animationDuration:h,animationBegin:f,isAnimationActive:g,isUpdateAnimationActive:m}=t,x=E.useRef(A),p=E.useRef(c),v=E.useRef(a),b=E.useRef(l),j=E.useMemo(()=>({x:a,y:l,width:A,height:c,radius:u}),[a,l,A,c,u]),k=cy(j,"rectangle-");if(a!==+a||l!==+l||A!==+A||c!==+c||A===0||c===0)return null;var S=Qr("recharts-rectangle",o);if(!m){var F=io(t),T=P_(F,DJ);return E.createElement("path",Dx({},T,{radius:typeof u=="number"?u:void 0,className:S,d:T_(a,l,A,c,u)}))}var P=x.current,R=p.current,U=v.current,D=b.current,Q="0px ".concat(n===-1?1:n,"px"),H="".concat(n,"px 0px"),W=rO(["strokeDasharray"],h,typeof d=="string"?d:void 0);return E.createElement(ly,{animationId:k,key:k,canBegin:n>0,duration:h,easing:d,isActive:m,begin:f},V=>{var Z=Os(P,A,V),K=Os(R,c,V),X=Os(U,a,V),le=Os(D,l,V);r.current&&(x.current=Z,p.current=K,v.current=X,b.current=le);var Ae;g?V>0?Ae={transition:W,strokeDasharray:H}:Ae={strokeDasharray:Q}:Ae={strokeDasharray:H};var M=io(t),G=P_(M,RJ);return E.createElement("path",Dx({},G,{radius:typeof u=="number"?u:void 0,className:S,d:T_(X,le,Z,K,u),ref:r,style:U_(U_({},Ae),t.style)}))})};function oO(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:a}=e,l=Jn(t,r,n,s),A=Jn(t,r,n,a);return{points:[l,A],cx:t,cy:r,radius:n,startAngle:s,endAngle:a}}function qj(){return qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qj.apply(null,arguments)}var VJ=(e,t)=>{var r=ys(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},uv=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:a,isExternal:l,cornerRadius:A,cornerIsExternal:c}=e,u=A*(l?1:-1)+n,o=Math.asin(A/u)/Tx,d=c?s:s+a*o,h=Jn(t,r,u,d),f=Jn(t,r,n,d),g=c?s-a*o:s,m=Jn(t,r,u*Math.cos(o*Tx),g);return{center:h,circleTangency:f,lineTangency:m,theta:o}},lO=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:a,endAngle:l}=e,A=VJ(a,l),c=a+A,u=Jn(t,r,s,a),o=Jn(t,r,s,c),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(A)>180),",").concat(+(a>c),`,
    `).concat(o.x,",").concat(o.y,`
  `);if(n>0){var h=Jn(t,r,n,a),f=Jn(t,r,n,c);d+="L ".concat(f.x,",").concat(f.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(A)>180),",").concat(+(a<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},GJ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:A,startAngle:c,endAngle:u}=e,o=ys(u-c),{circleTangency:d,lineTangency:h,theta:f}=uv({cx:t,cy:r,radius:s,angle:c,sign:o,cornerRadius:a,cornerIsExternal:A}),{circleTangency:g,lineTangency:m,theta:x}=uv({cx:t,cy:r,radius:s,angle:u,sign:-o,cornerRadius:a,cornerIsExternal:A}),p=A?Math.abs(c-u):Math.abs(c-u)-f-x;if(p<0)return l?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):lO({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:c,endAngle:u});var v="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(o<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(p>180),",").concat(+(o<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(o<0),",").concat(m.x,",").concat(m.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:j,theta:k}=uv({cx:t,cy:r,radius:n,angle:c,sign:o,isExternal:!0,cornerRadius:a,cornerIsExternal:A}),{circleTangency:S,lineTangency:F,theta:T}=uv({cx:t,cy:r,radius:n,angle:u,sign:-o,isExternal:!0,cornerRadius:a,cornerIsExternal:A}),P=A?Math.abs(c-u):Math.abs(c-u)-k-T;if(P<0&&a===0)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(F.x,",").concat(F.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(o<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(P>180),",").concat(+(o>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(o<0),",").concat(j.x,",").concat(j.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v},WJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cO=e=>{var t=ja(e,WJ),{cx:r,cy:n,innerRadius:s,outerRadius:a,cornerRadius:l,forceCornerRadius:A,cornerIsExternal:c,startAngle:u,endAngle:o,className:d}=t;if(a<s||u===o)return null;var h=Qr("recharts-sector",d),f=a-s,g=ea(l,f,0,!0),m;return g>0&&Math.abs(u-o)<360?m=GJ({cx:r,cy:n,innerRadius:s,outerRadius:a,cornerRadius:Math.min(g,f/2),forceCornerRadius:A,cornerIsExternal:c,startAngle:u,endAngle:o}):m=lO({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:u,endAngle:o}),E.createElement("path",qj({},io(t),{className:h,d:m}))};function YJ(e,t,r){var n,s,a,l;if(e==="horizontal")n=t.x,a=n,s=r.top,l=r.top+r.height;else if(e==="vertical")s=t.y,l=s,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:A,cy:c,innerRadius:u,outerRadius:o,angle:d}=t,h=Jn(A,c,u,d),f=Jn(A,c,o,d);n=h.x,s=h.y,a=f.x,l=f.y}else return oO(t);return[{x:n,y:s},{x:a,y:l}]}var AO={},uO={},dO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mC;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(dO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dO;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(uO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pC,r=uO;function n(s,a,l){l&&typeof l!="number"&&t.isIterateeCall(s,a,l)&&(a=l=void 0),s=r.toFinite(s),a===void 0?(a=s,s=0):a=r.toFinite(a),l=l===void 0?s<a?1:-1:r.toFinite(l);const A=Math.max(Math.ceil((a-s)/(l||1)),0),c=new Array(A);for(let u=0;u<A;u++)c[u]=s,s+=l;return c}e.range=n})(AO);var JJ=AO.range;const fO=bl(JJ);function OA(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function XJ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _C(e){let t,r,n;e.length!==2?(t=OA,r=(A,c)=>OA(e(A),c),n=(A,c)=>e(A)-c):(t=e===OA||e===XJ?e:qJ,r=e,n=e);function s(A,c,u=0,o=A.length){if(u<o){if(t(c,c)!==0)return o;do{const d=u+o>>>1;r(A[d],c)<0?u=d+1:o=d}while(u<o)}return u}function a(A,c,u=0,o=A.length){if(u<o){if(t(c,c)!==0)return o;do{const d=u+o>>>1;r(A[d],c)<=0?u=d+1:o=d}while(u<o)}return u}function l(A,c,u=0,o=A.length){const d=s(A,c,u,o-1);return d>u&&n(A[d-1],c)>-n(A[d],c)?d-1:d}return{left:s,center:l,right:a}}function qJ(){return 0}function hO(e){return e===null?NaN:+e}function*ZJ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const eX=_C(OA),kp=eX.right;_C(hO).center;class O_ extends Map{constructor(t,r=nX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(L_(this,t))}has(t){return super.has(L_(this,t))}set(t,r){return super.set(tX(this,t),r)}delete(t){return super.delete(rX(this,t))}}function L_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function tX({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function rX({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function nX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function sX(e=OA){if(e===OA)return mO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function mO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const aX=Math.sqrt(50),iX=Math.sqrt(10),oX=Math.sqrt(2);function Rx(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),l=a>=aX?10:a>=iX?5:a>=oX?2:1;let A,c,u;return s<0?(u=Math.pow(10,-s)/l,A=Math.round(e*u),c=Math.round(t*u),A/u<e&&++A,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*l,A=Math.round(e/u),c=Math.round(t/u),A*u<e&&++A,c*u>t&&--c),c<A&&.5<=r&&r<2?Rx(e,t,r*2):[A,c,u]}function Zj(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,a,l]=n?Rx(t,e,r):Rx(e,t,r);if(!(a>=s))return[];const A=a-s+1,c=new Array(A);if(n)if(l<0)for(let u=0;u<A;++u)c[u]=(a-u)/-l;else for(let u=0;u<A;++u)c[u]=(a-u)*l;else if(l<0)for(let u=0;u<A;++u)c[u]=(s+u)/-l;else for(let u=0;u<A;++u)c[u]=(s+u)*l;return c}function e5(e,t,r){return t=+t,e=+e,r=+r,Rx(e,t,r)[2]}function t5(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?e5(t,e,r):e5(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function Q_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function D_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function pO(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?mO:sX(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,o=Math.log(c),d=.5*Math.exp(2*o/3),h=.5*Math.sqrt(o*d*(c-d)/c)*(u-c/2<0?-1:1),f=Math.max(r,Math.floor(t-u*d/c+h)),g=Math.min(n,Math.floor(t+(c-u)*d/c+h));pO(e,t,f,g,s)}const a=e[t];let l=r,A=n;for(Q0(e,r,t),s(e[n],a)>0&&Q0(e,r,n);l<A;){for(Q0(e,l,A),++l,--A;s(e[l],a)<0;)++l;for(;s(e[A],a)>0;)--A}s(e[r],a)===0?Q0(e,r,A):(++A,Q0(e,A,n)),A<=t&&(r=A+1),t<=A&&(n=A-1)}return e}function Q0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function lX(e,t,r){if(e=Float64Array.from(ZJ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return D_(e);if(t>=1)return Q_(e);var n,s=(n-1)*t,a=Math.floor(s),l=Q_(pO(e,a).subarray(0,a+1)),A=D_(e.subarray(a+1));return l+(A-l)*(s-a)}}function cX(e,t,r=hO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,a=Math.floor(s),l=+r(e[a],a,e),A=+r(e[a+1],a+1,e);return l+(A-l)*(s-a)}}function AX(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(s);++n<s;)a[n]=e+n*r;return a}function uo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Nc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const r5=Symbol("implicit");function EC(){var e=new O_,t=[],r=[],n=r5;function s(a){let l=e.get(a);if(l===void 0){if(n!==r5)return n;e.set(a,l=t.push(a)-1)}return r[l%r.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new O_;for(const l of a)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return EC(t,r).unknown(n)},uo.apply(s,arguments),s}function FC(){var e=EC().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,a,l,A=!1,c=0,u=0,o=.5;delete e.unknown;function d(){var h=t().length,f=s<n,g=f?s:n,m=f?n:s;a=(m-g)/Math.max(1,h-c+u*2),A&&(a=Math.floor(a)),g+=(m-g-a*(h-c))*o,l=a*(1-c),A&&(g=Math.round(g),l=Math.round(l));var x=AX(h).map(function(p){return g+a*p});return r(f?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,d()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,A=!0,d()},e.bandwidth=function(){return l},e.step=function(){return a},e.round=function(h){return arguments.length?(A=!!h,d()):A},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(o=Math.max(0,Math.min(1,h)),d()):o},e.copy=function(){return FC(t(),[n,s]).round(A).paddingInner(c).paddingOuter(u).align(o)},uo.apply(d(),arguments)}function gO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return gO(t())},e}function uX(){return gO(FC.apply(null,arguments).paddingInner(1))}function IC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function vO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Sp(){}var qm=.7,Mx=1/qm,Yf="\\s*([+-]?\\d+)\\s*",Zm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ml="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dX=/^#([0-9a-f]{3,8})$/,fX=new RegExp(`^rgb\\(${Yf},${Yf},${Yf}\\)$`),hX=new RegExp(`^rgb\\(${ml},${ml},${ml}\\)$`),mX=new RegExp(`^rgba\\(${Yf},${Yf},${Yf},${Zm}\\)$`),pX=new RegExp(`^rgba\\(${ml},${ml},${ml},${Zm}\\)$`),gX=new RegExp(`^hsl\\(${Zm},${ml},${ml}\\)$`),vX=new RegExp(`^hsla\\(${Zm},${ml},${ml},${Zm}\\)$`),R_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};IC(Sp,ep,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:M_,formatHex:M_,formatHex8:xX,formatHsl:bX,formatRgb:H_,toString:H_});function M_(){return this.rgb().formatHex()}function xX(){return this.rgb().formatHex8()}function bX(){return xO(this).formatHsl()}function H_(){return this.rgb().formatRgb()}function ep(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=dX.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?$_(t):r===3?new Ya(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?dv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?dv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=fX.exec(e))?new Ya(t[1],t[2],t[3],1):(t=hX.exec(e))?new Ya(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mX.exec(e))?dv(t[1],t[2],t[3],t[4]):(t=pX.exec(e))?dv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=gX.exec(e))?V_(t[1],t[2]/100,t[3]/100,1):(t=vX.exec(e))?V_(t[1],t[2]/100,t[3]/100,t[4]):R_.hasOwnProperty(e)?$_(R_[e]):e==="transparent"?new Ya(NaN,NaN,NaN,0):null}function $_(e){return new Ya(e>>16&255,e>>8&255,e&255,1)}function dv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ya(e,t,r,n)}function yX(e){return e instanceof Sp||(e=ep(e)),e?(e=e.rgb(),new Ya(e.r,e.g,e.b,e.opacity)):new Ya}function n5(e,t,r,n){return arguments.length===1?yX(e):new Ya(e,t,r,n??1)}function Ya(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}IC(Ya,n5,vO(Sp,{brighter(e){return e=e==null?Mx:Math.pow(Mx,e),new Ya(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qm:Math.pow(qm,e),new Ya(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ya(Gu(this.r),Gu(this.g),Gu(this.b),Hx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:K_,formatHex:K_,formatHex8:wX,formatRgb:z_,toString:z_}));function K_(){return`#${Ou(this.r)}${Ou(this.g)}${Ou(this.b)}`}function wX(){return`#${Ou(this.r)}${Ou(this.g)}${Ou(this.b)}${Ou((isNaN(this.opacity)?1:this.opacity)*255)}`}function z_(){const e=Hx(this.opacity);return`${e===1?"rgb(":"rgba("}${Gu(this.r)}, ${Gu(this.g)}, ${Gu(this.b)}${e===1?")":`, ${e})`}`}function Hx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ou(e){return e=Gu(e),(e<16?"0":"")+e.toString(16)}function V_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Po(e,t,r,n)}function xO(e){if(e instanceof Po)return new Po(e.h,e.s,e.l,e.opacity);if(e instanceof Sp||(e=ep(e)),!e)return new Po;if(e instanceof Po)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),a=Math.max(t,r,n),l=NaN,A=a-s,c=(a+s)/2;return A?(t===a?l=(r-n)/A+(r<n)*6:r===a?l=(n-t)/A+2:l=(t-r)/A+4,A/=c<.5?a+s:2-a-s,l*=60):A=c>0&&c<1?0:l,new Po(l,A,c,e.opacity)}function jX(e,t,r,n){return arguments.length===1?xO(e):new Po(e,t,r,n??1)}function Po(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}IC(Po,jX,vO(Sp,{brighter(e){return e=e==null?Mx:Math.pow(Mx,e),new Po(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qm:Math.pow(qm,e),new Po(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Ya(_w(e>=240?e-240:e+120,s,n),_w(e,s,n),_w(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Po(G_(this.h),fv(this.s),fv(this.l),Hx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hx(this.opacity);return`${e===1?"hsl(":"hsla("}${G_(this.h)}, ${fv(this.s)*100}%, ${fv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function G_(e){return e=(e||0)%360,e<0?e+360:e}function fv(e){return Math.max(0,Math.min(1,e||0))}function _w(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const UC=e=>()=>e;function BX(e,t){return function(r){return e+r*t}}function CX(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function NX(e){return(e=+e)==1?bO:function(t,r){return r-t?CX(t,r,e):UC(isNaN(t)?r:t)}}function bO(e,t){var r=t-e;return r?BX(e,r):UC(isNaN(e)?t:e)}const W_=function e(t){var r=NX(t);function n(s,a){var l=r((s=n5(s)).r,(a=n5(a)).r),A=r(s.g,a.g),c=r(s.b,a.b),u=bO(s.opacity,a.opacity);return function(o){return s.r=l(o),s.g=A(o),s.b=c(o),s.opacity=u(o),s+""}}return n.gamma=e,n}(1);function kX(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(a){for(s=0;s<r;++s)n[s]=e[s]*(1-a)+t[s]*a;return n}}function SX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _X(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),a=new Array(r),l;for(l=0;l<n;++l)s[l]=Fh(e[l],t[l]);for(;l<r;++l)a[l]=t[l];return function(A){for(l=0;l<n;++l)a[l]=s[l](A);return a}}function EX(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function $x(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function FX(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Fh(e[s],t[s]):n[s]=t[s];return function(a){for(s in r)n[s]=r[s](a);return n}}var s5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ew=new RegExp(s5.source,"g");function IX(e){return function(){return e}}function UX(e){return function(t){return e(t)+""}}function PX(e,t){var r=s5.lastIndex=Ew.lastIndex=0,n,s,a,l=-1,A=[],c=[];for(e=e+"",t=t+"";(n=s5.exec(e))&&(s=Ew.exec(t));)(a=s.index)>r&&(a=t.slice(r,a),A[l]?A[l]+=a:A[++l]=a),(n=n[0])===(s=s[0])?A[l]?A[l]+=s:A[++l]=s:(A[++l]=null,c.push({i:l,x:$x(n,s)})),r=Ew.lastIndex;return r<t.length&&(a=t.slice(r),A[l]?A[l]+=a:A[++l]=a),A.length<2?c[0]?UX(c[0].x):IX(t):(t=c.length,function(u){for(var o=0,d;o<t;++o)A[(d=c[o]).i]=d.x(u);return A.join("")})}function Fh(e,t){var r=typeof t,n;return t==null||r==="boolean"?UC(t):(r==="number"?$x:r==="string"?(n=ep(t))?(t=n,W_):PX:t instanceof ep?W_:t instanceof Date?EX:SX(t)?kX:Array.isArray(t)?_X:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?FX:$x)(e,t)}function PC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function TX(e,t){t===void 0&&(t=e,e=Fh);for(var r=0,n=t.length-1,s=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(s,s=t[++r]);return function(l){var A=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return a[A](l-A)}}function OX(e){return function(){return e}}function Kx(e){return+e}var Y_=[0,1];function ga(e){return e}function a5(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:OX(isNaN(t)?NaN:.5)}function LX(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function QX(e,t,r){var n=e[0],s=e[1],a=t[0],l=t[1];return s<n?(n=a5(s,n),a=r(l,a)):(n=a5(n,s),a=r(a,l)),function(A){return a(n(A))}}function DX(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),a=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)s[l]=a5(e[l],e[l+1]),a[l]=r(t[l],t[l+1]);return function(A){var c=kp(e,A,1,n)-1;return a[c](s[c](A))}}function _p(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ay(){var e=Y_,t=Y_,r=Fh,n,s,a,l=ga,A,c,u;function o(){var h=Math.min(e.length,t.length);return l!==ga&&(l=LX(e[0],e[h-1])),A=h>2?DX:QX,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(c||(c=A(e.map(n),t,r)))(n(l(h)))}return d.invert=function(h){return l(s((u||(u=A(t,e.map(n),$x)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Kx),o()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),o()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=PC,o()},d.clamp=function(h){return arguments.length?(l=h?!0:ga,o()):l!==ga},d.interpolate=function(h){return arguments.length?(r=h,o()):r},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,f){return n=h,s=f,o()}}function TC(){return Ay()(ga,ga)}function RX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zx(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function mh(e){return e=zx(Math.abs(e)),e?e[1]:NaN}function MX(e,t){return function(r,n){for(var s=r.length,a=[],l=0,A=e[0],c=0;s>0&&A>0&&(c+A+1>n&&(A=Math.max(1,n-c)),a.push(r.substring(s-=A,s+A)),!((c+=A+1)>n));)A=e[l=(l+1)%e.length];return a.reverse().join(t)}}function HX(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var $X=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tp(e){if(!(t=$X.exec(e)))throw new Error("invalid format: "+e);var t;return new OC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tp.prototype=OC.prototype;function OC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}OC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function KX(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var yO;function zX(e,t){var r=zx(e,t);if(!r)return e+"";var n=r[0],s=r[1],a=s-(yO=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=n.length;return a===l?n:a>l?n+new Array(a-l+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+zx(e,Math.max(0,t+a-1))[0]}function J_(e,t){var r=zx(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const X_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:RX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>J_(e*100,t),r:J_,s:zX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function q_(e){return e}var Z_=Array.prototype.map,eE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function VX(e){var t=e.grouping===void 0||e.thousands===void 0?q_:MX(Z_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?q_:HX(Z_.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",A=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=tp(d);var h=d.fill,f=d.align,g=d.sign,m=d.symbol,x=d.zero,p=d.width,v=d.comma,b=d.precision,j=d.trim,k=d.type;k==="n"?(v=!0,k="g"):X_[k]||(b===void 0&&(b=12),j=!0,k="g"),(x||h==="0"&&f==="=")&&(x=!0,h="0",f="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",F=m==="$"?n:/[%p]/.test(k)?l:"",T=X_[k],P=/[defgprs%]/.test(k);b=b===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function R(U){var D=S,Q=F,H,W,V;if(k==="c")Q=T(U)+Q,U="";else{U=+U;var Z=U<0||1/U<0;if(U=isNaN(U)?c:T(Math.abs(U),b),j&&(U=KX(U)),Z&&+U==0&&g!=="+"&&(Z=!1),D=(Z?g==="("?g:A:g==="-"||g==="("?"":g)+D,Q=(k==="s"?eE[8+yO/3]:"")+Q+(Z&&g==="("?")":""),P){for(H=-1,W=U.length;++H<W;)if(V=U.charCodeAt(H),48>V||V>57){Q=(V===46?s+U.slice(H+1):U.slice(H))+Q,U=U.slice(0,H);break}}}v&&!x&&(U=t(U,1/0));var K=D.length+U.length+Q.length,X=K<p?new Array(p-K+1).join(h):"";switch(v&&x&&(U=t(X+U,X.length?p-Q.length:1/0),X=""),f){case"<":U=D+U+Q+X;break;case"=":U=D+X+U+Q;break;case"^":U=X.slice(0,K=X.length>>1)+D+U+Q+X.slice(K);break;default:U=X+D+U+Q;break}return a(U)}return R.toString=function(){return d+""},R}function o(d,h){var f=u((d=tp(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(mh(h)/3)))*3,m=Math.pow(10,-g),x=eE[8+g/3];return function(p){return f(m*p)+x}}return{format:u,formatPrefix:o}}var hv,LC,wO;GX({thousands:",",grouping:[3],currency:["$",""]});function GX(e){return hv=VX(e),LC=hv.format,wO=hv.formatPrefix,hv}function WX(e){return Math.max(0,-mh(Math.abs(e)))}function YX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mh(t)/3)))*3-mh(Math.abs(e)))}function JX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mh(t)-mh(e))+1}function jO(e,t,r,n){var s=t5(e,t,r),a;switch(n=tp(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=YX(s,l))&&(n.precision=a),wO(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=JX(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=WX(s))&&(n.precision=a-(n.type==="%")*2);break}}return LC(n)}function eu(e){var t=e.domain;return e.ticks=function(r){var n=t();return Zj(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return jO(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,a=n.length-1,l=n[s],A=n[a],c,u,o=10;for(A<l&&(u=l,l=A,A=u,u=s,s=a,a=u);o-- >0;){if(u=e5(l,A,r),u===c)return n[s]=l,n[a]=A,t(n);if(u>0)l=Math.floor(l/u)*u,A=Math.ceil(A/u)*u;else if(u<0)l=Math.ceil(l*u)/u,A=Math.floor(A*u)/u;else break;c=u}return e},e}function BO(){var e=TC();return e.copy=function(){return _p(e,BO())},uo.apply(e,arguments),eu(e)}function CO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Kx),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return CO(e).unknown(t)},e=arguments.length?Array.from(e,Kx):[0,1],eu(r)}function NO(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],a=e[n],l;return a<s&&(l=r,r=n,n=l,l=s,s=a,a=l),e[r]=t.floor(s),e[n]=t.ceil(a),e}function tE(e){return Math.log(e)}function rE(e){return Math.exp(e)}function XX(e){return-Math.log(-e)}function qX(e){return-Math.exp(-e)}function ZX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function eq(e){return e===10?ZX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nE(e){return(t,r)=>-e(-t,r)}function QC(e){const t=e(tE,rE),r=t.domain;let n=10,s,a;function l(){return s=tq(n),a=eq(n),r()[0]<0?(s=nE(s),a=nE(a),e(XX,qX)):e(tE,rE),t}return t.base=function(A){return arguments.length?(n=+A,l()):n},t.domain=function(A){return arguments.length?(r(A),l()):r()},t.ticks=A=>{const c=r();let u=c[0],o=c[c.length-1];const d=o<u;d&&([u,o]=[o,u]);let h=s(u),f=s(o),g,m;const x=A==null?10:+A;let p=[];if(!(n%1)&&f-h<x){if(h=Math.floor(h),f=Math.ceil(f),u>0){for(;h<=f;++h)for(g=1;g<n;++g)if(m=h<0?g/a(-h):g*a(h),!(m<u)){if(m>o)break;p.push(m)}}else for(;h<=f;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/a(-h):g*a(h),!(m<u)){if(m>o)break;p.push(m)}p.length*2<x&&(p=Zj(u,o,x))}else p=Zj(h,f,Math.min(f-h,x)).map(a);return d?p.reverse():p},t.tickFormat=(A,c)=>{if(A==null&&(A=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=tp(c)).precision==null&&(c.trim=!0),c=LC(c)),A===1/0)return c;const u=Math.max(1,n*A/t.ticks().length);return o=>{let d=o/a(Math.round(s(o)));return d*n<n-.5&&(d*=n),d<=u?c(o):""}},t.nice=()=>r(NO(r(),{floor:A=>a(Math.floor(s(A))),ceil:A=>a(Math.ceil(s(A)))})),t}function kO(){const e=QC(Ay()).domain([1,10]);return e.copy=()=>_p(e,kO()).base(e.base()),uo.apply(e,arguments),e}function sE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function aE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function DC(e){var t=1,r=e(sE(t),aE(t));return r.constant=function(n){return arguments.length?e(sE(t=+n),aE(t)):t},eu(r)}function SO(){var e=DC(Ay());return e.copy=function(){return _p(e,SO()).constant(e.constant())},uo.apply(e,arguments)}function iE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function rq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function nq(e){return e<0?-e*e:e*e}function RC(e){var t=e(ga,ga),r=1;function n(){return r===1?e(ga,ga):r===.5?e(rq,nq):e(iE(r),iE(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},eu(t)}function MC(){var e=RC(Ay());return e.copy=function(){return _p(e,MC()).exponent(e.exponent())},uo.apply(e,arguments),e}function sq(){return MC.apply(null,arguments).exponent(.5)}function oE(e){return Math.sign(e)*e*e}function aq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function _O(){var e=TC(),t=[0,1],r=!1,n;function s(a){var l=aq(e(a));return isNaN(l)?n:r?Math.round(l):l}return s.invert=function(a){return e.invert(oE(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,Kx)).map(oE)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(r=!!a,s):r},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return _O(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},uo.apply(s,arguments),eu(s)}function EO(){var e=[],t=[],r=[],n;function s(){var l=0,A=Math.max(1,t.length);for(r=new Array(A-1);++l<A;)r[l-1]=cX(e,l/A);return a}function a(l){return l==null||isNaN(l=+l)?n:t[kp(r,l)]}return a.invertExtent=function(l){var A=t.indexOf(l);return A<0?[NaN,NaN]:[A>0?r[A-1]:e[0],A<r.length?r[A]:e[e.length-1]]},a.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let A of l)A!=null&&!isNaN(A=+A)&&e.push(A);return e.sort(OA),s()},a.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},a.unknown=function(l){return arguments.length?(n=l,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return EO().domain(e).range(t).unknown(n)},uo.apply(a,arguments)}function FO(){var e=0,t=1,r=1,n=[.5],s=[0,1],a;function l(c){return c!=null&&c<=c?s[kp(n,c,0,r)]:a}function A(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,A()):[e,t]},l.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,A()):s.slice()},l.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},l.unknown=function(c){return arguments.length&&(a=c),l},l.thresholds=function(){return n.slice()},l.copy=function(){return FO().domain([e,t]).range(s).unknown(a)},uo.apply(eu(l),arguments)}function IO(){var e=[.5],t=[0,1],r,n=1;function s(a){return a!=null&&a<=a?t[kp(e,a,0,n)]:r}return s.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var l=t.indexOf(a);return[e[l-1],e[l]]},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return IO().domain(e).range(t).unknown(r)},uo.apply(s,arguments)}const Fw=new Date,Iw=new Date;function ds(e,t,r,n){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const l=s(a),A=s.ceil(a);return a-l<A-a?l:A},s.offset=(a,l)=>(t(a=new Date(+a),l==null?1:Math.floor(l)),a),s.range=(a,l,A)=>{const c=[];if(a=s.ceil(a),A=A==null?1:Math.floor(A),!(a<l)||!(A>0))return c;let u;do c.push(u=new Date(+a)),t(a,A),e(a);while(u<a&&a<l);return c},s.filter=a=>ds(l=>{if(l>=l)for(;e(l),!a(l);)l.setTime(l-1)},(l,A)=>{if(l>=l)if(A<0)for(;++A<=0;)for(;t(l,-1),!a(l););else for(;--A>=0;)for(;t(l,1),!a(l););}),r&&(s.count=(a,l)=>(Fw.setTime(+a),Iw.setTime(+l),e(Fw),e(Iw),Math.floor(r(Fw,Iw))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(n?l=>n(l)%a===0:l=>s.count(0,l)%a===0):s)),s}const Vx=ds(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Vx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ds(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Vx);Vx.range;const ac=1e3,to=ac*60,ic=to*60,bc=ic*24,HC=bc*7,lE=bc*30,Uw=bc*365,Lu=ds(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ac)},(e,t)=>(t-e)/ac,e=>e.getUTCSeconds());Lu.range;const $C=ds(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ac)},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getMinutes());$C.range;const KC=ds(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getUTCMinutes());KC.range;const zC=ds(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ac-e.getMinutes()*to)},(e,t)=>{e.setTime(+e+t*ic)},(e,t)=>(t-e)/ic,e=>e.getHours());zC.range;const VC=ds(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ic)},(e,t)=>(t-e)/ic,e=>e.getUTCHours());VC.range;const Ep=ds(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*to)/bc,e=>e.getDate()-1);Ep.range;const uy=ds(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bc,e=>e.getUTCDate()-1);uy.range;const UO=ds(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bc,e=>Math.floor(e/bc));UO.range;function jd(e){return ds(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*to)/HC)}const dy=jd(0),Gx=jd(1),iq=jd(2),oq=jd(3),ph=jd(4),lq=jd(5),cq=jd(6);dy.range;Gx.range;iq.range;oq.range;ph.range;lq.range;cq.range;function Bd(e){return ds(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/HC)}const fy=Bd(0),Wx=Bd(1),Aq=Bd(2),uq=Bd(3),gh=Bd(4),dq=Bd(5),fq=Bd(6);fy.range;Wx.range;Aq.range;uq.range;gh.range;dq.range;fq.range;const GC=ds(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());GC.range;const WC=ds(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());WC.range;const yc=ds(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ds(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});yc.range;const wc=ds(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ds(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});wc.range;function PO(e,t,r,n,s,a){const l=[[Lu,1,ac],[Lu,5,5*ac],[Lu,15,15*ac],[Lu,30,30*ac],[a,1,to],[a,5,5*to],[a,15,15*to],[a,30,30*to],[s,1,ic],[s,3,3*ic],[s,6,6*ic],[s,12,12*ic],[n,1,bc],[n,2,2*bc],[r,1,HC],[t,1,lE],[t,3,3*lE],[e,1,Uw]];function A(u,o,d){const h=o<u;h&&([u,o]=[o,u]);const f=d&&typeof d.range=="function"?d:c(u,o,d),g=f?f.range(u,+o+1):[];return h?g.reverse():g}function c(u,o,d){const h=Math.abs(o-u)/d,f=_C(([,,x])=>x).right(l,h);if(f===l.length)return e.every(t5(u/Uw,o/Uw,d));if(f===0)return Vx.every(Math.max(t5(u,o,d),1));const[g,m]=l[h/l[f-1][2]<l[f][2]/h?f-1:f];return g.every(m)}return[A,c]}const[hq,mq]=PO(wc,WC,fy,UO,VC,KC),[pq,gq]=PO(yc,GC,dy,Ep,zC,$C);function Pw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Tw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function D0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function vq(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,a=e.days,l=e.shortDays,A=e.months,c=e.shortMonths,u=R0(s),o=M0(s),d=R0(a),h=M0(a),f=R0(l),g=M0(l),m=R0(A),x=M0(A),p=R0(c),v=M0(c),b={a:Z,A:K,b:X,B:le,c:null,d:hE,e:hE,f:Mq,g:Xq,G:Zq,H:Qq,I:Dq,j:Rq,L:TO,m:Hq,M:$q,p:Ae,q:M,Q:gE,s:vE,S:Kq,u:zq,U:Vq,V:Gq,w:Wq,W:Yq,x:null,X:null,y:Jq,Y:qq,Z:eZ,"%":pE},j={a:G,A:re,b:ne,B:de,c:null,d:mE,e:mE,f:sZ,g:hZ,G:pZ,H:tZ,I:rZ,j:nZ,L:LO,m:aZ,M:iZ,p:q,q:pe,Q:gE,s:vE,S:oZ,u:lZ,U:cZ,V:AZ,w:uZ,W:dZ,x:null,X:null,y:fZ,Y:mZ,Z:gZ,"%":pE},k={a:R,A:U,b:D,B:Q,c:H,d:dE,e:dE,f:Pq,g:uE,G:AE,H:fE,I:fE,j:Eq,L:Uq,m:_q,M:Fq,p:P,q:Sq,Q:Oq,s:Lq,S:Iq,u:jq,U:Bq,V:Cq,w:wq,W:Nq,x:W,X:V,y:uE,Y:AE,Z:kq,"%":Tq};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(oe,fe){return function(ye){var ue=[],_e=-1,be=0,ie=oe.length,et,ke,Re;for(ye instanceof Date||(ye=new Date(+ye));++_e<ie;)oe.charCodeAt(_e)===37&&(ue.push(oe.slice(be,_e)),(ke=cE[et=oe.charAt(++_e)])!=null?et=oe.charAt(++_e):ke=et==="e"?" ":"0",(Re=fe[et])&&(et=Re(ye,ke)),ue.push(et),be=_e+1);return ue.push(oe.slice(be,_e)),ue.join("")}}function F(oe,fe){return function(ye){var ue=D0(1900,void 0,1),_e=T(ue,oe,ye+="",0),be,ie;if(_e!=ye.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(fe&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(be=Tw(D0(ue.y,0,1)),ie=be.getUTCDay(),be=ie>4||ie===0?Wx.ceil(be):Wx(be),be=uy.offset(be,(ue.V-1)*7),ue.y=be.getUTCFullYear(),ue.m=be.getUTCMonth(),ue.d=be.getUTCDate()+(ue.w+6)%7):(be=Pw(D0(ue.y,0,1)),ie=be.getDay(),be=ie>4||ie===0?Gx.ceil(be):Gx(be),be=Ep.offset(be,(ue.V-1)*7),ue.y=be.getFullYear(),ue.m=be.getMonth(),ue.d=be.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),ie="Z"in ue?Tw(D0(ue.y,0,1)).getUTCDay():Pw(D0(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(ie+5)%7:ue.w+ue.U*7-(ie+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,Tw(ue)):Pw(ue)}}function T(oe,fe,ye,ue){for(var _e=0,be=fe.length,ie=ye.length,et,ke;_e<be;){if(ue>=ie)return-1;if(et=fe.charCodeAt(_e++),et===37){if(et=fe.charAt(_e++),ke=k[et in cE?fe.charAt(_e++):et],!ke||(ue=ke(oe,ye,ue))<0)return-1}else if(et!=ye.charCodeAt(ue++))return-1}return ue}function P(oe,fe,ye){var ue=u.exec(fe.slice(ye));return ue?(oe.p=o.get(ue[0].toLowerCase()),ye+ue[0].length):-1}function R(oe,fe,ye){var ue=f.exec(fe.slice(ye));return ue?(oe.w=g.get(ue[0].toLowerCase()),ye+ue[0].length):-1}function U(oe,fe,ye){var ue=d.exec(fe.slice(ye));return ue?(oe.w=h.get(ue[0].toLowerCase()),ye+ue[0].length):-1}function D(oe,fe,ye){var ue=p.exec(fe.slice(ye));return ue?(oe.m=v.get(ue[0].toLowerCase()),ye+ue[0].length):-1}function Q(oe,fe,ye){var ue=m.exec(fe.slice(ye));return ue?(oe.m=x.get(ue[0].toLowerCase()),ye+ue[0].length):-1}function H(oe,fe,ye){return T(oe,t,fe,ye)}function W(oe,fe,ye){return T(oe,r,fe,ye)}function V(oe,fe,ye){return T(oe,n,fe,ye)}function Z(oe){return l[oe.getDay()]}function K(oe){return a[oe.getDay()]}function X(oe){return c[oe.getMonth()]}function le(oe){return A[oe.getMonth()]}function Ae(oe){return s[+(oe.getHours()>=12)]}function M(oe){return 1+~~(oe.getMonth()/3)}function G(oe){return l[oe.getUTCDay()]}function re(oe){return a[oe.getUTCDay()]}function ne(oe){return c[oe.getUTCMonth()]}function de(oe){return A[oe.getUTCMonth()]}function q(oe){return s[+(oe.getUTCHours()>=12)]}function pe(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var fe=S(oe+="",b);return fe.toString=function(){return oe},fe},parse:function(oe){var fe=F(oe+="",!1);return fe.toString=function(){return oe},fe},utcFormat:function(oe){var fe=S(oe+="",j);return fe.toString=function(){return oe},fe},utcParse:function(oe){var fe=F(oe+="",!0);return fe.toString=function(){return oe},fe}}}var cE={"-":"",_:" ",0:"0"},Bs=/^\s*\d+/,xq=/^%/,bq=/[\\^$*+?|[\]().{}]/g;function yr(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(t)+s:s)}function yq(e){return e.replace(bq,"\\$&")}function R0(e){return new RegExp("^(?:"+e.map(yq).join("|")+")","i")}function M0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function wq(e,t,r){var n=Bs.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function jq(e,t,r){var n=Bs.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Bq(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Cq(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Nq(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function AE(e,t,r){var n=Bs.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function uE(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function kq(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Sq(e,t,r){var n=Bs.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function _q(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function dE(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Eq(e,t,r){var n=Bs.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function fE(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Fq(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Iq(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Uq(e,t,r){var n=Bs.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Pq(e,t,r){var n=Bs.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Tq(e,t,r){var n=xq.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Oq(e,t,r){var n=Bs.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Lq(e,t,r){var n=Bs.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function hE(e,t){return yr(e.getDate(),t,2)}function Qq(e,t){return yr(e.getHours(),t,2)}function Dq(e,t){return yr(e.getHours()%12||12,t,2)}function Rq(e,t){return yr(1+Ep.count(yc(e),e),t,3)}function TO(e,t){return yr(e.getMilliseconds(),t,3)}function Mq(e,t){return TO(e,t)+"000"}function Hq(e,t){return yr(e.getMonth()+1,t,2)}function $q(e,t){return yr(e.getMinutes(),t,2)}function Kq(e,t){return yr(e.getSeconds(),t,2)}function zq(e){var t=e.getDay();return t===0?7:t}function Vq(e,t){return yr(dy.count(yc(e)-1,e),t,2)}function OO(e){var t=e.getDay();return t>=4||t===0?ph(e):ph.ceil(e)}function Gq(e,t){return e=OO(e),yr(ph.count(yc(e),e)+(yc(e).getDay()===4),t,2)}function Wq(e){return e.getDay()}function Yq(e,t){return yr(Gx.count(yc(e)-1,e),t,2)}function Jq(e,t){return yr(e.getFullYear()%100,t,2)}function Xq(e,t){return e=OO(e),yr(e.getFullYear()%100,t,2)}function qq(e,t){return yr(e.getFullYear()%1e4,t,4)}function Zq(e,t){var r=e.getDay();return e=r>=4||r===0?ph(e):ph.ceil(e),yr(e.getFullYear()%1e4,t,4)}function eZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+yr(t/60|0,"0",2)+yr(t%60,"0",2)}function mE(e,t){return yr(e.getUTCDate(),t,2)}function tZ(e,t){return yr(e.getUTCHours(),t,2)}function rZ(e,t){return yr(e.getUTCHours()%12||12,t,2)}function nZ(e,t){return yr(1+uy.count(wc(e),e),t,3)}function LO(e,t){return yr(e.getUTCMilliseconds(),t,3)}function sZ(e,t){return LO(e,t)+"000"}function aZ(e,t){return yr(e.getUTCMonth()+1,t,2)}function iZ(e,t){return yr(e.getUTCMinutes(),t,2)}function oZ(e,t){return yr(e.getUTCSeconds(),t,2)}function lZ(e){var t=e.getUTCDay();return t===0?7:t}function cZ(e,t){return yr(fy.count(wc(e)-1,e),t,2)}function QO(e){var t=e.getUTCDay();return t>=4||t===0?gh(e):gh.ceil(e)}function AZ(e,t){return e=QO(e),yr(gh.count(wc(e),e)+(wc(e).getUTCDay()===4),t,2)}function uZ(e){return e.getUTCDay()}function dZ(e,t){return yr(Wx.count(wc(e)-1,e),t,2)}function fZ(e,t){return yr(e.getUTCFullYear()%100,t,2)}function hZ(e,t){return e=QO(e),yr(e.getUTCFullYear()%100,t,2)}function mZ(e,t){return yr(e.getUTCFullYear()%1e4,t,4)}function pZ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?gh(e):gh.ceil(e),yr(e.getUTCFullYear()%1e4,t,4)}function gZ(){return"+0000"}function pE(){return"%"}function gE(e){return+e}function vE(e){return Math.floor(+e/1e3)}var gf,DO,RO;vZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vZ(e){return gf=vq(e),DO=gf.format,gf.parse,RO=gf.utcFormat,gf.utcParse,gf}function xZ(e){return new Date(e)}function bZ(e){return e instanceof Date?+e:+new Date(+e)}function YC(e,t,r,n,s,a,l,A,c,u){var o=TC(),d=o.invert,h=o.domain,f=u(".%L"),g=u(":%S"),m=u("%I:%M"),x=u("%I %p"),p=u("%a %d"),v=u("%b %d"),b=u("%B"),j=u("%Y");function k(S){return(c(S)<S?f:A(S)<S?g:l(S)<S?m:a(S)<S?x:n(S)<S?s(S)<S?p:v:r(S)<S?b:j)(S)}return o.invert=function(S){return new Date(d(S))},o.domain=function(S){return arguments.length?h(Array.from(S,bZ)):h().map(xZ)},o.ticks=function(S){var F=h();return e(F[0],F[F.length-1],S??10)},o.tickFormat=function(S,F){return F==null?k:u(F)},o.nice=function(S){var F=h();return(!S||typeof S.range!="function")&&(S=t(F[0],F[F.length-1],S??10)),S?h(NO(F,S)):o},o.copy=function(){return _p(o,YC(e,t,r,n,s,a,l,A,c,u))},o}function yZ(){return uo.apply(YC(pq,gq,yc,GC,dy,Ep,zC,$C,Lu,DO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wZ(){return uo.apply(YC(hq,mq,wc,WC,fy,uy,VC,KC,Lu,RO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hy(){var e=0,t=1,r,n,s,a,l=ga,A=!1,c;function u(d){return d==null||isNaN(d=+d)?c:l(s===0?.5:(d=(a(d)-r)*s,A?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(A=!!d,u):A},u.interpolator=function(d){return arguments.length?(l=d,u):l};function o(d){return function(h){var f,g;return arguments.length?([f,g]=h,l=d(f,g),u):[l(0),l(1)]}}return u.range=o(Fh),u.rangeRound=o(PC),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return a=d,r=d(e),n=d(t),s=r===n?0:1/(n-r),u}}function tu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function MO(){var e=eu(hy()(ga));return e.copy=function(){return tu(e,MO())},Nc.apply(e,arguments)}function HO(){var e=QC(hy()).domain([1,10]);return e.copy=function(){return tu(e,HO()).base(e.base())},Nc.apply(e,arguments)}function $O(){var e=DC(hy());return e.copy=function(){return tu(e,$O()).constant(e.constant())},Nc.apply(e,arguments)}function JC(){var e=RC(hy());return e.copy=function(){return tu(e,JC()).exponent(e.exponent())},Nc.apply(e,arguments)}function jZ(){return JC.apply(null,arguments).exponent(.5)}function KO(){var e=[],t=ga;function r(n){if(n!=null&&!isNaN(n=+n))return t((kp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(OA),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,a)=>lX(e,a/n))},r.copy=function(){return KO(t).domain(e)},Nc.apply(r,arguments)}function my(){var e=0,t=.5,r=1,n=1,s,a,l,A,c,u=ga,o,d=!1,h;function f(m){return isNaN(m=+m)?h:(m=.5+((m=+o(m))-a)*(n*m<n*a?A:c),u(d?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t,r]=m,s=o(e=+e),a=o(t=+t),l=o(r=+r),A=s===a?0:.5/(a-s),c=a===l?0:.5/(l-a),n=a<s?-1:1,f):[e,t,r]},f.clamp=function(m){return arguments.length?(d=!!m,f):d},f.interpolator=function(m){return arguments.length?(u=m,f):u};function g(m){return function(x){var p,v,b;return arguments.length?([p,v,b]=x,u=TX(m,[p,v,b]),f):[u(0),u(.5),u(1)]}}return f.range=g(Fh),f.rangeRound=g(PC),f.unknown=function(m){return arguments.length?(h=m,f):h},function(m){return o=m,s=m(e),a=m(t),l=m(r),A=s===a?0:.5/(a-s),c=a===l?0:.5/(l-a),n=a<s?-1:1,f}}function zO(){var e=eu(my()(ga));return e.copy=function(){return tu(e,zO())},Nc.apply(e,arguments)}function VO(){var e=QC(my()).domain([.1,1,10]);return e.copy=function(){return tu(e,VO()).base(e.base())},Nc.apply(e,arguments)}function GO(){var e=DC(my());return e.copy=function(){return tu(e,GO()).constant(e.constant())},Nc.apply(e,arguments)}function XC(){var e=RC(my());return e.copy=function(){return tu(e,XC()).exponent(e.exponent())},Nc.apply(e,arguments)}function BZ(){return XC.apply(null,arguments).exponent(.5)}const q0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:FC,scaleDiverging:zO,scaleDivergingLog:VO,scaleDivergingPow:XC,scaleDivergingSqrt:BZ,scaleDivergingSymlog:GO,scaleIdentity:CO,scaleImplicit:r5,scaleLinear:BO,scaleLog:kO,scaleOrdinal:EC,scalePoint:uX,scalePow:MC,scaleQuantile:EO,scaleQuantize:FO,scaleRadial:_O,scaleSequential:MO,scaleSequentialLog:HO,scaleSequentialPow:JC,scaleSequentialQuantile:KO,scaleSequentialSqrt:jZ,scaleSequentialSymlog:$O,scaleSqrt:sq,scaleSymlog:SO,scaleThreshold:IO,scaleTime:yZ,scaleUtc:wZ,tickFormat:jO},Symbol.toStringTag,{value:"Module"}));var ru=e=>e.chartData,qC=Te([ru],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ZC=(e,t,r,n)=>n?qC(e):ru(e);function cd(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ra(t)&&ra(r))return!0}return!1}function xE(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function WO(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,a;if(ra(r))s=r;else if(typeof r=="function")return;if(ra(n))a=n;else if(typeof n=="function")return;var l=[s,a];if(cd(l))return l}}function CZ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(cd(n))return xE(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,a]=e,l,A;if(s==="auto")t!=null&&(l=Math.min(...t));else if(Ot(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&A_.test(s)){var c=A_.exec(s);if(c==null||t==null)l=void 0;else{var u=+c[1];l=t[0]-u}}else l=t==null?void 0:t[0];if(a==="auto")t!=null&&(A=Math.max(...t));else if(Ot(a))A=a;else if(typeof a=="function")try{t!=null&&(A=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&u_.test(a)){var o=u_.exec(a);if(o==null||t==null)A=void 0;else{var d=+o[1];A=t[1]+d}}else A=t==null?void 0:t[1];var h=[l,A];if(cd(h))return t==null?h:xE(h,t,r)}}}var Ih=1e9,NZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tN,An=!0,co="[DecimalError] ",Wu=co+"Invalid argument: ",eN=co+"Exponent out of range: ",Uh=Math.floor,Eu=Math.pow,kZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bi,xs=1e7,qr=7,YO=9007199254740991,Yx=Uh(YO/qr),xt={};xt.absoluteValue=xt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};xt.comparedTo=xt.cmp=function(e){var t,r,n,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1};xt.decimalPlaces=xt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};xt.dividedBy=xt.div=function(e){return uc(this,new this.constructor(e))};xt.dividedToIntegerBy=xt.idiv=function(e){var t=this,r=t.constructor;return Kr(uc(t,new r(e),0,1),r.precision)};xt.equals=xt.eq=function(e){return!this.cmp(e)};xt.exponent=function(){return Xn(this)};xt.greaterThan=xt.gt=function(e){return this.cmp(e)>0};xt.greaterThanOrEqualTo=xt.gte=function(e){return this.cmp(e)>=0};xt.isInteger=xt.isint=function(){return this.e>this.d.length-2};xt.isNegative=xt.isneg=function(){return this.s<0};xt.isPositive=xt.ispos=function(){return this.s>0};xt.isZero=function(){return this.s===0};xt.lessThan=xt.lt=function(e){return this.cmp(e)<0};xt.lessThanOrEqualTo=xt.lte=function(e){return this.cmp(e)<1};xt.logarithm=xt.log=function(e){var t,r=this,n=r.constructor,s=n.precision,a=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(bi))throw Error(co+"NaN");if(r.s<1)throw Error(co+(r.s?"NaN":"-Infinity"));return r.eq(bi)?new n(0):(An=!1,t=uc(rp(r,a),rp(e,a),a),An=!0,Kr(t,s))};xt.minus=xt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qO(t,e):JO(t,(e.s=-e.s,e))};xt.modulo=xt.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(co+"NaN");return r.s?(An=!1,t=uc(r,e,0,1).times(e),An=!0,r.minus(t)):Kr(new n(r),s)};xt.naturalExponential=xt.exp=function(){return XO(this)};xt.naturalLogarithm=xt.ln=function(){return rp(this)};xt.negated=xt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};xt.plus=xt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?JO(t,e):qO(t,(e.s=-e.s,e))};xt.precision=xt.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wu+e);if(t=Xn(s)+1,n=s.d.length-1,r=n*qr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};xt.squareRoot=xt.sqrt=function(){var e,t,r,n,s,a,l,A=this,c=A.constructor;if(A.s<1){if(!A.s)return new c(0);throw Error(co+"NaN")}for(e=Xn(A),An=!1,s=Math.sqrt(+A),s==0||s==1/0?(t=ul(A.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Uh((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=l=r+3;;)if(a=n,n=a.plus(uc(A,a,l+2)).times(.5),ul(a.d).slice(0,l)===(t=ul(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(Kr(a,r+1,0),a.times(a).eq(A)){n=a;break}}else if(t!="9999")break;l+=4}return An=!0,Kr(n,r)};xt.times=xt.mul=function(e){var t,r,n,s,a,l,A,c,u,o=this,d=o.constructor,h=o.d,f=(e=new d(e)).d;if(!o.s||!e.s)return new d(0);for(e.s*=o.s,r=o.e+e.e,c=h.length,u=f.length,c<u&&(a=h,h=f,f=a,l=c,c=u,u=l),a=[],l=c+u,n=l;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)A=a[s]+f[n]*h[s-n-1]+t,a[s--]=A%xs|0,t=A/xs|0;a[s]=(a[s]+t)%xs|0}for(;!a[--l];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,An?Kr(e,d.precision):e};xt.toDecimalPlaces=xt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(xl(e,0,Ih),t===void 0?t=n.rounding:xl(t,0,8),Kr(r,e+Xn(r)+1,t))};xt.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Ad(n,!0):(xl(e,0,Ih),t===void 0?t=s.rounding:xl(t,0,8),n=Kr(new s(n),e+1,t),r=Ad(n,!0,e+1)),r};xt.toFixed=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?Ad(s):(xl(e,0,Ih),t===void 0?t=a.rounding:xl(t,0,8),n=Kr(new a(s),e+Xn(s)+1,t),r=Ad(n.abs(),!1,e+Xn(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};xt.toInteger=xt.toint=function(){var e=this,t=e.constructor;return Kr(new t(e),Xn(e)+1,t.rounding)};xt.toNumber=function(){return+this};xt.toPower=xt.pow=function(e){var t,r,n,s,a,l,A=this,c=A.constructor,u=12,o=+(e=new c(e));if(!e.s)return new c(bi);if(A=new c(A),!A.s){if(e.s<1)throw Error(co+"Infinity");return A}if(A.eq(bi))return A;if(n=c.precision,e.eq(bi))return Kr(A,n);if(t=e.e,r=e.d.length-1,l=t>=r,a=A.s,l){if((r=o<0?-o:o)<=YO){for(s=new c(bi),t=Math.ceil(n/qr+4),An=!1;r%2&&(s=s.times(A),yE(s.d,t)),r=Uh(r/2),r!==0;)A=A.times(A),yE(A.d,t);return An=!0,e.s<0?new c(bi).div(s):Kr(s,n)}}else if(a<0)throw Error(co+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,A.s=1,An=!1,s=e.times(rp(A,n+u)),An=!0,s=XO(s),s.s=a,s};xt.toPrecision=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?(r=Xn(s),n=Ad(s,r<=a.toExpNeg||r>=a.toExpPos)):(xl(e,1,Ih),t===void 0?t=a.rounding:xl(t,0,8),s=Kr(new a(s),e,t),r=Xn(s),n=Ad(s,e<=r||r<=a.toExpNeg,e)),n};xt.toSignificantDigits=xt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(xl(e,1,Ih),t===void 0?t=n.rounding:xl(t,0,8)),Kr(new n(r),e,t)};xt.toString=xt.valueOf=xt.val=xt.toJSON=xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xn(e),r=e.constructor;return Ad(e,t<=r.toExpNeg||t>=r.toExpPos)};function JO(e,t){var r,n,s,a,l,A,c,u,o=e.constructor,d=o.precision;if(!e.s||!t.s)return t.s||(t=new o(e)),An?Kr(t,d):t;if(c=e.d,u=t.d,l=e.e,s=t.e,c=c.slice(),a=l-s,a){for(a<0?(n=c,a=-a,A=u.length):(n=u,s=l,A=c.length),l=Math.ceil(d/qr),A=l>A?l+1:A+1,a>A&&(a=A,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(A=c.length,a=u.length,A-a<0&&(a=A,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/xs|0,c[a]%=xs;for(r&&(c.unshift(r),++s),A=c.length;c[--A]==0;)c.pop();return t.d=c,t.e=s,An?Kr(t,d):t}function xl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Wu+e)}function ul(e){var t,r,n,s=e.length-1,a="",l=e[0];if(s>0){for(a+=l,t=1;t<s;t++)n=e[t]+"",r=qr-n.length,r&&(a+=fA(r)),a+=n;l=e[t],n=l+"",r=qr-n.length,r&&(a+=fA(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var uc=function(){function e(n,s){var a,l=0,A=n.length;for(n=n.slice();A--;)a=n[A]*s+l,n[A]=a%xs|0,l=a/xs|0;return l&&n.unshift(l),n}function t(n,s,a,l){var A,c;if(a!=l)c=a>l?1:-1;else for(A=c=0;A<a;A++)if(n[A]!=s[A]){c=n[A]>s[A]?1:-1;break}return c}function r(n,s,a){for(var l=0;a--;)n[a]-=l,l=n[a]<s[a]?1:0,n[a]=l*xs+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,l){var A,c,u,o,d,h,f,g,m,x,p,v,b,j,k,S,F,T,P=n.constructor,R=n.s==s.s?1:-1,U=n.d,D=s.d;if(!n.s)return new P(n);if(!s.s)throw Error(co+"Division by zero");for(c=n.e-s.e,F=D.length,k=U.length,f=new P(R),g=f.d=[],u=0;D[u]==(U[u]||0);)++u;if(D[u]>(U[u]||0)&&--c,a==null?v=a=P.precision:l?v=a+(Xn(n)-Xn(s))+1:v=a,v<0)return new P(0);if(v=v/qr+2|0,u=0,F==1)for(o=0,D=D[0],v++;(u<k||o)&&v--;u++)b=o*xs+(U[u]||0),g[u]=b/D|0,o=b%D|0;else{for(o=xs/(D[0]+1)|0,o>1&&(D=e(D,o),U=e(U,o),F=D.length,k=U.length),j=F,m=U.slice(0,F),x=m.length;x<F;)m[x++]=0;T=D.slice(),T.unshift(0),S=D[0],D[1]>=xs/2&&++S;do o=0,A=t(D,m,F,x),A<0?(p=m[0],F!=x&&(p=p*xs+(m[1]||0)),o=p/S|0,o>1?(o>=xs&&(o=xs-1),d=e(D,o),h=d.length,x=m.length,A=t(d,m,h,x),A==1&&(o--,r(d,F<h?T:D,h))):(o==0&&(A=o=1),d=D.slice()),h=d.length,h<x&&d.unshift(0),r(m,d,x),A==-1&&(x=m.length,A=t(D,m,F,x),A<1&&(o++,r(m,F<x?T:D,x))),x=m.length):A===0&&(o++,m=[0]),g[u++]=o,A&&m[0]?m[x++]=U[j]||0:(m=[U[j]],x=1);while((j++<k||m[0]!==void 0)&&v--)}return g[0]||g.shift(),f.e=c,Kr(f,l?a+Xn(f)+1:a)}}();function XO(e,t){var r,n,s,a,l,A,c=0,u=0,o=e.constructor,d=o.precision;if(Xn(e)>16)throw Error(eN+Xn(e));if(!e.s)return new o(bi);for(t==null?(An=!1,A=d):A=t,l=new o(.03125);e.abs().gte(.1);)e=e.times(l),u+=5;for(n=Math.log(Eu(2,u))/Math.LN10*2+5|0,A+=n,r=s=a=new o(bi),o.precision=A;;){if(s=Kr(s.times(e),A),r=r.times(++c),l=a.plus(uc(s,r,A)),ul(l.d).slice(0,A)===ul(a.d).slice(0,A)){for(;u--;)a=Kr(a.times(a),A);return o.precision=d,t==null?(An=!0,Kr(a,d)):a}a=l}}function Xn(e){for(var t=e.e*qr,r=e.d[0];r>=10;r/=10)t++;return t}function Ow(e,t,r){if(t>e.LN10.sd())throw An=!0,r&&(e.precision=r),Error(co+"LN10 precision limit exceeded");return Kr(new e(e.LN10),t)}function fA(e){for(var t="";e--;)t+="0";return t}function rp(e,t){var r,n,s,a,l,A,c,u,o,d=1,h=10,f=e,g=f.d,m=f.constructor,x=m.precision;if(f.s<1)throw Error(co+(f.s?"NaN":"-Infinity"));if(f.eq(bi))return new m(0);if(t==null?(An=!1,u=x):u=t,f.eq(10))return t==null&&(An=!0),Ow(m,u);if(u+=h,m.precision=u,r=ul(g),n=r.charAt(0),a=Xn(f),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(e),r=ul(f.d),n=r.charAt(0),d++;a=Xn(f),n>1?(f=new m("0."+r),a++):f=new m(n+"."+r.slice(1))}else return c=Ow(m,u+2,x).times(a+""),f=rp(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=x,t==null?(An=!0,Kr(f,x)):f;for(A=l=f=uc(f.minus(bi),f.plus(bi),u),o=Kr(f.times(f),u),s=3;;){if(l=Kr(l.times(o),u),c=A.plus(uc(l,new m(s),u)),ul(c.d).slice(0,u)===ul(A.d).slice(0,u))return A=A.times(2),a!==0&&(A=A.plus(Ow(m,u+2,x).times(a+""))),A=uc(A,new m(d),u),m.precision=x,t==null?(An=!0,Kr(A,x)):A;A=c,s+=2}}function bE(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Uh(r/qr),e.d=[],n=(r+1)%qr,r<0&&(n+=qr),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=qr;n<s;)e.d.push(+t.slice(n,n+=qr));t=t.slice(n),n=qr-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),An&&(e.e>Yx||e.e<-Yx))throw Error(eN+r)}else e.s=0,e.e=0,e.d=[0];return e}function Kr(e,t,r){var n,s,a,l,A,c,u,o,d=e.d;for(l=1,a=d[0];a>=10;a/=10)l++;if(n=t-l,n<0)n+=qr,s=t,u=d[o=0];else{if(o=Math.ceil((n+1)/qr),a=d.length,o>=a)return e;for(u=a=d[o],l=1;a>=10;a/=10)l++;n%=qr,s=n-qr+l}if(r!==void 0&&(a=Eu(10,l-s-1),A=u/a%10|0,c=t<0||d[o+1]!==void 0||u%a,c=r<4?(A||c)&&(r==0||r==(e.s<0?3:2)):A>5||A==5&&(r==4||c||r==6&&(n>0?s>0?u/Eu(10,l-s):0:d[o-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(a=Xn(e),d.length=1,t=t-a-1,d[0]=Eu(10,(qr-t%qr)%qr),e.e=Uh(-t/qr)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=o,a=1,o--):(d.length=o+1,a=Eu(10,qr-n),d[o]=s>0?(u/Eu(10,l-s)%Eu(10,s)|0)*a:0),c)for(;;)if(o==0){(d[0]+=a)==xs&&(d[0]=1,++e.e);break}else{if(d[o]+=a,d[o]!=xs)break;d[o--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(An&&(e.e>Yx||e.e<-Yx))throw Error(eN+Xn(e));return e}function qO(e,t){var r,n,s,a,l,A,c,u,o,d,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),An?Kr(t,f):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),l=u-n,l){for(o=l<0,o?(r=c,l=-l,A=d.length):(r=d,n=u,A=c.length),s=Math.max(Math.ceil(f/qr),A)+2,l>s&&(l=s,r.length=1),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else{for(s=c.length,A=d.length,o=s<A,o&&(A=s),s=0;s<A;s++)if(c[s]!=d[s]){o=c[s]<d[s];break}l=0}for(o&&(r=c,c=d,d=r,t.s=-t.s),A=c.length,s=d.length-A;s>0;--s)c[A++]=0;for(s=d.length;s>l;){if(c[--s]<d[s]){for(a=s;a&&c[--a]===0;)c[a]=xs-1;--c[a],c[s]+=xs}c[s]-=d[s]}for(;c[--A]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,An?Kr(t,f):t):new h(0)}function Ad(e,t,r){var n,s=Xn(e),a=ul(e.d),l=a.length;return t?(r&&(n=r-l)>0?a=a.charAt(0)+"."+a.slice(1)+fA(n):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+fA(-s-1)+a,r&&(n=r-l)>0&&(a+=fA(n))):s>=l?(a+=fA(s+1-l),r&&(n=r-s-1)>0&&(a=a+"."+fA(n))):((n=s+1)<l&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-l)>0&&(s+1===l&&(a+="."),a+=fA(n))),e.s<0?"-"+a:a}function yE(e,t){if(e.length>t)return e.length=t,!0}function ZO(e){var t,r,n;function s(a){var l=this;if(!(l instanceof s))return new s(a);if(l.constructor=s,a instanceof s){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Wu+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return bE(l,a.toString())}else if(typeof a!="string")throw Error(Wu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,kZ.test(a))bE(l,a);else throw Error(Wu+a)}if(s.prototype=xt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=ZO,s.config=s.set=SZ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function SZ(e){if(!e||typeof e!="object")throw Error(co+"Object expected");var t,r,n,s=["precision",1,Ih,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Uh(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Wu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Wu+r+": "+n);return this}var tN=ZO(NZ);bi=new tN(1);const Pr=tN;var _Z=e=>e,eL={"@@functional/placeholder":!0},tL=e=>e===eL,wE=e=>function t(){return arguments.length===0||arguments.length===1&&tL(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},rL=(e,t)=>e===1?t:wE(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var a=n.filter(l=>l!==eL).length;return a>=e?t(...n):rL(e-a,wE(function(){for(var l=arguments.length,A=new Array(l),c=0;c<l;c++)A[c]=arguments[c];var u=n.map(o=>tL(o)?A.shift():o);return t(...u,...A)}))}),py=e=>rL(e.length,e),i5=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},EZ=py((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),FZ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return _Z;var s=r.reverse(),a=s[0],l=s.slice(1);return function(){return l.reduce((A,c)=>c(A),a(...arguments))}},o5=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),nL=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t&&s.every((l,A)=>{var c;return l===((c=t)===null||c===void 0?void 0:c[A])})||(t=s,r=e(...s)),r}};function sL(e){var t;return e===0?t=1:t=Math.floor(new Pr(e).abs().log(10).toNumber())+1,t}function aL(e,t,r){for(var n=new Pr(e),s=0,a=[];n.lt(t)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a}py((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});py((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});py((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var iL=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},oL=(e,t,r)=>{if(e.lte(0))return new Pr(0);var n=sL(e.toNumber()),s=new Pr(10).pow(n),a=e.div(s),l=n!==1?.05:.1,A=new Pr(Math.ceil(a.div(l).toNumber())).add(r).mul(l),c=A.mul(s);return t?new Pr(c.toNumber()):new Pr(Math.ceil(c.toNumber()))},IZ=(e,t,r)=>{var n=new Pr(1),s=new Pr(e);if(!s.isint()&&r){var a=Math.abs(e);a<1?(n=new Pr(10).pow(sL(e)-1),s=new Pr(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new Pr(Math.floor(e)))}else e===0?s=new Pr(Math.floor((t-1)/2)):r||(s=new Pr(Math.floor(e)));var l=Math.floor((t-1)/2),A=FZ(EZ(c=>s.add(new Pr(c-l).mul(n)).toNumber()),i5);return A(0,t)},lL=function(t,r,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Pr(0),tickMin:new Pr(0),tickMax:new Pr(0)};var l=oL(new Pr(r).sub(t).div(n-1),s,a),A;t<=0&&r>=0?A=new Pr(0):(A=new Pr(t).add(r).div(2),A=A.sub(new Pr(A).mod(l)));var c=Math.ceil(A.sub(t).div(l).toNumber()),u=Math.ceil(new Pr(r).sub(A).div(l).toNumber()),o=c+u+1;return o>n?lL(t,r,n,s,a+1):(o<n&&(u=r>0?u+(n-o):u,c=r>0?c:c+(n-o)),{step:l,tickMin:A.sub(new Pr(c).mul(l)),tickMax:A.add(new Pr(u).mul(l))})};function UZ(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[l,A]=iL([t,r]);if(l===-1/0||A===1/0){var c=A===1/0?[l,...i5(0,n-1).map(()=>1/0)]:[...i5(0,n-1).map(()=>-1/0),A];return t>r?o5(c):c}if(l===A)return IZ(l,n,s);var{step:u,tickMin:o,tickMax:d}=lL(l,A,a,s,0),h=aL(o,d.add(new Pr(.1).mul(u)),u);return t>r?o5(h):h}function PZ(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=iL([r,n]);if(a===-1/0||l===1/0)return[r,n];if(a===l)return[a];var A=Math.max(t,2),c=oL(new Pr(l).sub(a).div(A-1),s,0),u=[...aL(new Pr(a),new Pr(l),c),l];return s===!1&&(u=u.map(o=>Math.round(o))),r>n?o5(u):u}var TZ=nL(UZ),OZ=nL(PZ),cL=e=>e.rootProps.maxBarSize,LZ=e=>e.rootProps.barGap,AL=e=>e.rootProps.barCategoryGap,QZ=e=>e.rootProps.barSize,Fp=e=>e.rootProps.stackOffset,rN=e=>e.options.chartName,nN=e=>e.rootProps.syncId,uL=e=>e.rootProps.syncMethod,sN=e=>e.options.eventEmitter,tc={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},xi={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},gy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},DZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:tc.angleAxisId,includeHidden:!1,name:void 0,reversed:tc.reversed,scale:tc.scale,tick:tc.tick,tickCount:void 0,ticks:void 0,type:tc.type,unit:void 0},RZ={allowDataOverflow:xi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xi.scale,tick:xi.tick,tickCount:xi.tickCount,ticks:void 0,type:xi.type,unit:void 0},MZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:tc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tc.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tc.scale,tick:tc.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},HZ={allowDataOverflow:xi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xi.scale,tick:xi.tick,tickCount:xi.tickCount,ticks:void 0,type:"category",unit:void 0},aN=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?MZ:DZ,iN=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?HZ:RZ,vy=e=>e.polarOptions,oN=Te([Bc,Cc,us],OT),dL=Te([vy,oN],(e,t)=>{if(e!=null)return ea(e.innerRadius,t,0)}),fL=Te([vy,oN],(e,t)=>{if(e!=null)return ea(e.outerRadius,t,t*.8)}),$Z=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},hL=Te([vy],$Z);Te([aN,hL],gy);var mL=Te([oN,dL,fL],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Te([iN,mL],gy);var pL=Te([wr,vy,dL,fL,Bc,Cc],(e,t,r,n,s,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:A,startAngle:c,endAngle:u}=t;return{cx:ea(l,s,s/2),cy:ea(A,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),fn=(e,t)=>t,Ip=(e,t,r)=>r;function lN(e){return e==null?void 0:e.id}var fs=e=>{var t=wr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ph=e=>e.tooltip.settings.axisId,hs=e=>{var t=fs(e),r=Ph(e);return Up(e,t,r)},gL=Te([hs],e=>e==null?void 0:e.dataKey);function vL(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:a}=r,l=new Map;return e.forEach(A=>{var c,u=(c=A.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var o=lN(A);u.forEach((d,h)=>{var f=a==null||s?h:String(wn(d,a,null)),g=wn(d,A.dataKey,0),m;l.has(f)?m=l.get(f):m={},Object.assign(m,{[o]:g}),l.set(f,m)})}}),Array.from(l.values())}function xy(e){return e.stackId!=null&&e.dataKey!=null}var by=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function yy(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function jE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(r),!0).forEach(function(n){KZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KZ(e,t,r){return(t=zZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zZ(e){var t=VZ(e,"string");return typeof t=="symbol"?t:t+""}function VZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l5=[0,"auto"],mi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},xL=(e,t)=>e.cartesianAxis.xAxis[t],kc=(e,t)=>{var r=xL(e,t);return r??mi},pi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:l5,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Np},bL=(e,t)=>e.cartesianAxis.yAxis[t],Sc=(e,t)=>{var r=bL(e,t);return r??pi},GZ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},cN=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??GZ},kn=(e,t,r)=>{switch(t){case"xAxis":return kc(e,r);case"yAxis":return Sc(e,r);case"zAxis":return cN(e,r);case"angleAxis":return aN(e,r);case"radiusAxis":return iN(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},WZ=(e,t,r)=>{switch(t){case"xAxis":return kc(e,r);case"yAxis":return Sc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Up=(e,t,r)=>{switch(t){case"xAxis":return kc(e,r);case"yAxis":return Sc(e,r);case"angleAxis":return aN(e,r);case"radiusAxis":return iN(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yL=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function AN(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var uN=e=>e.graphicalItems.cartesianItems,YZ=Te([fn,Ip],AN),dN=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Pp=Te([uN,kn,YZ],dN,{memoizeOptions:{resultEqualityCheck:yy}}),wL=Te([Pp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(xy)),jL=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),JZ=Te([Pp],jL),fN=e=>e.map(t=>t.data).filter(Boolean).flat(1),XZ=Te([Pp],fN,{memoizeOptions:{resultEqualityCheck:yy}}),hN=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},mN=Te([XZ,ZC],hN),pN=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:wn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:wn(s,n)}))):e.map(n=>({value:n})),wy=Te([mN,kn,Pp],pN);function BL(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function $v(e){if(vl(e)||e instanceof Date){var t=Number(e);if(ra(t))return t}}function BE(e){if(Array.isArray(e)){var t=[$v(e[0]),$v(e[1])];return cd(t)?t:void 0}var r=$v(e);if(r!=null)return[r,r]}function Th(e){return e.map($v).filter(vJ)}function qZ(e,t,r){return!r||typeof t!="number"||oo(t)?[]:r.length?Th(r.flatMap(n=>{var s=wn(e,n.dataKey),a,l;if(Array.isArray(s)?[a,l]=s:a=l=s,!(!ra(a)||!ra(l)))return[t-a,t+l]})):[]}var ZZ=Te([wL,ZC,hs],vL),CL=(e,t,r)=>{var n={},s=t.reduce((a,l)=>(l.stackId==null||(a[l.stackId]==null&&(a[l.stackId]=[]),a[l.stackId].push(l)),a),n);return Object.fromEntries(Object.entries(s).map(a=>{var[l,A]=a,c=A.map(lN);return[l,{stackedData:zW(e,c,r),graphicalItems:A}]}))},c5=Te([ZZ,wL,Fp],CL),NL=(e,t,r,n)=>{var{dataStartIndex:s,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var l=JW(e,s,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},eee=Te([kn],e=>e.allowDataOverflow),gN=e=>{var t;if(e==null||!("domain"in e))return l5;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Th(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:l5},vN=Te([kn],gN),xN=Te([vN,eee],WO),tee=Te([c5,ru,fn,xN],NL,{memoizeOptions:{resultEqualityCheck:by}}),jy=e=>e.errorBars,ree=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>BL(r,n)),Xx=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var a=s.flat(),l=Math.min(...a),A=Math.max(...a);return[l,A]}},bN=(e,t,r,n,s)=>{var a,l;if(r.length>0&&e.forEach(A=>{r.forEach(c=>{var u,o,d=(u=n[c.id])===null||u===void 0?void 0:u.filter(p=>BL(s,p)),h=wn(A,(o=t.dataKey)!==null&&o!==void 0?o:c.dataKey),f=qZ(A,h,d);if(f.length>=2){var g=Math.min(...f),m=Math.max(...f);(a==null||g<a)&&(a=g),(l==null||m>l)&&(l=m)}var x=BE(h);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),l=l==null?x[1]:Math.max(l,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(A=>{var c=BE(wn(A,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),l=l==null?c[1]:Math.max(l,c[1]))}),ra(a)&&ra(l))return[a,l]},nee=Te([mN,kn,JZ,jy,fn],bN,{memoizeOptions:{resultEqualityCheck:by}});function see(e){var{value:t}=e;if(vl(t)||t instanceof Date)return t}var aee=(e,t,r)=>{var n=e.map(see).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&IP(n))?fO(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},kL=e=>e.referenceElements.dots,Oh=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),iee=Te([kL,fn,Ip],Oh),SL=e=>e.referenceElements.areas,oee=Te([SL,fn,Ip],Oh),_L=e=>e.referenceElements.lines,lee=Te([_L,fn,Ip],Oh),EL=(e,t)=>{var r=Th(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},cee=Te(iee,fn,EL),FL=(e,t)=>{var r=Th(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Aee=Te([oee,fn],FL),IL=(e,t)=>{var r=Th(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},uee=Te(lee,fn,IL),dee=Te(cee,uee,Aee,(e,t,r)=>Xx(e,r,t)),yN=(e,t,r,n,s,a,l,A)=>{if(r!=null)return r;var c=l==="vertical"&&A==="xAxis"||l==="horizontal"&&A==="yAxis",u=c?Xx(n,a,s):Xx(a,s);return CZ(t,u,e.allowDataOverflow)},fee=Te([kn,vN,xN,tee,nee,dee,wr,fn],yN,{memoizeOptions:{resultEqualityCheck:by}}),hee=[0,1],wN=(e,t,r,n,s,a,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:A,type:c}=e,u=yd(t,a);return u&&A==null?fO(0,r.length):c==="category"?aee(n,e,u):s==="expand"?hee:l}},jN=Te([kn,wr,mN,wy,Fp,fn,fee],wN),UL=(e,t,r,n,s)=>{if(e!=null){var{scale:a,type:l}=e;if(a==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var A="scale".concat(wp(a));return A in q0?A:"point"}}},Lh=Te([kn,wr,yL,rN,fn],UL);function mee(e){if(e!=null){if(e in q0)return q0[e]();var t="scale".concat(wp(e));if(t in q0)return q0[t]()}}function BN(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=mee(t);if(s!=null){var a=s.domain(r).range(n);return RW(a),a}}}var CN=(e,t,r)=>{var n=gN(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&cd(e))return TZ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&cd(e))return OZ(e,t.tickCount,t.allowDecimals)}},NN=Te([jN,Up,Lh],CN),kN=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&cd(t)&&Array.isArray(r)&&r.length>0){var s=t[0],a=r[0],l=t[1],A=r[r.length-1];return[Math.min(s,a),Math.max(l,A)]}return t},pee=Te([kn,jN,NN,fn],kN),gee=Te(wy,kn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Th(e.map(A=>A.value))).sort((A,c)=>A-c);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var a=0;a<n.length-1;a++){var l=n[a+1]-n[a];r=Math.min(r,l)}return r/s}}),PL=Te(gee,wr,AL,us,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!ra(e))return 0;var a=t==="vertical"?n.height:n.width;if(s==="gap")return e*a/2;if(s==="no-gap"){var l=ea(r,e*a),A=e*a/2;return A-l-(A-l)/a*l}return 0}),vee=(e,t)=>{var r=kc(e,t);return r==null||typeof r.padding!="string"?0:PL(e,"xAxis",t,r.padding)},xee=(e,t)=>{var r=Sc(e,t);return r==null||typeof r.padding!="string"?0:PL(e,"yAxis",t,r.padding)},bee=Te(kc,vee,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),yee=Te(Sc,xee,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),wee=Te([us,bee,sy,ny,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:a}=n;return s?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),jee=Te([us,wr,yee,sy,ny,(e,t,r)=>r],(e,t,r,n,s,a)=>{var{padding:l}=s;return a?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Tp=(e,t,r,n)=>{var s;switch(t){case"xAxis":return wee(e,r,n);case"yAxis":return jee(e,r,n);case"zAxis":return(s=cN(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return hL(e);case"radiusAxis":return mL(e,r);default:return}},TL=Te([kn,Tp],gy),Qh=Te([kn,Lh,pee,TL],BN);Te([Pp,jy,fn],ree);function OL(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var By=(e,t)=>t,Cy=(e,t,r)=>r,Bee=Te(ty,By,Cy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(OL)),Cee=Te(ry,By,Cy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(OL)),LL=(e,t)=>({width:e.width,height:t.height}),Nee=(e,t)=>{var r=typeof t.width=="number"?t.width:Np;return{width:r,height:e.height}},QL=Te(us,kc,LL),kee=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},See=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},_ee=Te(Cc,us,Bee,By,Cy,(e,t,r,n,s)=>{var a={},l;return r.forEach(A=>{var c=LL(t,A);l==null&&(l=kee(t,n,e));var u=n==="top"&&!s||n==="bottom"&&s;a[A.id]=l-Number(u)*c.height,l+=(u?-1:1)*c.height}),a}),Eee=Te(Bc,us,Cee,By,Cy,(e,t,r,n,s)=>{var a={},l;return r.forEach(A=>{var c=Nee(t,A);l==null&&(l=See(t,n,e));var u=n==="left"&&!s||n==="right"&&s;a[A.id]=l-Number(u)*c.width,l+=(u?-1:1)*c.width}),a}),Fee=(e,t)=>{var r=kc(e,t);if(r!=null)return _ee(e,r.orientation,r.mirror)},Iee=Te([us,kc,Fee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),Uee=(e,t)=>{var r=Sc(e,t);if(r!=null)return Eee(e,r.orientation,r.mirror)},Pee=Te([us,Sc,Uee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),DL=Te(us,Sc,(e,t)=>{var r=typeof t.width=="number"?t.width:Np;return{width:r,height:e.height}}),CE=(e,t,r)=>{switch(t){case"xAxis":return QL(e,r).width;case"yAxis":return DL(e,r).height;default:return}},RL=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:a,dataKey:l}=r,A=yd(e,n),c=t.map(u=>u.value);if(l&&A&&a==="category"&&s&&IP(c))return c}},SN=Te([wr,wy,kn,fn],RL),ML=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:a}=r,l=yd(e,n);if(l&&(s==="number"||a!=="auto"))return t.map(A=>A.value)}},_N=Te([wr,wy,Up,fn],ML),NE=Te([wr,WZ,Lh,Qh,SN,_N,Tp,NN,fn],(e,t,r,n,s,a,l,A,c)=>{if(t==null)return null;var u=yd(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:s,isCategorical:u,niceTicks:A,range:l,realScaleType:r,scale:n}}),Tee=(e,t,r,n,s,a,l,A,c)=>{if(!(t==null||n==null)){var u=yd(e,c),{type:o,ticks:d,tickCount:h}=t,f=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=o==="category"&&n.bandwidth?n.bandwidth()/f:0;g=c==="angleAxis"&&a!=null&&a.length>=2?ys(a[0]-a[1])*2*g:g;var m=d||s;if(m){var x=m.map((p,v)=>{var b=l?l.indexOf(p):p;return{index:v,coordinate:n(b)+g,value:p,offset:g}});return x.filter(p=>!oo(p.coordinate))}return u&&A?A.map((p,v)=>({coordinate:n(p)+g,value:p,index:v,offset:g})):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+g,value:p,offset:g})):n.domain().map((p,v)=>({coordinate:n(p)+g,value:l?l[p]:p,index:v,offset:g}))}},HL=Te([wr,Up,Lh,Qh,NN,Tp,SN,_N,fn],Tee),Oee=(e,t,r,n,s,a,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var A=yd(e,l),{tickCount:c}=t,u=0;return u=l==="angleAxis"&&(n==null?void 0:n.length)>=2?ys(n[0]-n[1])*2*u:u,A&&a?a.map((o,d)=>({coordinate:r(o)+u,value:o,index:d,offset:u})):r.ticks?r.ticks(c).map(o=>({coordinate:r(o)+u,value:o,offset:u})):r.domain().map((o,d)=>({coordinate:r(o)+u,value:s?s[o]:o,index:d,offset:u}))}},vh=Te([wr,Up,Qh,Tp,SN,_N,fn],Oee),xh=Te(kn,Qh,(e,t)=>{if(!(e==null||t==null))return Jx(Jx({},e),{},{scale:t})}),Lee=Te([kn,Lh,jN,TL],BN);Te((e,t,r)=>cN(e,r),Lee,(e,t)=>{if(!(e==null||t==null))return Jx(Jx({},e),{},{scale:t})});var Qee=Te([wr,ty,ry],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$L=e=>e.options.defaultTooltipEventType,KL=e=>e.options.validateTooltipEventTypes;function zL(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function EN(e,t){var r=$L(e),n=KL(e);return zL(t,r,n)}function Dee(e){return Pt(t=>EN(t,e))}var VL=(e,t)=>{var r,n=Number(t);if(!(oo(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Ree=e=>e.tooltip.settings,vA={active:!1,index:null,dataKey:void 0,coordinate:void 0},Mee={itemInteraction:{click:vA,hover:vA},axisInteraction:{click:vA,hover:vA},keyboardInteraction:vA,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},GL=Ii({name:"tooltip",initialState:Mee,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ma()},removeTooltipEntrySettings:{reducer(e,t){var r=Ac(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:ma()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Hee,removeTooltipEntrySettings:$ee,setTooltipSettingsState:Kee,setActiveMouseOverItemIndex:WL,mouseLeaveItem:zee,mouseLeaveChart:YL,setActiveClickItemIndex:Vee,setMouseOverAxisIndex:JL,setMouseClickAxisIndex:Gee,setSyncInteraction:A5,setKeyboardInteraction:u5}=GL.actions,Wee=GL.reducer;function kE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(r),!0).forEach(function(n){Yee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yee(e,t,r){return(t=Jee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jee(e){var t=Xee(e,"string");return typeof t=="symbol"?t:t+""}function Xee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qee(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Zee(e){return e.index!=null}var XL=(e,t,r,n)=>{if(t==null)return vA;var s=qee(e,t,r);if(s==null)return vA;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Zee(s)){if(a)return mv(mv({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return mv(mv({},vA),{},{coordinate:s.coordinate})},FN=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!ra(n))return r;var s=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(s,Math.min(n,a)))},qL=(e,t,r,n,s,a,l,A)=>{if(!(a==null||A==null)){var c=l[0],u=c==null?void 0:A(c.positions,a);if(u!=null)return u;var o=s==null?void 0:s[Number(a)];if(o)switch(r){case"horizontal":return{x:o.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:o.coordinate}}}},ZL=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===s})},Op=e=>e.options.tooltipPayloadSearcher,Dh=e=>e.tooltip;function SE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _E(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(r),!0).forEach(function(n){ete(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ete(e,t,r){return(t=tte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tte(e){var t=rte(e,"string");return typeof t=="symbol"?t:t+""}function rte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nte(e,t){return e??t}var eQ=(e,t,r,n,s,a,l)=>{if(!(t==null||a==null)){var{chartData:A,computedData:c,dataStartIndex:u,dataEndIndex:o}=r,d=[];return e.reduce((h,f)=>{var g,{dataDefinedOnItem:m,settings:x}=f,p=nte(m,A),v=Array.isArray(p)?LT(p,u,o):p,b=(g=x==null?void 0:x.dataKey)!==null&&g!==void 0?g:n,j=x==null?void 0:x.nameKey,k;if(n&&Array.isArray(v)&&!Array.isArray(v[0])&&l==="axis"?k=EV(v,n,s):k=a(v,t,c,j),Array.isArray(k))k.forEach(F=>{var T=_E(_E({},x),{},{name:F.name,unit:F.unit,color:void 0,fill:void 0});h.push(d_({tooltipEntrySettings:T,dataKey:F.dataKey,payload:F.payload,value:wn(F.payload,F.dataKey),name:F.name}))});else{var S;h.push(d_({tooltipEntrySettings:x,dataKey:b,payload:k,value:wn(k,b),name:(S=wn(k,j))!==null&&S!==void 0?S:x==null?void 0:x.name}))}return h},d)}},IN=Te([hs,wr,yL,rN,fs],UL),ste=Te([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),ate=Te([fs,Ph],AN),Lp=Te([ste,hs,ate],dN,{memoizeOptions:{resultEqualityCheck:yy}}),ite=Te([Lp],e=>e.filter(xy)),ote=Te([Lp],fN,{memoizeOptions:{resultEqualityCheck:yy}}),Rh=Te([ote,ru],hN),lte=Te([ite,ru,hs],vL),UN=Te([Rh,hs,Lp],pN),tQ=Te([hs],gN),cte=Te([hs],e=>e.allowDataOverflow),rQ=Te([tQ,cte],WO),Ate=Te([Lp],e=>e.filter(xy)),ute=Te([lte,Ate,Fp],CL),dte=Te([ute,ru,fs,rQ],NL),fte=Te([Lp],jL),hte=Te([Rh,hs,fte,jy,fs],bN,{memoizeOptions:{resultEqualityCheck:by}}),mte=Te([kL,fs,Ph],Oh),pte=Te([mte,fs],EL),gte=Te([SL,fs,Ph],Oh),vte=Te([gte,fs],FL),xte=Te([_L,fs,Ph],Oh),bte=Te([xte,fs],IL),yte=Te([pte,bte,vte],Xx),wte=Te([hs,tQ,rQ,dte,hte,yte,wr,fs],yN),nQ=Te([hs,wr,Rh,UN,Fp,fs,wte],wN),jte=Te([nQ,hs,IN],CN),Bte=Te([hs,nQ,jte,fs],kN),sQ=e=>{var t=fs(e),r=Ph(e),n=!1;return Tp(e,t,r,n)},aQ=Te([hs,sQ],gy),iQ=Te([hs,IN,Bte,aQ],BN),Cte=Te([wr,UN,hs,fs],RL),Nte=Te([wr,UN,hs,fs],ML),kte=(e,t,r,n,s,a,l,A)=>{if(t){var{type:c}=t,u=yd(e,A);if(n){var o=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=c==="category"&&n.bandwidth?n.bandwidth()/o:0;return d=A==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?ys(s[0]-s[1])*2*d:d,u&&l?l.map((h,f)=>({coordinate:n(h)+d,value:h,index:f,offset:d})):n.domain().map((h,f)=>({coordinate:n(h)+d,value:a?a[h]:h,index:f,offset:d}))}}},_c=Te([wr,hs,IN,iQ,sQ,Cte,Nte,fs],kte),PN=Te([$L,KL,Ree],(e,t,r)=>zL(r.shared,e,t)),oQ=e=>e.tooltip.settings.trigger,TN=e=>e.tooltip.settings.defaultIndex,Ny=Te([Dh,PN,oQ,TN],XL),ud=Te([Ny,Rh],FN),lQ=Te([_c,ud],VL),cQ=Te([Ny],e=>{if(e)return e.dataKey}),AQ=Te([Dh,PN,oQ,TN],ZL),Ste=Te([Bc,Cc,wr,us,_c,TN,AQ,Op],qL),_te=Te([Ny,Ste],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Ete=Te([Ny],e=>e.active),Fte=Te([AQ,ud,ru,gL,lQ,Op,PN],eQ);Te([Fte],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function EE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function FE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(r),!0).forEach(function(n){Ite(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ite(e,t,r){return(t=Ute(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ute(e){var t=Pte(e,"string");return typeof t=="symbol"?t:t+""}function Pte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tte=()=>Pt(hs),Ote=()=>{var e=Tte(),t=Pt(_c),r=Pt(iQ);return wC(FE(FE({},e),{},{scale:r}),t)},Lte=()=>Pt(rN),ON=(e,t)=>t,uQ=(e,t,r)=>r,LN=(e,t,r,n)=>n,Qte=Te(_c,e=>Wb(e,t=>t.coordinate)),QN=Te([Dh,ON,uQ,LN],XL),dQ=Te([QN,Rh],FN),Dte=(e,t,r)=>{if(t!=null){var n=Dh(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},fQ=Te([Dh,ON,uQ,LN],ZL),qx=Te([Bc,Cc,wr,us,_c,LN,fQ,Op],qL),Rte=Te([QN,qx],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),hQ=Te(_c,dQ,VL),Mte=Te([fQ,dQ,ru,gL,hQ,Op,ON],eQ),Hte=Te([QN],e=>({isActive:e.active,activeIndex:e.index})),$te=(e,t,r,n,s,a,l,A)=>{if(!(!e||!t||!n||!s||!a)){var c=XW(e.chartX,e.chartY,t,r,A);if(c){var u=ZW(c,t),o=QW(u,l,a,n,s),d=qW(t,a,o,c);return{activeIndex:String(o),activeCoordinate:d}}}};function d5(){return d5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d5.apply(null,arguments)}function IE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(r),!0).forEach(function(n){Kte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kte(e,t,r){return(t=zte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zte(e){var t=Vte(e,"string");return typeof t=="symbol"?t:t+""}function Vte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gte(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:a,layout:l,cursor:A,tooltipEventType:c,chartName:u}=e,o=t,d=r,h=n;if(!A||!o||u!=="ScatterChart"&&c!=="axis")return null;var f,g;if(u==="ScatterChart")f=o,g=uJ;else if(u==="BarChart")f=dJ(l,o,s,a),g=iO;else if(l==="radial"){var{cx:m,cy:x,radius:p,startAngle:v,endAngle:b}=oO(o);f={cx:m,cy:x,startAngle:v,endAngle:b,innerRadius:p,outerRadius:p},g=cO}else f={points:YJ(l,o,s)},g=tO;var j=typeof A=="object"&&"className"in A?A.className:void 0,k=pv(pv(pv(pv({stroke:"#ccc",pointerEvents:"none"},s),f),Vm(A)),{},{payload:d,payloadIndex:h,className:Qr("recharts-tooltip-cursor",j)});return E.isValidElement(A)?E.cloneElement(A,k):E.createElement(g,k)}function Wte(e){var t=Ote(),r=JT(),n=kC(),s=Lte();return E.createElement(Gte,d5({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var mQ=E.createContext(null),Yte=()=>E.useContext(mQ),pQ={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,o){this.fn=c,this.context=u,this.once=o||!1}function a(c,u,o,d,h){if(typeof o!="function")throw new TypeError("The listener must be a function");var f=new s(o,d||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],f]:c._events[g].push(f):(c._events[g]=f,c._eventsCount++),c}function l(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function A(){this._events=new n,this._eventsCount=0}A.prototype.eventNames=function(){var u=[],o,d;if(this._eventsCount===0)return u;for(d in o=this._events)t.call(o,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(o)):u},A.prototype.listeners=function(u){var o=r?r+u:u,d=this._events[o];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,g=new Array(f);h<f;h++)g[h]=d[h].fn;return g},A.prototype.listenerCount=function(u){var o=r?r+u:u,d=this._events[o];return d?d.fn?1:d.length:0},A.prototype.emit=function(u,o,d,h,f,g){var m=r?r+u:u;if(!this._events[m])return!1;var x=this._events[m],p=arguments.length,v,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),p){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,o),!0;case 3:return x.fn.call(x.context,o,d),!0;case 4:return x.fn.call(x.context,o,d,h),!0;case 5:return x.fn.call(x.context,o,d,h,f),!0;case 6:return x.fn.call(x.context,o,d,h,f,g),!0}for(b=1,v=new Array(p-1);b<p;b++)v[b-1]=arguments[b];x.fn.apply(x.context,v)}else{var j=x.length,k;for(b=0;b<j;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),p){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,o);break;case 3:x[b].fn.call(x[b].context,o,d);break;case 4:x[b].fn.call(x[b].context,o,d,h);break;default:if(!v)for(k=1,v=new Array(p-1);k<p;k++)v[k-1]=arguments[k];x[b].fn.apply(x[b].context,v)}}return!0},A.prototype.on=function(u,o,d){return a(this,u,o,d,!1)},A.prototype.once=function(u,o,d){return a(this,u,o,d,!0)},A.prototype.removeListener=function(u,o,d,h){var f=r?r+u:u;if(!this._events[f])return this;if(!o)return l(this,f),this;var g=this._events[f];if(g.fn)g.fn===o&&(!h||g.once)&&(!d||g.context===d)&&l(this,f);else{for(var m=0,x=[],p=g.length;m<p;m++)(g[m].fn!==o||h&&!g[m].once||d&&g[m].context!==d)&&x.push(g[m]);x.length?this._events[f]=x.length===1?x[0]:x:l(this,f)}return this},A.prototype.removeAllListeners=function(u){var o;return u?(o=r?r+u:u,this._events[o]&&l(this,o)):(this._events=new n,this._eventsCount=0),this},A.prototype.off=A.prototype.removeListener,A.prototype.addListener=A.prototype.on,A.prefixed=r,A.EventEmitter=A,e.exports=A})(pQ);var Jte=pQ.exports;const Xte=bl(Jte);var np=new Xte,f5="recharts.syncEvent.tooltip",UE="recharts.syncEvent.brush";function gQ(e,t){if(t){var r=Number.parseInt(t,10);if(!oo(r))return e==null?void 0:e[r]}}var qte={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},vQ=Ii({name:"options",initialState:qte,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Zte=vQ.reducer,{createEventEmitter:ere}=vQ.actions;function tre(e){return e.tooltip.syncInteraction}var rre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},xQ=Ii({name:"chartData",initialState:rre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:PE,setDataStartEndIndexes:nre,setComputedData:Wfe}=xQ.actions,sre=xQ.reducer,are=["x","y"];function TE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(r),!0).forEach(function(n){ire(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ire(e,t,r){return(t=ore(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ore(e){var t=lre(e,"string");return typeof t=="symbol"?t:t+""}function lre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cre(e,t){if(e==null)return{};var r,n,s=Are(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Are(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bQ=()=>{};function ure(){var e=Pt(nN),t=Pt(sN),r=dn(),n=Pt(uL),s=Pt(_c),a=kC(),l=ay(),A=Pt(c=>c.rootProps.className);E.useEffect(()=>{if(e==null)return bQ;var c=(u,o,d)=>{if(t!==d&&e===u){if(n==="index"){var h;if(l&&o!==null&&o!==void 0&&(h=o.payload)!==null&&h!==void 0&&h.coordinate&&o.payload.sourceViewBox){var f=o.payload.coordinate,{x:g,y:m}=f,x=cre(f,are),{x:p,y:v,width:b,height:j}=o.payload.sourceViewBox,k=vf(vf({},x),{},{x:l.x+(b?(g-p)/b:0)*l.width,y:l.y+(j?(m-v)/j:0)*l.height});r(vf(vf({},o),{},{payload:vf(vf({},o.payload),{},{coordinate:k})}))}else r(o);return}if(s!=null){var S;if(typeof n=="function"){var F={activeTooltipIndex:o.payload.index==null?void 0:Number(o.payload.index),isTooltipActive:o.payload.active,activeIndex:o.payload.index==null?void 0:Number(o.payload.index),activeLabel:o.payload.label,activeDataKey:o.payload.dataKey,activeCoordinate:o.payload.coordinate},T=n(s,F);S=s[T]}else n==="value"&&(S=s.find(V=>String(V.value)===o.payload.label));var{coordinate:P}=o.payload;if(S==null||o.payload.active===!1||P==null||l==null){r(A5({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:R,y:U}=P,D=Math.min(R,l.x+l.width),Q=Math.min(U,l.y+l.height),H={x:a==="horizontal"?S.coordinate:D,y:a==="horizontal"?Q:S.coordinate},W=A5({active:o.payload.active,coordinate:H,dataKey:o.payload.dataKey,index:String(S.index),label:o.payload.label,sourceViewBox:o.payload.sourceViewBox});r(W)}}};return np.on(f5,c),()=>{np.off(f5,c)}},[A,r,t,e,n,s,a,l])}function dre(){var e=Pt(nN),t=Pt(sN),r=dn();E.useEffect(()=>{if(e==null)return bQ;var n=(s,a,l)=>{t!==l&&e===s&&r(nre(a))};return np.on(UE,n),()=>{np.off(UE,n)}},[r,t,e])}function fre(){var e=dn();E.useEffect(()=>{e(ere())},[e]),ure(),dre()}function hre(e,t,r,n,s,a){var l=Pt(f=>Dte(f,e,t)),A=Pt(sN),c=Pt(nN),u=Pt(uL),o=Pt(tre),d=o==null?void 0:o.active,h=ay();E.useEffect(()=>{if(!d&&c!=null&&A!=null){var f=A5({active:a,coordinate:r,dataKey:l,index:s,label:typeof n=="number"?String(n):n,sourceViewBox:h});np.emit(f5,c,f,A)}},[d,r,l,s,n,A,c,u,a,h])}function OE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function LE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(r),!0).forEach(function(n){mre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mre(e,t,r){return(t=pre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pre(e){var t=gre(e,"string");return typeof t=="symbol"?t:t+""}function gre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vre(e){return e.dataKey}function xre(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement($Y,t)}var QE=[],bre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!wd.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function yQ(e){var t=ja(e,bre),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:a,content:l,filterNull:A,isAnimationActive:c,offset:u,payloadUniqBy:o,position:d,reverseDirection:h,useTranslate3d:f,wrapperStyle:g,cursor:m,shared:x,trigger:p,defaultIndex:v,portal:b,axisId:j}=t,k=dn(),S=typeof v=="number"?String(v):v;E.useEffect(()=>{k(Kee({shared:x,trigger:p,axisId:j,active:r,defaultIndex:S}))},[k,x,p,j,r,S]);var F=ay(),T=eO(),P=Dee(x),{activeIndex:R,isActive:U}=Pt(ne=>Hte(ne,P,p,S)),D=Pt(ne=>Mte(ne,P,p,S)),Q=Pt(ne=>hQ(ne,P,p,S)),H=Pt(ne=>Rte(ne,P,p,S)),W=D,V=Yte(),Z=r??U,[K,X]=cT([W,Z]),le=P==="axis"?Q:void 0;hre(P,p,H,le,R,Z);var Ae=b??V;if(Ae==null)return null;var M=W??QE;Z||(M=QE),A&&M.length&&(M=XP(W.filter(ne=>ne.value!=null&&(ne.hide!==!0||t.includeHidden)),o,vre));var G=M.length>0,re=E.createElement(JY,{allowEscapeViewBox:n,animationDuration:s,animationEasing:a,isAnimationActive:c,active:Z,coordinate:H,hasPayload:G,offset:u,position:d,reverseDirection:h,useTranslate3d:f,viewBox:F,wrapperStyle:g,lastBoundingBox:K,innerRef:X,hasPortalFromProps:!!b},xre(l,LE(LE({},t),{},{payload:M,label:le,active:Z,coordinate:H,accessibilityLayer:T})));return E.createElement(E.Fragment,null,UB.createPortal(re,Ae),Z&&E.createElement(Wte,{cursor:m,tooltipEventType:P,coordinate:H,payload:W,index:R}))}var Qp=e=>null;Qp.displayName="Cell";function yre(e,t,r){return(t=wre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wre(e){var t=jre(e,"string");return typeof t=="symbol"?t:t+""}function jre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Bre{constructor(t){yre(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function DE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DE(Object(r),!0).forEach(function(n){Nre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nre(e,t,r){return(t=kre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kre(e){var t=Sre(e,"string");return typeof t=="symbol"?t:t+""}function Sre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _re={cacheSize:2e3,enableCache:!0},wQ=Cre({},_re),RE=new Bre(wQ.cacheSize),Ere={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ME="recharts_measurement_span";function Fre(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",a=t.fontStyle||"",l=t.letterSpacing||"",A=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(a,"|").concat(l,"|").concat(A)}var HE=(e,t)=>{try{var r=document.getElementById(ME);r||(r=document.createElement("span"),r.setAttribute("id",ME),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Ere,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},mm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||wd.isSsr)return{width:0,height:0};if(!wQ.enableCache)return HE(t,r);var n=Fre(t,r),s=RE.get(n);if(s)return s;var a=HE(t,r);return RE.set(n,a),a},$E=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ire=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ure=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Pre=Object.keys(jQ),Rf="NaN";function Tre(e,t){return e*jQ[t]}class Ka{static parse(t){var r,[,n,s]=(r=Ure.exec(t))!==null&&r!==void 0?r:[];return new Ka(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,oo(t)&&(this.unit=""),r!==""&&!Ire.test(r)&&(this.num=NaN,this.unit=""),Pre.includes(r)&&(this.num=Tre(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ka(NaN,""):new Ka(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ka(NaN,""):new Ka(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ka(NaN,""):new Ka(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ka(NaN,""):new Ka(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return oo(this.num)}}function BQ(e){if(e.includes(Rf))return Rf;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,a]=(r=$E.exec(t))!==null&&r!==void 0?r:[],l=Ka.parse(n??""),A=Ka.parse(a??""),c=s==="*"?l.multiply(A):l.divide(A);if(c.isNaN())return Rf;t=t.replace($E,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,o,d,h]=(u=KE.exec(t))!==null&&u!==void 0?u:[],f=Ka.parse(o??""),g=Ka.parse(h??""),m=d==="+"?f.add(g):f.subtract(g);if(m.isNaN())return Rf;t=t.replace(KE,m.toString())}return t}var zE=/\(([^()]*)\)/;function Ore(e){for(var t=e,r;(r=zE.exec(t))!=null;){var[,n]=r;t=t.replace(zE,BQ(n))}return t}function Lre(e){var t=e.replace(/\s+/g,"");return t=Ore(t),t=BQ(t),t}function Qre(e){try{return Lre(e)}catch{return Rf}}function Lw(e){var t=Qre(e.slice(5,-1));return t===Rf?"":t}var Dre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Rre=["dx","dy","angle","className","breakAll"];function h5(){return h5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h5.apply(null,arguments)}function VE(e,t){if(e==null)return{};var r,n,s=Mre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Mre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CQ=/[ \f\n\r\t\v\u2028\u2029]+/,NQ=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];js(t)||(r?s=t.toString().split(""):s=t.toString().split(CQ));var a=s.map(A=>({word:A,width:mm(A,n).width})),l=r?0:mm("",n).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},Hre=(e,t,r,n,s)=>{var{maxLines:a,children:l,style:A,breakAll:c}=e,u=Ot(a),o=l,d=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce((D,Q)=>{var{word:H,width:W}=Q,V=D[D.length-1];if(V&&(n==null||s||V.width+W+r<Number(n)))V.words.push(H),V.width+=W+r;else{var Z={words:[H],width:W};D.push(Z)}return D},[])},h=d(t),f=R=>R.reduce((U,D)=>U.width>D.width?U:D);if(!u||s)return h;var g=h.length>a||f(h).width>Number(n);if(!g)return h;for(var m="",x=R=>{var U=o.slice(0,R),D=NQ({breakAll:c,style:A,children:U+m}).wordsWithComputedWidth,Q=d(D),H=Q.length>a||f(Q).width>Number(n);return[H,Q]},p=0,v=o.length-1,b=0,j;p<=v&&b<=o.length-1;){var k=Math.floor((p+v)/2),S=k-1,[F,T]=x(S),[P]=x(k);if(!F&&!P&&(p=k+1),F&&P&&(v=k-1),!F&&P){j=T;break}b++}return j||h},GE=e=>{var t=js(e)?[]:e.toString().split(CQ);return[{words:t}]},$re=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:a,maxLines:l}=e;if((t||r)&&!wd.isSsr){var A,c,u=NQ({breakAll:a,children:n,style:s});if(u){var{wordsWithComputedWidth:o,spaceWidth:d}=u;A=o,c=d}else return GE(n);return Hre({breakAll:a,children:n,maxLines:l,style:s},A,c,t,r)}return GE(n)},WE="#808080",ky=E.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:a="0.71em",scaleToFit:l=!1,textAnchor:A="start",verticalAnchor:c="end",fill:u=WE}=e,o=VE(e,Dre),d=E.useMemo(()=>$re({breakAll:o.breakAll,children:o.children,maxLines:o.maxLines,scaleToFit:l,style:o.style,width:o.width}),[o.breakAll,o.children,o.maxLines,l,o.style,o.width]),{dx:h,dy:f,angle:g,className:m,breakAll:x}=o,p=VE(o,Rre);if(!vl(r)||!vl(n)||d.length===0)return null;var v=r+(Ot(h)?h:0),b=n+(Ot(f)?f:0),j;switch(c){case"start":j=Lw("calc(".concat(a,")"));break;case"middle":j=Lw("calc(".concat((d.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:j=Lw("calc(".concat(d.length-1," * -").concat(s,")"));break}var k=[];if(l){var S=d[0].width,{width:F}=o;k.push("scale(".concat(Ot(F)?F/S:1,")"))}return g&&k.push("rotate(".concat(g,", ").concat(v,", ").concat(b,")")),k.length&&(p.transform=k.join(" ")),E.createElement("text",h5({},io(p),{ref:t,x:v,y:b,className:Qr("recharts-text",m),textAnchor:A,fill:u.includes("url")?WE:u}),d.map((T,P)=>{var R=T.words.join(x?"":" ");return E.createElement("tspan",{x:v,dy:P===0?j:s,key:"".concat(R,"-").concat(P)},R)}))});ky.displayName="Text";var Kre=["labelRef"];function zre(e,t){if(e==null)return{};var r,n,s=Vre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Vre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(n){Gre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gre(e,t,r){return(t=Wre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wre(e){var t=Yre(e,"string");return typeof t=="symbol"?t:t+""}function Yre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(null,arguments)}var kQ=E.createContext(null),Jre=e=>{var{x:t,y:r,width:n,height:s,children:a}=e,l=E.useMemo(()=>({x:t,y:r,width:n,height:s}),[t,r,n,s]);return E.createElement(kQ.Provider,{value:l},a)},SQ=()=>{var e=E.useContext(kQ),t=ay();return e||t},Xre=E.createContext(null),qre=()=>{var e=E.useContext(Xre),t=Pt(pL);return e||t},Zre=e=>{var{value:t,formatter:r}=e,n=js(e.children)?t:e.children;return typeof r=="function"?r(n):n},DN=e=>e!=null&&typeof e=="function",ene=(e,t)=>{var r=ys(t-e),n=Math.min(Math.abs(t-e),360);return r*n},tne=(e,t,r,n,s)=>{var{offset:a,className:l}=e,{cx:A,cy:c,innerRadius:u,outerRadius:o,startAngle:d,endAngle:h,clockWise:f}=s,g=(u+o)/2,m=ene(d,h),x=m>=0?1:-1,p,v;switch(t){case"insideStart":p=d+x*a,v=f;break;case"insideEnd":p=h-x*a,v=!f;break;case"end":p=h+x*a,v=f;break;default:throw new Error("Unsupported position ".concat(t))}v=m<=0?v:!v;var b=Jn(A,c,g,p),j=Jn(A,c,g,p+(v?1:-1)*359),k="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(v?0:1,`,
    `).concat(j.x,",").concat(j.y),S=js(e.id)?Gm("recharts-radial-line-"):e.id;return E.createElement("text",rc({},n,{dominantBaseline:"central",className:Qr("recharts-radial-bar-label",l)}),E.createElement("defs",null,E.createElement("path",{id:S,d:k})),E.createElement("textPath",{xlinkHref:"#".concat(S)},r))},rne=(e,t,r)=>{var{cx:n,cy:s,innerRadius:a,outerRadius:l,startAngle:A,endAngle:c}=e,u=(A+c)/2;if(r==="outside"){var{x:o,y:d}=Jn(n,s,l+t,u);return{x:o,y:d,textAnchor:o>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var h=(a+l)/2,{x:f,y:g}=Jn(n,s,h,u);return{x:f,y:g,textAnchor:"middle",verticalAnchor:"middle"}},_Q=e=>"cx"in e&&Ot(e.cx),nne=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,a;r!=null&&!_Q(r)&&(a=r);var{x:l,y:A,width:c,height:u}=t,o=u>=0?1:-1,d=o*n,h=o>0?"end":"start",f=o>0?"start":"end",g=c>=0?1:-1,m=g*n,x=g>0?"end":"start",p=g>0?"start":"end";if(s==="top"){var v={x:l+c/2,y:A-o*n,textAnchor:"middle",verticalAnchor:h};return Rn(Rn({},v),a?{height:Math.max(A-a.y,0),width:c}:{})}if(s==="bottom"){var b={x:l+c/2,y:A+u+d,textAnchor:"middle",verticalAnchor:f};return Rn(Rn({},b),a?{height:Math.max(a.y+a.height-(A+u),0),width:c}:{})}if(s==="left"){var j={x:l-m,y:A+u/2,textAnchor:x,verticalAnchor:"middle"};return Rn(Rn({},j),a?{width:Math.max(j.x-a.x,0),height:u}:{})}if(s==="right"){var k={x:l+c+m,y:A+u/2,textAnchor:p,verticalAnchor:"middle"};return Rn(Rn({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:u}:{})}var S=a?{width:c,height:u}:{};return s==="insideLeft"?Rn({x:l+m,y:A+u/2,textAnchor:p,verticalAnchor:"middle"},S):s==="insideRight"?Rn({x:l+c-m,y:A+u/2,textAnchor:x,verticalAnchor:"middle"},S):s==="insideTop"?Rn({x:l+c/2,y:A+d,textAnchor:"middle",verticalAnchor:f},S):s==="insideBottom"?Rn({x:l+c/2,y:A+u-d,textAnchor:"middle",verticalAnchor:h},S):s==="insideTopLeft"?Rn({x:l+m,y:A+d,textAnchor:p,verticalAnchor:f},S):s==="insideTopRight"?Rn({x:l+c-m,y:A+d,textAnchor:x,verticalAnchor:f},S):s==="insideBottomLeft"?Rn({x:l+m,y:A+u-d,textAnchor:p,verticalAnchor:h},S):s==="insideBottomRight"?Rn({x:l+c-m,y:A+u-d,textAnchor:x,verticalAnchor:h},S):s&&typeof s=="object"&&(Ot(s.x)||vc(s.x))&&(Ot(s.y)||vc(s.y))?Rn({x:l+ea(s.x,c),y:A+ea(s.y,u),textAnchor:"end",verticalAnchor:"end"},S):Rn({x:l+c/2,y:A+u/2,textAnchor:"middle",verticalAnchor:"middle"},S)},sne={offset:5};function hA(e){var t=ja(e,sne),{viewBox:r,position:n,value:s,children:a,content:l,className:A="",textBreakAll:c,labelRef:u}=t,o=qre(),d=SQ(),h=n==="center"?d:o??d,f=r||h;if(!f||js(s)&&js(a)&&!E.isValidElement(l)&&typeof l!="function")return null;var g=Rn(Rn({},t),{},{viewBox:f});if(E.isValidElement(l)){var m=zre(g,Kre);return E.cloneElement(l,m)}var x;if(typeof l=="function"){if(x=E.createElement(l,g),E.isValidElement(x))return x}else x=Zre(t);var p=_Q(f),v=io(t);if(p&&(n==="insideStart"||n==="insideEnd"||n==="end"))return tne(t,n,x,v,f);var b=p?rne(f,t.offset,t.position):nne(t,f);return E.createElement(ky,rc({ref:u,className:Qr("recharts-label",A)},v,b,{breakAll:c}),x)}hA.displayName="Label";var ane=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?E.createElement(hA,rc({key:"label-implicit"},n)):vl(e)?E.createElement(hA,rc({key:"label-implicit",value:e},n)):E.isValidElement(e)?e.type===hA?E.cloneElement(e,Rn({key:"label-implicit"},n)):E.createElement(hA,rc({key:"label-implicit",content:e},n)):DN(e)?E.createElement(hA,rc({key:"label-implicit",content:e},n)):e&&typeof e=="object"?E.createElement(hA,rc({},e,{key:"label-implicit"},n)):null};function ine(e){var{label:t,labelRef:r}=e,n=SQ();return ane(t,n,r)||null}var EQ={},FQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(FQ);var IQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(IQ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FQ,r=IQ,n=Vb;function s(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=s})(EQ);var one=EQ.last;const lne=bl(one);var cne=["valueAccessor"],Ane=["dataKey","clockWise","id","textBreakAll"];function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(null,arguments)}function JE(e,t){if(e==null)return{};var r,n,s=une(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function une(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dne=e=>Array.isArray(e.value)?lne(e.value):e.value,UQ=E.createContext(void 0),fne=UQ.Provider,PQ=E.createContext(void 0),hne=PQ.Provider;function mne(){return E.useContext(UQ)}function pne(){return E.useContext(PQ)}function Kv(e){var{valueAccessor:t=dne}=e,r=JE(e,cne),{dataKey:n,clockWise:s,id:a,textBreakAll:l}=r,A=JE(r,Ane),c=mne(),u=pne(),o=c||u;return!o||!o.length?null:E.createElement(ei,{className:"recharts-label-list"},o.map((d,h)=>{var f,g=js(n)?t(d,h):wn(d&&d.payload,n),m=js(a)?{}:{id:"".concat(a,"-").concat(h)};return E.createElement(hA,Zx({key:"label-".concat(h)},io(d),A,m,{fill:(f=r.fill)!==null&&f!==void 0?f:d.fill,parentViewBox:d.parentViewBox,value:g,textBreakAll:l,viewBox:d.viewBox,index:h}))}))}Kv.displayName="LabelList";function TQ(e){var{label:t}=e;return t?t===!0?E.createElement(Kv,{key:"labelList-implicit"}):E.isValidElement(t)||DN(t)?E.createElement(Kv,{key:"labelList-implicit",content:t}):typeof t=="object"?E.createElement(Kv,Zx({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var OQ=e=>e.graphicalItems.polarItems,gne=Te([fn,Ip],AN),Sy=Te([OQ,kn,gne],dN),vne=Te([Sy],fN),_y=Te([vne,qC],hN),xne=Te([_y,kn,Sy],pN);Te([_y,kn,Sy],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var a,l=wn(n,(a=t.dataKey)!==null&&a!==void 0?a:s.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:wn(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var XE=()=>{},bne=Te([_y,kn,Sy,jy,fn],bN),yne=Te([kn,vN,xN,XE,bne,XE,wr,fn],yN),LQ=Te([kn,wr,_y,xne,Fp,fn,yne],wN),wne=Te([LQ,kn,Lh],CN);Te([kn,LQ,wne,fn],kN);var jne={radiusAxis:{},angleAxis:{}},Bne=Ii({name:"polarAxis",initialState:jne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),Cne=Bne.reducer;function qE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(r),!0).forEach(function(n){Nne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nne(e,t,r){return(t=kne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kne(e){var t=Sne(e,"string");return typeof t=="symbol"?t:t+""}function Sne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _ne=(e,t)=>t,RN=Te([OQ,_ne],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Ene=[],MN=(e,t,r)=>(r==null?void 0:r.length)===0?Ene:r,QQ=Te([qC,RN,MN],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(a=>ZE(ZE({},t.presentationProps),a.props))),s!=null)return s}}),Fne=Te([QQ,RN,MN],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var a,l=wn(n,t.nameKey,t.name),A;return r!=null&&(a=r[s])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?A=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?A=n.fill:A=t.fill,{value:ey(l,t.dataKey),color:A,payload:n,type:t.legendType}})}),Ine=Te([QQ,RN,MN,us],(e,t,r,n)=>{if(!(t==null||e==null))return Ise({offset:n,pieSettings:t,displayedData:e,cells:r})}),DQ={exports:{}},zr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HN=Symbol.for("react.transitional.element"),$N=Symbol.for("react.portal"),Ey=Symbol.for("react.fragment"),Fy=Symbol.for("react.strict_mode"),Iy=Symbol.for("react.profiler"),Uy=Symbol.for("react.consumer"),Py=Symbol.for("react.context"),Ty=Symbol.for("react.forward_ref"),Oy=Symbol.for("react.suspense"),Ly=Symbol.for("react.suspense_list"),Qy=Symbol.for("react.memo"),Dy=Symbol.for("react.lazy"),Une=Symbol.for("react.view_transition"),Pne=Symbol.for("react.client.reference");function fo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case HN:switch(e=e.type,e){case Ey:case Iy:case Fy:case Oy:case Ly:case Une:return e;default:switch(e=e&&e.$$typeof,e){case Py:case Ty:case Dy:case Qy:return e;case Uy:return e;default:return t}}case $N:return t}}}zr.ContextConsumer=Uy;zr.ContextProvider=Py;zr.Element=HN;zr.ForwardRef=Ty;zr.Fragment=Ey;zr.Lazy=Dy;zr.Memo=Qy;zr.Portal=$N;zr.Profiler=Iy;zr.StrictMode=Fy;zr.Suspense=Oy;zr.SuspenseList=Ly;zr.isContextConsumer=function(e){return fo(e)===Uy};zr.isContextProvider=function(e){return fo(e)===Py};zr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===HN};zr.isForwardRef=function(e){return fo(e)===Ty};zr.isFragment=function(e){return fo(e)===Ey};zr.isLazy=function(e){return fo(e)===Dy};zr.isMemo=function(e){return fo(e)===Qy};zr.isPortal=function(e){return fo(e)===$N};zr.isProfiler=function(e){return fo(e)===Iy};zr.isStrictMode=function(e){return fo(e)===Fy};zr.isSuspense=function(e){return fo(e)===Oy};zr.isSuspenseList=function(e){return fo(e)===Ly};zr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ey||e===Iy||e===Fy||e===Oy||e===Ly||typeof e=="object"&&e!==null&&(e.$$typeof===Dy||e.$$typeof===Qy||e.$$typeof===Py||e.$$typeof===Uy||e.$$typeof===Ty||e.$$typeof===Pne||e.getModuleId!==void 0)};zr.typeOf=fo;DQ.exports=zr;var Tne=DQ.exports,e3=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",t3=null,Qw=null,RQ=e=>{if(e===t3&&Array.isArray(Qw))return Qw;var t=[];return E.Children.forEach(e,r=>{js(r)||(Tne.isFragment(r)?t=t.concat(RQ(r.props.children)):t.push(r))}),Qw=t,t3=e,t};function KN(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>e3(s)):n=[e3(t)],RQ(e).forEach(s=>{var a=id(s,"type.displayName")||id(s,"type.name");n.indexOf(a)!==-1&&r.push(s)}),r}var MQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(MQ);var One=MQ.isPlainObject;const Lne=bl(One);function r3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function n3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(r),!0).forEach(function(n){Qne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qne(e,t,r){return(t=Dne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dne(e){var t=Rne(e,"string");return typeof t=="symbol"?t:t+""}function Rne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eb(){return eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eb.apply(null,arguments)}var s3=(e,t,r,n,s)=>{var a=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-a/2,",").concat(t+s),l+="L ".concat(e+r-a/2-n,",").concat(t+s),l+="L ".concat(e,",").concat(t," Z"),l},Mne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Hne=e=>{var t=ja(e,Mne),{x:r,y:n,upperWidth:s,lowerWidth:a,height:l,className:A}=t,{animationEasing:c,animationDuration:u,animationBegin:o,isUpdateAnimationActive:d}=t,h=E.useRef(null),[f,g]=E.useState(-1),m=E.useRef(s),x=E.useRef(a),p=E.useRef(l),v=E.useRef(r),b=E.useRef(n),j=cy(e,"trapezoid-");if(E.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var H=h.current.getTotalLength();H&&g(H)}catch{}},[]),r!==+r||n!==+n||s!==+s||a!==+a||l!==+l||s===0&&a===0||l===0)return null;var k=Qr("recharts-trapezoid",A);if(!d)return E.createElement("g",null,E.createElement("path",eb({},io(t),{className:k,d:s3(r,n,s,a,l)})));var S=m.current,F=x.current,T=p.current,P=v.current,R=b.current,U="0px ".concat(f===-1?1:f,"px"),D="".concat(f,"px 0px"),Q=rO(["strokeDasharray"],u,c);return E.createElement(ly,{animationId:j,key:j,canBegin:f>0,duration:u,easing:c,isActive:d,begin:o},H=>{var W=Os(S,s,H),V=Os(F,a,H),Z=Os(T,l,H),K=Os(P,r,H),X=Os(R,n,H);h.current&&(m.current=W,x.current=V,p.current=Z,v.current=K,b.current=X);var le=H>0?{transition:Q,strokeDasharray:D}:{strokeDasharray:U};return E.createElement("path",eb({},io(t),{className:k,d:s3(K,X,W,V,Z),ref:h,style:n3(n3({},le),t.style)}))})},$ne=["option","shapeType","propTransformer","activeClassName","isActive"];function Kne(e,t){if(e==null)return{};var r,n,s=zne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function zne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function a3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(r),!0).forEach(function(n){Vne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vne(e,t,r){return(t=Gne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gne(e){var t=Wne(e,"string");return typeof t=="symbol"?t:t+""}function Wne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yne(e,t){return tb(tb({},t),e)}function Jne(e,t){return e==="symbols"}function i3(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return E.createElement(iO,r);case"trapezoid":return E.createElement(Hne,r);case"sector":return E.createElement(cO,r);case"symbols":if(Jne(t))return E.createElement(rC,r);break;default:return null}}function Xne(e){return E.isValidElement(e)?e.props:e}function HQ(e){var{option:t,shapeType:r,propTransformer:n=Yne,activeClassName:s="recharts-active-shape",isActive:a}=e,l=Kne(e,$ne),A;if(E.isValidElement(t))A=E.cloneElement(t,tb(tb({},l),Xne(t)));else if(typeof t=="function")A=t(l);else if(Lne(t)&&typeof t!="boolean"){var c=n(t,l);A=E.createElement(i3,{shapeType:r,elementProps:c})}else{var u=l;A=E.createElement(i3,{shapeType:r,elementProps:u})}return a?E.createElement(ei,{className:s},A):A}var zN=(e,t)=>{var r=dn();return(n,s)=>a=>{e==null||e(n,s,a),r(WL({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},VN=e=>{var t=dn();return(r,n)=>s=>{e==null||e(r,n,s),t(zee())}},GN=(e,t)=>{var r=dn();return(n,s)=>a=>{e==null||e(n,s,a),r(Vee({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function $Q(e){var{fn:t,args:r}=e,n=dn(),s=Ui();return E.useLayoutEffect(()=>{if(!s){var a=t(r);return n(Hee(a)),()=>{n($ee(a))}}},[t,r,n,s]),null}var KQ=()=>{};function qne(e){var{legendPayload:t}=e,r=dn(),n=Ui();return E.useLayoutEffect(()=>n?KQ:(r(qT(t)),()=>{r(ZT(t))}),[r,n,t]),null}function Zne(e){var{legendPayload:t}=e,r=dn(),n=Pt(wr);return E.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?KQ:(r(qT(t)),()=>{r(ZT(t))}),[r,n,t]),null}var Dw,ese=()=>{var[e]=E.useState(()=>Gm("uid-"));return e},tse=(Dw=h7.useId)!==null&&Dw!==void 0?Dw:ese;function rse(e,t){var r=tse();return t||(e?"".concat(e,"-").concat(r):r)}var nse=E.createContext(void 0),zQ=e=>{var{id:t,type:r,children:n}=e,s=rse("recharts-".concat(r),t);return E.createElement(nse.Provider,{value:s},n(s))},sse={cartesianItems:[],polarItems:[]},VQ=Ii({name:"graphicalItems",initialState:sse,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ma()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,s=Ac(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},prepare:ma()},removeCartesianGraphicalItem:{reducer(e,t){var r=Ac(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:ma()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ma()},removePolarGraphicalItem:{reducer(e,t){var r=Ac(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:ma()}}}),{addCartesianGraphicalItem:ase,replaceCartesianGraphicalItem:ise,removeCartesianGraphicalItem:ose,addPolarGraphicalItem:lse,removePolarGraphicalItem:cse}=VQ.actions,Ase=VQ.reducer;function use(e){var t=dn(),r=E.useRef(null);return E.useLayoutEffect(()=>{r.current===null?t(ase(e)):r.current!==e&&t(ise({prev:r.current,next:e})),r.current=e},[t,e]),E.useLayoutEffect(()=>()=>{r.current&&(t(ose(r.current)),r.current=null)},[t]),null}function dse(e){var t=dn();return E.useLayoutEffect(()=>(t(lse(e)),()=>{t(cse(e))}),[t,e]),null}var fse=["onMouseEnter","onClick","onMouseLeave"],hse=["id"],mse=["id"];function WN(e,t){if(e==null)return{};var r,n,s=pse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function o3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(r),!0).forEach(function(n){gse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gse(e,t,r){return(t=vse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vse(e){var t=xse(e,"string");return typeof t=="symbol"?t:t+""}function xse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zA(){return zA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zA.apply(null,arguments)}function bse(e){var t=E.useMemo(()=>KN(e.children,Qp),[e.children]),r=Pt(n=>Fne(n,e.id,t));return r==null?null:E.createElement(Zne,{legendPayload:r})}function yse(e){var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:a,fill:l,name:A,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n.map(o=>o.tooltipPayload),positions:n.map(o=>o.tooltipPosition),settings:{stroke:s,strokeWidth:a,fill:l,dataKey:t,nameKey:r,name:ey(A,t),hide:c,type:u,color:l,unit:""}}}var wse=(e,t)=>e>t?"start":e<t?"end":"middle",jse=(e,t,r)=>ea(typeof t=="function"?t(e):t,r,r*.8),Bse=(e,t,r)=>{var{top:n,left:s,width:a,height:l}=t,A=OT(a,l),c=s+ea(e.cx,a,a/2),u=n+ea(e.cy,l,l/2),o=ea(e.innerRadius,A,0),d=jse(r,e.outerRadius,A),h=e.maxRadius||Math.sqrt(a*a+l*l)/2;return{cx:c,cy:u,innerRadius:o,outerRadius:d,maxRadius:h}},Cse=(e,t)=>{var r=ys(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Nse(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var kse=(e,t)=>{if(E.isValidElement(e))return E.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Qr("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return E.createElement(tO,zA({},t,{type:"linear",className:r}))},Sse=(e,t,r)=>{if(E.isValidElement(e))return E.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),E.isValidElement(n)))return n;var s=Qr("recharts-pie-label-text",Nse(e));return E.createElement(ky,zA({},t,{alignmentBaseline:"middle",className:s}),n)};function _se(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:a,dataKey:l}=r;if(!n||!s||!t)return null;var A=Do(r),c=Vm(s),u=Vm(a),o=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,d=t.map((h,f)=>{var g=(h.startAngle+h.endAngle)/2,m=Jn(h.cx,h.cy,h.outerRadius+o,g),x=ln(ln(ln(ln({},A),h),{},{stroke:"none"},c),{},{index:f,textAnchor:wse(m.x,h.cx)},m),p=ln(ln(ln(ln({},A),h),{},{fill:"none",stroke:h.fill},u),{},{index:f,points:[Jn(h.cx,h.cy,h.outerRadius,g),m],key:"line"});return E.createElement(ei,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(f)},a&&kse(a,p),Sse(s,x,wn(h,l)))});return E.createElement(ei,{className:"recharts-pie-labels"},d)}function Ese(e){var{sectors:t,props:r,showLabels:n}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?E.createElement(TQ,{label:s}):E.createElement(_se,{sectors:t,props:r,showLabels:n})}function Fse(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s}=e,a=Pt(ud),{onMouseEnter:l,onClick:A,onMouseLeave:c}=s,u=WN(s,fse),o=zN(l,s.dataKey),d=VN(c),h=GN(A,s.dataKey);return t==null||t.length===0?null:E.createElement(E.Fragment,null,t.map((f,g)=>{if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&t.length!==1)return null;var m=r&&String(g)===a,x=a?n:null,p=m?r:x,v=ln(ln({},f),{},{stroke:f.stroke,tabIndex:-1,[MT]:g,[HT]:s.dataKey});return E.createElement(ei,zA({key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(g),tabIndex:-1,className:"recharts-pie-sector"},jp(u,f,g),{onMouseEnter:o(f,g),onMouseLeave:d(f,g),onClick:h(f,g)}),E.createElement(HQ,zA({option:p,isActive:m,shapeType:"sector"},v)))}))}function Ise(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:a}=e,{cornerRadius:l,startAngle:A,endAngle:c,dataKey:u,nameKey:o,tooltipType:d}=r,h=Math.abs(r.minAngle),f=Cse(A,c),g=Math.abs(f),m=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(S=>wn(S,u,0)!==0).length,p=(g>=360?x:x-1)*m,v=g-x*h-p,b=n.reduce((S,F)=>{var T=wn(F,u,0);return S+(Ot(T)?T:0)},0),j;if(b>0){var k;j=n.map((S,F)=>{var T=wn(S,u,0),P=wn(S,o,F),R=Bse(r,a,S),U=(Ot(T)?T:0)/b,D,Q=ln(ln({},S),s&&s[F]&&s[F].props);F?D=k.endAngle+ys(f)*m*(T!==0?1:0):D=A;var H=D+ys(f)*((T!==0?h:0)+U*v),W=(D+H)/2,V=(R.innerRadius+R.outerRadius)/2,Z=[{name:P,value:T,payload:Q,dataKey:u,type:d}],K=Jn(R.cx,R.cy,V,W);return k=ln(ln(ln(ln({},r.presentationProps),{},{percent:U,cornerRadius:l,name:P,tooltipPayload:Z,midAngle:W,middleRadius:V,tooltipPosition:K},Q),R),{},{value:T,startAngle:D,endAngle:H,payload:Q,paddingAngle:ys(f)*m}),k})}return j}function Use(e){var{showLabels:t,sectors:r,children:n}=e,s=E.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return E.createElement(hne,{value:t?s:void 0},n)}function Pse(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:A,activeShape:c,inactiveShape:u,onAnimationStart:o,onAnimationEnd:d}=t,h=cy(t,"recharts-pie-"),f=r.current,[g,m]=E.useState(!1),x=E.useCallback(()=>{typeof d=="function"&&d(),m(!1)},[d]),p=E.useCallback(()=>{typeof o=="function"&&o(),m(!0)},[o]);return E.createElement(Use,{showLabels:!g,sectors:n},E.createElement(ly,{animationId:h,begin:a,duration:l,isActive:s,easing:A,onAnimationStart:p,onAnimationEnd:x,key:h},v=>{var b=[],j=n&&n[0],k=j==null?void 0:j.startAngle;return n==null||n.forEach((S,F)=>{var T=f&&f[F],P=F>0?id(S,"paddingAngle",0):0;if(T){var R=Os(T.endAngle-T.startAngle,S.endAngle-S.startAngle,v),U=ln(ln({},S),{},{startAngle:k+P,endAngle:k+R+P});b.push(U),k=U.endAngle}else{var{endAngle:D,startAngle:Q}=S,H=Os(0,D-Q,v),W=ln(ln({},S),{},{startAngle:k+P,endAngle:k+H+P});b.push(W),k=W.endAngle}}),r.current=b,E.createElement(ei,null,E.createElement(Fse,{sectors:b,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),E.createElement(Ese,{showLabels:!g,sectors:n,props:t}),t.children)}var Tse={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!wd.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Ose(e){var{id:t}=e,r=WN(e,hse),{hide:n,className:s,rootTabIndex:a}=e,l=E.useMemo(()=>KN(e.children,Qp),[e.children]),A=Pt(o=>Ine(o,t,l)),c=E.useRef(null),u=Qr("recharts-pie",s);return n||A==null?(c.current=null,E.createElement(ei,{tabIndex:a,className:u})):E.createElement(E.Fragment,null,E.createElement($Q,{fn:yse,args:ln(ln({},e),{},{sectors:A})}),E.createElement(ei,{tabIndex:a,className:u},E.createElement(Pse,{props:ln(ln({},r),{},{sectors:A}),previousSectorsRef:c})))}function GQ(e){var t=ja(e,Tse),{id:r}=t,n=WN(t,mse),s=Do(n);return E.createElement(zQ,{id:r,type:"pie"},a=>E.createElement(E.Fragment,null,E.createElement(dse,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),E.createElement(bse,zA({},n,{id:a})),E.createElement(Ose,zA({},n,{id:a}))))}GQ.displayName="Pie";function l3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function c3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l3(Object(r),!0).forEach(function(n){Lse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lse(e,t,r){return(t=Qse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qse(e){var t=Dse(e,"string");return typeof t=="symbol"?t:t+""}function Dse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rse={xAxis:{},yAxis:{},zAxis:{}},WQ=Ii({name:"cartesianAxis",initialState:Rse,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ma()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ma()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ma()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ma()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ma()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ma()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,s=e.yAxis[r];if(s){var a=s.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==s.width&&Math.abs(n-a[0])<=1)return;var l=[...a,n].slice(-3);e.yAxis[r]=c3(c3({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:Mse,removeXAxis:Hse,addYAxis:$se,removeYAxis:Kse,addZAxis:Yfe,removeZAxis:Jfe,updateYAxisWidth:zse}=WQ.actions,Vse=WQ.reducer,Gse=Te([us],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Wse=Te([Gse,Bc,Cc],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),YQ=()=>Pt(Wse),Yse="Invariant failed";function Jse(e,t){throw new Error(Yse)}var Xse=["x","y"];function m5(){return m5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m5.apply(null,arguments)}function A3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function H0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A3(Object(r),!0).forEach(function(n){qse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qse(e,t,r){return(t=Zse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zse(e){var t=eae(e,"string");return typeof t=="symbol"?t:t+""}function eae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tae(e,t){if(e==null)return{};var r,n,s=rae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function rae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nae(e,t){var{x:r,y:n}=e,s=tae(e,Xse),a="".concat(r),l=parseInt(a,10),A="".concat(n),c=parseInt(A,10),u="".concat(t.height||s.height),o=parseInt(u,10),d="".concat(t.width||s.width),h=parseInt(d,10);return H0(H0(H0(H0(H0({},t),s),l?{x:l}:{}),c?{y:c}:{}),{},{height:o,width:h,name:t.name,radius:t.radius})}function YN(e){return E.createElement(HQ,m5({shapeType:"rectangle",propTransformer:nae,activeClassName:"recharts-active-bar"},e))}var sae=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(Ot(t))return t;var a=Ot(n)||js(n);return a?t(n,s):(a||Jse(),r)}},aae={},iae=Ii({name:"errorBars",initialState:aae,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?s:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),oae=iae.reducer,lae=["children"];function cae(e,t){if(e==null)return{};var r,n,s=Aae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Aae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},dae=E.createContext(uae);function fae(e){var{children:t}=e,r=cae(e,lae);return E.createElement(dae.Provider,{value:r},t)}function JQ(e,t){var r,n,s=Pt(u=>kc(u,e)),a=Pt(u=>Sc(u,t)),l=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:mi.allowDataOverflow,A=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:pi.allowDataOverflow,c=l||A;return{needClip:c,needClipX:l,needClipY:A}}function hae(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=YQ(),{needClipX:a,needClipY:l,needClip:A}=JQ(t,r);if(!A)return null;var{x:c,y:u,width:o,height:d}=s;return E.createElement("clipPath",{id:"clipPath-".concat(n)},E.createElement("rect",{x:a?c:c-o/2,y:l?u:u-d/2,width:a?o:o*2,height:l?d:d*2}))}var mae=["onMouseEnter","onMouseLeave","onClick"],pae=["value","background","tooltipPosition"],gae=["id"],vae=["onMouseEnter","onClick","onMouseLeave"];function VA(){return VA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VA.apply(null,arguments)}function u3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(r),!0).forEach(function(n){xae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xae(e,t,r){return(t=bae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bae(e){var t=yae(e,"string");return typeof t=="symbol"?t:t+""}function yae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rb(e,t){if(e==null)return{};var r,n,s=wae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function wae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jae=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:a}=e;return[{inactive:a,dataKey:t,type:s,color:n,value:ey(r,t),payload:e}]};function Bae(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:a,hide:l,unit:A}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:ey(a,t),hide:l,type:e.tooltipType,color:e.fill,unit:A}}}function Cae(e){var t=Pt(ud),{data:r,dataKey:n,background:s,allOtherBarProps:a}=e,{onMouseEnter:l,onMouseLeave:A,onClick:c}=a,u=rb(a,mae),o=zN(l,n),d=VN(A),h=GN(c,n);if(!s||r==null)return null;var f=Vm(s);return E.createElement(E.Fragment,null,r.map((g,m)=>{var{value:x,background:p,tooltipPosition:v}=g,b=rb(g,pae);if(!p)return null;var j=o(g,m),k=d(g,m),S=h(g,m),F=pa(pa(pa(pa(pa({option:s,isActive:String(m)===t},b),{},{fill:"#eee"},p),f),jp(u,g,m)),{},{onMouseEnter:j,onMouseLeave:k,onClick:S,dataKey:n,index:m,className:"recharts-bar-background-rectangle"});return E.createElement(YN,VA({key:"background-bar-".concat(m)},F))}))}function Nae(e){var{showLabels:t,children:r,rects:n}=e,s=n==null?void 0:n.map(a=>{var l={x:a.x,y:a.y,width:a.width,height:a.height};return pa(pa({},l),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:l,fill:a.fill})});return E.createElement(fne,{value:t?s:void 0},r)}function kae(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:a,dataKey:l}=e,A=Pt(ud),c=Pt(cQ),u=r&&String(a)===A&&(c==null||l===c),o=u?r:t;return E.createElement(YN,VA({},n,{name:String(n.name)},s,{isActive:u,option:o,index:a,dataKey:l}))}function Sae(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:a}=e;return E.createElement(YN,VA({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:s,dataKey:a}))}function _ae(e){var{data:t,props:r}=e,n=Do(r),s=rb(n,gae),{shape:a,dataKey:l,activeBar:A}=r,{onMouseEnter:c,onClick:u,onMouseLeave:o}=r,d=rb(r,vae),h=zN(c,l),f=VN(o),g=GN(u,l);return t?E.createElement(E.Fragment,null,t.map((m,x)=>E.createElement(ei,VA({key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(x),className:"recharts-bar-rectangle"},jp(d,m,x),{onMouseEnter:h(m,x),onMouseLeave:f(m,x),onClick:g(m,x)}),A?E.createElement(kae,{shape:a,activeBar:A,baseProps:s,entry:m,index:x,dataKey:l}):E.createElement(Sae,{shape:a,baseProps:s,entry:m,index:x,dataKey:l})))):null}function Eae(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:a,animationBegin:l,animationDuration:A,animationEasing:c,onAnimationEnd:u,onAnimationStart:o}=t,d=r.current,h=cy(t,"recharts-bar-"),[f,g]=E.useState(!1),m=!f,x=E.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),p=E.useCallback(()=>{typeof o=="function"&&o(),g(!0)},[o]);return E.createElement(Nae,{showLabels:m,rects:n},E.createElement(ly,{animationId:h,begin:l,duration:A,isActive:a,easing:c,onAnimationEnd:x,onAnimationStart:p,key:h},v=>{var b=v===1?n:n==null?void 0:n.map((j,k)=>{var S=d&&d[k];if(S)return pa(pa({},j),{},{x:Os(S.x,j.x,v),y:Os(S.y,j.y,v),width:Os(S.width,j.width,v),height:Os(S.height,j.height,v)});if(s==="horizontal"){var F=Os(0,j.height,v);return pa(pa({},j),{},{y:j.y+j.height-F,height:F})}var T=Os(0,j.width,v);return pa(pa({},j),{},{width:T})});return v>0&&(r.current=b??null),b==null?null:E.createElement(ei,null,E.createElement(_ae,{props:t,data:b}))}),E.createElement(TQ,{label:t.label}),t.children)}function Fae(e){var t=E.useRef(null);return E.createElement(Eae,{previousRectanglesRef:t,props:e})}var XQ=0,Iae=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:wn(e,t)}};class Uae extends E.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:a,yAxisId:l,needClip:A,background:c,id:u}=this.props;if(t||r==null)return null;var o=Qr("recharts-bar",s),d=u;return E.createElement(ei,{className:o,id:u},A&&E.createElement("defs",null,E.createElement(hae,{clipPathId:d,xAxisId:a,yAxisId:l})),E.createElement(ei,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(d,")"):void 0},E.createElement(Cae,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),E.createElement(Fae,this.props)))}}var Pae={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!wd.isSsr,legendType:"rect",minPointSize:XQ,xAxisId:0,yAxisId:0};function Tae(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:a,activeBar:l,animationBegin:A,animationDuration:c,animationEasing:u,isAnimationActive:o}=e,{needClip:d}=JQ(t,r),h=kC(),f=Ui(),g=KN(e.children,Qp),m=Pt(v=>cie(v,t,r,f,e.id,g));if(h!=="vertical"&&h!=="horizontal")return null;var x,p=m==null?void 0:m[0];return p==null||p.height==null||p.width==null?x=0:x=h==="vertical"?p.height/2:p.width/2,E.createElement(fae,{xAxisId:t,yAxisId:r,data:m,dataPointFormatter:Iae,errorBarOffset:x},E.createElement(Uae,VA({},e,{layout:h,needClip:d,data:m,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:a,activeBar:l,animationBegin:A,animationDuration:c,animationEasing:u,isAnimationActive:o})))}function Oae(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:a,xAxis:l,yAxis:A,xAxisTicks:c,yAxisTicks:u,stackedData:o,displayedData:d,offset:h,cells:f,parentViewBox:g}=e,m=t==="horizontal"?A:l,x=o?m.scale.domain():null,p=GW({numericAxis:m});return d.map((v,b)=>{var j,k,S,F,T,P;o?j=MW(o[b],x):(j=wn(v,r),Array.isArray(j)||(j=[p,j]));var R=sae(n,XQ)(j[1],b);if(t==="horizontal"){var U,[D,Q]=[A.scale(j[0]),A.scale(j[1])];k=c_({axis:l,ticks:c,bandSize:a,offset:s.offset,entry:v,index:b}),S=(U=Q??D)!==null&&U!==void 0?U:void 0,F=s.size;var H=D-Q;if(T=oo(H)?0:H,P={x:k,y:h.top,width:F,height:h.height},Math.abs(R)>0&&Math.abs(T)<Math.abs(R)){var W=ys(T||R)*(Math.abs(R)-Math.abs(T));S-=W,T+=W}}else{var[V,Z]=[l.scale(j[0]),l.scale(j[1])];if(k=V,S=c_({axis:A,ticks:u,bandSize:a,offset:s.offset,entry:v,index:b}),F=Z-V,T=s.size,P={x:h.left,y:S,width:h.width,height:T},Math.abs(R)>0&&Math.abs(F)<Math.abs(R)){var K=ys(F||R)*(Math.abs(R)-Math.abs(F));F+=K}}if(k==null||S==null||F==null||T==null)return null;var X=pa(pa({},v),{},{x:k,y:S,width:F,height:T,value:o?j:j[1],payload:v,background:P,tooltipPosition:{x:k+F/2,y:S+T/2},parentViewBox:g},f&&f[b]&&f[b].props);return X}).filter(Boolean)}function Lae(e){var t=ja(e,Pae),r=Ui();return E.createElement(zQ,{id:t.id,type:"bar"},n=>E.createElement(E.Fragment,null,E.createElement(qne,{legendPayload:jae(t)}),E.createElement($Q,{fn:Bae,args:t}),E.createElement(use,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:VW(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),E.createElement(Tae,VA({},t,{id:n}))))}var qQ=E.memo(Lae);qQ.displayName="Bar";function d3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(r),!0).forEach(function(n){Qae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qae(e,t,r){return(t=Dae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dae(e){var t=Rae(e,"string");return typeof t=="symbol"?t:t+""}function Rae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mae=(e,t)=>t,Hae=(e,t,r)=>r,$ae=(e,t,r,n)=>n,Kae=(e,t,r,n,s)=>s,Dp=Te([uN,Kae],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),zae=Te([Dp],e=>e==null?void 0:e.maxBarSize),Vae=(e,t,r,n,s,a)=>a,f3=(e,t,r)=>{var n=r??e;if(!js(n))return ea(n,t,0)},Gae=Te([wr,uN,Mae,Hae,$ae],(e,t,r,n,s)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===s).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Wae=(e,t,r,n)=>{var s=wr(e);return s==="horizontal"?c5(e,"yAxis",r,n):c5(e,"xAxis",t,n)},Yae=(e,t,r)=>{var n=wr(e);return n==="horizontal"?CE(e,"xAxis",t):CE(e,"yAxis",r)},Jae=(e,t,r)=>{var n={},s=e.filter(xy),a=e.filter(u=>u.stackId==null),l=s.reduce((u,o)=>(u[o.stackId]||(u[o.stackId]=[]),u[o.stackId].push(o),u),n),A=Object.entries(l).map(u=>{var[o,d]=u,h=d.map(g=>g.dataKey),f=f3(t,r,d[0].barSize);return{stackId:o,dataKeys:h,barSize:f}}),c=a.map(u=>{var o=[u.dataKey].filter(h=>h!=null),d=f3(t,r,u.barSize);return{stackId:void 0,dataKeys:o,barSize:d}});return[...A,...c]},Xae=Te([Gae,QZ,Yae],Jae),qae=(e,t,r,n,s)=>{var a,l,A=Dp(e,t,r,n,s);if(A!=null){var c=wr(e),u=cL(e),{maxBarSize:o}=A,d=js(o)?u:o,h,f;return c==="horizontal"?(h=xh(e,"xAxis",t,n),f=vh(e,"xAxis",t,n)):(h=xh(e,"yAxis",r,n),f=vh(e,"yAxis",r,n)),(a=(l=wC(h,f,!0))!==null&&l!==void 0?l:d)!==null&&a!==void 0?a:0}},ZQ=(e,t,r,n)=>{var s=wr(e),a,l;return s==="horizontal"?(a=xh(e,"xAxis",t,n),l=vh(e,"xAxis",t,n)):(a=xh(e,"yAxis",r,n),l=vh(e,"yAxis",r,n)),wC(a,l)};function Zae(e,t,r,n,s){var a=n.length;if(!(a<1)){var l=ea(e,r,0,!0),A,c=[];if(ra(n[0].barSize)){var u=!1,o=r/a,d=n.reduce((p,v)=>p+(v.barSize||0),0);d+=(a-1)*l,d>=r&&(d-=(a-1)*l,l=0),d>=r&&o>0&&(u=!0,o*=.9,d=a*o);var h=(r-d)/2>>0,f={offset:h-l,size:0};A=n.reduce((p,v)=>{var b,j={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:f.offset+f.size+l,size:u?o:(b=v.barSize)!==null&&b!==void 0?b:0}},k=[...p,j];return f=k[k.length-1].position,k},c)}else{var g=ea(t,r,0,!0);r-2*g-(a-1)*l<=0&&(l=0);var m=(r-2*g-(a-1)*l)/a;m>1&&(m>>=0);var x=ra(s)?Math.min(m,s):m;A=n.reduce((p,v,b)=>[...p,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:g+(m+l)*b+(m-x)/2,size:x}}],c)}return A}}var eie=(e,t,r,n,s,a,l)=>{var A=js(l)?t:l,c=Zae(r,n,s!==a?s:a,e,A);return s!==a&&c!=null&&(c=c.map(u=>gv(gv({},u),{},{position:gv(gv({},u.position),{},{offset:u.position.offset-s/2})}))),c},tie=Te([Xae,cL,LZ,AL,qae,ZQ,zae],eie),rie=(e,t,r,n)=>xh(e,"xAxis",t,n),nie=(e,t,r,n)=>xh(e,"yAxis",r,n),sie=(e,t,r,n)=>vh(e,"xAxis",t,n),aie=(e,t,r,n)=>vh(e,"yAxis",r,n),iie=Te([tie,Dp],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),oie=(e,t)=>{var r=lN(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:a}=s;if(a)return a.find(l=>l.key===r)}}}},lie=Te([Wae,Dp],oie),cie=Te([us,jC,rie,nie,sie,aie,iie,wr,ZC,ZQ,lie,Dp,Vae],(e,t,r,n,s,a,l,A,c,u,o,d,h)=>{var{chartData:f,dataStartIndex:g,dataEndIndex:m}=c;if(!(d==null||l==null||t==null||A!=="horizontal"&&A!=="vertical"||r==null||n==null||s==null||a==null||u==null)){var{data:x}=d,p;if(x!=null&&x.length>0?p=x:p=f==null?void 0:f.slice(g,m+1),p!=null)return Oae({layout:A,barSettings:d,pos:l,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:a,stackedData:o,displayedData:p,offset:e,cells:h})}}),e8=e=>{var{chartData:t}=e,r=dn(),n=Ui();return E.useEffect(()=>n?()=>{}:(r(PE(t)),()=>{r(PE(void 0))}),[t,r,n]),null},h3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Aie=Ii({name:"brush",initialState:h3,reducers:{setBrushSettings(e,t){return t.payload==null?h3:t.payload}}}),uie=Aie.reducer;function die(e,t,r){return(t=fie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fie(e){var t=hie(e,"string");return typeof t=="symbol"?t:t+""}function hie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class JN{static create(t){return new JN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}die(JN,"EPS",1e-4);function mie(e){return(e%180+180)%180}var pie=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=mie(s),l=a*Math.PI/180,A=Math.atan(n/r),c=l>A&&l<Math.PI-A?n/Math.sin(l):r/Math.cos(l);return Math.abs(c)},gie={dots:[],areas:[],lines:[]},vie=Ii({name:"referenceElements",initialState:gie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ac(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ac(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ac(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),xie=vie.reducer,bie=E.createContext(void 0),yie=e=>{var{children:t}=e,[r]=E.useState("".concat(Gm("recharts"),"-clip")),n=YQ();if(n==null)return null;var{x:s,y:a,width:l,height:A}=n;return E.createElement(bie.Provider,{value:r},E.createElement("defs",null,E.createElement("clipPath",{id:r},E.createElement("rect",{x:s,y:a,height:A,width:l}))),t)};function bh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function t8(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function wie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return pie(n,r)}function jie(e,t,r){var n=r==="width",{x:s,y:a,width:l,height:A}=e;return t===1?{start:n?s:a,end:n?s+l:a+A}:{start:n?s+l:a+A,end:n?s:a}}function nb(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-s)<=0}function Bie(e,t){return t8(e,t+1)}function Cie(e,t,r,n,s){for(var a=(n||[]).slice(),{start:l,end:A}=t,c=0,u=1,o=l,d=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:t8(n,u)};var m=c,x,p=()=>(x===void 0&&(x=r(g,m)),x),v=g.coordinate,b=c===0||nb(e,v,p,o,A);b||(c=0,o=l,u+=1),b&&(o=v+e*(p()/2+s),c+=u)},h;u<=a.length;)if(h=d(),h)return h.v;return[]}function m3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(r),!0).forEach(function(n){Nie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nie(e,t,r){return(t=kie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kie(e){var t=Sie(e,"string");return typeof t=="symbol"?t:t+""}function Sie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ie(e,t,r,n,s){for(var a=(n||[]).slice(),l=a.length,{start:A}=t,{end:c}=t,u=function(h){var f=a[h],g,m=()=>(g===void 0&&(g=r(f,h)),g);if(h===l-1){var x=e*(f.coordinate+e*m()/2-c);a[h]=f=Xs(Xs({},f),{},{tickCoord:x>0?f.coordinate-x*e:f.coordinate})}else a[h]=f=Xs(Xs({},f),{},{tickCoord:f.coordinate});var p=nb(e,f.tickCoord,m,A,c);p&&(c=f.tickCoord-e*(m()/2+s),a[h]=Xs(Xs({},f),{},{isShow:!0}))},o=l-1;o>=0;o--)u(o);return a}function Eie(e,t,r,n,s,a){var l=(n||[]).slice(),A=l.length,{start:c,end:u}=t;if(a){var o=n[A-1],d=r(o,A-1),h=e*(o.coordinate+e*d/2-u);l[A-1]=o=Xs(Xs({},o),{},{tickCoord:h>0?o.coordinate-h*e:o.coordinate});var f=nb(e,o.tickCoord,()=>d,c,u);f&&(u=o.tickCoord-e*(d/2+s),l[A-1]=Xs(Xs({},o),{},{isShow:!0}))}for(var g=a?A-1:A,m=function(v){var b=l[v],j,k=()=>(j===void 0&&(j=r(b,v)),j);if(v===0){var S=e*(b.coordinate-e*k()/2-c);l[v]=b=Xs(Xs({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else l[v]=b=Xs(Xs({},b),{},{tickCoord:b.coordinate});var F=nb(e,b.tickCoord,k,c,u);F&&(c=b.tickCoord+e*(k()/2+s),l[v]=Xs(Xs({},b),{},{isShow:!0}))},x=0;x<g;x++)m(x);return l}function XN(e,t,r){var{tick:n,ticks:s,viewBox:a,minTickGap:l,orientation:A,interval:c,tickFormatter:u,unit:o,angle:d}=e;if(!s||!s.length||!n)return[];if(Ot(c)||wd.isSsr){var h;return(h=Bie(s,Ot(c)?c:0))!==null&&h!==void 0?h:[]}var f=[],g=A==="top"||A==="bottom"?"width":"height",m=o&&g==="width"?mm(o,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(b,j)=>{var k=typeof u=="function"?u(b.value,j):b.value;return g==="width"?wie(mm(k,{fontSize:t,letterSpacing:r}),m,d):mm(k,{fontSize:t,letterSpacing:r})[g]},p=s.length>=2?ys(s[1].coordinate-s[0].coordinate):1,v=jie(a,p,g);return c==="equidistantPreserveStart"?Cie(p,v,x,s,l):(c==="preserveStart"||c==="preserveStartEnd"?f=Eie(p,v,x,s,l,c==="preserveStartEnd"):f=_ie(p,v,x,s,l),f.filter(b=>b.isShow))}var Fie=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:a=0}=e,l=0;if(t){Array.from(t).forEach(o=>{if(o){var d=o.getBoundingClientRect();d.width>l&&(l=d.width)}});var A=r?r.getBoundingClientRect().width:0,c=s+a,u=l+c+A+(r?n:0);return Math.round(u)}return 0},Iie=["axisLine","width","height","className","hide","ticks"],Uie=["viewBox"],Pie=["viewBox"];function p5(e,t){if(e==null)return{};var r,n,s=Tie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Tie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dd.apply(null,arguments)}function p3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(r),!0).forEach(function(n){Oie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oie(e,t,r){return(t=Lie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lie(e){var t=Qie(e,"string");return typeof t=="symbol"?t:t+""}function Qie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qN={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Die(e){var{x:t,y:r,width:n,height:s,orientation:a,mirror:l,axisLine:A,otherSvgProps:c}=e;if(!A)return null;var u=os(os(os({},c),Do(A)),{},{fill:"none"});if(a==="top"||a==="bottom"){var o=+(a==="top"&&!l||a==="bottom"&&l);u=os(os({},u),{},{x1:t,y1:r+o*s,x2:t+n,y2:r+o*s})}else{var d=+(a==="left"&&!l||a==="right"&&l);u=os(os({},u),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+s})}return E.createElement("line",dd({},u,{className:Qr("recharts-cartesian-axis-line",id(A,"className"))}))}function Rie(e,t,r,n,s,a,l,A,c){var u,o,d,h,f,g,m=A?-1:1,x=e.tickSize||l,p=Ot(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=o=e.coordinate,h=r+ +!A*s,d=h-m*x,g=d-m*c,f=p;break;case"left":d=h=e.coordinate,o=t+ +!A*n,u=o-m*x,f=u-m*c,g=p;break;case"right":d=h=e.coordinate,o=t+ +A*n,u=o+m*x,f=u+m*c,g=p;break;default:u=o=e.coordinate,h=r+ +A*s,d=h+m*x,g=d+m*c,f=p;break}return{line:{x1:u,y1:d,x2:o,y2:h},tick:{x:f,y:g}}}function Mie(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Hie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function $ie(e){var{option:t,tickProps:r,value:n}=e,s,a=Qr(r.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(t))s=E.cloneElement(t,os(os({},r),{},{className:a}));else if(typeof t=="function")s=t(os(os({},r),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Qr(l,t==null?void 0:t.className)),s=E.createElement(ky,dd({},r,{className:l}),n)}return s}function Kie(e){var{ticks:t=[],tick:r,tickLine:n,stroke:s,tickFormatter:a,unit:l,padding:A,tickTextProps:c,orientation:u,mirror:o,x:d,y:h,width:f,height:g,tickSize:m,tickMargin:x,fontSize:p,letterSpacing:v,getTicksConfig:b,events:j}=e,k=XN(os(os({},b),{},{ticks:t}),p,v),S=Mie(u,o),F=Hie(u,o),T=Do(b),P=Vm(r),R={};typeof n=="object"&&(R=n);var U=os(os({},T),{},{fill:"none"},R),D=k.map((Q,H)=>{var{line:W,tick:V}=Rie(Q,d,h,f,g,u,m,o,x),Z=os(os(os(os({textAnchor:S,verticalAnchor:F},T),{},{stroke:"none",fill:s},P),V),{},{index:H,payload:Q,visibleTicksCount:k.length,tickFormatter:a,padding:A},c);return E.createElement(ei,dd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},jp(j,Q,H)),n&&E.createElement("line",dd({},U,W,{className:Qr("recharts-cartesian-axis-tick-line",id(n,"className"))})),r&&E.createElement($ie,{option:r,tickProps:Z,value:"".concat(typeof a=="function"?a(Q.value,H):Q.value).concat(l||"")}))});return D.length>0?E.createElement("g",{className:"recharts-cartesian-axis-ticks"},D):null}var zie=E.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:a,hide:l,ticks:A}=e,c=p5(e,Iie),[u,o]=E.useState(""),[d,h]=E.useState(""),f=E.useRef(null);E.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var m;return Fie({ticks:f.current,label:(m=e.labelRef)===null||m===void 0?void 0:m.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=E.useCallback(m=>{if(m){var x=m.getElementsByClassName("recharts-cartesian-axis-tick-value");f.current=x;var p=x[0];if(p){var v=window.getComputedStyle(p),b=v.fontSize,j=v.letterSpacing;(b!==u||j!==d)&&(o(b),h(j))}}},[u,d]);return l||n!=null&&n<=0||s!=null&&s<=0?null:E.createElement(ei,{className:Qr("recharts-cartesian-axis",a),ref:g},E.createElement(Die,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Do(e)}),E.createElement(Kie,{ticks:A,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:d,getTicksConfig:e,events:c}),E.createElement(Jre,{x:e.x,y:e.y,width:e.width,height:e.height},E.createElement(ine,{label:e.label,labelRef:e.labelRef}),e.children))}),Vie=E.memo(zie,(e,t)=>{var{viewBox:r}=e,n=p5(e,Uie),{viewBox:s}=t,a=p5(t,Pie);return bh(r,s)&&bh(n,a)}),ZN=E.forwardRef((e,t)=>{var r=ja(e,qN);return E.createElement(Vie,dd({},r,{ref:t}))});ZN.displayName="CartesianAxis";var Gie=["x1","y1","x2","y2","key"],Wie=["offset"],Yie=["xAxisId","yAxisId"],Jie=["xAxisId","yAxisId"];function g3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(r),!0).forEach(function(n){Xie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xie(e,t,r){return(t=qie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qie(e){var t=Zie(e,"string");return typeof t=="symbol"?t:t+""}function Zie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qu.apply(null,arguments)}function sb(e,t){if(e==null)return{};var r,n,s=eoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function eoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var toe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:a,height:l,ry:A}=e;return E.createElement("rect",{x:n,y:s,ry:A,width:a,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function r8(e,t){var r;if(E.isValidElement(e))r=E.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:a,y2:l,key:A}=t,c=sb(t,Gie),u=Do(c),o=sb(u,Wie);r=E.createElement("line",Qu({},o,{x1:n,y1:s,x2:a,y2:l,fill:"none",key:A}))}return r}function roe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var a=sb(e,Yie),l=s.map((A,c)=>{var u=Zs(Zs({},a),{},{x1:t,y1:A,x2:t+r,y2:A,key:"line-".concat(c),index:c});return r8(n,u)});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function noe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var a=sb(e,Jie),l=s.map((A,c)=>{var u=Zs(Zs({},a),{},{x1:A,y1:t,x2:A,y2:t+r,key:"line-".concat(c),index:c});return r8(n,u)});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function soe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:a,height:l,horizontalPoints:A,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=A.map(d=>Math.round(d+s-s)).sort((d,h)=>d-h);s!==u[0]&&u.unshift(0);var o=u.map((d,h)=>{var f=!u[h+1],g=f?s+l-d:u[h+1]-d;if(g<=0)return null;var m=h%t.length;return E.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:g,width:a,stroke:"none",fill:t[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},o)}function aoe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:a,width:l,height:A,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(d=>Math.round(d+s-s)).sort((d,h)=>d-h);s!==u[0]&&u.unshift(0);var o=u.map((d,h)=>{var f=!u[h+1],g=f?s+l-d:u[h+1]-d;if(g<=0)return null;var m=h%r.length;return E.createElement("rect",{key:"react-".concat(h),x:d,y:a,width:g,height:A,stroke:"none",fill:r[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},o)}var ioe=(e,t)=>{var{xAxis:r,width:n,height:s,offset:a}=e;return QT(XN(Zs(Zs(Zs({},qN),r),{},{ticks:DT(r),viewBox:{x:0,y:0,width:n,height:s}})),a.left,a.left+a.width,t)},ooe=(e,t)=>{var{yAxis:r,width:n,height:s,offset:a}=e;return QT(XN(Zs(Zs(Zs({},qN),r),{},{ticks:DT(r),viewBox:{x:0,y:0,width:n,height:s}})),a.top,a.top+a.height,t)},loe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function n8(e){var t=CC(),r=NC(),n=JT(),s=Zs(Zs({},ja(e,loe)),{},{x:Ot(e.x)?e.x:n.left,y:Ot(e.y)?e.y:n.top,width:Ot(e.width)?e.width:n.width,height:Ot(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:l,x:A,y:c,width:u,height:o,syncWithTicks:d,horizontalValues:h,verticalValues:f}=s,g=Ui(),m=Pt(P=>NE(P,"xAxis",a,g)),x=Pt(P=>NE(P,"yAxis",l,g));if(!Ot(u)||u<=0||!Ot(o)||o<=0||!Ot(A)||A!==+A||!Ot(c)||c!==+c)return null;var p=s.verticalCoordinatesGenerator||ioe,v=s.horizontalCoordinatesGenerator||ooe,{horizontalPoints:b,verticalPoints:j}=s;if((!b||!b.length)&&typeof v=="function"){var k=h&&h.length,S=v({yAxis:x?Zs(Zs({},x),{},{ticks:k?h:x.ticks}):void 0,width:t,height:r,offset:n},k?!0:d);Ox(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!j||!j.length)&&typeof p=="function"){var F=f&&f.length,T=p({xAxis:m?Zs(Zs({},m),{},{ticks:F?f:m.ticks}):void 0,width:t,height:r,offset:n},F?!0:d);Ox(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(j=T)}return E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(toe,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),E.createElement(soe,Qu({},s,{horizontalPoints:b})),E.createElement(aoe,Qu({},s,{verticalPoints:j})),E.createElement(roe,Qu({},s,{offset:n,horizontalPoints:b,xAxis:m,yAxis:x})),E.createElement(noe,Qu({},s,{offset:n,verticalPoints:j,xAxis:m,yAxis:x})))}n8.displayName="CartesianGrid";var coe=["dangerouslySetInnerHTML","ticks"],Aoe=["id"],uoe=["domain"],doe=["domain"];function g5(){return g5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g5.apply(null,arguments)}function ab(e,t){if(e==null)return{};var r,n,s=foe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function foe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hoe(e){var t=dn();return E.useLayoutEffect(()=>(t(Mse(e)),()=>{t(Hse(e))}),[e,t]),null}var moe=e=>{var{xAxisId:t,className:r}=e,n=Pt(jC),s=Ui(),a="xAxis",l=Pt(f=>Qh(f,a,t,s)),A=Pt(f=>HL(f,a,t,s)),c=Pt(f=>QL(f,t)),u=Pt(f=>Iee(f,t)),o=Pt(f=>xL(f,t));if(c==null||u==null||o==null)return null;var d=ab(e,coe),h=ab(o,Aoe);return E.createElement(ZN,g5({},d,h,{scale:l,x:u.x,y:u.y,width:c.width,height:c.height,className:Qr("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:A}))},poe={allowDataOverflow:mi.allowDataOverflow,allowDecimals:mi.allowDecimals,allowDuplicatedCategory:mi.allowDuplicatedCategory,height:mi.height,hide:!1,mirror:mi.mirror,orientation:mi.orientation,padding:mi.padding,reversed:mi.reversed,scale:mi.scale,tickCount:mi.tickCount,type:mi.type,xAxisId:0},goe=e=>{var t,r,n,s,a,l=ja(e,poe);return E.createElement(E.Fragment,null,E.createElement(hoe,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(s=l.minTickGap)!==null&&s!==void 0?s:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),E.createElement(moe,l))},voe=(e,t)=>{var{domain:r}=e,n=ab(e,uoe),{domain:s}=t,a=ab(t,doe);return bh(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:bh({domain:r},{domain:s}):!1},s8=E.memo(goe,voe);s8.displayName="XAxis";var xoe=["dangerouslySetInnerHTML","ticks"],boe=["id"],yoe=["domain"],woe=["domain"];function v5(){return v5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v5.apply(null,arguments)}function ib(e,t){if(e==null)return{};var r,n,s=joe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function joe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Boe(e){var t=dn();return E.useLayoutEffect(()=>(t($se(e)),()=>{t(Kse(e))}),[e,t]),null}var Coe=e=>{var{yAxisId:t,className:r,width:n,label:s}=e,a=E.useRef(null),l=E.useRef(null),A=Pt(jC),c=Ui(),u=dn(),o="yAxis",d=Pt(v=>Qh(v,o,t,c)),h=Pt(v=>DL(v,t)),f=Pt(v=>Pee(v,t)),g=Pt(v=>HL(v,o,t,c)),m=Pt(v=>bL(v,t));if(E.useLayoutEffect(()=>{if(!(n!=="auto"||!h||DN(s)||E.isValidElement(s)||m==null)){var v=a.current;if(v){var b=v.getCalculatedWidth();Math.round(h.width)!==Math.round(b)&&u(zse({id:t,width:b}))}}},[g,h,u,s,t,n,m]),h==null||f==null||m==null)return null;var x=ib(e,xoe),p=ib(m,boe);return E.createElement(ZN,v5({},x,p,{ref:a,labelRef:l,scale:d,x:f.x,y:f.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Qr("recharts-".concat(o," ").concat(o),r),viewBox:A,ticks:g}))},Noe={allowDataOverflow:pi.allowDataOverflow,allowDecimals:pi.allowDecimals,allowDuplicatedCategory:pi.allowDuplicatedCategory,hide:!1,mirror:pi.mirror,orientation:pi.orientation,padding:pi.padding,reversed:pi.reversed,scale:pi.scale,tickCount:pi.tickCount,type:pi.type,width:pi.width,yAxisId:0},koe=e=>{var t,r,n,s,a,l=ja(e,Noe);return E.createElement(E.Fragment,null,E.createElement(Boe,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(s=l.minTickGap)!==null&&s!==void 0?s:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),E.createElement(Coe,l))},Soe=(e,t)=>{var{domain:r}=e,n=ib(e,yoe),{domain:s}=t,a=ib(t,woe);return bh(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:bh({domain:r},{domain:s}):!1},a8=E.memo(koe,Soe);a8.displayName="YAxis";var _oe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp=E;function Eoe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Foe=typeof Object.is=="function"?Object.is:Eoe,Ioe=Rp.useSyncExternalStore,Uoe=Rp.useRef,Poe=Rp.useEffect,Toe=Rp.useMemo,Ooe=Rp.useDebugValue;_oe.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var a=Uoe(null);if(a.current===null){var l={hasValue:!1,value:null};a.current=l}else l=a.current;a=Toe(function(){function c(f){if(!u){if(u=!0,o=f,f=n(f),s!==void 0&&l.hasValue){var g=l.value;if(s(g,f))return d=g}return d=f}if(g=d,Foe(o,f))return g;var m=n(f);return s!==void 0&&s(g,m)?(o=f,g):(o=f,d=m)}var u=!1,o,d,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var A=Ioe(e,a[0],a[1]);return Poe(function(){l.hasValue=!0,l.value=A},[A]),Ooe(A),A};function Loe(e){e()}function Qoe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Loe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var v3={notify(){},get:()=>[]};function Doe(e,t){let r,n=v3,s=0,a=!1;function l(m){o();const x=n.subscribe(m);let p=!1;return()=>{p||(p=!0,x(),d())}}function A(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return a}function o(){s++,r||(r=e.subscribe(c),n=Qoe())}function d(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=v3)}function h(){a||(a=!0,o())}function f(){a&&(a=!1,d())}const g={addNestedSub:l,notifyNestedSubs:A,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>n};return g}var Roe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Moe=Roe(),Hoe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$oe=Hoe(),Koe=()=>Moe||$oe?E.useLayoutEffect:E.useEffect,zoe=Koe(),Rw=Symbol.for("react-redux-context"),Mw=typeof globalThis<"u"?globalThis:{};function Voe(){if(!E.createContext)return{};const e=Mw[Rw]??(Mw[Rw]=new Map);let t=e.get(E.createContext);return t||(t=E.createContext(null),e.set(E.createContext,t)),t}var Goe=Voe();function Woe(e){const{children:t,context:r,serverState:n,store:s}=e,a=E.useMemo(()=>{const c=Doe(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),l=E.useMemo(()=>s.getState(),[s]);zoe(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,l]);const A=r||Goe;return E.createElement(A.Provider,{value:a},t)}var Yoe=Woe,Joe=(e,t)=>t,e4=Te([Joe,wr,pL,fs,aQ,_c,Qte,us],$te),t4=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},i8=lo("mouseClick"),o8=Cp();o8.startListening({actionCreator:i8,effect:(e,t)=>{var r=e.payload,n=e4(t.getState(),t4(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Gee({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var x5=lo("mouseMove"),l8=Cp();l8.startListening({actionCreator:x5,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=EN(n,n.tooltip.settings.shared),a=e4(n,t4(r));s==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(JL({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(YL()))}});var x3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},c8=Ii({name:"rootProps",initialState:x3,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:x3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Xoe=c8.reducer,{updateOptions:qoe}=c8.actions,A8=Ii({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Zoe}=A8.actions,ele=A8.reducer,u8=lo("keyDown"),d8=lo("focus"),r4=Cp();r4.startListening({actionCreator:u8,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=Number(FN(s,Rh(r))),A=_c(r);if(a==="Enter"){var c=qx(r,"axis","hover",String(s.index));t.dispatch(u5({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var u=Qee(r),o=u==="left-to-right"?1:-1,d=a==="ArrowRight"?1:-1,h=l+d*o;if(!(A==null||h>=A.length||h<0)){var f=qx(r,"axis","hover",String(h));t.dispatch(u5({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:f}))}}}}});r4.startListening({actionCreator:d8,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var a="0",l=qx(r,"axis","hover",String(a));t.dispatch(u5({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var Yi=lo("externalEvent"),f8=Cp();f8.startListening({actionCreator:Yi,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:_te(r),activeDataKey:cQ(r),activeIndex:ud(r),activeLabel:lQ(r),activeTooltipIndex:ud(r),isTooltipActive:Ete(r)};e.payload.handler(n,e.payload.reactEvent)}}});var tle=Te([Dh],e=>e.tooltipItemPayloads),rle=Te([tle,Op,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(A=>A.settings.dataKey===n);if(s!=null){var{positions:a}=s;if(a!=null){var l=t(a,r);return l}}}),h8=lo("touchMove"),m8=Cp();m8.startListening({actionCreator:h8,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=EN(n,n.tooltip.settings.shared);if(s==="axis"){var a=e4(n,t4({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(JL({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(s==="item"){var l,A=r.touches[0],c=document.elementFromPoint(A.clientX,A.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(MT),o=(l=c.getAttribute(HT))!==null&&l!==void 0?l:void 0,d=rle(t.getState(),u,o);t.dispatch(WL({activeDataKey:o,activeIndex:u,activeCoordinate:d}))}}});var nle=uT({brush:uie,cartesianAxis:Vse,chartData:sre,errorBars:oae,graphicalItems:Ase,layout:CW,legend:kY,options:Zte,polarAxis:Cne,polarOptions:ele,referenceElements:xie,rootProps:Xoe,tooltip:Wee}),sle=function(t){return JG({reducer:nle,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([o8.middleware,l8.middleware,r4.middleware,f8.middleware,m8.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(jT({type:"raf"}))},devTools:wd.devToolsEnabled})};function p8(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=Ui(),a=E.useRef(null);if(s)return r;a.current==null&&(a.current=sle(t));var l=hC;return E.createElement(Yoe,{context:l,store:a.current},r)}function g8(e){var{layout:t,margin:r}=e,n=dn(),s=Ui();return E.useEffect(()=>{s||(n(wW(t)),n(yW(r)))},[n,s,t,r]),null}function v8(e){var t=dn();return E.useEffect(()=>{t(qoe(e))},[t,e]),null}var ale=["children"];function ile(e,t){if(e==null)return{};var r,n,s=ole(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ole(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ob.apply(null,arguments)}var lle={width:"100%",height:"100%",display:"block"},cle=E.forwardRef((e,t)=>{var r=CC(),n=NC(),s=eO();if(!fh(r)||!fh(n))return null;var{children:a,otherAttributes:l,title:A,desc:c}=e,u,o;return typeof l.tabIndex=="number"?u=l.tabIndex:u=s?0:void 0,typeof l.role=="string"?o=l.role:o=s?"application":void 0,E.createElement(XB,ob({},l,{title:A,desc:c,role:o,tabIndex:u,width:r,height:n,style:lle,ref:t}),a)}),Ale=e=>{var{children:t}=e,r=Pt(sy);if(!r)return null;var{width:n,height:s,y:a,x:l}=r;return E.createElement(XB,{width:n,height:s,x:l,y:a},t)},b3=E.forwardRef((e,t)=>{var{children:r}=e,n=ile(e,ale),s=Ui();return s?E.createElement(Ale,null,r):E.createElement(cle,ob({ref:t},n),r)});function ule(){var e=dn(),[t,r]=E.useState(null),n=Pt(eY);return E.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),a=s.width/t.offsetWidth;ra(a)&&a!==n&&e(BW(a))}},[t,e,n]),r}function y3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dle(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y3(Object(r),!0).forEach(function(n){fle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fle(e,t,r){return(t=hle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hle(e){var t=mle(e,"string");return typeof t=="symbol"?t:t+""}function mle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fd.apply(null,arguments)}var ple=()=>(fre(),null);function lb(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var gle=E.forwardRef((e,t)=>{var r,n,s=E.useRef(null),[a,l]=E.useState({containerWidth:lb((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:lb((n=e.style)===null||n===void 0?void 0:n.height)}),A=E.useCallback((u,o)=>{l(d=>{var h=Math.round(u),f=Math.round(o);return d.containerWidth===h&&d.containerHeight===f?d:{containerWidth:h,containerHeight:f}})},[]),c=E.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:o,height:d}=u.getBoundingClientRect();A(o,d);var h=g=>{var{width:m,height:x}=g[0].contentRect;A(m,x)},f=new ResizeObserver(h);f.observe(u),s.current=f}},[t,A]);return E.useEffect(()=>()=>{var u=s.current;u!=null&&u.disconnect()},[A]),E.createElement(E.Fragment,null,E.createElement(iy,{width:a.containerWidth,height:a.containerHeight}),E.createElement("div",fd({ref:c},e)))}),vle=E.forwardRef((e,t)=>{var{width:r,height:n}=e,[s,a]=E.useState({containerWidth:lb(r),containerHeight:lb(n)}),l=E.useCallback((c,u)=>{a(o=>{var d=Math.round(c),h=Math.round(u);return o.containerWidth===d&&o.containerHeight===h?o:{containerWidth:d,containerHeight:h}})},[]),A=E.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:o}=c.getBoundingClientRect();l(u,o)}},[t,l]);return E.createElement(E.Fragment,null,E.createElement(iy,{width:s.containerWidth,height:s.containerHeight}),E.createElement("div",fd({ref:A},e)))}),xle=E.forwardRef((e,t)=>{var{width:r,height:n}=e;return E.createElement(E.Fragment,null,E.createElement(iy,{width:r,height:n}),E.createElement("div",fd({ref:t},e)))}),ble=E.forwardRef((e,t)=>{var{width:r,height:n}=e;return vc(r)||vc(n)?E.createElement(vle,fd({},e,{ref:t})):E.createElement(xle,fd({},e,{ref:t}))});function yle(e){return e===!0?gle:ble}var wle=E.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:a,onContextMenu:l,onDoubleClick:A,onMouseDown:c,onMouseEnter:u,onMouseLeave:o,onMouseMove:d,onMouseUp:h,onTouchEnd:f,onTouchMove:g,onTouchStart:m,style:x,width:p,responsive:v,dispatchTouchEvents:b=!0}=e,j=E.useRef(null),k=dn(),[S,F]=E.useState(null),[T,P]=E.useState(null),R=ule(),U=BC(),D=(U==null?void 0:U.width)>0?U.width:p,Q=(U==null?void 0:U.height)>0?U.height:s,H=E.useCallback(oe=>{R(oe),typeof t=="function"&&t(oe),F(oe),P(oe),oe!=null&&(j.current=oe)},[R,t,F,P]),W=E.useCallback(oe=>{k(i8(oe)),k(Yi({handler:a,reactEvent:oe}))},[k,a]),V=E.useCallback(oe=>{k(x5(oe)),k(Yi({handler:u,reactEvent:oe}))},[k,u]),Z=E.useCallback(oe=>{k(YL()),k(Yi({handler:o,reactEvent:oe}))},[k,o]),K=E.useCallback(oe=>{k(x5(oe)),k(Yi({handler:d,reactEvent:oe}))},[k,d]),X=E.useCallback(()=>{k(d8())},[k]),le=E.useCallback(oe=>{k(u8(oe.key))},[k]),Ae=E.useCallback(oe=>{k(Yi({handler:l,reactEvent:oe}))},[k,l]),M=E.useCallback(oe=>{k(Yi({handler:A,reactEvent:oe}))},[k,A]),G=E.useCallback(oe=>{k(Yi({handler:c,reactEvent:oe}))},[k,c]),re=E.useCallback(oe=>{k(Yi({handler:h,reactEvent:oe}))},[k,h]),ne=E.useCallback(oe=>{k(Yi({handler:m,reactEvent:oe}))},[k,m]),de=E.useCallback(oe=>{b&&k(h8(oe)),k(Yi({handler:g,reactEvent:oe}))},[k,b,g]),q=E.useCallback(oe=>{k(Yi({handler:f,reactEvent:oe}))},[k,f]),pe=yle(v);return E.createElement(mQ.Provider,{value:S},E.createElement(fP.Provider,{value:T},E.createElement(pe,{width:D??(x==null?void 0:x.width),height:Q??(x==null?void 0:x.height),className:Qr("recharts-wrapper",n),style:dle({position:"relative",cursor:"default",width:D,height:Q},x),onClick:W,onContextMenu:Ae,onDoubleClick:M,onFocus:X,onKeyDown:le,onMouseDown:G,onMouseEnter:V,onMouseLeave:Z,onMouseMove:K,onMouseUp:re,onTouchEnd:q,onTouchMove:de,onTouchStart:ne,ref:H},E.createElement(ple,null),r)))}),jle=["width","height","responsive","children","className","style","compact","title","desc"];function Ble(e,t){if(e==null)return{};var r,n,s=Cle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Cle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var x8=E.forwardRef((e,t)=>{var{width:r,height:n,responsive:s,children:a,className:l,style:A,compact:c,title:u,desc:o}=e,d=Ble(e,jle),h=Do(d);return c?E.createElement(E.Fragment,null,E.createElement(iy,{width:r,height:n}),E.createElement(b3,{otherAttributes:h,title:u,desc:o},a)):E.createElement(wle,{className:l,style:A,width:r,height:n,responsive:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},E.createElement(b3,{otherAttributes:h,title:u,desc:o,ref:t},E.createElement(yie,null,a)))});function b5(){return b5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b5.apply(null,arguments)}var Nle={top:5,right:5,bottom:5,left:5},kle={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Nle,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Sle=E.forwardRef(function(t,r){var n,s=ja(t.categoricalChartProps,kle),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:A,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,o={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:A,tooltipPayloadSearcher:c,eventEmitter:void 0};return E.createElement(p8,{preloadedState:{options:o},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},E.createElement(e8,{chartData:u.data}),E.createElement(g8,{layout:s.layout,margin:s.margin}),E.createElement(v8,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),E.createElement(x8,b5({},s,{ref:r})))}),_le=["axis","item"],Ele=E.forwardRef((e,t)=>E.createElement(Sle,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_le,tooltipPayloadSearcher:gQ,categoricalChartProps:e,ref:t}));function Fle(e){var t=dn();return E.useEffect(()=>{t(Zoe(e))},[t,e]),null}var Ile=["layout"];function y5(){return y5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y5.apply(null,arguments)}function Ule(e,t){if(e==null)return{};var r,n,s=Ple(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ple(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tle={top:5,right:5,bottom:5,left:5},Ole={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Tle,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Lle=E.forwardRef(function(t,r){var n,s=ja(t.categoricalChartProps,Ole),{layout:a}=s,l=Ule(s,Ile),{chartName:A,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:o}=t,d={chartName:A,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:o,eventEmitter:void 0};return E.createElement(p8,{preloadedState:{options:d},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:A},E.createElement(e8,{chartData:s.data}),E.createElement(g8,{layout:a,margin:s.margin}),E.createElement(v8,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),E.createElement(Fle,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),E.createElement(x8,y5({},l,{ref:r})))}),Qle=["item"],Dle={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Rle=E.forwardRef((e,t)=>{var r=ja(e,Dle);return E.createElement(Lle,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Qle,tooltipPayloadSearcher:gQ,categoricalChartProps:r,ref:t})});const Hw={yes:"#10b981",maybe:"#f59e0b",no:"#ef4444"};function Mle({campaigns:e,recentPledges:t,onExportCSV:r,onViewCampaign:n}){const s=e.reduce((u,o)=>u+(o.yes_count||0),0),a=e.reduce((u,o)=>u+(o.maybe_count||0),0),l=e.reduce((u,o)=>u+(o.no_count||0),0),A=[{name:"Oui",value:s,color:Hw.yes},{name:"Peut-tre",value:a,color:Hw.maybe},{name:"Non",value:l,color:Hw.no}].filter(u=>u.value>0),c=s+a+l;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Objectifs par campagne"}),e.length===0?i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center py-8",children:"Aucune campagne cre"}):i.jsx("div",{className:"space-y-4",children:e.map(u=>{const o=u.progress_percentage||0,d=o>=100;return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:u.title}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[(u.total_pledged||0).toLocaleString("fr-FR")," /"," ",u.objective_amount.toLocaleString("fr-FR"),""]})]}),i.jsxs("span",{className:`text-sm font-semibold ${d?"text-green-600 dark:text-green-400":"text-slate-600 dark:text-slate-400"}`,children:[o.toFixed(0),"%"]})]}),i.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${d?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-blue-500 to-green-500"}`,style:{width:`${Math.min(o,100)}%`}})})]},u.id)})})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Rpartition des rponses"}),c===0?i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center py-8",children:"Aucune rponse enregistre"}):i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(YT,{width:"100%",height:240,children:i.jsxs(Rle,{children:[i.jsx(GQ,{data:A,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:2,dataKey:"value",children:A.map((u,o)=>i.jsx(Qp,{fill:u.color},`cell-${o}`))}),i.jsx(yQ,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.9)",border:"none",borderRadius:"8px",color:"white"}}),i.jsx(oy,{verticalAlign:"bottom",height:36,formatter:(u,o)=>i.jsxs("span",{className:"text-sm text-slate-900 dark:text-white",children:[u,": ",o.payload.value]})})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 w-full",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[i.jsx(ar,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),i.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Oui"})]}),i.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white",children:s})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[i.jsx(Qo,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"}),i.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Peut-tre"})]}),i.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white",children:a})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[i.jsx(Lr,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),i.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Non"})]}),i.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white",children:l})]})]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Promesses rcentes"}),i.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[t.length," promesse(s)"]})]}),i.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-lg transition",children:[i.jsx(Hm,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Export CSV"})]})]}),t.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(XA,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Aucune promesse enregistre"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Sponsor"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Campagne"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Montant"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Statut"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:t.map(u=>i.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:u.sponsor_name||u.sponsor_email}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:u.sponsor_company||"-"})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"text-sm text-slate-900 dark:text-white",children:u.campaign_name})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:[(u.amount||0).toLocaleString("fr-FR"),""]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[u.status==="yes"&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400",children:[i.jsx(ar,{className:"w-3 h-3"}),"Oui"]}),u.status==="maybe"&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-400",children:[i.jsx(Qo,{className:"w-3 h-3"}),"Peut-tre"]}),u.status==="no"&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400",children:[i.jsx(Lr,{className:"w-3 h-3"}),"Non"]})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"text-sm text-slate-900 dark:text-white",children:new Date(u.created_at||"").toLocaleDateString("fr-FR")})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:i.jsx("button",{onClick:()=>n(u.campaign_id),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition",children:"Voir campagne"})})]},u.id))})]})})]})]})}var b8={exports:{}};function Tr(e){"@babel/helpers - typeof";return Tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(e)}var Ro=Uint8Array,wi=Uint16Array,n4=Int32Array,s4=new Ro([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a4=new Ro([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),w3=new Ro([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),y8=function(e,t){for(var r=new wi(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new n4(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)s[a]=a-r[n]<<5|n;return{b:r,r:s}},w8=y8(s4,2),Hle=w8.b,w5=w8.r;Hle[28]=258,w5[258]=28;var $le=y8(a4,0),j3=$le.r,j5=new wi(32768);for(var Zr=0;Zr<32768;++Zr){var lA=(Zr&43690)>>1|(Zr&21845)<<1;lA=(lA&52428)>>2|(lA&13107)<<2,lA=(lA&61680)>>4|(lA&3855)<<4,j5[Zr]=((lA&65280)>>8|(lA&255)<<8)>>1}var pm=function(e,t,r){for(var n=e.length,s=0,a=new wi(t);s<n;++s)e[s]&&++a[e[s]-1];var l=new wi(t);for(s=1;s<t;++s)l[s]=l[s-1]+a[s-1]<<1;var A;if(r){A=new wi(1<<t);var c=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],o=t-e[s],d=l[e[s]-1]++<<o,h=d|(1<<o)-1;d<=h;++d)A[j5[d]>>c]=u}else for(A=new wi(n),s=0;s<n;++s)e[s]&&(A[s]=j5[l[e[s]-1]++]>>15-e[s]);return A},hd=new Ro(288);for(var Zr=0;Zr<144;++Zr)hd[Zr]=8;for(var Zr=144;Zr<256;++Zr)hd[Zr]=9;for(var Zr=256;Zr<280;++Zr)hd[Zr]=7;for(var Zr=280;Zr<288;++Zr)hd[Zr]=8;var cb=new Ro(32);for(var Zr=0;Zr<32;++Zr)cb[Zr]=5;var Kle=pm(hd,9,0),zle=pm(cb,5,0),j8=function(e){return(e+7)/8|0},Vle=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ro(e.subarray(t,r))},Gl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},$0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},$w=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,a=r.slice();if(!s)return{t:C8,l:0};if(s==1){var l=new Ro(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(k,S){return k.f-S.f}),r.push({s:-1,f:25001});var A=r[0],c=r[1],u=0,o=1,d=2;for(r[0]={s:-1,f:A.f+c.f,l:A,r:c};o!=s-1;)A=r[r[u].f<r[d].f?u++:d++],c=r[u!=o&&r[u].f<r[d].f?u++:d++],r[o++]={s:-1,f:A.f+c.f,l:A,r:c};for(var h=a[0].s,n=1;n<s;++n)a[n].s>h&&(h=a[n].s);var f=new wi(h+1),g=B5(r[o-1],f,0);if(g>t){var n=0,m=0,x=g-t,p=1<<x;for(a.sort(function(S,F){return f[F.s]-f[S.s]||S.f-F.f});n<s;++n){var v=a[n].s;if(f[v]>t)m+=p-(1<<g-f[v]),f[v]=t;else break}for(m>>=x;m>0;){var b=a[n].s;f[b]<t?m-=1<<t-f[b]++-1:++n}for(;n>=0&&m;--n){var j=a[n].s;f[j]==t&&(--f[j],++m)}g=t}return{t:new Ro(f),l:g}},B5=function(e,t,r){return e.s==-1?Math.max(B5(e.l,t,r+1),B5(e.r,t,r+1)):t[e.s]=r},B3=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new wi(++t),n=0,s=e[0],a=1,l=function(c){r[n++]=c},A=1;A<=t;++A)if(e[A]==s&&A!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(s),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(s);a=1,s=e[A]}return{c:r.subarray(0,n),n:t}},K0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},B8=function(e,t,r){var n=r.length,s=j8(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var a=0;a<n;++a)e[s+a+4]=r[a];return(s+4+n)*8},C3=function(e,t,r,n,s,a,l,A,c,u,o){Gl(t,o++,r),++s[256];for(var d=$w(s,15),h=d.t,f=d.l,g=$w(a,15),m=g.t,x=g.l,p=B3(h),v=p.c,b=p.n,j=B3(m),k=j.c,S=j.n,F=new wi(19),T=0;T<v.length;++T)++F[v[T]&31];for(var T=0;T<k.length;++T)++F[k[T]&31];for(var P=$w(F,7),R=P.t,U=P.l,D=19;D>4&&!R[w3[D-1]];--D);var Q=u+5<<3,H=K0(s,hd)+K0(a,cb)+l,W=K0(s,h)+K0(a,m)+l+14+3*D+K0(F,R)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&Q<=H&&Q<=W)return B8(t,o,e.subarray(c,c+u));var V,Z,K,X;if(Gl(t,o,1+(W<H)),o+=2,W<H){V=pm(h,f,0),Z=h,K=pm(m,x,0),X=m;var le=pm(R,U,0);Gl(t,o,b-257),Gl(t,o+5,S-1),Gl(t,o+10,D-4),o+=14;for(var T=0;T<D;++T)Gl(t,o+3*T,R[w3[T]]);o+=3*D;for(var Ae=[v,k],M=0;M<2;++M)for(var G=Ae[M],T=0;T<G.length;++T){var re=G[T]&31;Gl(t,o,le[re]),o+=R[re],re>15&&(Gl(t,o,G[T]>>5&127),o+=G[T]>>12)}}else V=Kle,Z=hd,K=zle,X=cb;for(var T=0;T<A;++T){var ne=n[T];if(ne>255){var re=ne>>18&31;$0(t,o,V[re+257]),o+=Z[re+257],re>7&&(Gl(t,o,ne>>23&31),o+=s4[re]);var de=ne&31;$0(t,o,K[de]),o+=X[de],de>3&&($0(t,o,ne>>5&8191),o+=a4[de])}else $0(t,o,V[ne]),o+=Z[ne]}return $0(t,o,V[256]),o+Z[256]},Gle=new n4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),C8=new Ro(0),Wle=function(e,t,r,n,s,a){var l=a.z||e.length,A=new Ro(n+l+5*(1+Math.ceil(l/7e3))+s),c=A.subarray(n,A.length-s),u=a.l,o=(a.r||0)&7;if(t){o&&(c[0]=a.r>>3);for(var d=Gle[t-1],h=d>>13,f=d&8191,g=(1<<r)-1,m=a.p||new wi(32768),x=a.h||new wi(g+1),p=Math.ceil(r/3),v=2*p,b=function(be){return(e[be]^e[be+1]<<p^e[be+2]<<v)&g},j=new n4(25e3),k=new wi(288),S=new wi(32),F=0,T=0,P=a.i||0,R=0,U=a.w||0,D=0;P+2<l;++P){var Q=b(P),H=P&32767,W=x[Q];if(m[H]=W,x[Q]=H,U<=P){var V=l-P;if((F>7e3||R>24576)&&(V>423||!u)){o=C3(e,c,0,j,k,S,T,R,D,P-D,o),R=F=T=0,D=P;for(var Z=0;Z<286;++Z)k[Z]=0;for(var Z=0;Z<30;++Z)S[Z]=0}var K=2,X=0,le=f,Ae=H-W&32767;if(V>2&&Q==b(P-Ae))for(var M=Math.min(h,V)-1,G=Math.min(32767,P),re=Math.min(258,V);Ae<=G&&--le&&H!=W;){if(e[P+K]==e[P+K-Ae]){for(var ne=0;ne<re&&e[P+ne]==e[P+ne-Ae];++ne);if(ne>K){if(K=ne,X=Ae,ne>M)break;for(var de=Math.min(Ae,ne-2),q=0,Z=0;Z<de;++Z){var pe=P-Ae+Z&32767,oe=m[pe],fe=pe-oe&32767;fe>q&&(q=fe,W=pe)}}}H=W,W=m[H],Ae+=H-W&32767}if(X){j[R++]=268435456|w5[K]<<18|j3[X];var ye=w5[K]&31,ue=j3[X]&31;T+=s4[ye]+a4[ue],++k[257+ye],++S[ue],U=P+K,++F}else j[R++]=e[P],++k[e[P]]}}for(P=Math.max(P,U);P<l;++P)j[R++]=e[P],++k[e[P]];o=C3(e,c,u,j,k,S,T,R,D,P-D,o),u||(a.r=o&7|c[o/8|0]<<3,o-=7,a.h=x,a.p=m,a.i=P,a.w=U)}else{for(var P=a.w||0;P<l+u;P+=65535){var _e=P+65535;_e>=l&&(c[o/8|0]=u,_e=l),o=B8(c,o+1,e.subarray(P,_e))}a.i=l}return Vle(A,0,n+j8(o)+s)},N8=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,a=r.length|0,l=0;l!=a;){for(var A=Math.min(l+2655,a);l<A;++l)s+=n+=r[l];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Yle=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),l=new Ro(a.length+e.length);l.set(a),l.set(e,a.length),e=l,s.w=a.length}return Wle(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},k8=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Jle=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=N8();s.p(t.dictionary),k8(e,2,s.d())}};function C5(e,t){t||(t={});var r=N8();r.p(e);var n=Yle(e,t,t.dictionary?6:2,4);return Jle(n,t),k8(n,n.length-4,r.d()),n}var Xle=typeof TextDecoder<"u"&&new TextDecoder,qle=0;try{Xle.decode(C8,{stream:!0}),qle=1}catch{}function Zle(e){if(Array.isArray(e))return e}function ece(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,l,A=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(A.push(n.value),A.length!==t);c=!0);}catch(o){u=!0,s=o}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return A}}function N3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tce(e,t){if(e){if(typeof e=="string")return N3(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N3(e,t):void 0}}function rce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k3(e,t){return Zle(e)||ece(e,t)||tce(e,t)||rce()}function S3(e,t="utf8"){return new TextDecoder(t).decode(e)}const nce=new TextEncoder;function sce(e){return nce.encode(e)}const ace=1024*8,ice=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Kw={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class i4{constructor(t=ace,r={}){Cr(this,"buffer");Cr(this,"byteLength");Cr(this,"byteOffset");Cr(this,"length");Cr(this,"offset");Cr(this,"lastWrittenByte");Cr(this,"littleEndian");Cr(this,"_data");Cr(this,"_mark");Cr(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,a=t.byteLength-s;let l=s;(ArrayBuffer.isView(t)||t instanceof i4)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=Kw[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,a=this.buffer.slice(s,s+n);if(this.littleEndian===ice&&r!=="uint8"&&r!=="int8"){const A=new Uint8Array(this.buffer.slice(s,s+n));A.reverse();const c=new Kw[r](A.buffer);return this.offset+=n,c.reverse(),c}const l=new Kw[r](a);return this.offset+=n,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return S3(this.readBytes(t))}decodeText(t=1,r="utf8"){return S3(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(sce(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const oce=4,_3=0,E3=1,lce=2;function Mh(e){let t=e.length;for(;--t>=0;)e[t]=0}const cce=0,S8=1,Ace=2,uce=3,dce=258,o4=29,Mp=256,sp=Mp+1+o4,Jf=30,l4=19,_8=2*sp+1,Du=15,zw=16,fce=7,c4=256,E8=16,F8=17,I8=18,N5=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),zv=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),hce=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),U8=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mce=512,Zl=new Array((sp+2)*2);Mh(Zl);const gm=new Array(Jf*2);Mh(gm);const ap=new Array(mce);Mh(ap);const ip=new Array(dce-uce+1);Mh(ip);const A4=new Array(o4);Mh(A4);const Ab=new Array(Jf);Mh(Ab);function Vw(e,t,r,n,s){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=e&&e.length}let P8,T8,O8;function Gw(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const L8=e=>e<256?ap[e]:ap[256+(e>>>7)],op=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Ja=(e,t,r)=>{e.bi_valid>zw-r?(e.bi_buf|=t<<e.bi_valid&65535,op(e,e.bi_buf),e.bi_buf=t>>zw-e.bi_valid,e.bi_valid+=r-zw):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Al=(e,t,r)=>{Ja(e,r[t*2],r[t*2+1])},Q8=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},pce=e=>{e.bi_valid===16?(op(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},gce=(e,t)=>{const r=t.dyn_tree,n=t.max_code,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.extra_bits,A=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,o,d,h,f,g,m=0;for(h=0;h<=Du;h++)e.bl_count[h]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<_8;u++)o=e.heap[u],h=r[r[o*2+1]*2+1]+1,h>c&&(h=c,m++),r[o*2+1]=h,!(o>n)&&(e.bl_count[h]++,f=0,o>=A&&(f=l[o-A]),g=r[o*2],e.opt_len+=g*(h+f),a&&(e.static_len+=g*(s[o*2+1]+f)));if(m!==0){do{for(h=c-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(h=c;h!==0;h--)for(o=e.bl_count[h];o!==0;)d=e.heap[--u],!(d>n)&&(r[d*2+1]!==h&&(e.opt_len+=(h-r[d*2+1])*r[d*2],r[d*2+1]=h),o--)}},D8=(e,t,r)=>{const n=new Array(Du+1);let s=0,a,l;for(a=1;a<=Du;a++)s=s+r[a-1]<<1,n[a]=s;for(l=0;l<=t;l++){let A=e[l*2+1];A!==0&&(e[l*2]=Q8(n[A]++,A))}},vce=()=>{let e,t,r,n,s;const a=new Array(Du+1);for(r=0,n=0;n<o4-1;n++)for(A4[n]=r,e=0;e<1<<N5[n];e++)ip[r++]=n;for(ip[r-1]=n,s=0,n=0;n<16;n++)for(Ab[n]=s,e=0;e<1<<zv[n];e++)ap[s++]=n;for(s>>=7;n<Jf;n++)for(Ab[n]=s<<7,e=0;e<1<<zv[n]-7;e++)ap[256+s++]=n;for(t=0;t<=Du;t++)a[t]=0;for(e=0;e<=143;)Zl[e*2+1]=8,e++,a[8]++;for(;e<=255;)Zl[e*2+1]=9,e++,a[9]++;for(;e<=279;)Zl[e*2+1]=7,e++,a[7]++;for(;e<=287;)Zl[e*2+1]=8,e++,a[8]++;for(D8(Zl,sp+1,a),e=0;e<Jf;e++)gm[e*2+1]=5,gm[e*2]=Q8(e,5);P8=new Vw(Zl,N5,Mp+1,sp,Du),T8=new Vw(gm,zv,0,Jf,Du),O8=new Vw(new Array(0),hce,0,l4,fce)},R8=e=>{let t;for(t=0;t<sp;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Jf;t++)e.dyn_dtree[t*2]=0;for(t=0;t<l4;t++)e.bl_tree[t*2]=0;e.dyn_ltree[c4*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},M8=e=>{e.bi_valid>8?op(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},F3=(e,t,r,n)=>{const s=t*2,a=r*2;return e[s]<e[a]||e[s]===e[a]&&n[t]<=n[r]},Ww=(e,t,r)=>{const n=e.heap[r];let s=r<<1;for(;s<=e.heap_len&&(s<e.heap_len&&F3(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!F3(t,n,e.heap[s],e.depth));)e.heap[r]=e.heap[s],r=s,s<<=1;e.heap[r]=n},I3=(e,t,r)=>{let n,s,a=0,l,A;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+a++]&255,n+=(e.pending_buf[e.sym_buf+a++]&255)<<8,s=e.pending_buf[e.sym_buf+a++],n===0?Al(e,s,t):(l=ip[s],Al(e,l+Mp+1,t),A=N5[l],A!==0&&(s-=A4[l],Ja(e,s,A)),n--,l=L8(n),Al(e,l,r),A=zv[l],A!==0&&(n-=Ab[l],Ja(e,n,A)));while(a<e.sym_next);Al(e,c4,t)},k5=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.elems;let l,A,c=-1,u;for(e.heap_len=0,e.heap_max=_8,l=0;l<a;l++)r[l*2]!==0?(e.heap[++e.heap_len]=c=l,e.depth[l]=0):r[l*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,s&&(e.static_len-=n[u*2+1]);for(t.max_code=c,l=e.heap_len>>1;l>=1;l--)Ww(e,r,l);u=a;do l=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ww(e,r,1),A=e.heap[1],e.heap[--e.heap_max]=l,e.heap[--e.heap_max]=A,r[u*2]=r[l*2]+r[A*2],e.depth[u]=(e.depth[l]>=e.depth[A]?e.depth[l]:e.depth[A])+1,r[l*2+1]=r[A*2+1]=u,e.heap[1]=u++,Ww(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],gce(e,t),D8(r,c,e.bl_count)},U3=(e,t,r)=>{let n,s=-1,a,l=t[0*2+1],A=0,c=7,u=4;for(l===0&&(c=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)a=l,l=t[(n+1)*2+1],!(++A<c&&a===l)&&(A<u?e.bl_tree[a*2]+=A:a!==0?(a!==s&&e.bl_tree[a*2]++,e.bl_tree[E8*2]++):A<=10?e.bl_tree[F8*2]++:e.bl_tree[I8*2]++,A=0,s=a,l===0?(c=138,u=3):a===l?(c=6,u=3):(c=7,u=4))},P3=(e,t,r)=>{let n,s=-1,a,l=t[0*2+1],A=0,c=7,u=4;for(l===0&&(c=138,u=3),n=0;n<=r;n++)if(a=l,l=t[(n+1)*2+1],!(++A<c&&a===l)){if(A<u)do Al(e,a,e.bl_tree);while(--A!==0);else a!==0?(a!==s&&(Al(e,a,e.bl_tree),A--),Al(e,E8,e.bl_tree),Ja(e,A-3,2)):A<=10?(Al(e,F8,e.bl_tree),Ja(e,A-3,3)):(Al(e,I8,e.bl_tree),Ja(e,A-11,7));A=0,s=a,l===0?(c=138,u=3):a===l?(c=6,u=3):(c=7,u=4)}},xce=e=>{let t;for(U3(e,e.dyn_ltree,e.l_desc.max_code),U3(e,e.dyn_dtree,e.d_desc.max_code),k5(e,e.bl_desc),t=l4-1;t>=3&&e.bl_tree[U8[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},bce=(e,t,r,n)=>{let s;for(Ja(e,t-257,5),Ja(e,r-1,5),Ja(e,n-4,4),s=0;s<n;s++)Ja(e,e.bl_tree[U8[s]*2+1],3);P3(e,e.dyn_ltree,t-1),P3(e,e.dyn_dtree,r-1)},yce=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return _3;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return E3;for(r=32;r<Mp;r++)if(e.dyn_ltree[r*2]!==0)return E3;return _3};let T3=!1;const wce=e=>{T3||(vce(),T3=!0),e.l_desc=new Gw(e.dyn_ltree,P8),e.d_desc=new Gw(e.dyn_dtree,T8),e.bl_desc=new Gw(e.bl_tree,O8),e.bi_buf=0,e.bi_valid=0,R8(e)},H8=(e,t,r,n)=>{Ja(e,(cce<<1)+(n?1:0),3),M8(e),op(e,r),op(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},jce=e=>{Ja(e,S8<<1,3),Al(e,c4,Zl),pce(e)},Bce=(e,t,r,n)=>{let s,a,l=0;e.level>0?(e.strm.data_type===lce&&(e.strm.data_type=yce(e)),k5(e,e.l_desc),k5(e,e.d_desc),l=xce(e),s=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=s&&(s=a)):s=a=r+5,r+4<=s&&t!==-1?H8(e,t,r,n):e.strategy===oce||a===s?(Ja(e,(S8<<1)+(n?1:0),3),I3(e,Zl,gm)):(Ja(e,(Ace<<1)+(n?1:0),3),bce(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),I3(e,e.dyn_ltree,e.dyn_dtree)),R8(e),n&&M8(e)},Cce=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(ip[r]+Mp+1)*2]++,e.dyn_dtree[L8(t)*2]++),e.sym_next===e.sym_end);var Nce=wce,kce=H8,Sce=Bce,_ce=Cce,Ece=jce,Fce={_tr_init:Nce,_tr_stored_block:kce,_tr_flush_block:Sce,_tr_tally:_ce,_tr_align:Ece};const Ice=(e,t,r,n)=>{let s=e&65535|0,a=e>>>16&65535|0,l=0;for(;r!==0;){l=r>2e3?2e3:r,r-=l;do s=s+t[n++]|0,a=a+s|0;while(--l);s%=65521,a%=65521}return s|a<<16|0};var lp=Ice;const Uce=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Pce=new Uint32Array(Uce()),Tce=(e,t,r,n)=>{const s=Pce,a=n+r;e^=-1;for(let l=n;l<a;l++)e=e>>>8^s[(e^t[l])&255];return e^-1};var vs=Tce,yh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Hp={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Oce,_tr_stored_block:S5,_tr_flush_block:Lce,_tr_tally:LA,_tr_align:Qce}=Fce,{Z_NO_FLUSH:QA,Z_PARTIAL_FLUSH:Dce,Z_FULL_FLUSH:Rce,Z_FINISH:Zi,Z_BLOCK:O3,Z_OK:Ps,Z_STREAM_END:L3,Z_STREAM_ERROR:pl,Z_DATA_ERROR:Mce,Z_BUF_ERROR:Yw,Z_DEFAULT_COMPRESSION:Hce,Z_FILTERED:$ce,Z_HUFFMAN_ONLY:vv,Z_RLE:Kce,Z_FIXED:zce,Z_DEFAULT_STRATEGY:Vce,Z_UNKNOWN:Gce,Z_DEFLATED:Ry}=Hp,Wce=9,Yce=15,Jce=8,Xce=29,qce=256,_5=qce+1+Xce,Zce=30,eAe=19,tAe=2*_5+1,rAe=15,Ar=3,BA=258,gl=BA+Ar+1,nAe=32,wh=42,u4=57,E5=69,F5=73,I5=91,U5=103,Ru=113,Z0=666,va=1,Hh=2,md=3,$h=4,sAe=3,Mu=(e,t)=>(e.msg=yh[t],t),Q3=e=>e*2-(e>4?9:0),xA=e=>{let t=e.length;for(;--t>=0;)e[t]=0},aAe=e=>{let t,r,n,s=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=s?r-s:0;while(--t);t=s,n=t;do r=e.prev[--n],e.prev[n]=r>=s?r-s:0;while(--t)};let iAe=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,DA=iAe;const gi=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},ji=(e,t)=>{Lce(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,gi(e.strm)},Nr=(e,t)=>{e.pending_buf[e.pending++]=t},z0=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},P5=(e,t,r,n)=>{let s=e.avail_in;return s>n&&(s=n),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),r),e.state.wrap===1?e.adler=lp(e.adler,t,s,r):e.state.wrap===2&&(e.adler=vs(e.adler,t,s,r)),e.next_in+=s,e.total_in+=s,s)},$8=(e,t)=>{let r=e.max_chain_length,n=e.strstart,s,a,l=e.prev_length,A=e.nice_match;const c=e.strstart>e.w_size-gl?e.strstart-(e.w_size-gl):0,u=e.window,o=e.w_mask,d=e.prev,h=e.strstart+BA;let f=u[n+l-1],g=u[n+l];e.prev_length>=e.good_match&&(r>>=2),A>e.lookahead&&(A=e.lookahead);do if(s=t,!(u[s+l]!==g||u[s+l-1]!==f||u[s]!==u[n]||u[++s]!==u[n+1])){n+=2,s++;do;while(u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&n<h);if(a=BA-(h-n),n=h-BA,a>l){if(e.match_start=t,l=a,a>=A)break;f=u[n+l-1],g=u[n+l]}}while((t=d[t&o])>c&&--r!==0);return l<=e.lookahead?l:e.lookahead},jh=e=>{const t=e.w_size;let r,n,s;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-gl)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),aAe(e),n+=t),e.strm.avail_in===0)break;if(r=P5(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=Ar)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=DA(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=DA(e,e.ins_h,e.window[s+Ar-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<Ar)););}while(e.lookahead<gl&&e.strm.avail_in!==0)},K8=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,s,a,l=0,A=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,s=e.strstart-e.block_start,n>s+e.strm.avail_in&&(n=s+e.strm.avail_in),n>a&&(n=a),n<r&&(n===0&&t!==Zi||t===QA||n!==s+e.strm.avail_in)))break;l=t===Zi&&n===s+e.strm.avail_in?1:0,S5(e,0,0,l),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,gi(e.strm),s&&(s>n&&(s=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,n-=s),n&&(P5(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(l===0);return A-=e.strm.avail_in,A&&(A>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=A&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-A,e.strm.next_in),e.strstart),e.strstart+=A,e.insert+=A>e.w_size-e.insert?e.w_size-e.insert:A),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),l?$h:t!==QA&&t!==Zi&&e.strm.avail_in===0&&e.strstart===e.block_start?Hh:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(P5(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,r=a>e.w_size?e.w_size:a,s=e.strstart-e.block_start,(s>=r||(s||t===Zi)&&t!==QA&&e.strm.avail_in===0&&s<=a)&&(n=s>a?a:s,l=t===Zi&&e.strm.avail_in===0&&n===s?1:0,S5(e,e.block_start,n,l),e.block_start+=n,gi(e.strm)),l?md:va)},Jw=(e,t)=>{let r,n;for(;;){if(e.lookahead<gl){if(jh(e),e.lookahead<gl&&t===QA)return va;if(e.lookahead===0)break}if(r=0,e.lookahead>=Ar&&(e.ins_h=DA(e,e.ins_h,e.window[e.strstart+Ar-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-gl&&(e.match_length=$8(e,r)),e.match_length>=Ar)if(n=LA(e,e.strstart-e.match_start,e.match_length-Ar),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Ar){e.match_length--;do e.strstart++,e.ins_h=DA(e,e.ins_h,e.window[e.strstart+Ar-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=DA(e,e.ins_h,e.window[e.strstart+1]);else n=LA(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(ji(e,!1),e.strm.avail_out===0))return va}return e.insert=e.strstart<Ar-1?e.strstart:Ar-1,t===Zi?(ji(e,!0),e.strm.avail_out===0?md:$h):e.sym_next&&(ji(e,!1),e.strm.avail_out===0)?va:Hh},xf=(e,t)=>{let r,n,s;for(;;){if(e.lookahead<gl){if(jh(e),e.lookahead<gl&&t===QA)return va;if(e.lookahead===0)break}if(r=0,e.lookahead>=Ar&&(e.ins_h=DA(e,e.ins_h,e.window[e.strstart+Ar-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Ar-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-gl&&(e.match_length=$8(e,r),e.match_length<=5&&(e.strategy===$ce||e.match_length===Ar&&e.strstart-e.match_start>4096)&&(e.match_length=Ar-1)),e.prev_length>=Ar&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-Ar,n=LA(e,e.strstart-1-e.prev_match,e.prev_length-Ar),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=DA(e,e.ins_h,e.window[e.strstart+Ar-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Ar-1,e.strstart++,n&&(ji(e,!1),e.strm.avail_out===0))return va}else if(e.match_available){if(n=LA(e,0,e.window[e.strstart-1]),n&&ji(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return va}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=LA(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Ar-1?e.strstart:Ar-1,t===Zi?(ji(e,!0),e.strm.avail_out===0?md:$h):e.sym_next&&(ji(e,!1),e.strm.avail_out===0)?va:Hh},oAe=(e,t)=>{let r,n,s,a;const l=e.window;for(;;){if(e.lookahead<=BA){if(jh(e),e.lookahead<=BA&&t===QA)return va;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Ar&&e.strstart>0&&(s=e.strstart-1,n=l[s],n===l[++s]&&n===l[++s]&&n===l[++s])){a=e.strstart+BA;do;while(n===l[++s]&&n===l[++s]&&n===l[++s]&&n===l[++s]&&n===l[++s]&&n===l[++s]&&n===l[++s]&&n===l[++s]&&s<a);e.match_length=BA-(a-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Ar?(r=LA(e,1,e.match_length-Ar),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=LA(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(ji(e,!1),e.strm.avail_out===0))return va}return e.insert=0,t===Zi?(ji(e,!0),e.strm.avail_out===0?md:$h):e.sym_next&&(ji(e,!1),e.strm.avail_out===0)?va:Hh},lAe=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(jh(e),e.lookahead===0)){if(t===QA)return va;break}if(e.match_length=0,r=LA(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(ji(e,!1),e.strm.avail_out===0))return va}return e.insert=0,t===Zi?(ji(e,!0),e.strm.avail_out===0?md:$h):e.sym_next&&(ji(e,!1),e.strm.avail_out===0)?va:Hh};function al(e,t,r,n,s){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=s}const em=[new al(0,0,0,0,K8),new al(4,4,8,4,Jw),new al(4,5,16,8,Jw),new al(4,6,32,32,Jw),new al(4,4,16,16,xf),new al(8,16,32,32,xf),new al(8,16,128,128,xf),new al(8,32,128,256,xf),new al(32,128,258,1024,xf),new al(32,258,258,4096,xf)],cAe=e=>{e.window_size=2*e.w_size,xA(e.head),e.max_lazy_match=em[e.level].max_lazy,e.good_match=em[e.level].good_length,e.nice_match=em[e.level].nice_length,e.max_chain_length=em[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Ar-1,e.match_available=0,e.ins_h=0};function AAe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ry,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(tAe*2),this.dyn_dtree=new Uint16Array((2*Zce+1)*2),this.bl_tree=new Uint16Array((2*eAe+1)*2),xA(this.dyn_ltree),xA(this.dyn_dtree),xA(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(rAe+1),this.heap=new Uint16Array(2*_5+1),xA(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*_5+1),xA(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const $p=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==wh&&t.status!==u4&&t.status!==E5&&t.status!==F5&&t.status!==I5&&t.status!==U5&&t.status!==Ru&&t.status!==Z0?1:0},z8=e=>{if($p(e))return Mu(e,pl);e.total_in=e.total_out=0,e.data_type=Gce;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?u4:t.wrap?wh:Ru,e.adler=t.wrap===2?0:1,t.last_flush=-2,Oce(t),Ps},V8=e=>{const t=z8(e);return t===Ps&&cAe(e.state),t},uAe=(e,t)=>$p(e)||e.state.wrap!==2?pl:(e.state.gzhead=t,Ps),G8=(e,t,r,n,s,a)=>{if(!e)return pl;let l=1;if(t===Hce&&(t=6),n<0?(l=0,n=-n):n>15&&(l=2,n-=16),s<1||s>Wce||r!==Ry||n<8||n>15||t<0||t>9||a<0||a>zce||n===8&&l!==1)return Mu(e,pl);n===8&&(n=9);const A=new AAe;return e.state=A,A.strm=e,A.status=wh,A.wrap=l,A.gzhead=null,A.w_bits=n,A.w_size=1<<A.w_bits,A.w_mask=A.w_size-1,A.hash_bits=s+7,A.hash_size=1<<A.hash_bits,A.hash_mask=A.hash_size-1,A.hash_shift=~~((A.hash_bits+Ar-1)/Ar),A.window=new Uint8Array(A.w_size*2),A.head=new Uint16Array(A.hash_size),A.prev=new Uint16Array(A.w_size),A.lit_bufsize=1<<s+6,A.pending_buf_size=A.lit_bufsize*4,A.pending_buf=new Uint8Array(A.pending_buf_size),A.sym_buf=A.lit_bufsize,A.sym_end=(A.lit_bufsize-1)*3,A.level=t,A.strategy=a,A.method=r,V8(e)},dAe=(e,t)=>G8(e,t,Ry,Yce,Jce,Vce),fAe=(e,t)=>{if($p(e)||t>O3||t<0)return e?Mu(e,pl):pl;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===Z0&&t!==Zi)return Mu(e,e.avail_out===0?Yw:pl);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(gi(e),e.avail_out===0)return r.last_flush=-1,Ps}else if(e.avail_in===0&&Q3(t)<=Q3(n)&&t!==Zi)return Mu(e,Yw);if(r.status===Z0&&e.avail_in!==0)return Mu(e,Yw);if(r.status===wh&&r.wrap===0&&(r.status=Ru),r.status===wh){let s=Ry+(r.w_bits-8<<4)<<8,a=-1;if(r.strategy>=vv||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,s|=a<<6,r.strstart!==0&&(s|=nAe),s+=31-s%31,z0(r,s),r.strstart!==0&&(z0(r,e.adler>>>16),z0(r,e.adler&65535)),e.adler=1,r.status=Ru,gi(e),r.pending!==0)return r.last_flush=-1,Ps}if(r.status===u4){if(e.adler=0,Nr(r,31),Nr(r,139),Nr(r,8),r.gzhead)Nr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Nr(r,r.gzhead.time&255),Nr(r,r.gzhead.time>>8&255),Nr(r,r.gzhead.time>>16&255),Nr(r,r.gzhead.time>>24&255),Nr(r,r.level===9?2:r.strategy>=vv||r.level<2?4:0),Nr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Nr(r,r.gzhead.extra.length&255),Nr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=vs(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=E5;else if(Nr(r,0),Nr(r,0),Nr(r,0),Nr(r,0),Nr(r,0),Nr(r,r.level===9?2:r.strategy>=vv||r.level<2?4:0),Nr(r,sAe),r.status=Ru,gi(e),r.pending!==0)return r.last_flush=-1,Ps}if(r.status===E5){if(r.gzhead.extra){let s=r.pending,a=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+a>r.pending_buf_size;){let A=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+A),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>s&&(e.adler=vs(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex+=A,gi(e),r.pending!==0)return r.last_flush=-1,Ps;s=0,a-=A}let l=new Uint8Array(r.gzhead.extra);r.pending_buf.set(l.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending+=a,r.gzhead.hcrc&&r.pending>s&&(e.adler=vs(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=F5}if(r.status===F5){if(r.gzhead.name){let s=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=vs(e.adler,r.pending_buf,r.pending-s,s)),gi(e),r.pending!==0)return r.last_flush=-1,Ps;s=0}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,Nr(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=vs(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=I5}if(r.status===I5){if(r.gzhead.comment){let s=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=vs(e.adler,r.pending_buf,r.pending-s,s)),gi(e),r.pending!==0)return r.last_flush=-1,Ps;s=0}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,Nr(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=vs(e.adler,r.pending_buf,r.pending-s,s))}r.status=U5}if(r.status===U5){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(gi(e),r.pending!==0))return r.last_flush=-1,Ps;Nr(r,e.adler&255),Nr(r,e.adler>>8&255),e.adler=0}if(r.status=Ru,gi(e),r.pending!==0)return r.last_flush=-1,Ps}if(e.avail_in!==0||r.lookahead!==0||t!==QA&&r.status!==Z0){let s=r.level===0?K8(r,t):r.strategy===vv?lAe(r,t):r.strategy===Kce?oAe(r,t):em[r.level].func(r,t);if((s===md||s===$h)&&(r.status=Z0),s===va||s===md)return e.avail_out===0&&(r.last_flush=-1),Ps;if(s===Hh&&(t===Dce?Qce(r):t!==O3&&(S5(r,0,0,!1),t===Rce&&(xA(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),gi(e),e.avail_out===0))return r.last_flush=-1,Ps}return t!==Zi?Ps:r.wrap<=0?L3:(r.wrap===2?(Nr(r,e.adler&255),Nr(r,e.adler>>8&255),Nr(r,e.adler>>16&255),Nr(r,e.adler>>24&255),Nr(r,e.total_in&255),Nr(r,e.total_in>>8&255),Nr(r,e.total_in>>16&255),Nr(r,e.total_in>>24&255)):(z0(r,e.adler>>>16),z0(r,e.adler&65535)),gi(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Ps:L3)},hAe=e=>{if($p(e))return pl;const t=e.state.status;return e.state=null,t===Ru?Mu(e,Mce):Ps},mAe=(e,t)=>{let r=t.length;if($p(e))return pl;const n=e.state,s=n.wrap;if(s===2||s===1&&n.status!==wh||n.lookahead)return pl;if(s===1&&(e.adler=lp(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){s===0&&(xA(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(t.subarray(r-n.w_size,r),0),t=c,r=n.w_size}const a=e.avail_in,l=e.next_in,A=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,jh(n);n.lookahead>=Ar;){let c=n.strstart,u=n.lookahead-(Ar-1);do n.ins_h=DA(n,n.ins_h,n.window[c+Ar-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--u);n.strstart=c,n.lookahead=Ar-1,jh(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Ar-1,n.match_available=0,e.next_in=l,e.input=A,e.avail_in=a,n.wrap=s,Ps};var pAe=dAe,gAe=G8,vAe=V8,xAe=z8,bAe=uAe,yAe=fAe,wAe=hAe,jAe=mAe,BAe="pako deflate (from Nodeca project)",vm={deflateInit:pAe,deflateInit2:gAe,deflateReset:vAe,deflateResetKeep:xAe,deflateSetHeader:bAe,deflate:yAe,deflateEnd:wAe,deflateSetDictionary:jAe,deflateInfo:BAe};const CAe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var NAe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)CAe(r,n)&&(e[n]=r[n])}}return e},kAe=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,a=e.length;n<a;n++){let l=e[n];r.set(l,s),s+=l.length}return r},My={assign:NAe,flattenChunks:kAe};let W8=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{W8=!1}const cp=new Uint8Array(256);for(let e=0;e<256;e++)cp[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;cp[254]=cp[254]=1;var SAe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,a,l=e.length,A=0;for(s=0;s<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<l&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),A+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(A),a=0,s=0;a<A;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<l&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const _Ae=(e,t)=>{if(t<65534&&e.subarray&&W8)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var EAe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const a=new Array(r*2);for(s=0,n=0;n<r;){let l=e[n++];if(l<128){a[s++]=l;continue}let A=cp[l];if(A>4){a[s++]=65533,n+=A-1;continue}for(l&=A===2?31:A===3?15:7;A>1&&n<r;)l=l<<6|e[n++]&63,A--;if(A>1){a[s++]=65533;continue}l<65536?a[s++]=l:(l-=65536,a[s++]=55296|l>>10&1023,a[s++]=56320|l&1023)}return _Ae(a,s)},FAe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+cp[e[r]]>t?r:t},Ap={string2buf:SAe,buf2string:EAe,utf8border:FAe};function IAe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Y8=IAe;const J8=Object.prototype.toString,{Z_NO_FLUSH:UAe,Z_SYNC_FLUSH:PAe,Z_FULL_FLUSH:TAe,Z_FINISH:OAe,Z_OK:ub,Z_STREAM_END:LAe,Z_DEFAULT_COMPRESSION:QAe,Z_DEFAULT_STRATEGY:DAe,Z_DEFLATED:RAe}=Hp;function d4(e){this.options=My.assign({level:QAe,method:RAe,chunkSize:16384,windowBits:15,memLevel:8,strategy:DAe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Y8,this.strm.avail_out=0;let r=vm.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==ub)throw new Error(yh[r]);if(t.header&&vm.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Ap.string2buf(t.dictionary):J8.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=vm.deflateSetDictionary(this.strm,n),r!==ub)throw new Error(yh[r]);this._dict_set=!0}}d4.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let s,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?OAe:UAe,typeof e=="string"?r.input=Ap.string2buf(e):J8.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===PAe||a===TAe)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(s=vm.deflate(r,a),s===LAe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=vm.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===ub;if(r.avail_out===0){this.onData(r.output);continue}if(a>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};d4.prototype.onData=function(e){this.chunks.push(e)};d4.prototype.onEnd=function(e){e===ub&&(this.result=My.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const xv=16209,MAe=16191;var HAe=function(t,r){let n,s,a,l,A,c,u,o,d,h,f,g,m,x,p,v,b,j,k,S,F,T,P,R;const U=t.state;n=t.next_in,P=t.input,s=n+(t.avail_in-5),a=t.next_out,R=t.output,l=a-(r-t.avail_out),A=a+(t.avail_out-257),c=U.dmax,u=U.wsize,o=U.whave,d=U.wnext,h=U.window,f=U.hold,g=U.bits,m=U.lencode,x=U.distcode,p=(1<<U.lenbits)-1,v=(1<<U.distbits)-1;e:do{g<15&&(f+=P[n++]<<g,g+=8,f+=P[n++]<<g,g+=8),b=m[f&p];t:for(;;){if(j=b>>>24,f>>>=j,g-=j,j=b>>>16&255,j===0)R[a++]=b&65535;else if(j&16){k=b&65535,j&=15,j&&(g<j&&(f+=P[n++]<<g,g+=8),k+=f&(1<<j)-1,f>>>=j,g-=j),g<15&&(f+=P[n++]<<g,g+=8,f+=P[n++]<<g,g+=8),b=x[f&v];r:for(;;){if(j=b>>>24,f>>>=j,g-=j,j=b>>>16&255,j&16){if(S=b&65535,j&=15,g<j&&(f+=P[n++]<<g,g+=8,g<j&&(f+=P[n++]<<g,g+=8)),S+=f&(1<<j)-1,S>c){t.msg="invalid distance too far back",U.mode=xv;break e}if(f>>>=j,g-=j,j=a-l,S>j){if(j=S-j,j>o&&U.sane){t.msg="invalid distance too far back",U.mode=xv;break e}if(F=0,T=h,d===0){if(F+=u-j,j<k){k-=j;do R[a++]=h[F++];while(--j);F=a-S,T=R}}else if(d<j){if(F+=u+d-j,j-=d,j<k){k-=j;do R[a++]=h[F++];while(--j);if(F=0,d<k){j=d,k-=j;do R[a++]=h[F++];while(--j);F=a-S,T=R}}}else if(F+=d-j,j<k){k-=j;do R[a++]=h[F++];while(--j);F=a-S,T=R}for(;k>2;)R[a++]=T[F++],R[a++]=T[F++],R[a++]=T[F++],k-=3;k&&(R[a++]=T[F++],k>1&&(R[a++]=T[F++]))}else{F=a-S;do R[a++]=R[F++],R[a++]=R[F++],R[a++]=R[F++],k-=3;while(k>2);k&&(R[a++]=R[F++],k>1&&(R[a++]=R[F++]))}}else if(j&64){t.msg="invalid distance code",U.mode=xv;break e}else{b=x[(b&65535)+(f&(1<<j)-1)];continue r}break}}else if(j&64)if(j&32){U.mode=MAe;break e}else{t.msg="invalid literal/length code",U.mode=xv;break e}else{b=m[(b&65535)+(f&(1<<j)-1)];continue t}break}}while(n<s&&a<A);k=g>>3,n-=k,g-=k<<3,f&=(1<<g)-1,t.next_in=n,t.next_out=a,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=a<A?257+(A-a):257-(a-A),U.hold=f,U.bits=g};const bf=15,D3=852,R3=592,M3=0,Xw=1,H3=2,$Ae=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),KAe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zAe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),VAe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),GAe=(e,t,r,n,s,a,l,A)=>{const c=A.bits;let u=0,o=0,d=0,h=0,f=0,g=0,m=0,x=0,p=0,v=0,b,j,k,S,F,T=null,P;const R=new Uint16Array(bf+1),U=new Uint16Array(bf+1);let D=null,Q,H,W;for(u=0;u<=bf;u++)R[u]=0;for(o=0;o<n;o++)R[t[r+o]]++;for(f=c,h=bf;h>=1&&R[h]===0;h--);if(f>h&&(f=h),h===0)return s[a++]=1<<24|64<<16|0,s[a++]=1<<24|64<<16|0,A.bits=1,0;for(d=1;d<h&&R[d]===0;d++);for(f<d&&(f=d),x=1,u=1;u<=bf;u++)if(x<<=1,x-=R[u],x<0)return-1;if(x>0&&(e===M3||h!==1))return-1;for(U[1]=0,u=1;u<bf;u++)U[u+1]=U[u]+R[u];for(o=0;o<n;o++)t[r+o]!==0&&(l[U[t[r+o]]++]=o);if(e===M3?(T=D=l,P=20):e===Xw?(T=$Ae,D=KAe,P=257):(T=zAe,D=VAe,P=0),v=0,o=0,u=d,F=a,g=f,m=0,k=-1,p=1<<f,S=p-1,e===Xw&&p>D3||e===H3&&p>R3)return 1;for(;;){Q=u-m,l[o]+1<P?(H=0,W=l[o]):l[o]>=P?(H=D[l[o]-P],W=T[l[o]-P]):(H=96,W=0),b=1<<u-m,j=1<<g,d=j;do j-=b,s[F+(v>>m)+j]=Q<<24|H<<16|W|0;while(j!==0);for(b=1<<u-1;v&b;)b>>=1;if(b!==0?(v&=b-1,v+=b):v=0,o++,--R[u]===0){if(u===h)break;u=t[r+l[o]]}if(u>f&&(v&S)!==k){for(m===0&&(m=f),F+=d,g=u-m,x=1<<g;g+m<h&&(x-=R[g+m],!(x<=0));)g++,x<<=1;if(p+=1<<g,e===Xw&&p>D3||e===H3&&p>R3)return 1;k=v&S,s[k]=f<<24|g<<16|F-a|0}}return v!==0&&(s[F+v]=u-m<<24|64<<16|0),A.bits=f,0};var xm=GAe;const WAe=0,X8=1,q8=2,{Z_FINISH:$3,Z_BLOCK:YAe,Z_TREES:bv,Z_OK:pd,Z_STREAM_END:JAe,Z_NEED_DICT:XAe,Z_STREAM_ERROR:Ao,Z_DATA_ERROR:Z8,Z_MEM_ERROR:eD,Z_BUF_ERROR:qAe,Z_DEFLATED:K3}=Hp,Hy=16180,z3=16181,V3=16182,G3=16183,W3=16184,Y3=16185,J3=16186,X3=16187,q3=16188,Z3=16189,db=16190,Wl=16191,qw=16192,e6=16193,Zw=16194,t6=16195,r6=16196,n6=16197,s6=16198,yv=16199,wv=16200,a6=16201,i6=16202,o6=16203,l6=16204,c6=16205,e2=16206,A6=16207,u6=16208,on=16209,tD=16210,rD=16211,ZAe=852,eue=592,tue=15,rue=tue,d6=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function nue(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Cd=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Hy||t.mode>rD?1:0},nD=e=>{if(Cd(e))return Ao;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Hy,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(ZAe),t.distcode=t.distdyn=new Int32Array(eue),t.sane=1,t.back=-1,pd},sD=e=>{if(Cd(e))return Ao;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,nD(e)},aD=(e,t)=>{let r;if(Cd(e))return Ao;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ao:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,sD(e))},iD=(e,t)=>{if(!e)return Ao;const r=new nue;e.state=r,r.strm=e,r.window=null,r.mode=Hy;const n=aD(e,t);return n!==pd&&(e.state=null),n},sue=e=>iD(e,rue);let f6=!0,t2,r2;const aue=e=>{if(f6){t2=new Int32Array(512),r2=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(xm(X8,e.lens,0,288,t2,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;xm(q8,e.lens,0,32,r2,0,e.work,{bits:5}),f6=!1}e.lencode=t2,e.lenbits=9,e.distcode=r2,e.distbits=5},oD=(e,t,r,n)=>{let s;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>n&&(s=n),a.window.set(t.subarray(r-n,r-n+s),a.wnext),n-=s,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0},iue=(e,t)=>{let r,n,s,a,l,A,c,u,o,d,h,f,g,m,x=0,p,v,b,j,k,S,F,T;const P=new Uint8Array(4);let R,U;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Cd(e)||!e.output||!e.input&&e.avail_in!==0)return Ao;r=e.state,r.mode===Wl&&(r.mode=qw),l=e.next_out,s=e.output,c=e.avail_out,a=e.next_in,n=e.input,A=e.avail_in,u=r.hold,o=r.bits,d=A,h=c,T=pd;e:for(;;)switch(r.mode){case Hy:if(r.wrap===0){r.mode=qw;break}for(;o<16;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,P[0]=u&255,P[1]=u>>>8&255,r.check=vs(r.check,P,2,0),u=0,o=0,r.mode=z3;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=on;break}if((u&15)!==K3){e.msg="unknown compression method",r.mode=on;break}if(u>>>=4,o-=4,F=(u&15)+8,r.wbits===0&&(r.wbits=F),F>15||F>r.wbits){e.msg="invalid window size",r.mode=on;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?Z3:Wl,u=0,o=0;break;case z3:for(;o<16;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}if(r.flags=u,(r.flags&255)!==K3){e.msg="unknown compression method",r.mode=on;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=on;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=vs(r.check,P,2,0)),u=0,o=0,r.mode=V3;case V3:for(;o<32;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,r.check=vs(r.check,P,4,0)),u=0,o=0,r.mode=G3;case G3:for(;o<16;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=vs(r.check,P,2,0)),u=0,o=0,r.mode=W3;case W3:if(r.flags&1024){for(;o<16;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=vs(r.check,P,2,0)),u=0,o=0}else r.head&&(r.head.extra=null);r.mode=Y3;case Y3:if(r.flags&1024&&(f=r.length,f>A&&(f=A),f&&(r.head&&(F=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+f),F)),r.flags&512&&r.wrap&4&&(r.check=vs(r.check,n,f,a)),A-=f,a+=f,r.length-=f),r.length))break e;r.length=0,r.mode=J3;case J3:if(r.flags&2048){if(A===0)break e;f=0;do F=n[a+f++],r.head&&F&&r.length<65536&&(r.head.name+=String.fromCharCode(F));while(F&&f<A);if(r.flags&512&&r.wrap&4&&(r.check=vs(r.check,n,f,a)),A-=f,a+=f,F)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=X3;case X3:if(r.flags&4096){if(A===0)break e;f=0;do F=n[a+f++],r.head&&F&&r.length<65536&&(r.head.comment+=String.fromCharCode(F));while(F&&f<A);if(r.flags&512&&r.wrap&4&&(r.check=vs(r.check,n,f,a)),A-=f,a+=f,F)break e}else r.head&&(r.head.comment=null);r.mode=q3;case q3:if(r.flags&512){for(;o<16;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=on;break}u=0,o=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Wl;break;case Z3:for(;o<32;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}e.adler=r.check=d6(u),u=0,o=0,r.mode=db;case db:if(r.havedict===0)return e.next_out=l,e.avail_out=c,e.next_in=a,e.avail_in=A,r.hold=u,r.bits=o,XAe;e.adler=r.check=1,r.mode=Wl;case Wl:if(t===YAe||t===bv)break e;case qw:if(r.last){u>>>=o&7,o-=o&7,r.mode=e2;break}for(;o<3;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}switch(r.last=u&1,u>>>=1,o-=1,u&3){case 0:r.mode=e6;break;case 1:if(aue(r),r.mode=yv,t===bv){u>>>=2,o-=2;break e}break;case 2:r.mode=r6;break;case 3:e.msg="invalid block type",r.mode=on}u>>>=2,o-=2;break;case e6:for(u>>>=o&7,o-=o&7;o<32;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=on;break}if(r.length=u&65535,u=0,o=0,r.mode=Zw,t===bv)break e;case Zw:r.mode=t6;case t6:if(f=r.length,f){if(f>A&&(f=A),f>c&&(f=c),f===0)break e;s.set(n.subarray(a,a+f),l),A-=f,a+=f,c-=f,l+=f,r.length-=f;break}r.mode=Wl;break;case r6:for(;o<14;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}if(r.nlen=(u&31)+257,u>>>=5,o-=5,r.ndist=(u&31)+1,u>>>=5,o-=5,r.ncode=(u&15)+4,u>>>=4,o-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=on;break}r.have=0,r.mode=n6;case n6:for(;r.have<r.ncode;){for(;o<3;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}r.lens[D[r.have++]]=u&7,u>>>=3,o-=3}for(;r.have<19;)r.lens[D[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},T=xm(WAe,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,T){e.msg="invalid code lengths set",r.mode=on;break}r.have=0,r.mode=s6;case s6:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[u&(1<<r.lenbits)-1],p=x>>>24,v=x>>>16&255,b=x&65535,!(p<=o);){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}if(b<16)u>>>=p,o-=p,r.lens[r.have++]=b;else{if(b===16){for(U=p+2;o<U;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}if(u>>>=p,o-=p,r.have===0){e.msg="invalid bit length repeat",r.mode=on;break}F=r.lens[r.have-1],f=3+(u&3),u>>>=2,o-=2}else if(b===17){for(U=p+3;o<U;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}u>>>=p,o-=p,F=0,f=3+(u&7),u>>>=3,o-=3}else{for(U=p+7;o<U;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}u>>>=p,o-=p,F=0,f=11+(u&127),u>>>=7,o-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=on;break}for(;f--;)r.lens[r.have++]=F}}if(r.mode===on)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=on;break}if(r.lenbits=9,R={bits:r.lenbits},T=xm(X8,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,T){e.msg="invalid literal/lengths set",r.mode=on;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},T=xm(q8,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,T){e.msg="invalid distances set",r.mode=on;break}if(r.mode=yv,t===bv)break e;case yv:r.mode=wv;case wv:if(A>=6&&c>=258){e.next_out=l,e.avail_out=c,e.next_in=a,e.avail_in=A,r.hold=u,r.bits=o,HAe(e,h),l=e.next_out,s=e.output,c=e.avail_out,a=e.next_in,n=e.input,A=e.avail_in,u=r.hold,o=r.bits,r.mode===Wl&&(r.back=-1);break}for(r.back=0;x=r.lencode[u&(1<<r.lenbits)-1],p=x>>>24,v=x>>>16&255,b=x&65535,!(p<=o);){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}if(v&&!(v&240)){for(j=p,k=v,S=b;x=r.lencode[S+((u&(1<<j+k)-1)>>j)],p=x>>>24,v=x>>>16&255,b=x&65535,!(j+p<=o);){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}u>>>=j,o-=j,r.back+=j}if(u>>>=p,o-=p,r.back+=p,r.length=b,v===0){r.mode=c6;break}if(v&32){r.back=-1,r.mode=Wl;break}if(v&64){e.msg="invalid literal/length code",r.mode=on;break}r.extra=v&15,r.mode=a6;case a6:if(r.extra){for(U=r.extra;o<U;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,o-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=i6;case i6:for(;x=r.distcode[u&(1<<r.distbits)-1],p=x>>>24,v=x>>>16&255,b=x&65535,!(p<=o);){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}if(!(v&240)){for(j=p,k=v,S=b;x=r.distcode[S+((u&(1<<j+k)-1)>>j)],p=x>>>24,v=x>>>16&255,b=x&65535,!(j+p<=o);){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}u>>>=j,o-=j,r.back+=j}if(u>>>=p,o-=p,r.back+=p,v&64){e.msg="invalid distance code",r.mode=on;break}r.offset=b,r.extra=v&15,r.mode=o6;case o6:if(r.extra){for(U=r.extra;o<U;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,o-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=on;break}r.mode=l6;case l6:if(c===0)break e;if(f=h-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=on;break}f>r.wnext?(f-=r.wnext,g=r.wsize-f):g=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=s,g=l-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do s[l++]=m[g++];while(--f);r.length===0&&(r.mode=wv);break;case c6:if(c===0)break e;s[l++]=r.length,c--,r.mode=wv;break;case e2:if(r.wrap){for(;o<32;){if(A===0)break e;A--,u|=n[a++]<<o,o+=8}if(h-=c,e.total_out+=h,r.total+=h,r.wrap&4&&h&&(e.adler=r.check=r.flags?vs(r.check,s,h,l-h):lp(r.check,s,h,l-h)),h=c,r.wrap&4&&(r.flags?u:d6(u))!==r.check){e.msg="incorrect data check",r.mode=on;break}u=0,o=0}r.mode=A6;case A6:if(r.wrap&&r.flags){for(;o<32;){if(A===0)break e;A--,u+=n[a++]<<o,o+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=on;break}u=0,o=0}r.mode=u6;case u6:T=JAe;break e;case on:T=Z8;break e;case tD:return eD;case rD:default:return Ao}return e.next_out=l,e.avail_out=c,e.next_in=a,e.avail_in=A,r.hold=u,r.bits=o,(r.wsize||h!==e.avail_out&&r.mode<on&&(r.mode<e2||t!==$3))&&oD(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,r.total+=h,r.wrap&4&&h&&(e.adler=r.check=r.flags?vs(r.check,s,h,e.next_out-h):lp(r.check,s,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Wl?128:0)+(r.mode===yv||r.mode===Zw?256:0),(d===0&&h===0||t===$3)&&T===pd&&(T=qAe),T},oue=e=>{if(Cd(e))return Ao;let t=e.state;return t.window&&(t.window=null),e.state=null,pd},lue=(e,t)=>{if(Cd(e))return Ao;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,pd):Ao},cue=(e,t)=>{const r=t.length;let n,s,a;return Cd(e)||(n=e.state,n.wrap!==0&&n.mode!==db)?Ao:n.mode===db&&(s=1,s=lp(s,t,r,0),s!==n.check)?Z8:(a=oD(e,t,r,r),a?(n.mode=tD,eD):(n.havedict=1,pd))};var Aue=sD,uue=aD,due=nD,fue=sue,hue=iD,mue=iue,pue=oue,gue=lue,vue=cue,xue="pako inflate (from Nodeca project)",ec={inflateReset:Aue,inflateReset2:uue,inflateResetKeep:due,inflateInit:fue,inflateInit2:hue,inflate:mue,inflateEnd:pue,inflateGetHeader:gue,inflateSetDictionary:vue,inflateInfo:xue};function bue(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var yue=bue;const lD=Object.prototype.toString,{Z_NO_FLUSH:wue,Z_FINISH:jue,Z_OK:up,Z_STREAM_END:n2,Z_NEED_DICT:s2,Z_STREAM_ERROR:Bue,Z_DATA_ERROR:h6,Z_MEM_ERROR:Cue}=Hp;function Kp(e){this.options=My.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Y8,this.strm.avail_out=0;let r=ec.inflateInit2(this.strm,t.windowBits);if(r!==up)throw new Error(yh[r]);if(this.header=new yue,ec.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Ap.string2buf(t.dictionary):lD.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=ec.inflateSetDictionary(this.strm,t.dictionary),r!==up)))throw new Error(yh[r])}Kp.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let a,l,A;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?jue:wue,lD.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=ec.inflate(r,l),a===s2&&s&&(a=ec.inflateSetDictionary(r,s),a===up?a=ec.inflate(r,l):a===h6&&(a=s2));r.avail_in>0&&a===n2&&r.state.wrap>0&&e[r.next_in]!==0;)ec.inflateReset(r),a=ec.inflate(r,l);switch(a){case Bue:case h6:case s2:case Cue:return this.onEnd(a),this.ended=!0,!1}if(A=r.avail_out,r.next_out&&(r.avail_out===0||a===n2))if(this.options.to==="string"){let c=Ap.utf8border(r.output,r.next_out),u=r.next_out-c,o=Ap.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(o)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===up&&A===0)){if(a===n2)return a=ec.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Kp.prototype.onData=function(e){this.chunks.push(e)};Kp.prototype.onEnd=function(e){e===up&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=My.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function f4(e,t){const r=new Kp(t);if(r.push(e),r.err)throw r.msg||yh[r.err];return r.result}function Nue(e,t){return t=t||{},t.raw=!0,f4(e,t)}var kue=Kp,Sue=f4,_ue=Nue,Eue=f4,Fue=Hp,Iue={Inflate:kue,inflate:Sue,inflateRaw:_ue,ungzip:Eue,constants:Fue};const{Inflate:Uue,inflate:Pue,inflateRaw:Xfe,ungzip:qfe}=Iue;var m6=Uue,Tue=Pue;const cD=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;cD[e]=t}const p6=4294967295;function Oue(e,t,r){let n=e;for(let s=0;s<r;s++)n=cD[(n^t[s])&255]^n>>>8;return n}function Lue(e,t){return(Oue(p6,e,t)^p6)>>>0}function g6(e,t,r){const n=e.readUint32(),s=Lue(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function AD(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function uD(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function dD(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function fD(e,t,r,n,s){let a=0;if(r.length===0){for(;a<s;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-s]>>1)&255}else{for(;a<s;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-s]+r[a]>>1)&255}}function hD(e,t,r,n,s){let a=0;if(r.length===0){for(;a<s;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-s]&255}else{for(;a<s;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+Que(t[a-s],r[a],r[a-s])&255}}function Que(e,t,r){const n=e+t-r,s=Math.abs(n-e),a=Math.abs(n-t),l=Math.abs(n-r);return s<=a&&s<=l?e:a<=l?t:r}function Due(e,t,r,n,s,a){switch(e){case 0:AD(t,r,s);break;case 1:uD(t,r,s,a);break;case 2:dD(t,r,n,s);break;case 3:fD(t,r,n,s,a);break;case 4:hD(t,r,n,s,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Rue=new Uint16Array([255]),Mue=new Uint8Array(Rue.buffer),Hue=Mue[0]===255;function $ue(e){const{data:t,width:r,height:n,channels:s,depth:a}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],A=Math.ceil(a/8)*s,c=new Uint8Array(n*r*A);let u=0;for(let o=0;o<7;o++){const d=l[o],h=Math.ceil((r-d.x)/d.xStep),f=Math.ceil((n-d.y)/d.yStep);if(h<=0||f<=0)continue;const g=h*A,m=new Uint8Array(g);for(let x=0;x<f;x++){const p=t[u++],v=t.subarray(u,u+g);u+=g;const b=new Uint8Array(g);Due(p,v,b,m,g,A),m.set(b);for(let j=0;j<h;j++){const k=d.x+j*d.xStep,S=d.y+x*d.yStep;if(!(k>=r||S>=n))for(let F=0;F<A;F++)c[(S*r+k)*A+F]=b[j*A+F]}}}if(a===16){const o=new Uint16Array(c.buffer);if(Hue)for(let d=0;d<o.length;d++)o[d]=Kue(o[d]);return o}else return c}function Kue(e){return(e&255)<<8|e>>8&255}const zue=new Uint16Array([255]),Vue=new Uint8Array(zue.buffer),Gue=Vue[0]===255,Wue=new Uint8Array(0);function v6(e){const{data:t,width:r,height:n,channels:s,depth:a}=e,l=Math.ceil(a/8)*s,A=Math.ceil(a/8*s*r),c=new Uint8Array(n*A);let u=Wue,o=0,d,h;for(let f=0;f<n;f++){switch(d=t.subarray(o+1,o+1+A),h=c.subarray(f*A,(f+1)*A),t[o]){case 0:AD(d,h,A);break;case 1:uD(d,h,A,l);break;case 2:dD(d,h,u,A);break;case 3:fD(d,h,u,A,l);break;case 4:hD(d,h,u,A,l);break;default:throw new Error(`Unsupported filter: ${t[o]}`)}u=h,o+=A+1}if(a===16){const f=new Uint16Array(c.buffer);if(Gue)for(let g=0;g<f.length;g++)f[g]=Yue(f[g]);return f}else return c}function Yue(e){return(e&255)<<8|e>>8&255}const Vv=Uint8Array.of(137,80,78,71,13,10,26,10);function x6(e){if(!Jue(e.readBytes(Vv.length)))throw new Error("wrong PNG signature")}function Jue(e){if(e.length<Vv.length)return!1;for(let t=0;t<Vv.length;t++)if(e[t]!==Vv[t])return!1;return!0}const Xue="tEXt",que=0,mD=new TextDecoder("latin1");function Zue(e){if(tde(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const ede=/^[\u0000-\u00FF]*$/;function tde(e){if(!ede.test(e))throw new Error("invalid latin1 text")}function rde(e,t,r){const n=pD(t);e[n]=nde(t,r-n.length-1)}function pD(e){for(e.mark();e.readByte()!==que;);const t=e.offset;e.reset();const r=mD.decode(e.readBytes(t-e.offset-1));return e.skip(1),Zue(r),r}function nde(e,t){return mD.decode(e.readBytes(t))}const hi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},a2={UNKNOWN:-1,DEFLATE:0},b6={UNKNOWN:-1,ADAPTIVE:0},i2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},jv={NONE:0,BACKGROUND:1,PREVIOUS:2},o2={SOURCE:0,OVER:1};class sde extends i4{constructor(r,n={}){super(r);Cr(this,"_checkCrc");Cr(this,"_inflator");Cr(this,"_png");Cr(this,"_apng");Cr(this,"_end");Cr(this,"_hasPalette");Cr(this,"_palette");Cr(this,"_hasTransparency");Cr(this,"_transparency");Cr(this,"_compressionMethod");Cr(this,"_filterMethod");Cr(this,"_interlaceMethod");Cr(this,"_colorType");Cr(this,"_isAnimated");Cr(this,"_numberOfFrames");Cr(this,"_numberOfPlays");Cr(this,"_frames");Cr(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new m6,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=a2.UNKNOWN,this._filterMethod=b6.UNKNOWN,this._interlaceMethod=i2.UNKNOWN,this._colorType=hi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(x6(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(x6(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Xue:rde(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?g6(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?g6(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=ade(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case hi.GREYSCALE:s=1;break;case hi.TRUECOLOUR:s=3;break;case hi.INDEXED_COLOUR:s=1;break;case hi.GREYSCALE_ALPHA:s=2;break;case hi.TRUECOLOUR_ALPHA:s=4;break;case hi.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==a2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let a=0;a<n;a++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case hi.GREYSCALE:case hi.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case hi.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case hi.UNKNOWN:case hi.GREYSCALE_ALPHA:case hi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=pD(this),s=this.readUint8();if(s!==a2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Tue(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=v6({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(s,a,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case jv.NONE:break;case jv.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let l=0;l<this._png.width;l++){const A=(a*r.width+l)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[A+c]=0}break;case jv.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,a=(l,A)=>{const c=((l+n.yOffset)*this._png.width+n.xOffset+A)*this._png.channels,u=(l*n.width+A)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case o2.SOURCE:for(let l=0;l<n.height;l++)for(let A=0;A<n.width;A++){const{index:c,frameIndex:u}=a(l,A);for(let o=0;o<this._png.channels;o++)r.data[c+o]=n.data[u+o]}break;case o2.OVER:for(let l=0;l<n.height;l++)for(let A=0;A<n.width;A++){const{index:c,frameIndex:u}=a(l,A);for(let o=0;o<this._png.channels;o++){const d=n.data[u+this._png.channels-1]/s,h=o%(this._png.channels-1)===0?1:n.data[u+o],f=Math.floor(d*h+(1-d)*r.data[c+o]);r.data[c+o]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==b6.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===i2.NO_INTERLACE)this._png.data=v6({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===i2.ADAM7)this._png.data=$ue({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:jv.NONE,blendOp:o2.SOURCE,data:r}),this._inflator=new m6,this._writingDataChunks=!1}}function ade(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var y6;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(y6||(y6={}));function ide(e,t){return new sde(e,t).decode()}var Vt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function l2(){Vt.console&&typeof Vt.console.log=="function"&&Vt.console.log.apply(Vt.console,arguments)}var $r={log:l2,warn:function(e){Vt.console&&(typeof Vt.console.warn=="function"?Vt.console.warn.apply(Vt.console,arguments):l2.call(null,arguments))},error:function(e){Vt.console&&(typeof Vt.console.error=="function"?Vt.console.error.apply(Vt.console,arguments):l2(e))}};function c2(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Fu(n.response,t,r)},n.onerror=function(){$r.error("could not download file")},n.send()}function w6(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Bv(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Fu=Vt.saveAs||((typeof window>"u"?"undefined":Tr(window))!=="object"||window!==Vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Vt.URL||Vt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?w6(s.href)?c2(e,t,r):Bv(s,s.target="_blank"):Bv(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Bv(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(w6(e))c2(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Bv(n)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:Tr(a)!=="object"&&($r.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return c2(e,t,r);var s=e.type==="application/octet-stream",a=/constructor/i.test(Vt.HTMLElement)||Vt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&a)&&(typeof FileReader>"u"?"undefined":Tr(FileReader))==="object"){var A=new FileReader;A.onloadend=function(){var o=A.result;o=l?o:o.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=o:location=o,n=null},A.readAsDataURL(e)}else{var c=Vt.URL||Vt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function gD(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(A){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(A){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,a=r[n].process,l=s.exec(e);l&&(t=a(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var A=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return A.length==1&&(A="0"+A),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+A+c+u}}var Gv=Vt.atob.bind(Vt),j6=Vt.btoa.bind(Vt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function A2(e,t){var r=e[0],n=e[1],s=e[2],a=e[3];r=Gs(r,n,s,a,t[0],7,-680876936),a=Gs(a,r,n,s,t[1],12,-389564586),s=Gs(s,a,r,n,t[2],17,606105819),n=Gs(n,s,a,r,t[3],22,-1044525330),r=Gs(r,n,s,a,t[4],7,-176418897),a=Gs(a,r,n,s,t[5],12,1200080426),s=Gs(s,a,r,n,t[6],17,-1473231341),n=Gs(n,s,a,r,t[7],22,-45705983),r=Gs(r,n,s,a,t[8],7,1770035416),a=Gs(a,r,n,s,t[9],12,-1958414417),s=Gs(s,a,r,n,t[10],17,-42063),n=Gs(n,s,a,r,t[11],22,-1990404162),r=Gs(r,n,s,a,t[12],7,1804603682),a=Gs(a,r,n,s,t[13],12,-40341101),s=Gs(s,a,r,n,t[14],17,-1502002290),r=Ws(r,n=Gs(n,s,a,r,t[15],22,1236535329),s,a,t[1],5,-165796510),a=Ws(a,r,n,s,t[6],9,-1069501632),s=Ws(s,a,r,n,t[11],14,643717713),n=Ws(n,s,a,r,t[0],20,-373897302),r=Ws(r,n,s,a,t[5],5,-701558691),a=Ws(a,r,n,s,t[10],9,38016083),s=Ws(s,a,r,n,t[15],14,-660478335),n=Ws(n,s,a,r,t[4],20,-405537848),r=Ws(r,n,s,a,t[9],5,568446438),a=Ws(a,r,n,s,t[14],9,-1019803690),s=Ws(s,a,r,n,t[3],14,-187363961),n=Ws(n,s,a,r,t[8],20,1163531501),r=Ws(r,n,s,a,t[13],5,-1444681467),a=Ws(a,r,n,s,t[2],9,-51403784),s=Ws(s,a,r,n,t[7],14,1735328473),r=Ys(r,n=Ws(n,s,a,r,t[12],20,-1926607734),s,a,t[5],4,-378558),a=Ys(a,r,n,s,t[8],11,-2022574463),s=Ys(s,a,r,n,t[11],16,1839030562),n=Ys(n,s,a,r,t[14],23,-35309556),r=Ys(r,n,s,a,t[1],4,-1530992060),a=Ys(a,r,n,s,t[4],11,1272893353),s=Ys(s,a,r,n,t[7],16,-155497632),n=Ys(n,s,a,r,t[10],23,-1094730640),r=Ys(r,n,s,a,t[13],4,681279174),a=Ys(a,r,n,s,t[0],11,-358537222),s=Ys(s,a,r,n,t[3],16,-722521979),n=Ys(n,s,a,r,t[6],23,76029189),r=Ys(r,n,s,a,t[9],4,-640364487),a=Ys(a,r,n,s,t[12],11,-421815835),s=Ys(s,a,r,n,t[15],16,530742520),r=Js(r,n=Ys(n,s,a,r,t[2],23,-995338651),s,a,t[0],6,-198630844),a=Js(a,r,n,s,t[7],10,1126891415),s=Js(s,a,r,n,t[14],15,-1416354905),n=Js(n,s,a,r,t[5],21,-57434055),r=Js(r,n,s,a,t[12],6,1700485571),a=Js(a,r,n,s,t[3],10,-1894986606),s=Js(s,a,r,n,t[10],15,-1051523),n=Js(n,s,a,r,t[1],21,-2054922799),r=Js(r,n,s,a,t[8],6,1873313359),a=Js(a,r,n,s,t[15],10,-30611744),s=Js(s,a,r,n,t[6],15,-1560198380),n=Js(n,s,a,r,t[13],21,1309151649),r=Js(r,n,s,a,t[4],6,-145523070),a=Js(a,r,n,s,t[11],10,-1120210379),s=Js(s,a,r,n,t[2],15,718787259),n=Js(n,s,a,r,t[9],21,-343485551),e[0]=CA(r,e[0]),e[1]=CA(n,e[1]),e[2]=CA(s,e[2]),e[3]=CA(a,e[3])}function $y(e,t,r,n,s,a){return t=CA(CA(t,e),CA(n,a)),CA(t<<s|t>>>32-s,r)}function Gs(e,t,r,n,s,a,l){return $y(t&r|~t&n,e,t,s,a,l)}function Ws(e,t,r,n,s,a,l){return $y(t&n|r&~n,e,t,s,a,l)}function Ys(e,t,r,n,s,a,l){return $y(t^r^n,e,t,s,a,l)}function Js(e,t,r,n,s,a,l){return $y(r^(t|~n),e,t,s,a,l)}function vD(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)A2(n,ode(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(A2(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,A2(n,s),n}function ode(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var B6="0123456789abcdef".split("");function lde(e){for(var t="",r=0;r<4;r++)t+=B6[e>>8*r+4&15]+B6[e>>8*r&15];return t}function cde(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function T5(e){return vD(e).map(cde).join("")}var Ade=function(e){for(var t=0;t<e.length;t++)e[t]=lde(e[t]);return e.join("")}(vD("hello"))!="5d41402abc4b2a76b9719d911017c592";function CA(e,t){if(Ade){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function O5(e,t){var r,n,s,a;if(e!==r){for(var l=(s=e,a=1+(256/e.length|0),new Array(a+1).join(s)),A=[],c=0;c<256;c++)A[c]=c;var u=0;for(c=0;c<256;c++){var o=A[c];u=(u+o+l.charCodeAt(c))%256,A[c]=A[u],A[u]=o}r=e,n=A}else A=n;var d=t.length,h=0,f=0,g="";for(c=0;c<d;c++)f=(f+(o=A[h=(h+1)%256]))%256,A[h]=A[f],A[f]=o,l=A[(A[h]+A[f])%256],g+=String.fromCharCode(t.charCodeAt(c)^l);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var C6={print:4,modify:8,copy:16,"annot-forms":32};function Nf(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(A){if(C6.perm!==void 0)throw new Error("Invalid permission: "+A);s+=C6[A]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),l=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^s)),this.encryptionKey=T5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=O5(this.encryptionKey,this.padding)}function kf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function N6(e){if(Tr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!s],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var a in t[r]){var l=t[r][a];try{l[0].apply(e,n)}catch(A){Vt.console&&$r.error("jsPDF PubSub Error",A.message,A)}l[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function dp(e){if(!(this instanceof dp))return new dp(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function xD(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function bA(e,t,r,n,s){if(!(this instanceof bA))return new bA(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,xD.call(this,n,s)}function Hu(e,t,r,n,s){if(!(this instanceof Hu))return new Hu(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,xD.call(this,n,s)}function Ut(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],a=arguments[3],l=[],A=1,c=16,u="S",o=null;Tr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,a=e.compress||e.compressPdf||a,(o=e.encryption||null)!==null&&(o.userPassword=o.userPassword||"",o.ownerPassword=o.ownerPassword||"",o.userPermissions=o.userPermissions||[]),A=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),l=e.filters||(a===!0?["FlateEncode"]:l),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=N6;var g="1.3",m=f.__private__.getPdfVersion=function(){return g};f.__private__.setPdfVersion=function(I){g=I};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return x};var p=f.__private__.getPageFormat=function(I){return x[I]};s=s||"a4";var v="compat",b="advanced",j=v;function k(){this.saveGraphicsState(),ie(new Qt(Ct,0,0,-Ct,0,Ul()*Ct).toString()+" cm"),this.setFontSize(this.getFontSize()/Ct),u="n",j=b}function S(){this.restoreGraphicsState(),u="S",j=v}var F=f.__private__.combineFontStyleAndFontWeight=function(I,Y){if(I=="bold"&&Y=="normal"||I=="bold"&&Y==400||I=="normal"&&Y=="italic"||I=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(I=Y==400||Y==="normal"?I==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||I!=="normal"?(Y==700?"bold":Y)+""+I:"bold"),I};f.advancedAPI=function(I){var Y=j===v;return Y&&k.call(this),typeof I!="function"||(I(this),Y&&S.call(this)),this},f.compatAPI=function(I){var Y=j===b;return Y&&S.call(this),typeof I!="function"||(I(this),Y&&k.call(this)),this},f.isAdvancedAPI=function(){return j===b};var T,P=function(I){if(j!==b)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=f.roundToPrecision=f.__private__.roundToPrecision=function(I,Y){var xe=t||Y;if(isNaN(I)||isNaN(xe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(xe).replace(/0+$/,"")};T=f.hpf=f.__private__.hpf=typeof c=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return R(I,c)}:c==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return R(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return R(I,16)};var U=f.f2=f.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return R(I,2)},D=f.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return R(I,3)},Q=f.scale=f.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return j===v?I*Ct:j===b?I:void 0},H=function(I){return Q(function(Y){return j===v?Ul()-Y:j===b?Y:void 0}(I))};f.__private__.setPrecision=f.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(t=parseInt(I,10))};var W,V="00000000000000000000000000000000",Z=f.__private__.getFileId=function(){return V},K=f.__private__.setFileId=function(I){return V=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),o!==null&&(mn=new Nf(o.userPermissions,o.userPassword,o.ownerPassword,V)),V};f.setFileId=function(I){return K(I),this},f.getFileId=function(){return Z()};var X=f.__private__.convertDateToPDFDate=function(I){var Y=I.getTimezoneOffset(),xe=Y<0?"+":"-",we=Math.floor(Math.abs(Y/60)),Se=Math.abs(Y%60),Me=[xe,re(we),"'",re(Se),"'"].join("");return["D:",I.getFullYear(),re(I.getMonth()+1),re(I.getDate()),re(I.getHours()),re(I.getMinutes()),re(I.getSeconds()),Me].join("")},le=f.__private__.convertPDFDateToDate=function(I){var Y=parseInt(I.substr(2,4),10),xe=parseInt(I.substr(6,2),10)-1,we=parseInt(I.substr(8,2),10),Se=parseInt(I.substr(10,2),10),Me=parseInt(I.substr(12,2),10),Ve=parseInt(I.substr(14,2),10);return new Date(Y,xe,we,Se,Me,Ve,0)},Ae=f.__private__.setCreationDate=function(I){var Y;if(I===void 0&&(I=new Date),I instanceof Date)Y=X(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=I}return W=Y},M=f.__private__.getCreationDate=function(I){var Y=W;return I==="jsDate"&&(Y=le(W)),Y};f.setCreationDate=function(I){return Ae(I),this},f.getCreationDate=function(I){return M(I)};var G,re=f.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},ne=f.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},de=0,q=[],pe=[],oe=0,fe=[],ye=[],ue=!1,_e=pe;f.__private__.setCustomOutputDestination=function(I){ue=!0,_e=I};var be=function(I){ue||(_e=I)};f.__private__.resetCustomOutputDestination=function(){ue=!1,_e=pe};var ie=f.__private__.out=function(I){return I=I.toString(),oe+=I.length+1,_e.push(I),_e},et=f.__private__.write=function(I){return ie(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},ke=f.__private__.getArrayBuffer=function(I){for(var Y=I.length,xe=new ArrayBuffer(Y),we=new Uint8Array(xe);Y--;)we[Y]=I.charCodeAt(Y);return xe},Re=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Re};var Oe=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(I){return Oe=j===b?I/Ct:I,this};var qe,Ge=f.__private__.getFontSize=f.getFontSize=function(){return j===v?Oe:Oe*Ct},pt=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(I){return pt=I,this},f.__private__.getR2L=f.getR2L=function(){return pt};var nt,Lt=f.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))qe=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');qe=I}else qe=parseInt(I,10)};f.__private__.getZoomMode=function(){return qe};var Xe,St=f.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');nt=I};f.__private__.getPageMode=function(){return nt};var qt=f.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');Xe=I};f.__private__.getLayoutMode=function(){return Xe},f.__private__.setDisplayMode=f.setDisplayMode=function(I,Y,xe){return Lt(I),qt(Y),St(xe),this};var Bt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(I){if(Object.keys(Bt).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Bt[I]},f.__private__.getDocumentProperties=function(){return Bt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(I){for(var Y in Bt)Bt.hasOwnProperty(Y)&&I[Y]&&(Bt[Y]=I[Y]);return this},f.__private__.setDocumentProperty=function(I,Y){if(Object.keys(Bt).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Bt[I]=Y};var tt,Ct,it,Rt,Tt,ut={},He={},at=[],rt={},ot={},At={},or={},vr=null,wt=0,Ye=[],ft=new N6(f),Ht=e.hotfixes||[],$t={},Er={},ms=[],Qt=function I(Y,xe,we,Se,Me,Ve){if(!(this instanceof I))return new I(Y,xe,we,Se,Me,Ve);isNaN(Y)&&(Y=1),isNaN(xe)&&(xe=0),isNaN(we)&&(we=0),isNaN(Se)&&(Se=1),isNaN(Me)&&(Me=0),isNaN(Ve)&&(Ve=0),this._matrix=[Y,xe,we,Se,Me,Ve]};Object.defineProperty(Qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qt.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(I)},Qt.prototype.multiply=function(I){var Y=I.sx*this.sx+I.shy*this.shx,xe=I.sx*this.shy+I.shy*this.sy,we=I.shx*this.sx+I.sy*this.shx,Se=I.shx*this.shy+I.sy*this.sy,Me=I.tx*this.sx+I.ty*this.shx+this.tx,Ve=I.tx*this.shy+I.ty*this.sy+this.ty;return new Qt(Y,xe,we,Se,Me,Ve)},Qt.prototype.decompose=function(){var I=this.sx,Y=this.shy,xe=this.shx,we=this.sy,Se=this.tx,Me=this.ty,Ve=Math.sqrt(I*I+Y*Y),bt=(I/=Ve)*xe+(Y/=Ve)*we;xe-=I*bt,we-=Y*bt;var _t=Math.sqrt(xe*xe+we*we);return bt/=_t,I*(we/=_t)<Y*(xe/=_t)&&(I=-I,Y=-Y,bt=-bt,Ve=-Ve),{scale:new Qt(Ve,0,0,_t,0,0),translate:new Qt(1,0,0,1,Se,Me),rotate:new Qt(I,Y,-Y,I,0,0),skew:new Qt(1,0,bt,1,0,0)}},Qt.prototype.toString=function(I){return this.join(" ")},Qt.prototype.inversed=function(){var I=this.sx,Y=this.shy,xe=this.shx,we=this.sy,Se=this.tx,Me=this.ty,Ve=1/(I*we-Y*xe),bt=we*Ve,_t=-Y*Ve,Kt=-xe*Ve,Gt=I*Ve;return new Qt(bt,_t,Kt,Gt,-bt*Se-Kt*Me,-_t*Se-Gt*Me)},Qt.prototype.applyToPoint=function(I){var Y=I.x*this.sx+I.y*this.shx+this.tx,xe=I.x*this.shy+I.y*this.sy+this.ty;return new El(Y,xe)},Qt.prototype.applyToRectangle=function(I){var Y=this.applyToPoint(I),xe=this.applyToPoint(new El(I.x+I.w,I.y+I.h));return new En(Y.x,Y.y,xe.x-Y.x,xe.y-Y.y)},Qt.prototype.clone=function(){var I=this.sx,Y=this.shy,xe=this.shx,we=this.sy,Se=this.tx,Me=this.ty;return new Qt(I,Y,xe,we,Se,Me)},f.Matrix=Qt;var Pi=f.matrixMult=function(I,Y){return Y.multiply(I)},ho=new Qt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=ho;var Ba=function(I,Y){if(!ot[I]){var xe=(Y instanceof bA?"Sh":"P")+(Object.keys(rt).length+1).toString(10);Y.id=xe,ot[I]=xe,rt[xe]=Y,ft.publish("addPattern",Y)}};f.ShadingPattern=bA,f.TilingPattern=Hu,f.addShadingPattern=function(I,Y){return P("addShadingPattern()"),Ba(I,Y),this},f.beginTilingPattern=function(I){P("beginTilingPattern()"),Qi(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},f.endTilingPattern=function(I,Y){P("endTilingPattern()"),Y.stream=ye[G].join(`
`),Ba(I,Y),ft.publish("endTilingPattern",Y),ms.pop().restore()};var na,It=f.__private__.newObject=function(){var I=hn();return On(I,!0),I},hn=f.__private__.newObjectDeferred=function(){return de++,q[de]=function(){return oe},de},On=function(I,Y){return Y=typeof Y=="boolean"&&Y,q[I]=oe,Y&&ie(I+" 0 obj"),I},Cs=f.__private__.newAdditionalObject=function(){var I={objId:hn(),content:""};return fe.push(I),I},Ti=hn(),Ca=hn(),ri=f.__private__.decodeColorString=function(I){var Y=I.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length!==5||Y[4]!=="k"&&Y[4]!=="K"||(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var xe=parseFloat(Y[0]);Y=[xe,xe,xe,"r"]}for(var we="#",Se=0;Se<3;Se++)we+=("0"+Math.floor(255*parseFloat(Y[Se])).toString(16)).slice(-2);return we},ni=f.__private__.encodeColorString=function(I){var Y;typeof I=="string"&&(I={ch1:I});var xe=I.ch1,we=I.ch2,Se=I.ch3,Me=I.ch4,Ve=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof xe=="string"&&xe.charAt(0)!=="#"){var bt=new gD(xe);if(bt.ok)xe=bt.toHex();else if(!/^\d*\.?\d*$/.test(xe))throw new Error('Invalid color "'+xe+'" passed to jsPDF.encodeColorString.')}if(typeof xe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(xe)&&(xe="#"+xe[1]+xe[1]+xe[2]+xe[2]+xe[3]+xe[3]),typeof xe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xe)){var _t=parseInt(xe.substr(1),16);xe=_t>>16&255,we=_t>>8&255,Se=255&_t}if(we===void 0||Me===void 0&&xe===we&&we===Se)Y=typeof xe=="string"?xe+" "+Ve[0]:I.precision===2?U(xe/255)+" "+Ve[0]:D(xe/255)+" "+Ve[0];else if(Me===void 0||Tr(Me)==="object"){if(Me&&!isNaN(Me.a)&&Me.a===0)return["1.","1.","1.",Ve[1]].join(" ");Y=typeof xe=="string"?[xe,we,Se,Ve[1]].join(" "):I.precision===2?[U(xe/255),U(we/255),U(Se/255),Ve[1]].join(" "):[D(xe/255),D(we/255),D(Se/255),Ve[1]].join(" ")}else Y=typeof xe=="string"?[xe,we,Se,Me,Ve[2]].join(" "):I.precision===2?[U(xe),U(we),U(Se),U(Me),Ve[2]].join(" "):[D(xe),D(we),D(Se),D(Me),Ve[2]].join(" ");return Y},Na=f.__private__.getFilters=function(){return l},ka=f.__private__.putStream=function(I){var Y=(I=I||{}).data||"",xe=I.filters||Na(),we=I.alreadyAppliedFilters||[],Se=I.addLength1||!1,Me=Y.length,Ve=I.objectId,bt=function(Ln){return Ln};if(o!==null&&Ve===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");o!==null&&(bt=mn.encryptor(Ve,0));var _t={};xe===!0&&(xe=["FlateEncode"]);var Kt=I.additionalKeyValues||[],Gt=(_t=Ut.API.processDataByFilters!==void 0?Ut.API.processDataByFilters(Y,xe):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(_t.data.length!==0&&(Kt.push({key:"Length",value:_t.data.length}),Se===!0&&Kt.push({key:"Length1",value:Me})),Gt.length!=0)if(Gt.split("/").length-1==1)Kt.push({key:"Filter",value:Gt});else{Kt.push({key:"Filter",value:"["+Gt+"]"});for(var fr=0;fr<Kt.length;fr+=1)if(Kt[fr].key==="DecodeParms"){for(var Yr=[],Fn=0;Fn<_t.reverseChain.split("/").length-1;Fn+=1)Yr.push("null");Yr.push(Kt[fr].value),Kt[fr].value="["+Yr.join(" ")+"]"}}ie("<<");for(var jr=0;jr<Kt.length;jr++)ie("/"+Kt[jr].key+" "+Kt[jr].value);ie(">>"),_t.data.length!==0&&(ie("stream"),ie(bt(_t.data)),ie("endstream"))},jl=f.__private__.putPage=function(I){var Y=I.number,xe=I.data,we=I.objId,Se=I.contentsObjId;On(we,!0),ie("<</Type /Page"),ie("/Parent "+I.rootDictionaryObjId+" 0 R"),ie("/Resources "+I.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(T(I.mediaBox.bottomLeftX))+" "+parseFloat(T(I.mediaBox.bottomLeftY))+" "+T(I.mediaBox.topRightX)+" "+T(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&ie("/CropBox ["+T(I.cropBox.bottomLeftX)+" "+T(I.cropBox.bottomLeftY)+" "+T(I.cropBox.topRightX)+" "+T(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&ie("/BleedBox ["+T(I.bleedBox.bottomLeftX)+" "+T(I.bleedBox.bottomLeftY)+" "+T(I.bleedBox.topRightX)+" "+T(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&ie("/TrimBox ["+T(I.trimBox.bottomLeftX)+" "+T(I.trimBox.bottomLeftY)+" "+T(I.trimBox.topRightX)+" "+T(I.trimBox.topRightY)+"]"),I.artBox!==null&&ie("/ArtBox ["+T(I.artBox.bottomLeftX)+" "+T(I.artBox.bottomLeftY)+" "+T(I.artBox.topRightX)+" "+T(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&ie("/UserUnit "+I.userUnit),ft.publish("putPage",{objId:we,pageContext:Ye[Y],pageNumber:Y,page:xe}),ie("/Contents "+Se+" 0 R"),ie(">>"),ie("endobj");var Me=xe.join(`
`);return j===b&&(Me+=`
Q`),On(Se,!0),ka({data:Me,filters:Na(),objectId:Se}),ie("endobj"),we},Sa=f.__private__.putPages=function(){var I,Y,xe=[];for(I=1;I<=wt;I++)Ye[I].objId=hn(),Ye[I].contentsObjId=hn();for(I=1;I<=wt;I++)xe.push(jl({number:I,data:ye[I],objId:Ye[I].objId,contentsObjId:Ye[I].contentsObjId,mediaBox:Ye[I].mediaBox,cropBox:Ye[I].cropBox,bleedBox:Ye[I].bleedBox,trimBox:Ye[I].trimBox,artBox:Ye[I].artBox,userUnit:Ye[I].userUnit,rootDictionaryObjId:Ti,resourceDictionaryObjId:Ca}));On(Ti,!0),ie("<</Type /Pages");var we="/Kids [";for(Y=0;Y<wt;Y++)we+=xe[Y]+" 0 R ";ie(we+"]"),ie("/Count "+wt),ie(">>"),ie("endobj"),ft.publish("postPutPages")},Ko=function(I){ft.publish("putFont",{font:I,out:ie,newObject:It,putStream:ka}),I.isAlreadyPutted!==!0&&(I.objectNumber=It(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+kf(I.postScriptName)),ie("/Subtype /Type1"),typeof I.encoding=="string"&&ie("/Encoding /"+I.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},Ec=function(I){I.objectNumber=It();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[T(I.x),T(I.y),T(I.x+I.width),T(I.y+I.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var xe=I.pages[1].join(`
`);ka({data:xe,additionalKeyValues:Y,objectId:I.objectNumber}),ie("endobj")},Fc=function(I,Y){Y||(Y=21);var xe=It(),we=function(Ve,bt){var _t,Kt=[],Gt=1/(bt-1);for(_t=0;_t<1;_t+=Gt)Kt.push(_t);if(Kt.push(1),Ve[0].offset!=0){var fr={offset:0,color:Ve[0].color};Ve.unshift(fr)}if(Ve[Ve.length-1].offset!=1){var Yr={offset:1,color:Ve[Ve.length-1].color};Ve.push(Yr)}for(var Fn="",jr=0,Ln=0;Ln<Kt.length;Ln++){for(_t=Kt[Ln];_t>Ve[jr+1].offset;)jr++;var In=Ve[jr].offset,qn=(_t-In)/(Ve[jr+1].offset-In),Ia=Ve[jr].color,Ms=Ve[jr+1].color;Fn+=ne(Math.round((1-qn)*Ia[0]+qn*Ms[0]).toString(16))+ne(Math.round((1-qn)*Ia[1]+qn*Ms[1]).toString(16))+ne(Math.round((1-qn)*Ia[2]+qn*Ms[2]).toString(16))}return Fn.trim()}(I.colors,Y),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+Y+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ka({data:we,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:xe}),ie("endobj"),I.objectNumber=It(),ie("<< /ShadingType "+I.type),ie("/ColorSpace /DeviceRGB");var Me="/Coords ["+T(parseFloat(I.coords[0]))+" "+T(parseFloat(I.coords[1]))+" ";I.type===2?Me+=T(parseFloat(I.coords[2]))+" "+T(parseFloat(I.coords[3])):Me+=T(parseFloat(I.coords[2]))+" "+T(parseFloat(I.coords[3]))+" "+T(parseFloat(I.coords[4]))+" "+T(parseFloat(I.coords[5])),ie(Me+="]"),I.matrix&&ie("/Matrix ["+I.matrix.toString()+"]"),ie("/Function "+xe+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},Ic=function(I,Y){var xe=hn(),we=It();Y.push({resourcesOid:xe,objectOid:we}),I.objectNumber=we;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+I.boundingBox.map(T).join(" ")+"]"}),Se.push({key:"XStep",value:T(I.xStep)}),Se.push({key:"YStep",value:T(I.yStep)}),Se.push({key:"Resources",value:xe+" 0 R"}),I.matrix&&Se.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),ka({data:I.stream,additionalKeyValues:Se,objectId:I.objectNumber}),ie("endobj")},Kh=function(I){for(var Y in I.objectNumber=It(),ie("<<"),I)switch(Y){case"opacity":ie("/ca "+U(I[Y]));break;case"stroke-opacity":ie("/CA "+U(I[Y]))}ie(">>"),ie("endobj")},nu=function(I){On(I.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var Y in ie("/Font <<"),ut)ut.hasOwnProperty(Y)&&(d===!1||d===!0&&h.hasOwnProperty(Y))&&ie("/"+Y+" "+ut[Y].objectNumber+" 0 R");ie(">>")}(),function(){if(Object.keys(rt).length>0){for(var Y in ie("/Shading <<"),rt)rt.hasOwnProperty(Y)&&rt[Y]instanceof bA&&rt[Y].objectNumber>=0&&ie("/"+Y+" "+rt[Y].objectNumber+" 0 R");ft.publish("putShadingPatternDict"),ie(">>")}}(),function(Y){if(Object.keys(rt).length>0){for(var xe in ie("/Pattern <<"),rt)rt.hasOwnProperty(xe)&&rt[xe]instanceof f.TilingPattern&&rt[xe].objectNumber>=0&&rt[xe].objectNumber<Y&&ie("/"+xe+" "+rt[xe].objectNumber+" 0 R");ft.publish("putTilingPatternDict"),ie(">>")}}(I.objectOid),function(){if(Object.keys(At).length>0){var Y;for(Y in ie("/ExtGState <<"),At)At.hasOwnProperty(Y)&&At[Y].objectNumber>=0&&ie("/"+Y+" "+At[Y].objectNumber+" 0 R");ft.publish("putGStateDict"),ie(">>")}}(),function(){for(var Y in ie("/XObject <<"),$t)$t.hasOwnProperty(Y)&&$t[Y].objectNumber>=0&&ie("/"+Y+" "+$t[Y].objectNumber+" 0 R");ft.publish("putXobjectDict"),ie(">>")}(),ie(">>"),ie("endobj")},kd=function(I){He[I.fontName]=He[I.fontName]||{},He[I.fontName][I.fontStyle]=I.id},zo=function(I,Y,xe,we,Se){var Me={id:"F"+(Object.keys(ut).length+1).toString(10),postScriptName:I,fontName:Y,fontStyle:xe,encoding:we,isStandardFont:Se||!1,metadata:{}};return ft.publish("addFont",{font:Me,instance:this}),ut[Me.id]=Me,kd(Me),Me.id},sa=f.__private__.pdfEscape=f.pdfEscape=function(I,Y){return function(xe,we){var Se,Me,Ve,bt,_t,Kt,Gt,fr,Yr;if(Ve=(we=we||{}).sourceEncoding||"Unicode",_t=we.outputEncoding,(we.autoencode||_t)&&ut[tt].metadata&&ut[tt].metadata[Ve]&&ut[tt].metadata[Ve].encoding&&(bt=ut[tt].metadata[Ve].encoding,!_t&&ut[tt].encoding&&(_t=ut[tt].encoding),!_t&&bt.codePages&&(_t=bt.codePages[0]),typeof _t=="string"&&(_t=bt[_t]),_t)){for(Gt=!1,Kt=[],Se=0,Me=xe.length;Se<Me;Se++)(fr=_t[xe.charCodeAt(Se)])?Kt.push(String.fromCharCode(fr)):Kt.push(xe[Se]),Kt[Se].charCodeAt(0)>>8&&(Gt=!0);xe=Kt.join("")}for(Se=xe.length;Gt===void 0&&Se!==0;)xe.charCodeAt(Se-1)>>8&&(Gt=!0),Se--;if(!Gt)return xe;for(Kt=we.noBOM?[]:[254,255],Se=0,Me=xe.length;Se<Me;Se++){if((Yr=(fr=xe.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+xe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Kt.push(Yr),Kt.push(fr-(Yr<<8))}return String.fromCharCode.apply(void 0,Kt)}(I,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vo=f.__private__.beginPage=function(I){ye[++wt]=[],Ye[wt]={objId:0,contentsObjId:0,userUnit:Number(A),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},Sd(wt),be(ye[G])},su=function(I,Y){var xe,we,Se;switch(r=Y||r,typeof I=="string"&&(xe=p(I.toLowerCase()),Array.isArray(xe)&&(we=xe[0],Se=xe[1])),Array.isArray(I)&&(we=I[0]*Ct,Se=I[1]*Ct),isNaN(we)&&(we=s[0],Se=s[1]),(we>14400||Se>14400)&&($r.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),Se=Math.min(14400,Se)),s=[we,Se],r.substr(0,1)){case"l":Se>we&&(s=[Se,we]);break;case"p":we>Se&&(s=[Se,we])}Vo(s),qh(ou),ie(kl),Lc!==0&&ie(Lc+" J"),Qc!==0&&ie(Qc+" j"),ft.publish("addPage",{pageNumber:wt})},mo=function(I){I>0&&I<=wt&&(ye.splice(I,1),Ye.splice(I,1),wt--,G>wt&&(G=wt),this.setPage(G))},Sd=function(I){I>0&&I<=wt&&(G=I)},_d=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ye.length-1},Bl=function(I,Y,xe){var we,Se=void 0;return xe=xe||{},I=I!==void 0?I:ut[tt].fontName,Y=Y!==void 0?Y:ut[tt].fontStyle,we=I.toLowerCase(),He[we]!==void 0&&He[we][Y]!==void 0?Se=He[we][Y]:He[I]!==void 0&&He[I][Y]!==void 0?Se=He[I][Y]:xe.disableWarning===!1&&$r.warn("Unable to look up font label for font '"+I+"', '"+Y+"'. Refer to getFontList() for available fonts."),Se||xe.noFallback||(Se=He.times[Y])==null&&(Se=He.times.normal),Se},Oi=f.__private__.putInfo=function(){var I=It(),Y=function(we){return we};for(var xe in o!==null&&(Y=mn.encryptor(I,0)),ie("<<"),ie("/Producer ("+sa(Y("jsPDF "+Ut.version))+")"),Bt)Bt.hasOwnProperty(xe)&&Bt[xe]&&ie("/"+xe.substr(0,1).toUpperCase()+xe.substr(1)+" ("+sa(Y(Bt[xe]))+")");ie("/CreationDate ("+sa(Y(W))+")"),ie(">>"),ie("endobj")},zh=f.__private__.putCatalog=function(I){var Y=(I=I||{}).rootDictionaryObjId||Ti;switch(It(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+Y+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var xe=""+qe;xe.substr(xe.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+U(qe)+"]")}switch(Xe||(Xe="continuous"),Xe){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}nt&&ie("/PageMode /"+nt),ft.publish("putCatalog"),ie(">>"),ie("endobj")},Sn=f.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(de+1)),ie("/Root "+de+" 0 R"),ie("/Info "+(de-1)+" 0 R"),o!==null&&ie("/Encrypt "+mn.oid+" 0 R"),ie("/ID [ <"+V+"> <"+V+"> ]"),ie(">>")},Ed=f.__private__.putHeader=function(){ie("%PDF-"+g),ie("%")},Cl=f.__private__.putXRef=function(){var I="0000000000";ie("xref"),ie("0 "+(de+1)),ie("0000000000 65535 f ");for(var Y=1;Y<=de;Y++)typeof q[Y]=="function"?ie((I+q[Y]()).slice(-10)+" 00000 n "):q[Y]!==void 0?ie((I+q[Y]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},_a=f.__private__.buildDocument=function(){var I;de=0,oe=0,pe=[],q=[],fe=[],Ti=hn(),Ca=hn(),be(pe),ft.publish("buildDocument"),Ed(),Sa(),function(){ft.publish("putAdditionalObjects");for(var xe=0;xe<fe.length;xe++){var we=fe[xe];On(we.objId,!0),ie(we.content),ie("endobj")}ft.publish("postPutAdditionalObjects")}(),I=[],function(){for(var xe in ut)ut.hasOwnProperty(xe)&&(d===!1||d===!0&&h.hasOwnProperty(xe))&&Ko(ut[xe])}(),function(){var xe;for(xe in At)At.hasOwnProperty(xe)&&Kh(At[xe])}(),function(){for(var xe in $t)$t.hasOwnProperty(xe)&&Ec($t[xe])}(),function(xe){var we;for(we in rt)rt.hasOwnProperty(we)&&(rt[we]instanceof bA?Fc(rt[we]):rt[we]instanceof Hu&&Ic(rt[we],xe))}(I),ft.publish("putResources"),I.forEach(nu),nu({resourcesOid:Ca,objectOid:Number.MAX_SAFE_INTEGER}),ft.publish("postPutResources"),o!==null&&(mn.oid=It(),ie("<<"),ie("/Filter /Standard"),ie("/V "+mn.v),ie("/R "+mn.r),ie("/U <"+mn.toHexString(mn.U)+">"),ie("/O <"+mn.toHexString(mn.O)+">"),ie("/P "+mn.P),ie(">>"),ie("endobj")),Oi(),zh();var Y=oe;return Cl(),Sn(),ie("startxref"),ie(""+Y),ie("%%EOF"),be(ye[G]),pe.join(`
`)},si=f.__private__.getBlob=function(I){return new Blob([ke(I)],{type:"application/pdf"})},ai=f.output=f.__private__.output=(na=function(I,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",I){case void 0:return _a();case"save":f.save(Y.filename);break;case"arraybuffer":return ke(_a());case"blob":return si(_a());case"bloburi":case"bloburl":if(Vt.URL!==void 0&&typeof Vt.URL.createObjectURL=="function")return Vt.URL&&Vt.URL.createObjectURL(si(_a()))||void 0;$r.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var xe="",we=_a();try{xe=j6(we)}catch{xe=j6(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+Y.filename+";base64,"+xe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Me=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Se=Y.pdfObjectUrl,Me="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Me+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",bt=Vt.open();return bt!==null&&bt.document.write(Ve),bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',Kt=Vt.open();if(Kt!==null){Kt.document.write(_t);var Gt=this;Kt.document.documentElement.querySelector("#pdfViewer").onload=function(){Kt.document.title=Y.filename,Kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Gt.output("bloburl"))}}return Kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Yr=Vt.open();if(Yr!==null&&(Yr.document.write(fr),Yr.document.title=Y.filename),Yr||typeof safari>"u")return Yr;break;case"datauri":case"dataurl":return Vt.document.location.href=this.output("datauristring",Y);default:return null}},na.foo=function(){try{return na.apply(this,arguments)}catch(xe){var I=xe.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var Y="Error in function "+I.split(`
`)[0].split("<")[0]+": "+xe.message;if(!Vt.console)throw new Error(Y);Vt.console.error(Y,xe),Vt.alert&&alert(Y)}},na.foo.bar=na,na.foo),_n=function(I){return Array.isArray(Ht)===!0&&Ht.indexOf(I)>-1};switch(n){case"pt":Ct=1;break;case"mm":Ct=72/25.4;break;case"cm":Ct=72/2.54;break;case"in":Ct=72;break;case"px":Ct=_n("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ct=12;break;case"ex":Ct=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ct=n}var mn=null;Ae(),K();var au=f.__private__.getPageInfo=f.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ye[I].objId,pageNumber:I,pageContext:Ye[I]}},Vh=f.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in Ye)if(Ye[Y].objId===I)break;return au(Y)},Gh=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ye[G].objId,pageNumber:G,pageContext:Ye[G]}};f.addPage=function(){return su.apply(this,arguments),this},f.setPage=function(){return Sd.apply(this,arguments),be.call(this,ye[G]),this},f.insertPage=function(I){return this.addPage(),this.movePage(G,I),this},f.movePage=function(I,Y){var xe,we;if(I>Y){xe=ye[I],we=Ye[I];for(var Se=I;Se>Y;Se--)ye[Se]=ye[Se-1],Ye[Se]=Ye[Se-1];ye[Y]=xe,Ye[Y]=we,this.setPage(Y)}else if(I<Y){xe=ye[I],we=Ye[I];for(var Me=I;Me<Y;Me++)ye[Me]=ye[Me+1],Ye[Me]=Ye[Me+1];ye[Y]=xe,Ye[Y]=we,this.setPage(Y)}return this},f.deletePage=function(){return mo.apply(this,arguments),this},f.__private__.text=f.text=function(I,Y,xe,we,Se){var Me,Ve,bt,_t,Kt,Gt,fr,Yr,Fn,jr=(we=we||{}).scope||this;if(typeof I=="number"&&typeof Y=="number"&&(typeof xe=="string"||Array.isArray(xe))){var Ln=xe;xe=Y,Y=I,I=Ln}if(arguments[3]instanceof Qt==0?(bt=arguments[4],_t=arguments[5],Tr(fr=arguments[3])==="object"&&fr!==null||(typeof bt=="string"&&(_t=bt,bt=null),typeof fr=="string"&&(_t=fr,fr=null),typeof fr=="number"&&(bt=fr,fr=null),we={flags:fr,angle:bt,align:_t})):(P("The transform parameter of text() with a Matrix value"),Fn=Se),isNaN(Y)||isNaN(xe)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return jr;var In,qn="",Ia=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:Nl,Ms=jr.internal.scaleFactor;function Qd(mr){return mr=mr.split("	").join(Array(we.TabLen||9).join(" ")),sa(mr,fr)}function Rc(mr){for(var Ir,vn=mr.concat(),Br=[],Hi=vn.length;Hi--;)typeof(Ir=vn.shift())=="string"?Br.push(Ir):Array.isArray(mr)&&(Ir.length===1||Ir[1]===void 0&&Ir[2]===void 0)?Br.push(Ir[0]):Br.push([Ir[0],Ir[1],Ir[2]]);return Br}function Pl(mr,Ir){var vn;if(typeof mr=="string")vn=Ir(mr)[0];else if(Array.isArray(mr)){for(var Br,Hi,cu=mr.concat(),zc=[],Rl=cu.length;Rl--;)typeof(Br=cu.shift())=="string"?zc.push(Ir(Br)[0]):Array.isArray(Br)&&typeof Br[0]=="string"&&(Hi=Ir(Br[0],Br[1],Br[2]),zc.push([Hi[0],Hi[1],Hi[2]]));vn=zc}return vn}var Di=!1,Go=!0;if(typeof I=="string")Di=!0;else if(Array.isArray(I)){var Wo=I.concat();Ve=[];for(var li,pn=Wo.length;pn--;)(typeof(li=Wo.shift())!="string"||Array.isArray(li)&&typeof li[0]!="string")&&(Go=!1);Di=Go}if(Di===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var lr=Oe/jr.internal.scaleFactor,Tl=lr*(Ia-1);switch(we.baseline){case"bottom":xe-=Tl;break;case"top":xe+=lr-Tl;break;case"hanging":xe+=lr-2*Tl;break;case"middle":xe+=lr/2-Tl}if((Gt=we.maxWidth||0)>0&&(typeof I=="string"?I=jr.splitTextToSize(I,Gt):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(mr,Ir){return mr.concat(jr.splitTextToSize(Ir,Gt))},[]))),Me={text:I,x:Y,y:xe,options:we,mutex:{pdfEscape:sa,activeFontKey:tt,fonts:ut,activeFontSize:Oe}},ft.publish("preProcessText",Me),I=Me.text,bt=(we=Me.options).angle,Fn instanceof Qt==0&&bt&&typeof bt=="number"){bt*=Math.PI/180,we.rotationDirection===0&&(bt=-bt),j===b&&(bt=-bt);var Ol=Math.cos(bt),Mc=Math.sin(bt);Fn=new Qt(Ol,Mc,-Mc,Ol,0,0)}else bt&&bt instanceof Qt&&(Fn=bt);j!==b||Fn||(Fn=ho),(Kt=we.charSpace||Oc)!==void 0&&(qn+=T(Q(Kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Yr=we.horizontalScale)!==void 0&&(qn+=T(100*Yr)+` Tz
`),we.lang;var Fr=-1,Vn=we.renderingMode!==void 0?we.renderingMode:we.stroke,Hc=jr.internal.getCurrentPageInfo().pageContext;switch(Vn){case 0:case!1:case"fill":Fr=0;break;case 1:case!0:case"stroke":Fr=1;break;case 2:case"fillThenStroke":Fr=2;break;case 3:case"invisible":Fr=3;break;case 4:case"fillAndAddForClipping":Fr=4;break;case 5:case"strokeAndAddPathForClipping":Fr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Fr=6;break;case 7:case"addToPathForClipping":Fr=7}var ci=Hc.usedRenderingMode!==void 0?Hc.usedRenderingMode:-1;Fr!==-1?qn+=Fr+` Tr
`:ci!==-1&&(qn+=`0 Tr
`),Fr!==-1&&(Hc.usedRenderingMode=Fr),_t=we.align||"left";var hr,Yo=Oe*Ia,gn=jr.internal.pageSize.getWidth(),Ll=ut[tt];Kt=we.charSpace||Oc,Gt=we.maxWidth||0,fr=Object.assign({autoencode:!0,noBOM:!0},we.flags);var Ns=[],Ai=function(mr){return jr.getStringUnitWidth(mr,{font:Ll,charSpace:Kt,fontSize:Oe,doKerning:!1})*Oe/Ms};if(Object.prototype.toString.call(I)==="[object Array]"){var er;Ve=Rc(I),_t!=="left"&&(hr=Ve.map(Ai));var Hs,bo=0;if(_t==="right"){Y-=hr[0],I=[],pn=Ve.length;for(var Ri=0;Ri<pn;Ri++)Ri===0?(Hs=go(Y),er=vo(xe)):(Hs=Q(bo-hr[Ri]),er=-Yo),I.push([Ve[Ri],Hs,er]),bo=hr[Ri]}else if(_t==="center"){Y-=hr[0]/2,I=[],pn=Ve.length;for(var yo=0;yo<pn;yo++)yo===0?(Hs=go(Y),er=vo(xe)):(Hs=Q((bo-hr[yo])/2),er=-Yo),I.push([Ve[yo],Hs,er]),bo=hr[yo]}else if(_t==="left"){I=[],pn=Ve.length;for(var Jo=0;Jo<pn;Jo++)I.push(Ve[Jo])}else if(_t==="justify"&&Ll.encoding==="Identity-H"){I=[],pn=Ve.length,Gt=Gt!==0?Gt:gn;for(var Ql=0,tn=0;tn<pn;tn++)if(er=tn===0?vo(xe):-Yo,Hs=tn===0?go(Y):Ql,tn<pn-1){var ks=Q((Gt-hr[tn])/(Ve[tn].split(" ").length-1)),Zn=Ve[tn].split(" ");I.push([Zn[0]+" ",Hs,er]),Ql=0;for(var es=1;es<Zn.length;es++){var rn=(Ai(Zn[es-1]+" "+Zn[es])-Ai(Zn[es]))*Ms+ks;es==Zn.length-1?I.push([Zn[es],rn,0]):I.push([Zn[es]+" ",rn,0]),Ql-=rn}}else I.push([Ve[tn],Hs,er]);I.push(["",Ql,0])}else{if(_t!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],pn=Ve.length,Gt=Gt!==0?Gt:gn,tn=0;tn<pn;tn++){er=tn===0?vo(xe):-Yo,Hs=tn===0?go(Y):0;var Ua=Ve[tn].split(" ").length-1,$c=Ua>0?(Gt-hr[tn])/Ua:0;tn<pn-1?Ns.push(T(Q($c))):Ns.push(0),I.push([Ve[tn],Hs,er])}}}(typeof we.R2L=="boolean"?we.R2L:pt)===!0&&(I=Pl(I,function(mr,Ir,vn){return[mr.split("").reverse().join(""),Ir,vn]})),Me={text:I,x:Y,y:xe,options:we,mutex:{pdfEscape:sa,activeFontKey:tt,fonts:ut,activeFontSize:Oe}},ft.publish("postProcessText",Me),I=Me.text,In=Me.mutex.isHex||!1;var Kc=ut[tt].encoding;Kc!=="WinAnsiEncoding"&&Kc!=="StandardEncoding"||(I=Pl(I,function(mr,Ir,vn){return[Qd(mr),Ir,vn]})),Ve=Rc(I),I=[];for(var Mi,wo,Xo,ui=Array.isArray(Ve[0])?1:0,ps="",Dl=function(mr,Ir,vn){var Br="";return vn instanceof Qt?(vn=typeof we.angle=="number"?Pi(vn,new Qt(1,0,0,1,mr,Ir)):Pi(new Qt(1,0,0,1,mr,Ir),vn),j===b&&(vn=Pi(new Qt(1,0,0,-1,0,0),vn)),Br=vn.join(" ")+` Tm
`):Br=T(mr)+" "+T(Ir)+` Td
`,Br},Pa=0;Pa<Ve.length;Pa++){switch(ps="",ui){case 1:Xo=(In?"<":"(")+Ve[Pa][0]+(In?">":")"),Mi=parseFloat(Ve[Pa][1]),wo=parseFloat(Ve[Pa][2]);break;case 0:Xo=(In?"<":"(")+Ve[Pa]+(In?">":")"),Mi=go(Y),wo=vo(xe)}Ns!==void 0&&Ns[Pa]!==void 0&&(ps=Ns[Pa]+` Tw
`),Pa===0?I.push(ps+Dl(Mi,wo,Fn)+Xo):ui===0?I.push(ps+Xo):ui===1&&I.push(ps+Dl(Mi,wo,Fn)+Xo)}I=ui===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var aa=`BT
/`;return aa+=tt+" "+Oe+` Tf
`,aa+=T(Oe*Ia)+` TL
`,aa+=Sl+`
`,aa+=qn,aa+=I,ie(aa+="ET"),h[tt]=!0,jr};var Wh=f.__private__.clip=f.clip=function(I){return ie(I==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Wh("evenodd")},f.__private__.discardPath=f.discardPath=function(){return ie("n"),this};var Li=f.__private__.isValidStyle=function(I){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(Y=!0),Y};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(I){return Li(I)&&(u=I),this};var Fd=f.__private__.getStyle=f.getStyle=function(I){var Y=u;switch(I){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=I}return Y},Id=f.close=function(){return ie("h"),this};f.stroke=function(){return ie("S"),this},f.fill=function(I){return ii("f",I),this},f.fillEvenOdd=function(I){return ii("f*",I),this},f.fillStroke=function(I){return ii("B",I),this},f.fillStrokeEvenOdd=function(I){return ii("B*",I),this};var ii=function(I,Y){Tr(Y)==="object"?Yh(Y,I):ie(I)},iu=function(I){I===null||j===b&&I===void 0||(I=Fd(I),ie(I))};function Ud(I,Y,xe,we,Se){var Me=new Hu(Y||this.boundingBox,xe||this.xStep,we||this.yStep,this.gState,Se||this.matrix);Me.stream=this.stream;var Ve=I+"$$"+this.cloneIndex+++"$$";return Ba(Ve,Me),Me}var Yh=function(I,Y){var xe=ot[I.key],we=rt[xe];if(we instanceof bA)ie("q"),ie(Jh(Y)),we.gState&&f.setGState(we.gState),ie(I.matrix.toString()+" cm"),ie("/"+xe+" sh"),ie("Q");else if(we instanceof Hu){var Se=new Qt(1,0,0,-1,0,Ul());I.matrix&&(Se=Se.multiply(I.matrix||ho),xe=Ud.call(we,I.key,I.boundingBox,I.xStep,I.yStep,Se).id),ie("q"),ie("/Pattern cs"),ie("/"+xe+" scn"),we.gState&&f.setGState(we.gState),ie(Y),ie("Q")}},Jh=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Uc=f.moveTo=function(I,Y){return ie(T(Q(I))+" "+T(H(Y))+" m"),this},po=f.lineTo=function(I,Y){return ie(T(Q(I))+" "+T(H(Y))+" l"),this},Rs=f.curveTo=function(I,Y,xe,we,Se,Me){return ie([T(Q(I)),T(H(Y)),T(Q(xe)),T(H(we)),T(Q(Se)),T(H(Me)),"c"].join(" ")),this};f.__private__.line=f.line=function(I,Y,xe,we,Se){if(isNaN(I)||isNaN(Y)||isNaN(xe)||isNaN(we)||!Li(Se))throw new Error("Invalid arguments passed to jsPDF.line");return j===v?this.lines([[xe-I,we-Y]],I,Y,[1,1],Se||"S"):this.lines([[xe-I,we-Y]],I,Y,[1,1]).stroke()},f.__private__.lines=f.lines=function(I,Y,xe,we,Se,Me){var Ve,bt,_t,Kt,Gt,fr,Yr,Fn,jr,Ln,In,qn;if(typeof I=="number"&&(qn=xe,xe=Y,Y=I,I=qn),we=we||[1,1],Me=Me||!1,isNaN(Y)||isNaN(xe)||!Array.isArray(I)||!Array.isArray(we)||!Li(Se)||typeof Me!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Uc(Y,xe),Ve=we[0],bt=we[1],Kt=I.length,Ln=Y,In=xe,_t=0;_t<Kt;_t++)(Gt=I[_t]).length===2?(Ln=Gt[0]*Ve+Ln,In=Gt[1]*bt+In,po(Ln,In)):(fr=Gt[0]*Ve+Ln,Yr=Gt[1]*bt+In,Fn=Gt[2]*Ve+Ln,jr=Gt[3]*bt+In,Ln=Gt[4]*Ve+Ln,In=Gt[5]*bt+In,Rs(fr,Yr,Fn,jr,Ln,In));return Me&&Id(),iu(Se),this},f.path=function(I){for(var Y=0;Y<I.length;Y++){var xe=I[Y],we=xe.c;switch(xe.op){case"m":Uc(we[0],we[1]);break;case"l":po(we[0],we[1]);break;case"c":Rs.apply(this,we);break;case"h":Id()}}return this},f.__private__.rect=f.rect=function(I,Y,xe,we,Se){if(isNaN(I)||isNaN(Y)||isNaN(xe)||isNaN(we)||!Li(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return j===v&&(we=-we),ie([T(Q(I)),T(H(Y)),T(Q(xe)),T(Q(we)),"re"].join(" ")),iu(Se),this},f.__private__.triangle=f.triangle=function(I,Y,xe,we,Se,Me,Ve){if(isNaN(I)||isNaN(Y)||isNaN(xe)||isNaN(we)||isNaN(Se)||isNaN(Me)||!Li(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[xe-I,we-Y],[Se-xe,Me-we],[I-Se,Y-Me]],I,Y,[1,1],Ve,!0),this},f.__private__.roundedRect=f.roundedRect=function(I,Y,xe,we,Se,Me,Ve){if(isNaN(I)||isNaN(Y)||isNaN(xe)||isNaN(we)||isNaN(Se)||isNaN(Me)||!Li(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var bt=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*xe),Me=Math.min(Me,.5*we),this.lines([[xe-2*Se,0],[Se*bt,0,Se,Me-Me*bt,Se,Me],[0,we-2*Me],[0,Me*bt,-Se*bt,Me,-Se,Me],[2*Se-xe,0],[-Se*bt,0,-Se,-Me*bt,-Se,-Me],[0,2*Me-we],[0,-Me*bt,Se*bt,-Me,Se,-Me]],I+Se,Y,[1,1],Ve,!0),this},f.__private__.ellipse=f.ellipse=function(I,Y,xe,we,Se){if(isNaN(I)||isNaN(Y)||isNaN(xe)||isNaN(we)||!Li(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Me=4/3*(Math.SQRT2-1)*xe,Ve=4/3*(Math.SQRT2-1)*we;return Uc(I+xe,Y),Rs(I+xe,Y-Ve,I+Me,Y-we,I,Y-we),Rs(I-Me,Y-we,I-xe,Y-Ve,I-xe,Y),Rs(I-xe,Y+Ve,I-Me,Y+we,I,Y+we),Rs(I+Me,Y+we,I+xe,Y+Ve,I+xe,Y),iu(Se),this},f.__private__.circle=f.circle=function(I,Y,xe,we){if(isNaN(I)||isNaN(Y)||isNaN(xe)||!Li(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,Y,xe,xe,we)},f.setFont=function(I,Y,xe){return xe&&(Y=F(Y,xe)),tt=Bl(I,Y,{disableWarning:!1}),this};var Xh=f.__private__.getFont=f.getFont=function(){return ut[Bl.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var I,Y,xe={};for(I in He)if(He.hasOwnProperty(I))for(Y in xe[I]=[],He[I])He[I].hasOwnProperty(Y)&&xe[I].push(Y);return xe},f.addFont=function(I,Y,xe,we,Se){var Me=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Me.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Me.indexOf(arguments[3])==-1&&(xe=F(xe,we)),zo.call(this,I,Y,xe,Se=Se||"Identity-H")};var Nl,ou=e.lineWidth||.200025,Mt=f.__private__.getLineWidth=f.getLineWidth=function(){return ou},qh=f.__private__.setLineWidth=f.setLineWidth=function(I){return ou=I,ie(T(Q(I))+" w"),this};f.__private__.setLineDash=Ut.API.setLineDash=Ut.API.setLineDashPattern=function(I,Y){if(I=I||[],Y=Y||0,isNaN(Y)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(xe){return T(Q(xe))}).join(" "),Y=T(Q(Y)),ie("["+I+"] "+Y+" d"),this};var Zh=f.__private__.getLineHeight=f.getLineHeight=function(){return Oe*Nl};f.__private__.getLineHeight=f.getLineHeight=function(){return Oe*Nl};var e0=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(Nl=I),this},t0=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Nl};e0(e.lineHeight);var go=f.__private__.getHorizontalCoordinate=function(I){return Q(I)},vo=f.__private__.getVerticalCoordinate=function(I){return j===b?I:Ye[G].mediaBox.topRightY-Ye[G].mediaBox.bottomLeftY-Q(I)},Ea=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(I){return T(go(I))},Pd=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(I){return T(vo(I))},kl=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ri(kl)},f.__private__.setStrokeColor=f.setDrawColor=function(I,Y,xe,we){return kl=ni({ch1:I,ch2:Y,ch3:xe,ch4:we,pdfColorType:"draw",precision:2}),ie(kl),this};var Pc=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ri(Pc)},f.__private__.setFillColor=f.setFillColor=function(I,Y,xe,we){return Pc=ni({ch1:I,ch2:Y,ch3:xe,ch4:we,pdfColorType:"fill",precision:2}),ie(Pc),this};var Sl=e.textColor||"0 g",Tc=f.__private__.getTextColor=f.getTextColor=function(){return ri(Sl)};f.__private__.setTextColor=f.setTextColor=function(I,Y,xe,we){return Sl=ni({ch1:I,ch2:Y,ch3:xe,ch4:we,pdfColorType:"text",precision:3}),this};var Oc=e.charSpace,Td=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Oc||0)};f.__private__.setCharSpace=f.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Oc=I,this};var Lc=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(I){var Y=f.CapJoinStyles[I];if(Y===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lc=Y,ie(Y+" J"),this};var Qc=0;f.__private__.setLineJoin=f.setLineJoin=function(I){var Y=f.CapJoinStyles[I];if(Y===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qc=Y,ie(Y+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(T(Q(I))+" M"),this},f.GState=dp,f.setGState=function(I){(I=typeof I=="string"?At[or[I]]:_l(null,I)).equals(vr)||(ie("/"+I.id+" gs"),vr=I)};var _l=function(I,Y){if(!I||!or[I]){var xe=!1;for(var we in At)if(At.hasOwnProperty(we)&&At[we].equals(Y)){xe=!0;break}if(xe)Y=At[we];else{var Se="GS"+(Object.keys(At).length+1).toString(10);At[Se]=Y,Y.id=Se}return I&&(or[I]=Y.id),ft.publish("addGState",Y),Y}};f.addGState=function(I,Y){return _l(I,Y),this},f.saveGraphicsState=function(){return ie("q"),at.push({key:tt,size:Oe,color:Sl}),this},f.restoreGraphicsState=function(){ie("Q");var I=at.pop();return tt=I.key,Oe=I.size,Sl=I.color,vr=null,this},f.setCurrentTransformationMatrix=function(I){return ie(I.toString()+" cm"),this},f.comment=function(I){return ie("#"+I),this};var El=function(I,Y){var xe=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return xe},set:function(Me){isNaN(Me)||(xe=parseFloat(Me))}});var we=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(Me){isNaN(Me)||(we=parseFloat(Me))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Me){Se=Me.toString()}}),this},En=function(I,Y,xe,we){El.call(this,I,Y),this.type="rect";var Se=xe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Ve){isNaN(Ve)||(Se=parseFloat(Ve))}});var Me=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Me},set:function(Ve){isNaN(Ve)||(Me=parseFloat(Ve))}}),this},Dc=function(){this.page=wt,this.currentPage=G,this.pages=ye.slice(0),this.pagesContext=Ye.slice(0),this.x=it,this.y=Rt,this.matrix=Tt,this.width=Od(G),this.height=xo(G),this.outputDestination=_e,this.id="",this.objectNumber=-1};Dc.prototype.restore=function(){wt=this.page,G=this.currentPage,Ye=this.pagesContext,ye=this.pages,it=this.x,Rt=this.y,Tt=this.matrix,Ld(G,this.width),Fa(G,this.height),_e=this.outputDestination};var Qi=function(I,Y,xe,we,Se){ms.push(new Dc),wt=G=0,ye=[],it=I,Rt=Y,Tt=Se,Vo([xe,we])};for(var Fl in f.beginFormObject=function(I,Y,xe,we,Se){return Qi(I,Y,xe,we,Se),this},f.endFormObject=function(I){return function(Y){if(Er[Y])ms.pop().restore();else{var xe=new Dc,we="Xo"+(Object.keys($t).length+1).toString(10);xe.id=we,Er[Y]=we,$t[we]=xe,ft.publish("addFormObject",xe),ms.pop().restore()}}(I),this},f.doFormObject=function(I,Y){var xe=$t[Er[I]];return ie("q"),ie(Y.toString()+" cm"),ie("/"+xe.id+" Do"),ie("Q"),this},f.getFormObject=function(I){var Y=$t[Er[I]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},f.save=function(I,Y){return I=I||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(Fu(si(_a()),I),typeof Fu.unload=="function"&&Vt.setTimeout&&setTimeout(Fu.unload,911),this):new Promise(function(xe,we){try{var Se=Fu(si(_a()),I);typeof Fu.unload=="function"&&Vt.setTimeout&&setTimeout(Fu.unload,911),xe(Se)}catch(Me){we(Me.message)}})},Ut.API)Ut.API.hasOwnProperty(Fl)&&(Fl==="events"&&Ut.API.events.length?function(I,Y){var xe,we,Se;for(Se=Y.length-1;Se!==-1;Se--)xe=Y[Se][0],we=Y[Se][1],I.subscribe.apply(I,[xe].concat(typeof we=="function"?[we]:we))}(ft,Ut.API.events):f[Fl]=Ut.API[Fl]);function Od(I){return Ye[I].mediaBox.topRightX-Ye[I].mediaBox.bottomLeftX}function Ld(I,Y){Ye[I].mediaBox.topRightX=Y+Ye[I].mediaBox.bottomLeftX}function xo(I){return Ye[I].mediaBox.topRightY-Ye[I].mediaBox.bottomLeftY}function Fa(I,Y){Ye[I].mediaBox.topRightY=Y+Ye[I].mediaBox.bottomLeftY}var Il=f.getPageWidth=function(I){return Od(I=I||G)/Ct},lu=f.setPageWidth=function(I,Y){Ld(I,Y*Ct)},Ul=f.getPageHeight=function(I){return xo(I=I||G)/Ct},oi=f.setPageHeight=function(I,Y){Fa(I,Y*Ct)};return f.internal={pdfEscape:sa,getStyle:Fd,getFont:Xh,getFontSize:Ge,getCharSpace:Td,getTextColor:Tc,getLineHeight:Zh,getLineHeightFactor:t0,getLineWidth:Mt,write:et,getHorizontalCoordinate:go,getVerticalCoordinate:vo,getCoordinateString:Ea,getVerticalCoordinateString:Pd,collections:{},newObject:It,newAdditionalObject:Cs,newObjectDeferred:hn,newObjectDeferredBegin:On,getFilters:Na,putStream:ka,events:ft,scaleFactor:Ct,pageSize:{getWidth:function(){return Il(G)},setWidth:function(I){lu(G,I)},getHeight:function(){return Ul(G)},setHeight:function(I){oi(G,I)}},encryptionOptions:o,encryption:mn,getEncryptor:function(I){return o!==null?mn.encryptor(I,0):function(Y){return Y}},output:ai,getNumberOfPages:_d,pages:ye,out:ie,f2:U,f3:D,getPageInfo:au,getPageInfoByObjId:Vh,getCurrentPageInfo:Gh,getPDFVersion:m,Point:El,Rectangle:En,Matrix:Qt,hasHotfix:_n},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Il(G)},set:function(I){lu(G,I)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Ul(G)},set:function(I){oi(G,I)},enumerable:!0,configurable:!0}),(function(I){for(var Y=0,xe=Re.length;Y<xe;Y++){var we=zo.call(this,I[Y][0],I[Y][1],I[Y][2],Re[Y][3],!0);d===!1&&(h[we]=!0);var Se=I[Y][0].split("-");kd({id:we,fontName:Se[0],fontStyle:Se[1]||""})}ft.publish("addFonts",{fonts:ut,dictionary:He})}).call(f,Re),tt="F1",su(s,r),ft.publish("initialized"),f}Nf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Nf.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Nf.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Nf.prototype.processOwnerPassword=function(e,t){return O5(T5(t).substr(0,5),e)},Nf.prototype.encryptor=function(e,t){var r=T5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return O5(r,n)}},dp.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Tr(e)!==Tr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Ut.API={events:[]},Ut.version="3.0.3";var Pn=Ut.API,h4=1,Nd=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yt=function(e){return e.toFixed(2)},cA=function(e){return e.toFixed(5)};Pn.__acroform__={};var ti=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},k6=function(e){return e*h4},il=function(e){var t=new yD,r=yt.internal.getHeight(e)||0,n=yt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Yt(n)),Number(Yt(r))],t},ude=Pn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},dde=Pn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},fde=Pn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Hn=Pn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fde(e,t-1)},$n=Pn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ude(e,t-1)},Kn=Pn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return dde(e,t-1)},hde=Pn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],a=e[1],l=e[2],A=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(a+A)||0,c.upperRight_X=r(s+l)||0,c.upperRight_Y=n(a)||0,[Number(Yt(c.lowerLeft_X)),Number(Yt(c.lowerLeft_Y)),Number(Yt(c.upperRight_X)),Number(Yt(c.upperRight_Y))]},mde=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=L5(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Yt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=il(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},L5=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(U){return U.split(`
`)}):s.map(function(U){return[U]});var a=r,l=yt.internal.getHeight(e)||0;l=l<0?-l:l;var A=yt.internal.getWidth(e)||0;A=A<0?-A:A;var c=function(U,D,Q){if(U+1<s.length){var H=D+" "+s[U+1][0];return Cv(H,e,Q).width<=A-4}return!1};a++;e:for(;a>0;){t="",a--;var u,o,d=Cv("3",e,a).height,h=e.multiline?l-a:(l-d)/2,f=h+=2,g=0,m=0,x=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Cv(t,e,a=12).width+", FieldWidth:"+A+`
`;break}for(var p="",v=0,b=0;b<s.length;b++)if(s.hasOwnProperty(b)){var j=!1;if(s[b].length!==1&&x!==s[b].length-1){if((d+2)*(v+2)+2>l)continue e;p+=s[b][x],j=!0,m=b,b--}else{p=(p+=s[b][x]+" ").substr(p.length-1)==" "?p.substr(0,p.length-1):p;var k=parseInt(b),S=c(k,p,a),F=b>=s.length-1;if(S&&!F){p+=" ",x=0;continue}if(S||F){if(F)m=k;else if(e.multiline&&(d+2)*(v+2)+2>l)continue e}else{if(!e.multiline||(d+2)*(v+2)+2>l)continue e;m=k}}for(var T="",P=g;P<=m;P++){var R=s[P];if(e.multiline){if(P===m){T+=R[x]+" ",x=(x+1)%R.length;continue}if(P===g){T+=R[R.length-1]+" ";continue}}T+=R[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,o=Cv(T,e,a).width,e.textAlign){case"right":u=A-o-2;break;case"center":u=(A-o)/2;break;default:u=2}t+=Yt(u)+" "+Yt(f)+` Td
`,t+="("+Nd(T)+`) Tj
`,t+=-Yt(u)+` 0 Td
`,f=-(a+2),o=0,g=j?m:m+1,v++,p=""}break}return n.text=t,n.fontSize=a,n},Cv=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},pde={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gde=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},vde=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ho.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(pde)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");h4=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new wD,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var a=n[s];a.objId=void 0,a.hasAnnotation&&gde(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var a=!n;for(var l in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var A=n[l],c=[],u=A.Rect;if(A.Rect&&(A.Rect=hde(A.Rect,s)),s.internal.newObjectDeferredBegin(A.objId,!0),A.DA=yt.createDefaultAppearanceStream(A),Tr(A)==="object"&&typeof A.getKeyValueListForStream=="function"&&(c=A.getKeyValueListForStream()),A.Rect=u,A.hasAppearanceStream&&!A.appearanceStreamContent){var o=mde(A);c.push({key:"AP",value:"<</N "+o+">>"}),s.internal.acroformPlugin.xForms.push(o)}if(A.appearanceStreamContent){var d="";for(var h in A.appearanceStreamContent)if(A.appearanceStreamContent.hasOwnProperty(h)){var f=A.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var l in f)if(f.hasOwnProperty(l)){var g=f[l];typeof g=="function"&&(g=g.call(s,A)),d+="/"+l+" "+g+" ",s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g)}}else typeof(g=f)=="function"&&(g=g.call(s,A)),d+="/"+l+" "+g,s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g);d+=">>"}c.push({key:"AP",value:`<<
`+d+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:A.objId}),s.internal.out("endobj")}a&&function(m,x){for(var p in m)if(m.hasOwnProperty(p)){var v=p,b=m[p];x.internal.newObjectDeferredBegin(b.objId,!0),Tr(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete m[v]}}(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},bD=Pn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(l){return l};if(Array.isArray(e)){for(var s="[",a=0;a<e.length;a++)switch(a!==0&&(s+=" "),Tr(e[a])){case"boolean":case"number":case"object":s+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+Nd(n(e[a].toString()))+")"):s+=e[a].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},u2=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Nd(n(e))+")"},dl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};dl.prototype.toString=function(){return this.objId+" 0 R"},dl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},dl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:bD(s,this.objId,this.scope)}):s instanceof dl?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var yD=function(){dl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ti(yD,dl);var wD=function(){dl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Nd(r(e))+")"}},set:function(r){e=r}})};ti(wD,dl);var Ho=function e(){dl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute F supplied.');t=p}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Hn(t,3)},set:function(p){p?this.F=$n(t,3):this.F=Kn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute Ff supplied.');r=p}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(p){n=p!==void 0?p:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(p){n[0]=p}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(p){n[1]=p}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(p){n[2]=p}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(p){n[3]=p}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(p){switch(p){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=p;break;default:throw new Error('Invalid value "'+p+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof fb)return;a="FieldObject"+e.FieldNum++}var p=function(v){return v};return this.scope&&(p=this.scope.internal.getEncryptor(this.objId)),"("+Nd(p(a))+")"},set:function(p){a=p.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(p){a=p}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(p){l=p}});var A="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return A},set:function(p){A=p}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(p){c=p}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/h4:u},set:function(p){u=p}});var o="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return o},set:function(p){o=p}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof fb||this instanceof RA))return u2(d,this.objId,this.scope)},set:function(p){p=p.toString(),d=p}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ls==0?u2(h,this.objId,this.scope):h},set:function(p){p=p.toString(),h=this instanceof ls==0?p.substr(0,1)==="("?yf(p.substr(1,p.length-2)):yf(p):p}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ls==1?yf(h.substr(1,h.length-1)):h},set:function(p){p=p.toString(),h=this instanceof ls==1?"/"+p:p}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(p){this.V=p}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ls==0?u2(f,this.objId,this.scope):f},set:function(p){p=p.toString(),f=this instanceof ls==0?p.substr(0,1)==="("?yf(p.substr(1,p.length-2)):yf(p):p}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ls==1?yf(f.substr(1,f.length-1)):f},set:function(p){p=p.toString(),f=this instanceof ls==1?"/"+p:p}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(p){p=!!p,m=p}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(p){g=p}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,1)},set:function(p){p?this.Ff=$n(this.Ff,1):this.Ff=Kn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,2)},set:function(p){p?this.Ff=$n(this.Ff,2):this.Ff=Kn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,3)},set:function(p){p?this.Ff=$n(this.Ff,3):this.Ff=Kn(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(p){if([0,1,2].indexOf(p)===-1)throw new Error('Invalid value "'+p+'" for attribute Q supplied.');x=p}}),Object.defineProperty(this,"textAlign",{get:function(){var p;switch(x){case 0:default:p="left";break;case 1:p="center";break;case 2:p="right"}return p},configurable:!0,enumerable:!0,set:function(p){switch(p){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};ti(Ho,dl);var Yu=function(){Ho.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return bD(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(a,l,A){A||(A=1);for(var c,u=[];c=l.exec(a);)u.push(c[A]);return u}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,18)},set:function(r){r?this.Ff=$n(this.Ff,18):this.Ff=Kn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=$n(this.Ff,19):this.Ff=Kn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,20)},set:function(r){r?(this.Ff=$n(this.Ff,20),t.sort()):this.Ff=Kn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,22)},set:function(r){r?this.Ff=$n(this.Ff,22):this.Ff=Kn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,23)},set:function(r){r?this.Ff=$n(this.Ff,23):this.Ff=Kn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,27)},set:function(r){r?this.Ff=$n(this.Ff,27):this.Ff=Kn(this.Ff,27)}}),this.hasAppearanceStream=!1};ti(Yu,Ho);var Ju=function(){Yu.call(this),this.fontName="helvetica",this.combo=!1};ti(Ju,Yu);var Xu=function(){Ju.call(this),this.combo=!0};ti(Xu,Ju);var bm=function(){Xu.call(this),this.edit=!0};ti(bm,Xu);var ls=function(){Ho.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,15)},set:function(r){r?this.Ff=$n(this.Ff,15):this.Ff=Kn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,16)},set:function(r){r?this.Ff=$n(this.Ff,16):this.Ff=Kn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,17)},set:function(r){r?this.Ff=$n(this.Ff,17):this.Ff=Kn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,26)},set:function(r){r?this.Ff=$n(this.Ff,26):this.Ff=Kn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+Nd(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Tr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ti(ls,Ho);var ym=function(){ls.call(this),this.pushButton=!0};ti(ym,ls);var qu=function(){ls.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ti(qu,ls);var fb=function(){var e,t;Ho.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(A){return A};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),n)l.push("/"+a+" ("+Nd(s(n[a]))+")");return l.push(">>"),l.join(`
`)},set:function(s){Tr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ti(fb,Ho),qu.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},qu.prototype.createOption=function(e){var t=new fb;return t.Parent=this,t.optionName=e,this.Kids.push(t),xde.call(this.scope,t),t};var wm=function(){ls.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=yt.CheckBox.createAppearanceStream()};ti(wm,ls);var RA=function(){Ho.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,13)},set:function(t){t?this.Ff=$n(this.Ff,13):this.Ff=Kn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,21)},set:function(t){t?this.Ff=$n(this.Ff,21):this.Ff=Kn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,23)},set:function(t){t?this.Ff=$n(this.Ff,23):this.Ff=Kn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,24)},set:function(t){t?this.Ff=$n(this.Ff,24):this.Ff=Kn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,25)},set:function(t){t?this.Ff=$n(this.Ff,25):this.Ff=Kn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,26)},set:function(t){t?this.Ff=$n(this.Ff,26):this.Ff=Kn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ti(RA,Ho);var jm=function(){RA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,14)},set:function(e){e?this.Ff=$n(this.Ff,14):this.Ff=Kn(this.Ff,14)}}),this.password=!0};ti(jm,RA);var yt={CheckBox:{createAppearanceStream:function(){return{N:{On:yt.CheckBox.YesNormal},D:{On:yt.CheckBox.YesPushDown,Off:yt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=il(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=L5(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Yt(yt.internal.getWidth(e))+" "+Yt(yt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Yt(a.fontSize)+" Tf "+s),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=il(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],a=yt.internal.getHeight(e),l=yt.internal.getWidth(e),A=L5(e,e.caption);return s.push("1 g"),s.push("0 0 "+Yt(l)+" "+Yt(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Yt(l-1)+" "+Yt(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Yt(A.fontSize)+" Tf "+n),s.push(A.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=il(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Yt(yt.internal.getWidth(e))+" "+Yt(yt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:yt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=yt.RadioButton.Circle.YesNormal,t.D[e]=yt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=il(e);t.scope=e.scope;var r=[],n=yt.internal.getWidth(e)<=yt.internal.getHeight(e)?yt.internal.getWidth(e)/4:yt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=yt.internal.Bezier_C,a=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+cA(yt.internal.getWidth(e)/2)+" "+cA(yt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=il(e);t.scope=e.scope;var r=[],n=yt.internal.getWidth(e)<=yt.internal.getHeight(e)?yt.internal.getWidth(e)/4:yt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*yt.internal.Bezier_C).toFixed(5)),l=Number((n*yt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+cA(yt.internal.getWidth(e)/2)+" "+cA(yt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+cA(yt.internal.getWidth(e)/2)+" "+cA(yt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),r.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),r.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),r.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=il(e);t.scope=e.scope;var r=[],n=yt.internal.getWidth(e)<=yt.internal.getHeight(e)?yt.internal.getWidth(e)/4:yt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*yt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+cA(yt.internal.getWidth(e)/2)+" "+cA(yt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:yt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=yt.RadioButton.Cross.YesNormal,t.D[e]=yt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=il(e);t.scope=e.scope;var r=[],n=yt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Yt(yt.internal.getWidth(e)-2)+" "+Yt(yt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Yt(n.x1.x)+" "+Yt(n.x1.y)+" m"),r.push(Yt(n.x2.x)+" "+Yt(n.x2.y)+" l"),r.push(Yt(n.x4.x)+" "+Yt(n.x4.y)+" m"),r.push(Yt(n.x3.x)+" "+Yt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=il(e);t.scope=e.scope;var r=yt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Yt(yt.internal.getWidth(e))+" "+Yt(yt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Yt(yt.internal.getWidth(e)-2)+" "+Yt(yt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Yt(r.x1.x)+" "+Yt(r.x1.y)+" m"),n.push(Yt(r.x2.x)+" "+Yt(r.x2.y)+" l"),n.push(Yt(r.x4.x)+" "+Yt(r.x4.y)+" m"),n.push(Yt(r.x3.x)+" "+Yt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=il(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Yt(yt.internal.getWidth(e))+" "+Yt(yt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};yt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=yt.internal.getWidth(e),r=yt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},yt.internal.getWidth=function(e){var t=0;return Tr(e)==="object"&&(t=k6(e.Rect[2])),t},yt.internal.getHeight=function(e){var t=0;return Tr(e)==="object"&&(t=k6(e.Rect[3])),t};var xde=Pn.addField=function(e){if(vde(this,e),!(e instanceof Ho))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Pn.AcroFormChoiceField=Yu,Pn.AcroFormListBox=Ju,Pn.AcroFormComboBox=Xu,Pn.AcroFormEditBox=bm,Pn.AcroFormButton=ls,Pn.AcroFormPushButton=ym,Pn.AcroFormRadioButton=qu,Pn.AcroFormCheckBox=wm,Pn.AcroFormTextField=RA,Pn.AcroFormPasswordField=jm,Pn.AcroFormAppearance=yt,Pn.AcroForm={ChoiceField:Yu,ListBox:Ju,ComboBox:Xu,EditBox:bm,Button:ls,PushButton:ym,RadioButton:qu,CheckBox:wm,TextField:RA,PasswordField:jm,Appearance:yt},Ut.AcroForm={ChoiceField:Yu,ListBox:Ju,ComboBox:Xu,EditBox:bm,Button:ls,PushButton:ym,RadioButton:qu,CheckBox:wm,TextField:RA,PasswordField:jm,Appearance:yt};var bde=Ut.AcroForm;function jD(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(U,D){var Q,H,W,V,Z,K=r;if((D=D||r)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(S(U))for(Z in n)for(W=n[Z],Q=0;Q<W.length;Q+=1){for(V=!0,H=0;H<W[Q].length;H+=1)if(W[Q][H]!==void 0&&W[Q][H]!==U[H]){V=!1;break}if(V===!0){K=Z;break}}else for(Z in n)for(W=n[Z],Q=0;Q<W.length;Q+=1){for(V=!0,H=0;H<W[Q].length;H+=1)if(W[Q][H]!==void 0&&W[Q][H]!==U.charCodeAt(H)){V=!1;break}if(V===!0){K=Z;break}}return K===r&&D!==r&&(K=D),K},a=function U(D){for(var Q=this.internal.write,H=this.internal.putStream,W=(0,this.internal.getFilters)();W.indexOf("FlateEncode")!==-1;)W.splice(W.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:D.width}),V.push({key:"Height",value:D.height}),D.colorSpace===p.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===p.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)&&D.transparency.length>0){for(var Z="",K=0,X=D.transparency.length;K<X;K++)Z+=D.transparency[K]+" "+D.transparency[K]+" ";V.push({key:"Mask",value:"["+Z+"]"})}D.sMask!==void 0&&V.push({key:"SMask",value:D.objectId+1+" 0 R"});var le=D.filter!==void 0?["/"+D.filter]:void 0;if(H({data:D.data,additionalKeyValues:V,alreadyAppliedFilters:le,objectId:D.objectId}),Q("endobj"),"sMask"in D&&D.sMask!==void 0){var Ae,M=(Ae=D.sMaskBitsPerComponent)!==null&&Ae!==void 0?Ae:D.bitsPerComponent,G={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:D.sMask};"filter"in D&&(G.decodeParameters="/Predictor ".concat(D.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(D.width),G.filter=D.filter),U.call(this,G)}if(D.colorSpace===p.INDEXED){var re=this.internal.newObject();H({data:T(new Uint8Array(D.palette)),objectId:re}),Q("endobj")}},l=function(){var U=this.internal.collections[t+"images"];for(var D in U)a.call(this,U[D])},A=function(){var U,D=this.internal.collections[t+"images"],Q=this.internal.write;for(var H in D)Q("/I"+(U=D[H]).index,U.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",A))},u=function(){var U=this.internal.collections[t+"images"];return c.call(this),U},o=function(){return Object.keys(this.internal.collections[t+"images"]).length},d=function(U){return typeof e["process"+U.toUpperCase()]=="function"},h=function(U){return Tr(U)==="object"&&U.nodeType===1},f=function(U,D){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var Q=""+U.getAttribute("src");if(Q.indexOf("data:image/")===0)return Gv(unescape(Q).split("base64,").pop());var H=e.loadFile(Q,!0);if(H!==void 0)return H}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var W;switch(D){case"PNG":W="image/png";break;case"WEBP":W="image/webp";break;default:W="image/jpeg"}return Gv(U.toDataURL(W,1).split("base64,").pop())}},g=function(U){var D=this.internal.collections[t+"images"];if(D){for(var Q in D)if(U===D[Q].alias)return D[Q]}},m=function(U,D,Q){return U||D||(U=-96,D=-96),U<0&&(U=-1*Q.width*72/U/this.internal.scaleFactor),D<0&&(D=-1*Q.height*72/D/this.internal.scaleFactor),U===0&&(U=D*Q.width/Q.height),D===0&&(D=U*Q.height/Q.width),[U,D]},x=function(U,D,Q,H,W,V){var Z=m.call(this,Q,H,W),K=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,le=u.call(this);if(Q=Z[0],H=Z[1],le[W.index]=W,V){V*=Math.PI/180;var Ae=Math.cos(V),M=Math.sin(V),G=function(ne){return ne.toFixed(4)},re=[G(Ae),G(M),G(-1*M),G(Ae),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,K(U),X(D+H),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([K(Q),"0","0",K(H),"0","0","cm"].join(" "))):this.internal.write([K(Q),"0","0",K(H),K(U),X(D+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+W.index+" Do"),this.internal.write("Q")},p=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(U){var D,Q,H=0;if(typeof U=="string")for(Q=U.length,D=0;D<Q;D++)H=(H<<5)-H+U.charCodeAt(D),H|=0;else if(S(U))for(Q=U.byteLength/2,D=0;D<Q;D++)H=(H<<5)-H+U[D],H|=0;return H},j=e.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var D=!0;return U.length===0&&(D=!1),U.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(D=!1),D},k=e.__addimage__.extractImageFromDataUrl=function(U){if(U==null||!(U=U.trim()).startsWith("data:"))return null;var D=U.indexOf(",");return D<0?null:U.substring(0,D).trim().endsWith("base64")?U.substring(D+1):null};e.__addimage__.isArrayBuffer=function(U){return U instanceof ArrayBuffer};var S=e.__addimage__.isArrayBufferView=function(U){return U instanceof Int8Array||U instanceof Uint8Array||U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array},F=e.__addimage__.binaryStringToUint8Array=function(U){for(var D=U.length,Q=new Uint8Array(D),H=0;H<D;H++)Q[H]=U.charCodeAt(H);return Q},T=e.__addimage__.arrayBufferToBinaryString=function(U){for(var D="",Q=S(U)?U:new Uint8Array(U),H=0;H<Q.length;H+=8192)D+=String.fromCharCode.apply(null,Q.subarray(H,H+8192));return D};e.addImage=function(){var U,D,Q,H,W,V,Z,K,X;if(typeof arguments[1]=="number"?(D=r,Q=arguments[1],H=arguments[2],W=arguments[3],V=arguments[4],Z=arguments[5],K=arguments[6],X=arguments[7]):(D=arguments[1],Q=arguments[2],H=arguments[3],W=arguments[4],V=arguments[5],Z=arguments[6],K=arguments[7],X=arguments[8]),Tr(U=arguments[0])==="object"&&!h(U)&&"imageData"in U){var le=U;U=le.imageData,D=le.format||D||r,Q=le.x||Q||0,H=le.y||H||0,W=le.w||le.width||W,V=le.h||le.height||V,Z=le.alias||Z,K=le.compression||K,X=le.rotation||le.angle||X}var Ae=this.internal.getFilters();if(K===void 0&&Ae.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(Q)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var M=P.call(this,U,D,Z,K);return x.call(this,Q,H,W,V,M,X),this};var P=function(U,D,Q,H){var W,V,Z;if(typeof U=="string"&&s(U)===r){U=unescape(U);var K=R(U,!1);(K!==""||(K=e.loadFile(U,!0))!==void 0)&&(U=K)}if(h(U)&&(U=f(U,D)),D=s(U,D),!d(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((Z=Q)==null||Z.length===0)&&(Q=function(X){return typeof X=="string"||S(X)?b(X):S(X.data)?b(X.data):null}(U)),(W=g.call(this,Q))||(U instanceof Uint8Array||D==="RGBA"||(V=U,U=F(U)),W=this["process"+D.toUpperCase()](U,o.call(this),Q,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in e.image_compression?X:v.NONE}(H),V)),!W)throw new Error("An unknown error occurred whilst processing the image.");return W},R=e.__addimage__.convertBase64ToBinaryString=function(U,D){D=typeof D!="boolean"||D;var Q,H="";if(typeof U=="string"){var W;Q=(W=k(U))!==null&&W!==void 0?W:U;try{H=Gv(Q)}catch(V){if(D)throw j(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};e.getImageProperties=function(U){var D,Q,H="";if(h(U)&&(U=f(U)),typeof U=="string"&&s(U)===r&&((H=R(U,!1))===""&&(H=e.loadFile(U)||""),U=H),Q=s(U),!d(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(U instanceof Uint8Array||(U=F(U)),!(D=this["process"+Q.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=Q,D}})(Ut.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ut.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,a,l=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,o=!1,d=0;d<u.length&&!o;d++)switch((n=u[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(o=!0);break;case"reference":case"text":case"freetext":o=!0}if(o!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(m.objId),v=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+l(n.bounds.x)+" "+A(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+A(n.bounds.y)+"] ")+"/Contents ("+f(p(n.contents))+")",a+=" /Popup "+x.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+f(p(v))+") >>",m.content=a;var b=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+l(n.bounds.x+30)+" "+A(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+A(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(a+=" /Open true"),a+=" >>",x.content=a,this.internal.write(m.objId,"0 R",x.objId,"0 R");break;case"freetext":s="/Rect ["+l(n.bounds.x)+" "+A(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+A(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+f(g(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var S=A(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+S+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,a,l){var A=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;A.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+s),h:u(n+a)},options:l,type:"link"})},e.textWithLink=function(r,n,s,a){var l,A,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){A=a.maxWidth;var o=this.splitTextToSize(r,A).length;l=Math.ceil(u*o)}else A=c,l=u;return this.text(r,n,s,a),s+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,s-u,A,l,a),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ut.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},A=e.__arabicParser__.isArabicEndLetter=function(m){return l(m)&&a(m)&&t[m.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(m){return l(m)&&s.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return l(m)&&a(m)&&t[m.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return l(m)&&a(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return l(m)&&a(m)&&t[m.charCodeAt(0)].length>=3};var o=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return l(m)&&a(m)&&t[m.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(m){var x=0,p=r,v="",b=0;for(x=0;x<m.length;x+=1)p[m.charCodeAt(x)]!==void 0?(b++,typeof(p=p[m.charCodeAt(x)])=="number"&&(v+=String.fromCharCode(p),p=r,b=0),x===m.length-1&&(p=r,v+=m.charAt(x-(b-1)),x-=b-1,b=0)):(p=r,v+=m.charAt(x-b),x-=b,b=0);return v};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,x,p){return l(m)?a(m)===!1?-1:!u(m)||!l(x)&&!l(p)||!l(p)&&A(x)||A(m)&&!l(x)||A(m)&&c(x)||A(m)&&A(x)?0:o(m)&&l(x)&&!A(x)&&l(p)&&u(p)?3:A(m)||!l(p)?1:2:-1},f=function(m){var x=0,p=0,v=0,b="",j="",k="",S=(m=m||"").split("\\s+"),F=[];for(x=0;x<S.length;x+=1){for(F.push(""),p=0;p<S[x].length;p+=1)b=S[x][p],j=S[x][p-1],k=S[x][p+1],l(b)?(v=h(b,j,k),F[x]+=v!==-1?String.fromCharCode(t[b.charCodeAt(0)][v]):b):F[x]+=b;F[x]=d(F[x])}return F.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,p=[];if(Array.isArray(x)){var v=0;for(p=[],v=0;v<x.length;v+=1)Array.isArray(x[v])?p.push([f(x[v][0]),x[v][1],x[v][2]]):p.push([f(x[v])]);m=p}else m=f(x);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(Ut.API),Ut.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(A){r=A}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(A){n=isNaN(A)||Number.isInteger(A)===!1||A<0?150:A,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(A){s=isNaN(A)||Number.isInteger(A)===!1||A<0?300:A,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(A){a=A}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(A){l=A}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ut.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var o=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return o},set:function(m){o=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var o=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,f=0,g=0,m=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var p=u.maxWidth;p>0?typeof c=="string"?c=this.splitTextToSize(c,p):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,j){return b.concat(x.splitTextToSize(j,p))},[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)f<(m=this.getStringUnitWidth(c[v],{font:d})*o)&&(f=m);return f!==0&&(g=c.length),{w:f/=h,h:Math.max((g*o*this.getLineHeightFactor()-o*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=d.top,f&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-o,c.y+o,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+o,{align:"center",baseline:"top",maxWidth:c.width-o-o}):this.text(c.text,c.x+o,c.y+o,{align:"left",baseline:"top",maxWidth:c.width-o-o})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,o,d,h){if(n.call(this),!o)throw new Error("No data for PDF table.");var f,g,m,x,p=[],v=[],b=[],j={},k={},S=[],F=[],T=(h=h||{}).autoSize||!1,P=h.printHeaders!==!1,R=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,U=h.margins||Object.assign({width:this.getPageWidth()},t),D=typeof h.padding=="number"?h.padding:3,Q=h.headerBackgroundColor||"#c8c8c8",H=h.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=H,this.setFontSize(R),d==null)v=p=Object.keys(o[0]),b=p.map(function(){return"left"});else if(Array.isArray(d)&&Tr(d[0])==="object")for(p=d.map(function(le){return le.name}),v=d.map(function(le){return le.prompt||le.name||""}),b=d.map(function(le){return le.align||"left"}),f=0;f<d.length;f+=1)k[d[f].name]=.7499990551181103*d[f].width;else Array.isArray(d)&&typeof d[0]=="string"&&(v=p=d,b=p.map(function(){return"left"}));if(T||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<p.length;f+=1){for(j[x=p[f]]=o.map(function(le){return le[x]}),this.setFont(void 0,"bold"),S.push(this.getTextDimensions(v[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=j[x],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)S.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[x]=Math.max.apply(null,S)+D+D,S=[]}if(P){var W={};for(f=0;f<p.length;f+=1)W[p[f]]={},W[p[f]].text=v[f],W[p[f]].align=b[f];var V=A.call(this,W,k);F=p.map(function(le){return new a(c,u,k[le],V,W[le].text,void 0,W[le].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var Z=d.reduce(function(le,Ae){return le[Ae.name]=Ae.align,le},{});for(f=0;f<o.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:o[f]},this);var K=A.call(this,o[f],k);for(m=0;m<p.length;m+=1){var X=o[f][p[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:m,data:X},this),l.call(this,new a(c,u,k[p[m]],K,X,f+2,Z[p[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var A=function(c,u){var o=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(f){var g=c[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[f]-o-o)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+o+o},this).reduce(function(f,g){return Math.max(f,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var o;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){o=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(o.y=this.internal.__cell__.margins.top||0,h.push(o)),o.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,o),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Ut.API);var BD={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},CD=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Q5=jD(CD),ND=[100,200,300,400,500,600,700,800,900],yde=jD(ND);function d2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return BD[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),s=function(a){return typeof Q5[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function S6(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var wde={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function E6(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function F6(e){return e.trimLeft()}function jde(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Bde(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Nv,I6,U6,wf,kv,P6,T6,O6,f2=["times"];function L6(e,t,r,n,s){var a=4,l=D6;switch(s){case Ut.API.image_compression.FAST:a=1,l=Q6;break;case Ut.API.image_compression.MEDIUM:a=6,l=R6;break;case Ut.API.image_compression.SLOW:a=9,l=M6}e=function(c,u,o,d){for(var h,f=c.length/u,g=new Uint8Array(c.length+f),m=[Cde,Q6,D6,R6,M6],x=0;x<f;x+=1){var p=x*u,v=c.subarray(p,p+u);if(d)g.set(d(v,o,h),p+x);else{for(var b=m.length,j=[],k=0;k<b;k+=1)j[k]=m[k](v,o,h);var S=kde(j.concat());g.set(j[S],p+x)}h=v}return g}(e,t,Math.ceil(r*n/8),l);var A=C5(e,{level:a});return Ut.API.__addimage__.arrayBufferToBinaryString(A)}function Cde(e){var t=Array.apply([],e);return t.unshift(0),t}function Q6(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var a=e[s-t]||0;n[s+1]=e[s]-a+256&255}return n}function D6(e,t,r){var n=e.length,s=[];s[0]=2;for(var a=0;a<n;a+=1){var l=r&&r[a]||0;s[a+1]=e[a]-l+256&255}return s}function R6(e,t,r){var n=e.length,s=[];s[0]=3;for(var a=0;a<n;a+=1){var l=e[a-t]||0,A=r&&r[a]||0;s[a+1]=e[a]+256-(l+A>>>1)&255}return s}function M6(e,t,r){var n=e.length,s=[];s[0]=4;for(var a=0;a<n;a+=1){var l=Nde(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);s[a+1]=e[a]-l+256&255}return s}function Nde(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=s&&n<=a?e:s<=a?t:r}function kde(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function h2(e,t,r){var n=t*r,s=Math.floor(n/8),a=16-(n-8*s+r),l=(1<<r)-1;return kD(e,s)>>a&l}function H6(e,t,r,n){var s=r*n,a=Math.floor(s/8),l=16-(s-8*a+n),A=(1<<n)-1,c=(t&A)<<l;(function(u,o,d){if(o+1<u.byteLength)u.setUint16(o,d,!1);else{var h=d>>8&255;u.setUint8(o,h)}})(e,a,kD(e,a)&~(A<<l)&65535|c)}function kD(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Sde(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],a=s>>7,l=1<<1+(7&s);e[t++],e[t++];var A=null,c=null;a&&(A=t,c=l,t+=3*l);var u=!0,o=[],d=0,h=null,f=0,g=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],1&m||(h=null),f=m>>2&7,t++;break;case 254:for(;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,p=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,j=e[t++],k=j>>6&1,S=1<<1+(7&j),F=A,T=c,P=!1;j>>7&&(P=!0,F=t,T=S,t+=3*S);var R=t;for(t++;;){var U;if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}o.push({x,y:p,width:v,height:b,has_local_palette:P,palette_offset:F,palette_size:T,data_offset:R,data_length:t-R,transparent_index:h,interlaced:!!k,delay:d,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return o.length},this.loopCount=function(){return g},this.frameInfo=function(D){if(D<0||D>=o.length)throw new Error("Frame index out of range.");return o[D]},this.decodeAndBlitFrameBGRA=function(D,Q){var H=this.frameInfo(D),W=H.width*H.height,V=new Uint8Array(W);$6(e,H.data_offset,V,W);var Z=H.palette_offset,K=H.transparent_index;K===null&&(K=256);var X=H.width,le=r-X,Ae=X,M=4*(H.y*r+H.x),G=4*((H.y+H.height)*r+H.x),re=M,ne=4*le;H.interlaced===!0&&(ne+=4*r*7);for(var de=8,q=0,pe=V.length;q<pe;++q){var oe=V[q];if(Ae===0&&(Ae=X,(re+=ne)>=G&&(ne=4*le+4*r*(de-1),re=M+(X+le)*(de<<1),de>>=1)),oe===K)re+=4;else{var fe=e[Z+3*oe],ye=e[Z+3*oe+1],ue=e[Z+3*oe+2];Q[re++]=ue,Q[re++]=ye,Q[re++]=fe,Q[re++]=255}--Ae}},this.decodeAndBlitFrameRGBA=function(D,Q){var H=this.frameInfo(D),W=H.width*H.height,V=new Uint8Array(W);$6(e,H.data_offset,V,W);var Z=H.palette_offset,K=H.transparent_index;K===null&&(K=256);var X=H.width,le=r-X,Ae=X,M=4*(H.y*r+H.x),G=4*((H.y+H.height)*r+H.x),re=M,ne=4*le;H.interlaced===!0&&(ne+=4*r*7);for(var de=8,q=0,pe=V.length;q<pe;++q){var oe=V[q];if(Ae===0&&(Ae=X,(re+=ne)>=G&&(ne=4*le+4*r*(de-1),re=M+(X+le)*(de<<1),de>>=1)),oe===K)re+=4;else{var fe=e[Z+3*oe],ye=e[Z+3*oe+1],ue=e[Z+3*oe+2];Q[re++]=fe,Q[re++]=ye,Q[re++]=ue,Q[re++]=255}--Ae}}}function $6(e,t,r,n){for(var s=e[t++],a=1<<s,l=a+1,A=l+1,c=s+1,u=(1<<c)-1,o=0,d=0,h=0,f=e[t++],g=new Int32Array(4096),m=null;;){for(;o<16&&f!==0;)d|=e[t++]<<o,o+=8,f===1?f=e[t++]:--f;if(o<c)break;var x=d&u;if(d>>=c,o-=c,x!==a){if(x===l)break;for(var p=x<A?x:m,v=0,b=p;b>a;)b=g[b]>>8,++v;var j=b;if(h+v+(p!==x?1:0)>n)return void $r.log("Warning, gif stream longer than expected.");r[h++]=j;var k=h+=v;for(p!==x&&(r[h++]=j),b=p;v--;)b=g[b],r[--k]=255&b,b>>=8;m!==null&&A<4096&&(g[A++]=m<<8|j,A>=u+1&&c<12&&(++c,u=u<<1|1)),m=x}else A=l+1,u=(1<<(c=s+1))-1,m=null}return h!==n&&$r.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function m2(e){var t,r,n,s,a,l=Math.floor,A=new Array(64),c=new Array(64),u=new Array(64),o=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),g=new Array(64),m=[],x=0,p=7,v=new Array(64),b=new Array(64),j=new Array(64),k=new Array(256),S=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(M,G){for(var re=0,ne=0,de=new Array,q=1;q<=16;q++){for(var pe=1;pe<=M[q];pe++)de[G[ne]]=[],de[G[ne]][0]=re,de[G[ne]][1]=q,ne++,re++;re*=2}return de}function Z(M){for(var G=M[0],re=M[1]-1;re>=0;)G&1<<re&&(x|=1<<p),re--,--p<0&&(x==255?(K(255),K(0)):K(x),p=7,x=0)}function K(M){m.push(M)}function X(M){K(M>>8&255),K(255&M)}function le(M,G,re,ne,de){for(var q,pe=de[0],oe=de[240],fe=function(Oe,qe){var Ge,pt,nt,Lt,Xe,St,qt,Bt,tt,Ct,it=0;for(tt=0;tt<8;++tt){Ge=Oe[it],pt=Oe[it+1],nt=Oe[it+2],Lt=Oe[it+3],Xe=Oe[it+4],St=Oe[it+5],qt=Oe[it+6];var Rt=Ge+(Bt=Oe[it+7]),Tt=Ge-Bt,ut=pt+qt,He=pt-qt,at=nt+St,rt=nt-St,ot=Lt+Xe,At=Lt-Xe,or=Rt+ot,vr=Rt-ot,wt=ut+at,Ye=ut-at;Oe[it]=or+wt,Oe[it+4]=or-wt;var ft=.707106781*(Ye+vr);Oe[it+2]=vr+ft,Oe[it+6]=vr-ft;var Ht=.382683433*((or=At+rt)-(Ye=He+Tt)),$t=.5411961*or+Ht,Er=1.306562965*Ye+Ht,ms=.707106781*(wt=rt+He),Qt=Tt+ms,Pi=Tt-ms;Oe[it+5]=Pi+$t,Oe[it+3]=Pi-$t,Oe[it+1]=Qt+Er,Oe[it+7]=Qt-Er,it+=8}for(it=0,tt=0;tt<8;++tt){Ge=Oe[it],pt=Oe[it+8],nt=Oe[it+16],Lt=Oe[it+24],Xe=Oe[it+32],St=Oe[it+40],qt=Oe[it+48];var ho=Ge+(Bt=Oe[it+56]),Ba=Ge-Bt,na=pt+qt,It=pt-qt,hn=nt+St,On=nt-St,Cs=Lt+Xe,Ti=Lt-Xe,Ca=ho+Cs,ri=ho-Cs,ni=na+hn,Na=na-hn;Oe[it]=Ca+ni,Oe[it+32]=Ca-ni;var ka=.707106781*(Na+ri);Oe[it+16]=ri+ka,Oe[it+48]=ri-ka;var jl=.382683433*((Ca=Ti+On)-(Na=It+Ba)),Sa=.5411961*Ca+jl,Ko=1.306562965*Na+jl,Ec=.707106781*(ni=On+It),Fc=Ba+Ec,Ic=Ba-Ec;Oe[it+40]=Ic+Sa,Oe[it+24]=Ic-Sa,Oe[it+8]=Fc+Ko,Oe[it+56]=Fc-Ko,it++}for(tt=0;tt<64;++tt)Ct=Oe[tt]*qe[tt],f[tt]=Ct>0?Ct+.5|0:Ct-.5|0;return f}(M,G),ye=0;ye<64;++ye)g[F[ye]]=fe[ye];var ue=g[0]-re;re=g[0],ue==0?Z(ne[0]):(Z(ne[h[q=32767+ue]]),Z(d[q]));for(var _e=63;_e>0&&g[_e]==0;)_e--;if(_e==0)return Z(pe),re;for(var be,ie=1;ie<=_e;){for(var et=ie;g[ie]==0&&ie<=_e;)++ie;var ke=ie-et;if(ke>=16){be=ke>>4;for(var Re=1;Re<=be;++Re)Z(oe);ke&=15}q=32767+g[ie],Z(de[(ke<<4)+h[q]]),Z(d[q]),ie++}return _e!=63&&Z(pe),re}function Ae(M){M=Math.min(Math.max(M,1),100),a!=M&&(function(G){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var de=l((re[ne]*G+50)/100);de=Math.min(Math.max(de,1),255),A[F[ne]]=de}for(var q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var oe=l((q[pe]*G+50)/100);oe=Math.min(Math.max(oe,1),255),c[F[pe]]=oe}for(var fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,ue=0;ue<8;ue++)for(var _e=0;_e<8;_e++)u[ye]=1/(A[F[ye]]*fe[ue]*fe[_e]*8),o[ye]=1/(c[F[ye]]*fe[ue]*fe[_e]*8),ye++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),a=M)}this.encode=function(M,G){G&&Ae(G),m=new Array,x=0,p=7,X(65496),X(65504),X(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),X(1),X(1),K(0),K(0),function(){X(65499),X(132),K(0);for(var pt=0;pt<64;pt++)K(A[pt]);K(1);for(var nt=0;nt<64;nt++)K(c[nt])}(),function(pt,nt){X(65472),X(17),K(8),X(nt),X(pt),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(M.width,M.height),function(){X(65476),X(418),K(0);for(var pt=0;pt<16;pt++)K(T[pt+1]);for(var nt=0;nt<=11;nt++)K(P[nt]);K(16);for(var Lt=0;Lt<16;Lt++)K(R[Lt+1]);for(var Xe=0;Xe<=161;Xe++)K(U[Xe]);K(1);for(var St=0;St<16;St++)K(D[St+1]);for(var qt=0;qt<=11;qt++)K(Q[qt]);K(17);for(var Bt=0;Bt<16;Bt++)K(H[Bt+1]);for(var tt=0;tt<=161;tt++)K(W[tt])}(),X(65498),X(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var re=0,ne=0,de=0;x=0,p=7,this.encode.displayName="_encode_";for(var q,pe,oe,fe,ye,ue,_e,be,ie,et=M.data,ke=M.width,Re=M.height,Oe=4*ke,qe=0;qe<Re;){for(q=0;q<Oe;){for(ye=Oe*qe+q,_e=-1,be=0,ie=0;ie<64;ie++)ue=ye+(be=ie>>3)*Oe+(_e=4*(7&ie)),qe+be>=Re&&(ue-=Oe*(qe+1+be-Re)),q+_e>=Oe&&(ue-=q+_e-Oe+4),pe=et[ue++],oe=et[ue++],fe=et[ue++],v[ie]=(S[pe]+S[oe+256|0]+S[fe+512|0]>>16)-128,b[ie]=(S[pe+768|0]+S[oe+1024|0]+S[fe+1280|0]>>16)-128,j[ie]=(S[pe+1280|0]+S[oe+1536|0]+S[fe+1792|0]>>16)-128;re=le(v,u,re,t,n),ne=le(b,o,ne,r,s),de=le(j,o,de,r,s),q+=32}qe+=8}if(p>=0){var Ge=[];Ge[1]=p+1,Ge[0]=(1<<p+1)-1,Z(Ge)}return X(65497),new Uint8Array(m)},e=e||50,function(){for(var M=String.fromCharCode,G=0;G<256;G++)k[G]=M(G)}(),t=V(T,P),r=V(D,Q),n=V(R,U),s=V(H,W),function(){for(var M=1,G=2,re=1;re<=15;re++){for(var ne=M;ne<G;ne++)h[32767+ne]=re,d[32767+ne]=[],d[32767+ne][1]=re,d[32767+ne][0]=ne;for(var de=-(G-1);de<=-M;de++)h[32767+de]=re,d[32767+de]=[],d[32767+de][1]=re,d[32767+de][0]=G-1+de;M<<=1,G<<=1}}(),function(){for(var M=0;M<256;M++)S[M]=19595*M,S[M+256|0]=38470*M,S[M+512|0]=7471*M+32768,S[M+768|0]=-11059*M,S[M+1024|0]=-21709*M,S[M+1280|0]=32768*M+8421375,S[M+1536|0]=-27439*M,S[M+1792|0]=-5329*M}(),Ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function No(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function K6(e){function t(P){if(!P)throw Error("assert :P")}function r(P,R,U){for(var D=0;4>D;D++)if(P[R+D]!=U.charCodeAt(D))return!0;return!1}function n(P,R,U,D,Q){for(var H=0;H<Q;H++)P[R+H]=U[D+H]}function s(P,R,U,D){for(var Q=0;Q<D;Q++)P[R+Q]=U}function a(P){return new Int32Array(P)}function l(P,R){for(var U=[],D=0;D<P;D++)U.push(new R);return U}function A(P,R){var U=[];return function D(Q,H,W){for(var V=W[H],Z=0;Z<V&&(Q.push(W.length>H+1?[]:new R),!(W.length<H+1));Z++)D(Q[Z],H+1,W)}(U,0,P),U}var c=function(){var P=this;function R(w,_){for(var O=1<<_-1>>>0;w&O;)O>>>=1;return O?(w&O-1)+O:w}function U(w,_,O,$,J){t(!($%O));do w[_+($-=O)]=J;while(0<$)}function D(w,_,O,$,J){if(t(2328>=J),512>=J)var te=a(512);else if((te=a(J))==null)return 0;return function(se,ae,ce,ge,Be,Pe){var ve,je,Ee=ae,Le=1<<ce,Ue=a(16),De=a(16);for(t(Be!=0),t(ge!=null),t(se!=null),t(0<ce),je=0;je<Be;++je){if(15<ge[je])return 0;++Ue[ge[je]]}if(Ue[0]==Be)return 0;for(De[1]=0,ve=1;15>ve;++ve){if(Ue[ve]>1<<ve)return 0;De[ve+1]=De[ve]+Ue[ve]}for(je=0;je<Be;++je)ve=ge[je],0<ge[je]&&(Pe[De[ve]++]=je);if(De[15]==1)return(ge=new Q).g=0,ge.value=Pe[0],U(se,Ee,1,Le,ge),Le;var $e,We=-1,ze=Le-1,Ft=0,gt=1,Jt=1,Nt=1<<ce;for(je=0,ve=1,Be=2;ve<=ce;++ve,Be<<=1){if(gt+=Jt<<=1,0>(Jt-=Ue[ve]))return 0;for(;0<Ue[ve];--Ue[ve])(ge=new Q).g=ve,ge.value=Pe[je++],U(se,Ee+Ft,Be,Nt,ge),Ft=R(Ft,ve)}for(ve=ce+1,Be=2;15>=ve;++ve,Be<<=1){if(gt+=Jt<<=1,0>(Jt-=Ue[ve]))return 0;for(;0<Ue[ve];--Ue[ve]){if(ge=new Q,(Ft&ze)!=We){for(Ee+=Nt,$e=1<<(We=ve)-ce;15>We&&!(0>=($e-=Ue[We]));)++We,$e<<=1;Le+=Nt=1<<($e=We-ce),se[ae+(We=Ft&ze)].g=$e+ce,se[ae+We].value=Ee-ae-We}ge.g=ve-ce,ge.value=Pe[je++],U(se,Ee+(Ft>>ce),Be,Nt,ge),Ft=R(Ft,ve)}}return gt!=2*De[15]-1?0:Le}(w,_,O,$,J,te)}function Q(){this.value=this.g=0}function H(){this.value=this.g=0}function W(){this.G=l(5,Q),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Ai,H)}function V(w,_,O,$){t(w!=null),t(_!=null),t(2147483648>$),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=_,w.pa=O,w.Jd=_,w.Yc=O+$,w.Zc=4<=$?O+$-4+1:O,pe(w)}function Z(w,_){for(var O=0;0<_--;)O|=fe(w,128)<<_;return O}function K(w,_){var O=Z(w,_);return oe(w)?-O:O}function X(w,_,O,$){var J,te=0;for(t(w!=null),t(_!=null),t(4294967288>$),w.Sb=$,w.Ra=0,w.u=0,w.h=0,4<$&&($=4),J=0;J<$;++J)te+=_[O+J]<<8*J;w.Ra=te,w.bb=$,w.oa=_,w.pa=O}function le(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<bo-8>>>0,++w.bb,w.u-=8;ne(w)&&(w.h=1,w.u=0)}function Ae(w,_){if(t(0<=_),!w.h&&_<=Hs){var O=re(w)&er[_];return w.u+=_,le(w),O}return w.h=1,w.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function re(w){return w.Ra>>>(w.u&bo-1)>>>0}function ne(w){return t(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>bo}function de(w,_){w.u=_,w.h=ne(w)}function q(w){w.u>=Ri&&(t(w.u>=Ri),le(w))}function pe(w){t(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(t(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function oe(w){return Z(w,1)}function fe(w,_){var O=w.Ca;0>w.b&&pe(w);var $=w.b,J=O*_>>>8,te=(w.I>>>$>J)+0;for(te?(O-=J,w.I-=J+1<<$>>>0):O=J+1,$=O,J=0;256<=$;)J+=8,$>>=8;return $=7^J+yo[$],w.b-=$,w.Ca=(O<<$)-1,te}function ye(w,_,O){w[_+0]=O>>24&255,w[_+1]=O>>16&255,w[_+2]=O>>8&255,w[_+3]=255&O}function ue(w,_){return w[_+0]|w[_+1]<<8}function _e(w,_){return ue(w,_)|w[_+2]<<16}function be(w,_){return ue(w,_)|ue(w,_+2)<<16}function ie(w,_){var O=1<<_;return t(w!=null),t(0<_),w.X=a(O),w.X==null?0:(w.Mb=32-_,w.Xa=_,1)}function et(w,_){t(w!=null),t(_!=null),t(w.Xa==_.Xa),n(_.X,0,w.X,0,1<<_.Xa)}function ke(){this.X=[],this.Xa=this.Mb=0}function Re(w,_,O,$){t(O!=null),t($!=null);var J=O[0],te=$[0];return J==0&&(J=(w*te+_/2)/_),te==0&&(te=(_*J+w/2)/w),0>=J||0>=te?0:(O[0]=J,$[0]=te,1)}function Oe(w,_){return w+(1<<_)-1>>>_}function qe(w,_){return((4278255360&w)+(4278255360&_)>>>0&4278255360)+((16711935&w)+(16711935&_)>>>0&16711935)>>>0}function Ge(w,_){P[_]=function(O,$,J,te,se,ae,ce){var ge;for(ge=0;ge<se;++ge){var Be=P[w](ae[ce+ge-1],J,te+ge);ae[ce+ge]=qe(O[$+ge],Be)}}}function pt(){this.ud=this.hd=this.jd=0}function nt(w,_){return((4278124286&(w^_))>>>1)+(w&_)>>>0}function Lt(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Xe(w,_){return Lt(w+(w-_+.5>>1))}function St(w,_,O){return Math.abs(_-O)-Math.abs(w-O)}function qt(w,_,O,$,J,te,se){for($=te[se-1],O=0;O<J;++O)te[se+O]=$=qe(w[_+O],$)}function Bt(w,_,O,$,J){var te;for(te=0;te<O;++te){var se=w[_+te],ae=se>>8&255,ce=16711935&(ce=(ce=16711935&se)+((ae<<16)+ae));$[J+te]=(4278255360&se)+ce>>>0}}function tt(w,_){_.jd=255&w,_.hd=w>>8&255,_.ud=w>>16&255}function Ct(w,_,O,$,J,te){var se;for(se=0;se<$;++se){var ae=_[O+se],ce=ae>>>8,ge=ae,Be=255&(Be=(Be=ae>>>16)+((w.jd<<24>>24)*(ce<<24>>24)>>>5));ge=255&(ge=(ge+=(w.hd<<24>>24)*(ce<<24>>24)>>>5)+((w.ud<<24>>24)*(Be<<24>>24)>>>5)),J[te+se]=(4278255360&ae)+(Be<<16)+ge}}function it(w,_,O,$,J){P[_]=function(te,se,ae,ce,ge,Be,Pe,ve,je){for(ce=Pe;ce<ve;++ce)for(Pe=0;Pe<je;++Pe)ge[Be++]=J(ae[$(te[se++])])},P[w]=function(te,se,ae,ce,ge,Be,Pe){var ve=8>>te.b,je=te.Ea,Ee=te.K[0],Le=te.w;if(8>ve)for(te=(1<<te.b)-1,Le=(1<<ve)-1;se<ae;++se){var Ue,De=0;for(Ue=0;Ue<je;++Ue)Ue&te||(De=$(ce[ge++])),Be[Pe++]=J(Ee[De&Le]),De>>=ve}else P["VP8LMapColor"+O](ce,ge,Ee,Le,Be,Pe,se,ae,je)}}function Rt(w,_,O,$,J){for(O=_+O;_<O;){var te=w[_++];$[J++]=te>>16&255,$[J++]=te>>8&255,$[J++]=255&te}}function Tt(w,_,O,$,J){for(O=_+O;_<O;){var te=w[_++];$[J++]=te>>16&255,$[J++]=te>>8&255,$[J++]=255&te,$[J++]=te>>24&255}}function ut(w,_,O,$,J){for(O=_+O;_<O;){var te=(se=w[_++])>>16&240|se>>12&15,se=240&se|se>>28&15;$[J++]=te,$[J++]=se}}function He(w,_,O,$,J){for(O=_+O;_<O;){var te=(se=w[_++])>>16&248|se>>13&7,se=se>>5&224|se>>3&31;$[J++]=te,$[J++]=se}}function at(w,_,O,$,J){for(O=_+O;_<O;){var te=w[_++];$[J++]=255&te,$[J++]=te>>8&255,$[J++]=te>>16&255}}function rt(w,_,O,$,J,te){if(te==0)for(O=_+O;_<O;)ye($,((te=w[_++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),J+=32;else n($,J,w,_,O)}function ot(w,_){P[_][0]=P[w+"0"],P[_][1]=P[w+"1"],P[_][2]=P[w+"2"],P[_][3]=P[w+"3"],P[_][4]=P[w+"4"],P[_][5]=P[w+"5"],P[_][6]=P[w+"6"],P[_][7]=P[w+"7"],P[_][8]=P[w+"8"],P[_][9]=P[w+"9"],P[_][10]=P[w+"10"],P[_][11]=P[w+"11"],P[_][12]=P[w+"12"],P[_][13]=P[w+"13"],P[_][14]=P[w+"0"],P[_][15]=P[w+"0"]}function At(w){return w==c0||w==A0||w==Vd||w==Wc}function or(){this.eb=[],this.size=this.A=this.fb=0}function vr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new or,this.f.kb=new vr,this.sd=null}function Ye(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ft(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ht(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function $t(w,_){var O=w.T,$=_.ba.f.RGBA,J=$.eb,te=$.fb+w.ka*$.A,se=La[_.ba.S],ae=w.y,ce=w.O,ge=w.f,Be=w.N,Pe=w.ea,ve=w.W,je=_.cc,Ee=_.dc,Le=_.Mc,Ue=_.Nc,De=w.ka,$e=w.ka+w.T,We=w.U,ze=We+1>>1;for(De==0?se(ae,ce,null,null,ge,Be,Pe,ve,ge,Be,Pe,ve,J,te,null,null,We):(se(_.ec,_.fc,ae,ce,je,Ee,Le,Ue,ge,Be,Pe,ve,J,te-$.A,J,te,We),++O);De+2<$e;De+=2)je=ge,Ee=Be,Le=Pe,Ue=ve,Be+=w.Rc,ve+=w.Rc,te+=2*$.A,se(ae,(ce+=2*w.fa)-w.fa,ae,ce,je,Ee,Le,Ue,ge,Be,Pe,ve,J,te-$.A,J,te,We);return ce+=w.fa,w.j+$e<w.o?(n(_.ec,_.fc,ae,ce,We),n(_.cc,_.dc,ge,Be,ze),n(_.Mc,_.Nc,Pe,ve,ze),O--):1&$e||se(ae,ce,null,null,ge,Be,Pe,ve,ge,Be,Pe,ve,J,te+$.A,null,null,We),O}function Er(w,_,O){var $=w.F,J=[w.J];if($!=null){var te=w.U,se=_.ba.S,ae=se==zd||se==Vd;_=_.ba.f.RGBA;var ce=[0],ge=w.ka;ce[0]=w.T,w.Kb&&(ge==0?--ce[0]:(--ge,J[0]-=w.width),w.j+w.ka+w.T==w.o&&(ce[0]=w.o-w.j-ge));var Be=_.eb;ge=_.fb+ge*_.A,w=l0($,J[0],w.width,te,ce,Be,ge+(ae?0:3),_.A),t(O==ce),w&&At(se)&&Vc(Be,ge,ae,te,ce,_.A)}return 0}function ms(w){var _=w.ma,O=_.ba.S,$=11>O,J=O==$d||O==Kd||O==zd||O==Gc||O==12||At(O);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!gn(_.Oa,w,J?11:12))return 0;if(J&&At(O)&&Qd(),w.da)alert("todo:use_scaling");else{if($){if(_.Ib=Ht,w.Kb){if(O=w.U+1>>1,_.memory=a(w.U+2*O),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+w.U,_.Mc=_.cc,_.Nc=_.dc+O,_.Ib=$t,Qd()}}else alert("todo:EmitYUV");J&&(_.Jb=Er,$&&Ia())}if($&&!sg){for(w=0;256>w;++w)i1[w]=89858*(w-128)+Yd>>Wd,c1[w]=-22014*(w-128)+Yd,l1[w]=-45773*(w-128),o1[w]=113618*(w-128)+Yd>>Wd;for(w=Zo;w<f0;++w)_=76283*(w-16)+Yd>>Wd,A1[w-Zo]=Fr(_,255),u1[w-Zo]=Fr(_+8>>4,15);sg=1}return 1}function Qt(w){var _=w.ma,O=w.U,$=w.T;return t(!(1&w.ka)),0>=O||0>=$?0:(O=_.Ib(w,_),_.Jb!=null&&_.Jb(w,_,O),_.Dc+=O,1)}function Pi(w){w.ma.memory=null}function ho(w,_,O,$){return Ae(w,8)!=47?0:(_[0]=Ae(w,14)+1,O[0]=Ae(w,14)+1,$[0]=Ae(w,1),Ae(w,3)!=0?0:!w.h)}function Ba(w,_){if(4>w)return w+1;var O=w-2>>1;return(2+(1&w)<<O)+Ae(_,O)+1}function na(w,_){return 120<_?_-120:1<=(O=((O=Gy[_-1])>>4)*w+(8-(15&O)))?O:1;var O}function It(w,_,O){var $=re(O),J=w[_+=255&$].g-8;return 0<J&&(de(O,O.u+8),$=re(O),_+=w[_].value,_+=$&(1<<J)-1),de(O,O.u+w[_].g),w[_].value}function hn(w,_,O){return O.g+=w.g,O.value+=w.value<<_>>>0,t(8>=O.g),w.g}function On(w,_,O){var $=w.xc;return t((_=$==0?0:w.vc[w.md*(O>>$)+(_>>$)])<w.Wb),w.Ya[_]}function Cs(w,_,O,$){var J=w.ab,te=w.c*_,se=w.C;_=se+_;var ae=O,ce=$;for($=w.Ta,O=w.Ua;0<J--;){var ge=w.gc[J],Be=se,Pe=_,ve=ae,je=ce,Ee=(ce=$,ae=O,ge.Ea);switch(t(Be<Pe),t(Pe<=ge.nc),ge.hc){case 2:tn(ve,je,(Pe-Be)*Ee,ce,ae);break;case 0:var Le=Be,Ue=Pe,De=ce,$e=ae,We=(Nt=ge).Ea;Le==0&&(Jo(ve,je,null,null,1,De,$e),qt(ve,je+1,0,0,We-1,De,$e+1),je+=We,$e+=We,++Le);for(var ze=1<<Nt.b,Ft=ze-1,gt=Oe(We,Nt.b),Jt=Nt.K,Nt=Nt.w+(Le>>Nt.b)*gt;Le<Ue;){var rr=Jt,Un=Nt,Ke=1;for(Ql(ve,je,De,$e-We,1,De,$e);Ke<We;){var kt=(Ke&~Ft)+ze;kt>We&&(kt=We),(0,Ua[rr[Un++]>>8&15])(ve,je+ +Ke,De,$e+Ke-We,kt-Ke,De,$e+Ke),Ke=kt}je+=We,$e+=We,++Le&Ft||(Nt+=gt)}Pe!=ge.nc&&n(ce,ae-Ee,ce,ae+(Pe-Be-1)*Ee,Ee);break;case 1:for(Ee=ve,Ue=je,We=(ve=ge.Ea)-($e=ve&~(De=(je=1<<ge.b)-1)),Le=Oe(ve,ge.b),ze=ge.K,ge=ge.w+(Be>>ge.b)*Le;Be<Pe;){for(Ft=ze,gt=ge,Jt=new pt,Nt=Ue+$e,rr=Ue+ve;Ue<Nt;)tt(Ft[gt++],Jt),$c(Jt,Ee,Ue,je,ce,ae),Ue+=je,ae+=je;Ue<rr&&(tt(Ft[gt++],Jt),$c(Jt,Ee,Ue,We,ce,ae),Ue+=We,ae+=We),++Be&De||(ge+=Le)}break;case 3:if(ve==ce&&je==ae&&0<ge.b){for(Ue=ce,ve=Ee=ae+(Pe-Be)*Ee-($e=(Pe-Be)*Oe(ge.Ea,ge.b)),je=ce,De=ae,Le=[],$e=(We=$e)-1;0<=$e;--$e)Le[$e]=je[De+$e];for($e=We-1;0<=$e;--$e)Ue[ve+$e]=Le[$e];ks(ge,Be,Pe,ce,Ee,ce,ae)}else ks(ge,Be,Pe,ve,je,ce,ae)}ae=$,ce=O}ce!=O&&n($,O,ae,ce,te)}function Ti(w,_){var O=w.V,$=w.Ba+w.c*w.C,J=_-w.C;if(t(_<=w.l.o),t(16>=J),0<J){var te=w.l,se=w.Ta,ae=w.Ua,ce=te.width;if(Cs(w,J,O,$),J=ae=[ae],t((O=w.C)<($=_)),t(te.v<te.va),$>te.o&&($=te.o),O<te.j){var ge=te.j-O;O=te.j,J[0]+=ge*ce}if(O>=$?O=0:(J[0]+=4*te.v,te.ka=O-te.j,te.U=te.va-te.v,te.T=$-O,O=1),O){if(ae=ae[0],11>(O=w.ca).S){var Be=O.f.RGBA,Pe=($=O.S,J=te.U,te=te.T,ge=Be.eb,Be.A),ve=te;for(Be=Be.fb+w.Ma*Be.A;0<ve--;){var je=se,Ee=ae,Le=J,Ue=ge,De=Be;switch($){case Hd:Kc(je,Ee,Le,Ue,De);break;case $d:Mi(je,Ee,Le,Ue,De);break;case c0:Mi(je,Ee,Le,Ue,De),Vc(Ue,De,0,Le,1,0);break;case Ml:ui(je,Ee,Le,Ue,De);break;case Kd:rt(je,Ee,Le,Ue,De,1);break;case A0:rt(je,Ee,Le,Ue,De,1),Vc(Ue,De,0,Le,1,0);break;case zd:rt(je,Ee,Le,Ue,De,0);break;case Vd:rt(je,Ee,Le,Ue,De,0),Vc(Ue,De,1,Le,1,0);break;case Gc:wo(je,Ee,Le,Ue,De);break;case Wc:wo(je,Ee,Le,Ue,De),o0(Ue,De,Le,1,0);break;case Jp:Xo(je,Ee,Le,Ue,De);break;default:t(0)}ae+=ce,Be+=Pe}w.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");t(w.Ma<=O.height)}}w.C=_,t(w.C<=w.i)}function Ca(w){var _;if(0<w.ua)return 0;for(_=0;_<w.Wb;++_){var O=w.Ya[_].G,$=w.Ya[_].H;if(0<O[1][$[1]+0].g||0<O[2][$[2]+0].g||0<O[3][$[3]+0].g)return 0}return 1}function ri(w,_,O,$,J,te){if(w.Z!=0){var se=w.qd,ae=w.rd;for(t(jo[w.Z]!=null);_<O;++_)jo[w.Z](se,ae,$,J,$,J,te),se=$,ae=J,J+=te;w.qd=se,w.rd=ae}}function ni(w,_){var O=w.l.ma,$=O.Z==0||O.Z==1?w.l.j:w.C;if($=w.C<$?$:w.C,t(_<=w.l.o),_>$){var J=w.l.width,te=O.ca,se=O.tb+J*$,ae=w.V,ce=w.Ba+w.c*$,ge=w.gc;t(w.ab==1),t(ge[0].hc==3),es(ge[0],$,_,ae,ce,te,se),ri(O,$,_,te,se,J)}w.C=w.Ma=_}function Na(w,_,O,$,J,te,se){var ae=w.$/$,ce=w.$%$,ge=w.m,Be=w.s,Pe=O+w.$,ve=Pe;J=O+$*J;var je=O+$*te,Ee=280+Be.ua,Le=w.Pb?ae:16777216,Ue=0<Be.ua?Be.Wa:null,De=Be.wc,$e=Pe<je?On(Be,ce,ae):null;t(w.C<te),t(je<=J);var We=!1;e:for(;;){for(;We||Pe<je;){var ze=0;if(ae>=Le){var Ft=Pe-O;t((Le=w).Pb),Le.wd=Le.m,Le.xd=Ft,0<Le.s.ua&&et(Le.s.Wa,Le.s.vb),Le=ae+Yy}if(ce&De||($e=On(Be,ce,ae)),t($e!=null),$e.Qb&&(_[Pe]=$e.qb,We=!0),!We)if(q(ge),$e.jc){ze=ge,Ft=_;var gt=Pe,Jt=$e.pd[re(ze)&Ai-1];t($e.jc),256>Jt.g?(de(ze,ze.u+Jt.g),Ft[gt]=Jt.value,ze=0):(de(ze,ze.u+Jt.g-256),t(256<=Jt.value),ze=Jt.value),ze==0&&(We=!0)}else ze=It($e.G[0],$e.H[0],ge);if(ge.h)break;if(We||256>ze){if(!We)if($e.nd)_[Pe]=($e.qb|ze<<8)>>>0;else{if(q(ge),We=It($e.G[1],$e.H[1],ge),q(ge),Ft=It($e.G[2],$e.H[2],ge),gt=It($e.G[3],$e.H[3],ge),ge.h)break;_[Pe]=(gt<<24|We<<16|ze<<8|Ft)>>>0}if(We=!1,++Pe,++ce>=$&&(ce=0,++ae,se!=null&&ae<=te&&!(ae%16)&&se(w,ae),Ue!=null))for(;ve<Pe;)ze=_[ve++],Ue.X[(506832829*ze&4294967295)>>>Ue.Mb]=ze}else if(280>ze){if(ze=Ba(ze-256,ge),Ft=It($e.G[4],$e.H[4],ge),q(ge),Ft=na($,Ft=Ba(Ft,ge)),ge.h)break;if(Pe-O<Ft||J-Pe<ze)break e;for(gt=0;gt<ze;++gt)_[Pe+gt]=_[Pe+gt-Ft];for(Pe+=ze,ce+=ze;ce>=$;)ce-=$,++ae,se!=null&&ae<=te&&!(ae%16)&&se(w,ae);if(t(Pe<=J),ce&De&&($e=On(Be,ce,ae)),Ue!=null)for(;ve<Pe;)ze=_[ve++],Ue.X[(506832829*ze&4294967295)>>>Ue.Mb]=ze}else{if(!(ze<Ee))break e;for(We=ze-280,t(Ue!=null);ve<Pe;)ze=_[ve++],Ue.X[(506832829*ze&4294967295)>>>Ue.Mb]=ze;ze=Pe,t(!(We>>>(Ft=Ue).Xa)),_[ze]=Ft.X[We],We=!0}We||t(ge.h==ne(ge))}if(w.Pb&&ge.h&&Pe<J)t(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&et(w.s.vb,w.s.Wa);else{if(ge.h)break e;se!=null&&se(w,ae>te?te:ae),w.a=0,w.$=Pe-O}return 1}return w.a=3,0}function ka(w){t(w!=null),w.vc=null,w.yc=null,w.Ya=null;var _=w.Wa;_!=null&&(_.X=null),w.vb=null,t(w!=null)}function jl(){var w=new _t;return w==null?null:(w.a=0,w.xb=Zp,ot("Predictor","VP8LPredictors"),ot("Predictor","VP8LPredictors_C"),ot("PredictorAdd","VP8LPredictorsAdd"),ot("PredictorAdd","VP8LPredictorsAdd_C"),tn=Bt,$c=Ct,Kc=Rt,Mi=Tt,wo=ut,Xo=He,ui=at,P.VP8LMapColor32b=Zn,P.VP8LMapColor8b=rn,w)}function Sa(w,_,O,$,J){var te=1,se=[w],ae=[_],ce=$.m,ge=$.s,Be=null,Pe=0;e:for(;;){if(O)for(;te&&Ae(ce,1);){var ve=se,je=ae,Ee=$,Le=1,Ue=Ee.m,De=Ee.gc[Ee.ab],$e=Ae(Ue,2);if(Ee.Oc&1<<$e)te=0;else{switch(Ee.Oc|=1<<$e,De.hc=$e,De.Ea=ve[0],De.nc=je[0],De.K=[null],++Ee.ab,t(4>=Ee.ab),$e){case 0:case 1:De.b=Ae(Ue,3)+2,Le=Sa(Oe(De.Ea,De.b),Oe(De.nc,De.b),0,Ee,De.K),De.K=De.K[0];break;case 3:var We,ze=Ae(Ue,8)+1,Ft=16<ze?0:4<ze?1:2<ze?2:3;if(ve[0]=Oe(De.Ea,Ft),De.b=Ft,We=Le=Sa(ze,1,0,Ee,De.K)){var gt,Jt=ze,Nt=De,rr=1<<(8>>Nt.b),Un=a(rr);if(Un==null)We=0;else{var Ke=Nt.K[0],kt=Nt.w;for(Un[0]=Nt.K[0][0],gt=1;gt<1*Jt;++gt)Un[gt]=qe(Ke[kt+gt],Un[gt-1]);for(;gt<4*rr;++gt)Un[gt]=0;Nt.K[0]=null,Nt.K[0]=Un,We=1}}Le=We;break;case 2:break;default:t(0)}te=Le}}if(se=se[0],ae=ae[0],te&&Ae(ce,1)&&!(te=1<=(Pe=Ae(ce,4))&&11>=Pe)){$.a=3;break e}var st;if(st=te)t:{var Jr,Dt,cr,Dr=$,xn=se,Gn=ae,nn=Pe,gs=O,Ss=Dr.m,Hr=Dr.s,nr=[null],pr=1,sn=0,xr=Wy[nn];r:for(;;){if(gs&&Ae(Ss,1)){var ts=Ae(Ss,3)+2,oa=Oe(xn,ts),bn=Oe(Gn,ts),$s=oa*bn;if(!Sa(oa,bn,0,Dr,nr))break r;for(nr=nr[0],Hr.xc=ts,Jr=0;Jr<$s;++Jr){var Ur=nr[Jr]>>8&65535;nr[Jr]=Ur,Ur>=pr&&(pr=Ur+1)}}if(Ss.h)break r;for(Dt=0;5>Dt;++Dt){var Qn=Xp[Dt];!Dt&&0<nn&&(Qn+=1<<nn),sn<Qn&&(sn=Qn)}var la=l(pr*xr,Q),_s=pr,ca=l(_s,W);if(ca==null)var Aa=null;else t(65536>=_s),Aa=ca;var Es=a(sn);if(Aa==null||Es==null||la==null){Dr.a=1;break r}var ua=la;for(Jr=cr=0;Jr<pr;++Jr){var Rr=Aa[Jr],da=Rr.G,Qa=Rr.H,Hl=0,Da=1,rs=0;for(Dt=0;5>Dt;++Dt){Qn=Xp[Dt],da[Dt]=ua,Qa[Dt]=cr,!Dt&&0<nn&&(Qn+=1<<nn);s:{var Jc,fu=Qn,hu=Dr,Xc=Es,f1=ua,lg=cr,mu=0,$i=hu.m,cg=Ae($i,1);if(s(Xc,0,0,fu),cg){var Ag=Ae($i,1)+1,ug=Ae($i,1),h0=Ae($i,ug==0?1:8);Xc[h0]=1,Ag==2&&(Xc[h0=Ae($i,8)]=1);var qc=1}else{var dg=a(19),fg=Ae($i,4)+4;if(19<fg){hu.a=3;var Xd=0;break s}for(Jc=0;Jc<fg;++Jc)dg[Gd[Jc]]=Ae($i,3);var Ks=void 0,$l=void 0,hg=hu,h1=dg,qd=fu,mg=Xc,m0=0,el=hg.m,pg=8,gg=l(128,Q);n:for(;D(gg,0,7,h1,19);){if(Ae(el,1)){var m1=2+2*Ae(el,3);if((Ks=2+Ae(el,m1))>qd)break n}else Ks=qd;for($l=0;$l<qd&&Ks--;){q(el);var p0=gg[0+(127&re(el))];de(el,el.u+p0.g);var Zc=p0.value;if(16>Zc)mg[$l++]=Zc,Zc!=0&&(pg=Zc);else{var g0=Zc==16,v0=Zc-16,ns=zy[v0],eA=Ae(el,Ky[v0])+ns;if($l+eA>qd)break n;for(var p1=g0?pg:0;0<eA--;)mg[$l++]=p1}}m0=1;break n}m0||(hg.a=3),qc=m0}(qc=qc&&!$i.h)&&(mu=D(f1,lg,8,Xc,fu)),qc&&mu!=0?Xd=mu:(hu.a=3,Xd=0)}if(Xd==0)break r;if(Da&&Vy[Dt]==1&&(Da=ua[cr].g==0),Hl+=ua[cr].g,cr+=Xd,3>=Dt){var pu,Zd=Es[0];for(pu=1;pu<Qn;++pu)Es[pu]>Zd&&(Zd=Es[pu]);rs+=Zd}}if(Rr.nd=Da,Rr.Qb=0,Da&&(Rr.qb=(da[3][Qa[3]+0].value<<24|da[1][Qa[1]+0].value<<16|da[2][Qa[2]+0].value)>>>0,Hl==0&&256>da[0][Qa[0]+0].value&&(Rr.Qb=1,Rr.qb+=da[0][Qa[0]+0].value<<8)),Rr.jc=!Rr.Qb&&6>rs,Rr.jc){var tA,Bo=Rr;for(tA=0;tA<Ai;++tA){var tl=tA,rl=Bo.pd[tl],ef=Bo.G[0][Bo.H[0]+tl];256<=ef.value?(rl.g=ef.g+256,rl.value=ef.value):(rl.g=0,rl.value=0,tl>>=hn(ef,8,rl),tl>>=hn(Bo.G[1][Bo.H[1]+tl],16,rl),tl>>=hn(Bo.G[2][Bo.H[2]+tl],0,rl),hn(Bo.G[3][Bo.H[3]+tl],24,rl))}}}Hr.vc=nr,Hr.Wb=pr,Hr.Ya=Aa,Hr.yc=la,st=1;break t}st=0}if(!(te=st)){$.a=3;break e}if(0<Pe){if(ge.ua=1<<Pe,!ie(ge.Wa,Pe)){$.a=1,te=0;break e}}else ge.ua=0;var x0=$,vg=se,g1=ae,b0=x0.s,tf=b0.xc;if(x0.c=vg,x0.i=g1,b0.md=Oe(vg,tf),b0.wc=tf==0?-1:(1<<tf)-1,O){$.xb=r1;break e}if((Be=a(se*ae))==null){$.a=1,te=0;break e}te=(te=Na($,Be,0,se,ae,ae,null))&&!ce.h;break e}return te?(J!=null?J[0]=Be:(t(Be==null),t(O)),$.$=0,O||ka(ge)):ka(ge),te}function Ko(w,_){var O=w.c*w.i,$=O+_+16*_;return t(w.c<=_),w.V=a($),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+O+_,1)}function Ec(w,_){var O=w.C,$=_-O,J=w.V,te=w.Ba+w.c*O;for(t(_<=w.l.o);0<$;){var se=16<$?16:$,ae=w.l.ma,ce=w.l.width,ge=ce*se,Be=ae.ca,Pe=ae.tb+ce*O,ve=w.Ta,je=w.Ua;Cs(w,se,J,te),Vp(ve,je,Be,Pe,ge),ri(ae,O,O+se,Be,Pe,ce),$-=se,J+=se*w.c,O+=se}t(O==_),w.C=w.Ma=_}function Fc(){this.ub=this.yd=this.td=this.Rb=0}function Ic(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Kh(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function nu(){this.Yb=function(){var w=[];return function _(O,$,J){for(var te=J[$],se=0;se<te&&(O.push(J.length>$+1?[]:0),!(J.length<$+1));se++)_(O[se],$+1,J)}(w,0,[3,11]),w}()}function kd(){this.jb=a(3),this.Wc=A([4,8],nu),this.Xc=A([4,17],nu)}function zo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function sa(){this.ld=this.La=this.dd=this.tc=0}function Vo(){this.Na=this.la=0}function su(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function mo(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Sd(){this.uc=this.M=this.Nb=0,this.wa=Array(new sa),this.Y=0,this.ya=Array(new mo),this.aa=0,this.l=new Oi}function _d(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Bl(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new Fc,this.Kc=new Ic,this.ed=new zo,this.Qa=new Kh,this.Ic=this.$c=this.Aa=0,this.D=new Sd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,M),this.ia=0,this.pb=l(4,su),this.Pa=new kd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _d),this.Hd=0,this.rb=Array(new Vo),this.sb=0,this.wa=Array(new sa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new mo),this.L=this.aa=0,this.gd=A([4,2],sa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Oi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function zh(){var w=new Bl;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,uu||(uu=_a)),w}function Sn(w,_,O){return w.a==0&&(w.a=_,w.sc=O,w.cb=0),0}function Ed(w,_,O){return 3<=O&&w[_+0]==157&&w[_+1]==1&&w[_+2]==42}function Cl(w,_){if(w==null)return 0;if(w.a=0,w.sc="OK",_==null)return Sn(w,2,"null VP8Io passed to VP8GetHeaders()");var O=_.data,$=_.w,J=_.ha;if(4>J)return Sn(w,7,"Truncated header.");var te=O[$+0]|O[$+1]<<8|O[$+2]<<16,se=w.Od;if(se.Rb=!(1&te),se.td=te>>1&7,se.yd=te>>4&1,se.ub=te>>5,3<se.td)return Sn(w,3,"Incorrect keyframe parameters.");if(!se.yd)return Sn(w,4,"Frame not displayable.");$+=3,J-=3;var ae=w.Kc;if(se.Rb){if(7>J)return Sn(w,7,"cannot parse picture header");if(!Ed(O,$,J))return Sn(w,3,"Bad code word");ae.c=16383&(O[$+4]<<8|O[$+3]),ae.Td=O[$+4]>>6,ae.i=16383&(O[$+6]<<8|O[$+5]),ae.Ud=O[$+6]>>6,$+=7,J-=7,w.za=ae.c+15>>4,w.Ub=ae.i+15>>4,_.width=ae.c,_.height=ae.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,s((te=w.Pa).jb,0,255,te.jb.length),t((te=w.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,s(te.Zb,0,0,te.Zb.length),s(te.Lb,0,0,te.Lb)}if(se.ub>J)return Sn(w,7,"bad partition length");V(te=w.m,O,$,se.ub),$+=se.ub,J-=se.ub,se.Rb&&(ae.Ld=oe(te),ae.Kd=oe(te)),ae=w.Qa;var ce,ge=w.Pa;if(t(te!=null),t(ae!=null),ae.Cb=oe(te),ae.Cb){if(ae.Bb=oe(te),oe(te)){for(ae.Fb=oe(te),ce=0;4>ce;++ce)ae.Zb[ce]=oe(te)?K(te,7):0;for(ce=0;4>ce;++ce)ae.Lb[ce]=oe(te)?K(te,6):0}if(ae.Bb)for(ce=0;3>ce;++ce)ge.jb[ce]=oe(te)?Z(te,8):255}else ae.Bb=0;if(te.Ka)return Sn(w,3,"cannot parse segment header");if((ae=w.ed).zd=oe(te),ae.Tb=Z(te,6),ae.wb=Z(te,3),ae.Pc=oe(te),ae.Pc&&oe(te)){for(ge=0;4>ge;++ge)oe(te)&&(ae.vd[ge]=K(te,6));for(ge=0;4>ge;++ge)oe(te)&&(ae.od[ge]=K(te,6))}if(w.L=ae.Tb==0?0:ae.zd?1:2,te.Ka)return Sn(w,3,"cannot parse filter header");var Be=J;if(J=ce=$,$=ce+Be,ae=Be,w.Xb=(1<<Z(w.m,2))-1,Be<3*(ge=w.Xb))O=7;else{for(ce+=3*ge,ae-=3*ge,Be=0;Be<ge;++Be){var Pe=O[J+0]|O[J+1]<<8|O[J+2]<<16;Pe>ae&&(Pe=ae),V(w.Jc[+Be],O,ce,Pe),ce+=Pe,ae-=Pe,J+=3}V(w.Jc[+ge],O,ce,ae),O=ce<$?0:5}if(O!=0)return Sn(w,O,"cannot parse partitions");for(O=Z(ce=w.m,7),J=oe(ce)?K(ce,4):0,$=oe(ce)?K(ce,4):0,ae=oe(ce)?K(ce,4):0,ge=oe(ce)?K(ce,4):0,ce=oe(ce)?K(ce,4):0,Be=w.Qa,Pe=0;4>Pe;++Pe){if(Be.Cb){var ve=Be.Zb[Pe];Be.Fb||(ve+=O)}else{if(0<Pe){w.pb[Pe]=w.pb[0];continue}ve=O}var je=w.pb[Pe];je.Sc[0]=u0[Fr(ve+J,127)],je.Sc[1]=Yc[Fr(ve+0,127)],je.Eb[0]=2*u0[Fr(ve+$,127)],je.Eb[1]=101581*Yc[Fr(ve+ae,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=u0[Fr(ve+ge,117)],je.Qc[1]=Yc[Fr(ve+ce,127)],je.lc=ve+ce}if(!se.Rb)return Sn(w,4,"Not a key frame.");for(oe(te),se=w.Pa,O=0;4>O;++O){for(J=0;8>J;++J)for($=0;3>$;++$)for(ae=0;11>ae;++ae)ge=fe(te,e1[O][J][$][ae])?Z(te,8):qy[O][J][$][ae],se.Wc[O][J].Yb[$][ae]=ge;for(J=0;17>J;++J)se.Xc[O][J]=se.Wc[O][t1[J]]}return w.kc=oe(te),w.kc&&(w.Bd=Z(te,8)),w.cb=1}function _a(w,_,O,$,J,te,se){var ae=_[J].Yb[O];for(O=0;16>J;++J){if(!fe(w,ae[O+0]))return J;for(;!fe(w,ae[O+1]);)if(ae=_[++J].Yb[0],O=0,J==16)return 16;var ce=_[J+1].Yb;if(fe(w,ae[O+2])){var ge=w,Be=0;if(fe(ge,(ve=ae)[(Pe=O)+3]))if(fe(ge,ve[Pe+6])){for(ae=0,Pe=2*(Be=fe(ge,ve[Pe+8]))+(ve=fe(ge,ve[Pe+9+Be])),Be=0,ve=Jy[Pe];ve[ae];++ae)Be+=Be+fe(ge,ve[ae]);Be+=3+(8<<Pe)}else fe(ge,ve[Pe+7])?(Be=7+2*fe(ge,165),Be+=fe(ge,145)):Be=5+fe(ge,159);else Be=fe(ge,ve[Pe+4])?3+fe(ge,ve[Pe+5]):2;ae=ce[2]}else Be=1,ae=ce[1];ce=se+Xy[J],0>(ge=w).b&&pe(ge);var Pe,ve=ge.b,je=(Pe=ge.Ca>>1)-(ge.I>>ve)>>31;--ge.b,ge.Ca+=je,ge.Ca|=1,ge.I-=(Pe+1&je)<<ve,te[ce]=((Be^je)-je)*$[(0<J)+0]}return 16}function si(w){var _=w.rb[w.sb-1];_.la=0,_.Na=0,s(w.zc,0,0,w.zc.length),w.ja=0}function ai(w,_,O,$,J){J=w[_+O+32*$]+(J>>3),w[_+O+32*$]=-256&J?0>J?0:255:J}function _n(w,_,O,$,J,te){ai(w,_,0,O,$+J),ai(w,_,1,O,$+te),ai(w,_,2,O,$-te),ai(w,_,3,O,$-J)}function mn(w){return(20091*w>>16)+w}function au(w,_,O,$){var J,te=0,se=a(16);for(J=0;4>J;++J){var ae=w[_+0]+w[_+8],ce=w[_+0]-w[_+8],ge=(35468*w[_+4]>>16)-mn(w[_+12]),Be=mn(w[_+4])+(35468*w[_+12]>>16);se[te+0]=ae+Be,se[te+1]=ce+ge,se[te+2]=ce-ge,se[te+3]=ae-Be,te+=4,_++}for(J=te=0;4>J;++J)ae=(w=se[te+0]+4)+se[te+8],ce=w-se[te+8],ge=(35468*se[te+4]>>16)-mn(se[te+12]),ai(O,$,0,0,ae+(Be=mn(se[te+4])+(35468*se[te+12]>>16))),ai(O,$,1,0,ce+ge),ai(O,$,2,0,ce-ge),ai(O,$,3,0,ae-Be),te++,$+=32}function Vh(w,_,O,$){var J=w[_+0]+4,te=35468*w[_+4]>>16,se=mn(w[_+4]),ae=35468*w[_+1]>>16;_n(O,$,0,J+se,w=mn(w[_+1]),ae),_n(O,$,1,J+te,w,ae),_n(O,$,2,J-te,w,ae),_n(O,$,3,J-se,w,ae)}function Gh(w,_,O,$,J){au(w,_,O,$),J&&au(w,_+16,O,$+4)}function Wh(w,_,O,$){Dl(w,_+0,O,$,1),Dl(w,_+32,O,$+128,1)}function Li(w,_,O,$){var J;for(w=w[_+0]+4,J=0;4>J;++J)for(_=0;4>_;++_)ai(O,$,_,J,w)}function Fd(w,_,O,$){w[_+0]&&mr(w,_+0,O,$),w[_+16]&&mr(w,_+16,O,$+4),w[_+32]&&mr(w,_+32,O,$+128),w[_+48]&&mr(w,_+48,O,$+128+4)}function Id(w,_,O,$){var J,te=a(16);for(J=0;4>J;++J){var se=w[_+0+J]+w[_+12+J],ae=w[_+4+J]+w[_+8+J],ce=w[_+4+J]-w[_+8+J],ge=w[_+0+J]-w[_+12+J];te[0+J]=se+ae,te[8+J]=se-ae,te[4+J]=ge+ce,te[12+J]=ge-ce}for(J=0;4>J;++J)se=(w=te[0+4*J]+3)+te[3+4*J],ae=te[1+4*J]+te[2+4*J],ce=te[1+4*J]-te[2+4*J],ge=w-te[3+4*J],O[$+0]=se+ae>>3,O[$+16]=ge+ce>>3,O[$+32]=se-ae>>3,O[$+48]=ge-ce>>3,$+=64}function ii(w,_,O){var $,J=_-32,te=ia,se=255-w[J-1];for($=0;$<O;++$){var ae,ce=te,ge=se+w[_-1];for(ae=0;ae<O;++ae)w[_+ae]=ce[ge+w[J+ae]];_+=32}}function iu(w,_){ii(w,_,4)}function Ud(w,_){ii(w,_,8)}function Yh(w,_){ii(w,_,16)}function Jh(w,_){var O;for(O=0;16>O;++O)n(w,_+32*O,w,_-32,16)}function Uc(w,_){var O;for(O=16;0<O;--O)s(w,_,w[_-1],16),_+=32}function po(w,_,O){var $;for($=0;16>$;++$)s(_,O+32*$,w,16)}function Rs(w,_){var O,$=16;for(O=0;16>O;++O)$+=w[_-1+32*O]+w[_+O-32];po($>>5,w,_)}function Xh(w,_){var O,$=8;for(O=0;16>O;++O)$+=w[_-1+32*O];po($>>4,w,_)}function Nl(w,_){var O,$=8;for(O=0;16>O;++O)$+=w[_+O-32];po($>>4,w,_)}function ou(w,_){po(128,w,_)}function Mt(w,_,O){return w+2*_+O+2>>2}function qh(w,_){var O,$=_-32;for($=new Uint8Array([Mt(w[$-1],w[$+0],w[$+1]),Mt(w[$+0],w[$+1],w[$+2]),Mt(w[$+1],w[$+2],w[$+3]),Mt(w[$+2],w[$+3],w[$+4])]),O=0;4>O;++O)n(w,_+32*O,$,0,$.length)}function Zh(w,_){var O=w[_-1],$=w[_-1+32],J=w[_-1+64],te=w[_-1+96];ye(w,_+0,16843009*Mt(w[_-1-32],O,$)),ye(w,_+32,16843009*Mt(O,$,J)),ye(w,_+64,16843009*Mt($,J,te)),ye(w,_+96,16843009*Mt(J,te,te))}function e0(w,_){var O,$=4;for(O=0;4>O;++O)$+=w[_+O-32]+w[_-1+32*O];for($>>=3,O=0;4>O;++O)s(w,_+32*O,$,4)}function t0(w,_){var O=w[_-1+0],$=w[_-1+32],J=w[_-1+64],te=w[_-1-32],se=w[_+0-32],ae=w[_+1-32],ce=w[_+2-32],ge=w[_+3-32];w[_+0+96]=Mt($,J,w[_-1+96]),w[_+1+96]=w[_+0+64]=Mt(O,$,J),w[_+2+96]=w[_+1+64]=w[_+0+32]=Mt(te,O,$),w[_+3+96]=w[_+2+64]=w[_+1+32]=w[_+0+0]=Mt(se,te,O),w[_+3+64]=w[_+2+32]=w[_+1+0]=Mt(ae,se,te),w[_+3+32]=w[_+2+0]=Mt(ce,ae,se),w[_+3+0]=Mt(ge,ce,ae)}function go(w,_){var O=w[_+1-32],$=w[_+2-32],J=w[_+3-32],te=w[_+4-32],se=w[_+5-32],ae=w[_+6-32],ce=w[_+7-32];w[_+0+0]=Mt(w[_+0-32],O,$),w[_+1+0]=w[_+0+32]=Mt(O,$,J),w[_+2+0]=w[_+1+32]=w[_+0+64]=Mt($,J,te),w[_+3+0]=w[_+2+32]=w[_+1+64]=w[_+0+96]=Mt(J,te,se),w[_+3+32]=w[_+2+64]=w[_+1+96]=Mt(te,se,ae),w[_+3+64]=w[_+2+96]=Mt(se,ae,ce),w[_+3+96]=Mt(ae,ce,ce)}function vo(w,_){var O=w[_-1+0],$=w[_-1+32],J=w[_-1+64],te=w[_-1-32],se=w[_+0-32],ae=w[_+1-32],ce=w[_+2-32],ge=w[_+3-32];w[_+0+0]=w[_+1+64]=te+se+1>>1,w[_+1+0]=w[_+2+64]=se+ae+1>>1,w[_+2+0]=w[_+3+64]=ae+ce+1>>1,w[_+3+0]=ce+ge+1>>1,w[_+0+96]=Mt(J,$,O),w[_+0+64]=Mt($,O,te),w[_+0+32]=w[_+1+96]=Mt(O,te,se),w[_+1+32]=w[_+2+96]=Mt(te,se,ae),w[_+2+32]=w[_+3+96]=Mt(se,ae,ce),w[_+3+32]=Mt(ae,ce,ge)}function Ea(w,_){var O=w[_+0-32],$=w[_+1-32],J=w[_+2-32],te=w[_+3-32],se=w[_+4-32],ae=w[_+5-32],ce=w[_+6-32],ge=w[_+7-32];w[_+0+0]=O+$+1>>1,w[_+1+0]=w[_+0+64]=$+J+1>>1,w[_+2+0]=w[_+1+64]=J+te+1>>1,w[_+3+0]=w[_+2+64]=te+se+1>>1,w[_+0+32]=Mt(O,$,J),w[_+1+32]=w[_+0+96]=Mt($,J,te),w[_+2+32]=w[_+1+96]=Mt(J,te,se),w[_+3+32]=w[_+2+96]=Mt(te,se,ae),w[_+3+64]=Mt(se,ae,ce),w[_+3+96]=Mt(ae,ce,ge)}function Pd(w,_){var O=w[_-1+0],$=w[_-1+32],J=w[_-1+64],te=w[_-1+96];w[_+0+0]=O+$+1>>1,w[_+2+0]=w[_+0+32]=$+J+1>>1,w[_+2+32]=w[_+0+64]=J+te+1>>1,w[_+1+0]=Mt(O,$,J),w[_+3+0]=w[_+1+32]=Mt($,J,te),w[_+3+32]=w[_+1+64]=Mt(J,te,te),w[_+3+64]=w[_+2+64]=w[_+0+96]=w[_+1+96]=w[_+2+96]=w[_+3+96]=te}function kl(w,_){var O=w[_-1+0],$=w[_-1+32],J=w[_-1+64],te=w[_-1+96],se=w[_-1-32],ae=w[_+0-32],ce=w[_+1-32],ge=w[_+2-32];w[_+0+0]=w[_+2+32]=O+se+1>>1,w[_+0+32]=w[_+2+64]=$+O+1>>1,w[_+0+64]=w[_+2+96]=J+$+1>>1,w[_+0+96]=te+J+1>>1,w[_+3+0]=Mt(ae,ce,ge),w[_+2+0]=Mt(se,ae,ce),w[_+1+0]=w[_+3+32]=Mt(O,se,ae),w[_+1+32]=w[_+3+64]=Mt($,O,se),w[_+1+64]=w[_+3+96]=Mt(J,$,O),w[_+1+96]=Mt(te,J,$)}function Pc(w,_){var O;for(O=0;8>O;++O)n(w,_+32*O,w,_-32,8)}function Sl(w,_){var O;for(O=0;8>O;++O)s(w,_,w[_-1],8),_+=32}function Tc(w,_,O){var $;for($=0;8>$;++$)s(_,O+32*$,w,8)}function Oc(w,_){var O,$=8;for(O=0;8>O;++O)$+=w[_+O-32]+w[_-1+32*O];Tc($>>4,w,_)}function Td(w,_){var O,$=4;for(O=0;8>O;++O)$+=w[_+O-32];Tc($>>3,w,_)}function Lc(w,_){var O,$=4;for(O=0;8>O;++O)$+=w[_-1+32*O];Tc($>>3,w,_)}function Qc(w,_){Tc(128,w,_)}function _l(w,_,O){var $=w[_-O],J=w[_+0],te=3*(J-$)+Rd[1020+w[_-2*O]-w[_+O]],se=Md[112+(te+4>>3)];w[_-O]=ia[255+$+Md[112+(te+3>>3)]],w[_+0]=ia[255+J-se]}function El(w,_,O,$){var J=w[_+0],te=w[_+O];return Ta[255+w[_-2*O]-w[_-O]]>$||Ta[255+te-J]>$}function En(w,_,O,$){return 4*Ta[255+w[_-O]-w[_+0]]+Ta[255+w[_-2*O]-w[_+O]]<=$}function Dc(w,_,O,$,J){var te=w[_-3*O],se=w[_-2*O],ae=w[_-O],ce=w[_+0],ge=w[_+O],Be=w[_+2*O],Pe=w[_+3*O];return 4*Ta[255+ae-ce]+Ta[255+se-ge]>$?0:Ta[255+w[_-4*O]-te]<=J&&Ta[255+te-se]<=J&&Ta[255+se-ae]<=J&&Ta[255+Pe-Be]<=J&&Ta[255+Be-ge]<=J&&Ta[255+ge-ce]<=J}function Qi(w,_,O,$){var J=2*$+1;for($=0;16>$;++$)En(w,_+$,O,J)&&_l(w,_+$,O)}function Fl(w,_,O,$){var J=2*$+1;for($=0;16>$;++$)En(w,_+$*O,1,J)&&_l(w,_+$*O,1)}function Od(w,_,O,$){var J;for(J=3;0<J;--J)Qi(w,_+=4*O,O,$)}function Ld(w,_,O,$){var J;for(J=3;0<J;--J)Fl(w,_+=4,O,$)}function xo(w,_,O,$,J,te,se,ae){for(te=2*te+1;0<J--;){if(Dc(w,_,O,te,se))if(El(w,_,O,ae))_l(w,_,O);else{var ce=w,ge=_,Be=O,Pe=ce[ge-2*Be],ve=ce[ge-Be],je=ce[ge+0],Ee=ce[ge+Be],Le=ce[ge+2*Be],Ue=27*($e=Rd[1020+3*(je-ve)+Rd[1020+Pe-Ee]])+63>>7,De=18*$e+63>>7,$e=9*$e+63>>7;ce[ge-3*Be]=ia[255+ce[ge-3*Be]+$e],ce[ge-2*Be]=ia[255+Pe+De],ce[ge-Be]=ia[255+ve+Ue],ce[ge+0]=ia[255+je-Ue],ce[ge+Be]=ia[255+Ee-De],ce[ge+2*Be]=ia[255+Le-$e]}_+=$}}function Fa(w,_,O,$,J,te,se,ae){for(te=2*te+1;0<J--;){if(Dc(w,_,O,te,se))if(El(w,_,O,ae))_l(w,_,O);else{var ce=w,ge=_,Be=O,Pe=ce[ge-Be],ve=ce[ge+0],je=ce[ge+Be],Ee=Md[112+(4+(Le=3*(ve-Pe))>>3)],Le=Md[112+(Le+3>>3)],Ue=Ee+1>>1;ce[ge-2*Be]=ia[255+ce[ge-2*Be]+Ue],ce[ge-Be]=ia[255+Pe+Le],ce[ge+0]=ia[255+ve-Ee],ce[ge+Be]=ia[255+je-Ue]}_+=$}}function Il(w,_,O,$,J,te){xo(w,_,O,1,16,$,J,te)}function lu(w,_,O,$,J,te){xo(w,_,1,O,16,$,J,te)}function Ul(w,_,O,$,J,te){var se;for(se=3;0<se;--se)Fa(w,_+=4*O,O,1,16,$,J,te)}function oi(w,_,O,$,J,te){var se;for(se=3;0<se;--se)Fa(w,_+=4,1,O,16,$,J,te)}function I(w,_,O,$,J,te,se,ae){xo(w,_,J,1,8,te,se,ae),xo(O,$,J,1,8,te,se,ae)}function Y(w,_,O,$,J,te,se,ae){xo(w,_,1,J,8,te,se,ae),xo(O,$,1,J,8,te,se,ae)}function xe(w,_,O,$,J,te,se,ae){Fa(w,_+4*J,J,1,8,te,se,ae),Fa(O,$+4*J,J,1,8,te,se,ae)}function we(w,_,O,$,J,te,se,ae){Fa(w,_+4,1,J,8,te,se,ae),Fa(O,$+4,1,J,8,te,se,ae)}function Se(){this.ba=new wt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ft,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Me(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ve(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bt(){this.ua=0,this.Wa=new ke,this.vb=new ke,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new Q}function _t(){this.xb=this.a=0,this.l=new Oi,this.ca=new wt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bt,this.ab=0,this.gc=l(4,Ve),this.Oc=0}function Kt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Oi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Gt(w,_,O,$,J,te,se){for(w=w==null?0:w[_+0],_=0;_<se;++_)J[te+_]=w+O[$+_]&255,w=J[te+_]}function fr(w,_,O,$,J,te,se){var ae;if(w==null)Gt(null,null,O,$,J,te,se);else for(ae=0;ae<se;++ae)J[te+ae]=w[_+ae]+O[$+ae]&255}function Yr(w,_,O,$,J,te,se){if(w==null)Gt(null,null,O,$,J,te,se);else{var ae,ce=w[_+0],ge=ce,Be=ce;for(ae=0;ae<se;++ae)ge=Be+(ce=w[_+ae])-ge,Be=O[$+ae]+(-256&ge?0>ge?0:255:ge)&255,ge=ce,J[te+ae]=Be}}function Fn(w,_,O,$){var J=_.width,te=_.o;if(t(w!=null&&_!=null),0>O||0>=$||O+$>te)return null;if(!w.Cc){if(w.ga==null){var se;if(w.ga=new Kt,(se=w.ga==null)||(se=_.width*_.o,t(w.Gb.length==0),w.Gb=a(se),w.Uc=0,w.Gb==null?se=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,se=1),se=!se),!se){se=w.ga;var ae=w.Fa,ce=w.P,ge=w.qc,Be=w.mb,Pe=w.nb,ve=ce+1,je=ge-1,Ee=se.l;if(t(ae!=null&&Be!=null&&_!=null),jo[0]=null,jo[1]=Gt,jo[2]=fr,jo[3]=Yr,se.ca=Be,se.tb=Pe,se.c=_.width,se.i=_.height,t(0<se.c&&0<se.i),1>=ge)_=0;else if(se.$a=3&ae[ce+0],se.Z=ae[ce+0]>>2&3,se.Lc=ae[ce+0]>>4&3,ce=ae[ce+0]>>6&3,0>se.$a||1<se.$a||4<=se.Z||1<se.Lc||ce)_=0;else if(Ee.put=Qt,Ee.ac=ms,Ee.bc=Pi,Ee.ma=se,Ee.width=_.width,Ee.height=_.height,Ee.Da=_.Da,Ee.v=_.v,Ee.va=_.va,Ee.j=_.j,Ee.o=_.o,se.$a)e:{t(se.$a==1),_=jl();t:for(;;){if(_==null){_=0;break e}if(t(se!=null),se.mc=_,_.c=se.c,_.i=se.i,_.l=se.l,_.l.ma=se,_.l.width=se.c,_.l.height=se.i,_.a=0,X(_.m,ae,ve,je),!Sa(se.c,se.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Ca(_.s)?(se.ic=1,ae=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(ae),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(se.ic=0,_=Ko(_,se.c)),!_))break t;_=1;break e}se.mc=null,_=0}else _=je>=se.c*se.i;se=!_}if(se)return null;w.ga.Lc!=1?w.Ga=0:$=te-O}t(w.ga!=null),t(O+$<=te);e:{if(_=(ae=w.ga).c,te=ae.l.o,ae.$a==0){if(ve=w.rc,je=w.Vc,Ee=w.Fa,ce=w.P+1+O*_,ge=w.mb,Be=w.nb+O*_,t(ce<=w.P+w.qc),ae.Z!=0)for(t(jo[ae.Z]!=null),se=0;se<$;++se)jo[ae.Z](ve,je,Ee,ce,ge,Be,_),ve=ge,je=Be,Be+=_,ce+=_;else for(se=0;se<$;++se)n(ge,Be,Ee,ce,_),ve=ge,je=Be,Be+=_,ce+=_;w.rc=ve,w.Vc=je}else{if(t(ae.mc!=null),_=O+$,t((se=ae.mc)!=null),t(_<=se.i),se.C>=_)_=1;else if(ae.ic||Ia(),ae.ic){ae=se.V,ve=se.Ba,je=se.c;var Le=se.i,Ue=(Ee=1,ce=se.$/je,ge=se.$%je,Be=se.m,Pe=se.s,se.$),De=je*Le,$e=je*_,We=Pe.wc,ze=Ue<$e?On(Pe,ge,ce):null;t(Ue<=De),t(_<=Le),t(Ca(Pe));t:for(;;){for(;!Be.h&&Ue<$e;){if(ge&We||(ze=On(Pe,ge,ce)),t(ze!=null),q(Be),256>(Le=It(ze.G[0],ze.H[0],Be)))ae[ve+Ue]=Le,++Ue,++ge>=je&&(ge=0,++ce<=_&&!(ce%16)&&ni(se,ce));else{if(!(280>Le)){Ee=0;break t}Le=Ba(Le-256,Be);var Ft,gt=It(ze.G[4],ze.H[4],Be);if(q(Be),!(Ue>=(gt=na(je,gt=Ba(gt,Be)))&&De-Ue>=Le)){Ee=0;break t}for(Ft=0;Ft<Le;++Ft)ae[ve+Ue+Ft]=ae[ve+Ue+Ft-gt];for(Ue+=Le,ge+=Le;ge>=je;)ge-=je,++ce<=_&&!(ce%16)&&ni(se,ce);Ue<$e&&ge&We&&(ze=On(Pe,ge,ce))}t(Be.h==ne(Be))}ni(se,ce>_?_:ce);break t}!Ee||Be.h&&Ue<De?(Ee=0,se.a=Be.h?5:3):se.$=Ue,_=Ee}else _=Na(se,se.V,se.Ba,se.c,se.i,_,Ec);if(!_){$=0;break e}}O+$>=te&&(w.Cc=1),$=1}if(!$)return null;if(w.Cc&&(($=w.ga)!=null&&($.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+O*J}function jr(w,_,O,$,J,te){for(;0<J--;){var se,ae=w,ce=_+(O?1:0),ge=w,Be=_+(O?0:3);for(se=0;se<$;++se){var Pe=ge[Be+4*se];Pe!=255&&(Pe*=32897,ae[ce+4*se+0]=ae[ce+4*se+0]*Pe>>23,ae[ce+4*se+1]=ae[ce+4*se+1]*Pe>>23,ae[ce+4*se+2]=ae[ce+4*se+2]*Pe>>23)}_+=te}}function Ln(w,_,O,$,J){for(;0<$--;){var te;for(te=0;te<O;++te){var se=w[_+2*te+0],ae=15&(ge=w[_+2*te+1]),ce=4369*ae,ge=(240&ge|ge>>4)*ce>>16;w[_+2*te+0]=(240&se|se>>4)*ce>>16&240|(15&se|se<<4)*ce>>16>>4&15,w[_+2*te+1]=240&ge|ae}_+=J}}function In(w,_,O,$,J,te,se,ae){var ce,ge,Be=255;for(ge=0;ge<J;++ge){for(ce=0;ce<$;++ce){var Pe=w[_+ce];te[se+4*ce]=Pe,Be&=Pe}_+=O,se+=ae}return Be!=255}function qn(w,_,O,$,J){var te;for(te=0;te<J;++te)O[$+te]=w[_+te]>>8}function Ia(){Vc=jr,o0=Ln,l0=In,Vp=qn}function Ms(w,_,O){P[w]=function($,J,te,se,ae,ce,ge,Be,Pe,ve,je,Ee,Le,Ue,De,$e,We){var ze,Ft=We-1>>1,gt=ae[ce+0]|ge[Be+0]<<16,Jt=Pe[ve+0]|je[Ee+0]<<16;t($!=null);var Nt=3*gt+Jt+131074>>2;for(_($[J+0],255&Nt,Nt>>16,Le,Ue),te!=null&&(Nt=3*Jt+gt+131074>>2,_(te[se+0],255&Nt,Nt>>16,De,$e)),ze=1;ze<=Ft;++ze){var rr=ae[ce+ze]|ge[Be+ze]<<16,Un=Pe[ve+ze]|je[Ee+ze]<<16,Ke=gt+rr+Jt+Un+524296,kt=Ke+2*(rr+Jt)>>3;Nt=kt+gt>>1,gt=(Ke=Ke+2*(gt+Un)>>3)+rr>>1,_($[J+2*ze-1],255&Nt,Nt>>16,Le,Ue+(2*ze-1)*O),_($[J+2*ze-0],255&gt,gt>>16,Le,Ue+(2*ze-0)*O),te!=null&&(Nt=Ke+Jt>>1,gt=kt+Un>>1,_(te[se+2*ze-1],255&Nt,Nt>>16,De,$e+(2*ze-1)*O),_(te[se+2*ze+0],255&gt,gt>>16,De,$e+(2*ze+0)*O)),gt=rr,Jt=Un}1&We||(Nt=3*gt+Jt+131074>>2,_($[J+We-1],255&Nt,Nt>>16,Le,Ue+(We-1)*O),te!=null&&(Nt=3*Jt+gt+131074>>2,_(te[se+We-1],255&Nt,Nt>>16,De,$e+(We-1)*O)))}}function Qd(){La[Hd]=n1,La[$d]=du,La[Ml]=d0,La[Kd]=eg,La[zd]=tg,La[Gc]=rg,La[Jp]=s1,La[c0]=du,La[A0]=eg,La[Vd]=tg,La[Wc]=rg}function Rc(w){return w&~a1?0>w?0:255:w>>ng}function Pl(w,_){return Rc((19077*w>>8)+(26149*_>>8)-14234)}function Di(w,_,O){return Rc((19077*w>>8)-(6419*_>>8)-(13320*O>>8)+8708)}function Go(w,_){return Rc((19077*w>>8)+(33050*_>>8)-17685)}function Wo(w,_,O,$,J){$[J+0]=Pl(w,O),$[J+1]=Di(w,_,O),$[J+2]=Go(w,_)}function li(w,_,O,$,J){$[J+0]=Go(w,_),$[J+1]=Di(w,_,O),$[J+2]=Pl(w,O)}function pn(w,_,O,$,J){var te=Di(w,_,O);_=te<<3&224|Go(w,_)>>3,$[J+0]=248&Pl(w,O)|te>>5,$[J+1]=_}function lr(w,_,O,$,J){var te=240&Go(w,_)|15;$[J+0]=240&Pl(w,O)|Di(w,_,O)>>4,$[J+1]=te}function Tl(w,_,O,$,J){$[J+0]=255,Wo(w,_,O,$,J+1)}function Ol(w,_,O,$,J){li(w,_,O,$,J),$[J+3]=255}function Mc(w,_,O,$,J){Wo(w,_,O,$,J),$[J+3]=255}function Fr(w,_){return 0>w?0:w>_?_:w}function Vn(w,_,O){P[w]=function($,J,te,se,ae,ce,ge,Be,Pe){for(var ve=Be+(-2&Pe)*O;Be!=ve;)_($[J+0],te[se+0],ae[ce+0],ge,Be),_($[J+1],te[se+0],ae[ce+0],ge,Be+O),J+=2,++se,++ce,Be+=2*O;1&Pe&&_($[J+0],te[se+0],ae[ce+0],ge,Be)}}function Hc(w,_,O){return O==0?w==0?_==0?6:5:_==0?4:0:O}function ci(w,_,O,$,J){switch(w>>>30){case 3:Dl(_,O,$,J,0);break;case 2:Pa(_,O,$,J);break;case 1:mr(_,O,$,J)}}function hr(w,_){var O,$,J=_.M,te=_.Nb,se=w.oc,ae=w.pc+40,ce=w.oc,ge=w.pc+584,Be=w.oc,Pe=w.pc+600;for(O=0;16>O;++O)se[ae+32*O-1]=129;for(O=0;8>O;++O)ce[ge+32*O-1]=129,Be[Pe+32*O-1]=129;for(0<J?se[ae-1-32]=ce[ge-1-32]=Be[Pe-1-32]=129:(s(se,ae-32-1,127,21),s(ce,ge-32-1,127,9),s(Be,Pe-32-1,127,9)),$=0;$<w.za;++$){var ve=_.ya[_.aa+$];if(0<$){for(O=-1;16>O;++O)n(se,ae+32*O-4,se,ae+32*O+12,4);for(O=-1;8>O;++O)n(ce,ge+32*O-4,ce,ge+32*O+4,4),n(Be,Pe+32*O-4,Be,Pe+32*O+4,4)}var je=w.Gd,Ee=w.Hd+$,Le=ve.ad,Ue=ve.Hc;if(0<J&&(n(se,ae-32,je[Ee].y,0,16),n(ce,ge-32,je[Ee].f,0,8),n(Be,Pe-32,je[Ee].ea,0,8)),ve.Za){var De=se,$e=ae-32+16;for(0<J&&($>=w.za-1?s(De,$e,je[Ee].y[15],4):n(De,$e,je[Ee+1].y,0,4)),O=0;4>O;O++)De[$e+128+O]=De[$e+256+O]=De[$e+384+O]=De[$e+0+O];for(O=0;16>O;++O,Ue<<=2)De=se,$e=ae+ag[O],di[ve.Ob[O]](De,$e),ci(Ue,Le,16*+O,De,$e)}else if(De=Hc($,J,ve.Ob[0]),qo[De](se,ae),Ue!=0)for(O=0;16>O;++O,Ue<<=2)ci(Ue,Le,16*+O,se,ae+ag[O]);for(O=ve.Gc,De=Hc($,J,ve.Dd),Oa[De](ce,ge),Oa[De](Be,Pe),Ue=Le,De=ce,$e=ge,255&(ve=0|O)&&(170&ve?aa(Ue,256,De,$e):Ir(Ue,256,De,$e)),ve=Be,Ue=Pe,255&(O>>=8)&&(170&O?aa(Le,320,ve,Ue):Ir(Le,320,ve,Ue)),J<w.Ub-1&&(n(je[Ee].y,0,se,ae+480,16),n(je[Ee].f,0,ce,ge+224,8),n(je[Ee].ea,0,Be,Pe+224,8)),O=8*te*w.B,je=w.sa,Ee=w.ta+16*$+16*te*w.R,Le=w.qa,ve=w.ra+8*$+O,Ue=w.Ha,De=w.Ia+8*$+O,O=0;16>O;++O)n(je,Ee+O*w.R,se,ae+32*O,16);for(O=0;8>O;++O)n(Le,ve+O*w.B,ce,ge+32*O,8),n(Ue,De+O*w.B,Be,Pe+32*O,8)}}function Yo(w,_,O,$,J,te,se,ae,ce){var ge=[0],Be=[0],Pe=0,ve=ce!=null?ce.kd:0,je=ce??new Me;if(w==null||12>O)return 7;je.data=w,je.w=_,je.ha=O,_=[_],O=[O],je.gb=[je.gb];e:{var Ee=_,Le=O,Ue=je.gb;if(t(w!=null),t(Le!=null),t(Ue!=null),Ue[0]=0,12<=Le[0]&&!r(w,Ee[0],"RIFF")){if(r(w,Ee[0]+8,"WEBP")){Ue=3;break e}var De=be(w,Ee[0]+4);if(12>De||4294967286<De){Ue=3;break e}if(ve&&De>Le[0]-8){Ue=7;break e}Ue[0]=De,Ee[0]+=12,Le[0]-=12}Ue=0}if(Ue!=0)return Ue;for(De=0<je.gb[0],O=O[0];;){e:{var $e=w;Le=_,Ue=O;var We=ge,ze=Be,Ft=Ee=[0];if((Nt=Pe=[Pe])[0]=0,8>Ue[0])Ue=7;else{if(!r($e,Le[0],"VP8X")){if(be($e,Le[0]+4)!=10){Ue=3;break e}if(18>Ue[0]){Ue=7;break e}var gt=be($e,Le[0]+8),Jt=1+_e($e,Le[0]+12);if(2147483648<=Jt*($e=1+_e($e,Le[0]+15))){Ue=3;break e}Ft!=null&&(Ft[0]=gt),We!=null&&(We[0]=Jt),ze!=null&&(ze[0]=$e),Le[0]+=18,Ue[0]-=18,Nt[0]=1}Ue=0}}if(Pe=Pe[0],Ee=Ee[0],Ue!=0)return Ue;if(Le=!!(2&Ee),!De&&Pe)return 3;if(te!=null&&(te[0]=!!(16&Ee)),se!=null&&(se[0]=Le),ae!=null&&(ae[0]=0),se=ge[0],Ee=Be[0],Pe&&Le&&ce==null){Ue=0;break}if(4>O){Ue=7;break}if(De&&Pe||!De&&!Pe&&!r(w,_[0],"ALPH")){O=[O],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{gt=w,Ue=_,De=O;var Nt=je.gb;We=je.na,ze=je.P,Ft=je.Sa,Jt=22,t(gt!=null),t(De!=null),$e=Ue[0];var rr=De[0];for(t(We!=null),t(Ft!=null),We[0]=null,ze[0]=null,Ft[0]=0;;){if(Ue[0]=$e,De[0]=rr,8>rr){Ue=7;break e}var Un=be(gt,$e+4);if(4294967286<Un){Ue=3;break e}var Ke=8+Un+1&-2;if(Jt+=Ke,0<Nt&&Jt>Nt){Ue=3;break e}if(!r(gt,$e,"VP8 ")||!r(gt,$e,"VP8L")){Ue=0;break e}if(rr[0]<Ke){Ue=7;break e}r(gt,$e,"ALPH")||(We[0]=gt,ze[0]=$e+8,Ft[0]=Un),$e+=Ke,rr-=Ke}}if(O=O[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],Ue!=0)break}O=[O],je.Ja=[je.Ja],je.xa=[je.xa];e:if(Nt=w,Ue=_,De=O,We=je.gb[0],ze=je.Ja,Ft=je.xa,gt=Ue[0],$e=!r(Nt,gt,"VP8 "),Jt=!r(Nt,gt,"VP8L"),t(Nt!=null),t(De!=null),t(ze!=null),t(Ft!=null),8>De[0])Ue=7;else{if($e||Jt){if(Nt=be(Nt,gt+4),12<=We&&Nt>We-12){Ue=3;break e}if(ve&&Nt>De[0]-8){Ue=7;break e}ze[0]=Nt,Ue[0]+=8,De[0]-=8,Ft[0]=Jt}else Ft[0]=5<=De[0]&&Nt[gt+0]==47&&!(Nt[gt+4]>>5),ze[0]=De[0];Ue=0}if(O=O[0],je.Ja=je.Ja[0],je.xa=je.xa[0],_=_[0],Ue!=0)break;if(4294967286<je.Ja)return 3;if(ae==null||Le||(ae[0]=je.xa?2:1),se=[se],Ee=[Ee],je.xa){if(5>O){Ue=7;break}ae=se,ve=Ee,Le=te,w==null||5>O?w=0:5<=O&&w[_+0]==47&&!(w[_+4]>>5)?(De=[0],Nt=[0],We=[0],X(ze=new G,w,_,O),ho(ze,De,Nt,We)?(ae!=null&&(ae[0]=De[0]),ve!=null&&(ve[0]=Nt[0]),Le!=null&&(Le[0]=We[0]),w=1):w=0):w=0}else{if(10>O){Ue=7;break}ae=Ee,w==null||10>O||!Ed(w,_+3,O-3)?w=0:(ve=w[_+0]|w[_+1]<<8|w[_+2]<<16,Le=16383&(w[_+7]<<8|w[_+6]),w=16383&(w[_+9]<<8|w[_+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=je.Ja||!Le||!w?w=0:(se&&(se[0]=Le),ae&&(ae[0]=w),w=1))}if(!w||(se=se[0],Ee=Ee[0],Pe&&(ge[0]!=se||Be[0]!=Ee)))return 3;ce!=null&&(ce[0]=je,ce.offset=_-ce.w,t(4294967286>_-ce.w),t(ce.offset==ce.ha-O));break}return Ue==0||Ue==7&&Pe&&ce==null?(te!=null&&(te[0]|=je.na!=null&&0<je.na.length),$!=null&&($[0]=se),J!=null&&(J[0]=Ee),0):Ue}function gn(w,_,O){var $=_.width,J=_.height,te=0,se=0,ae=$,ce=J;if(_.Da=w!=null&&0<w.Da,_.Da&&(ae=w.cd,ce=w.bd,te=w.v,se=w.j,11>O||(te&=-2,se&=-2),0>te||0>se||0>=ae||0>=ce||te+ae>$||se+ce>J))return 0;if(_.v=te,_.j=se,_.va=te+ae,_.o=se+ce,_.U=ae,_.T=ce,_.da=w!=null&&0<w.da,_.da){if(!Re(ae,ce,O=[w.ib],te=[w.hb]))return 0;_.ib=O[0],_.hb=te[0]}return _.ob=w!=null&&w.ob,_.Kb=w==null||!w.Sd,_.da&&(_.ob=_.ib<3*$/4&&_.hb<3*J/4,_.Kb=0),1}function Ll(w){if(w==null)return 2;if(11>w.S){var _=w.f.RGBA;_.fb+=(w.height-1)*_.A,_.A=-_.A}else _=w.f.kb,w=w.height,_.O+=(w-1)*_.fa,_.fa=-_.fa,_.N+=(w-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(w-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(w-1)*_.lb,_.lb=-_.lb);return 0}function Ns(w,_,O,$){if($==null||0>=w||0>=_)return 2;if(O!=null){if(O.Da){var J=O.cd,te=O.bd,se=-2&O.v,ae=-2&O.j;if(0>se||0>ae||0>=J||0>=te||se+J>w||ae+te>_)return 2;w=J,_=te}if(O.da){if(!Re(w,_,J=[O.ib],te=[O.hb]))return 2;w=J[0],_=te[0]}}$.width=w,$.height=_;e:{var ce=$.width,ge=$.height;if(w=$.S,0>=ce||0>=ge||!(w>=Hd&&13>w))w=2;else{if(0>=$.Rd&&$.sd==null){se=te=J=_=0;var Be=(ae=ce*og[w])*ge;if(11>w||(te=(ge+1)/2*(_=(ce+1)/2),w==12&&(se=(J=ce)*ge)),(ge=a(Be+2*te+se))==null){w=1;break e}$.sd=ge,11>w?((ce=$.f.RGBA).eb=ge,ce.fb=0,ce.A=ae,ce.size=Be):((ce=$.f.kb).y=ge,ce.O=0,ce.fa=ae,ce.Fd=Be,ce.f=ge,ce.N=0+Be,ce.Ab=_,ce.Cd=te,ce.ea=ge,ce.W=0+Be+te,ce.Db=_,ce.Ed=te,w==12&&(ce.F=ge,ce.J=0+Be+2*te),ce.Tc=se,ce.lb=J)}if(_=1,J=$.S,te=$.width,se=$.height,J>=Hd&&13>J)if(11>J)w=$.f.RGBA,_&=(ae=Math.abs(w.A))*(se-1)+te<=w.size,_&=ae>=te*og[J],_&=w.eb!=null;else{w=$.f.kb,ae=(te+1)/2,Be=(se+1)/2,ce=Math.abs(w.fa),ge=Math.abs(w.Ab);var Pe=Math.abs(w.Db),ve=Math.abs(w.lb),je=ve*(se-1)+te;_&=ce*(se-1)+te<=w.Fd,_&=ge*(Be-1)+ae<=w.Cd,_=(_&=Pe*(Be-1)+ae<=w.Ed)&ce>=te&ge>=ae&Pe>=ae,_&=w.y!=null,_&=w.f!=null,_&=w.ea!=null,J==12&&(_&=ve>=te,_&=je<=w.Tc,_&=w.F!=null)}else _=0;w=_?0:2}}return w!=0||O!=null&&O.fd&&(w=Ll($)),w}var Ai=64,er=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Hs=24,bo=32,Ri=8,yo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ge("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(w){return w},P.Predictor2=function(w,_,O){return _[O+0]},P.Predictor3=function(w,_,O){return _[O+1]},P.Predictor4=function(w,_,O){return _[O-1]},P.Predictor5=function(w,_,O){return nt(nt(w,_[O+1]),_[O+0])},P.Predictor6=function(w,_,O){return nt(w,_[O-1])},P.Predictor7=function(w,_,O){return nt(w,_[O+0])},P.Predictor8=function(w,_,O){return nt(_[O-1],_[O+0])},P.Predictor9=function(w,_,O){return nt(_[O+0],_[O+1])},P.Predictor10=function(w,_,O){return nt(nt(w,_[O-1]),nt(_[O+0],_[O+1]))},P.Predictor11=function(w,_,O){var $=_[O+0];return 0>=St($>>24&255,w>>24&255,(_=_[O-1])>>24&255)+St($>>16&255,w>>16&255,_>>16&255)+St($>>8&255,w>>8&255,_>>8&255)+St(255&$,255&w,255&_)?$:w},P.Predictor12=function(w,_,O){var $=_[O+0];return(Lt((w>>24&255)+($>>24&255)-((_=_[O-1])>>24&255))<<24|Lt((w>>16&255)+($>>16&255)-(_>>16&255))<<16|Lt((w>>8&255)+($>>8&255)-(_>>8&255))<<8|Lt((255&w)+(255&$)-(255&_)))>>>0},P.Predictor13=function(w,_,O){var $=_[O-1];return(Xe((w=nt(w,_[O+0]))>>24&255,$>>24&255)<<24|Xe(w>>16&255,$>>16&255)<<16|Xe(w>>8&255,$>>8&255)<<8|Xe(255&w,255&$))>>>0};var Jo=P.PredictorAdd0;P.PredictorAdd1=qt,Ge("Predictor2","PredictorAdd2"),Ge("Predictor3","PredictorAdd3"),Ge("Predictor4","PredictorAdd4"),Ge("Predictor5","PredictorAdd5"),Ge("Predictor6","PredictorAdd6"),Ge("Predictor7","PredictorAdd7"),Ge("Predictor8","PredictorAdd8"),Ge("Predictor9","PredictorAdd9"),Ge("Predictor10","PredictorAdd10"),Ge("Predictor11","PredictorAdd11"),Ge("Predictor12","PredictorAdd12"),Ge("Predictor13","PredictorAdd13");var Ql=P.PredictorAdd2;it("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),it("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var tn,ks=P.ColorIndexInverseTransform,Zn=P.MapARGB,es=P.VP8LColorIndexInverseTransformAlpha,rn=P.MapAlpha,Ua=P.VP8LPredictorsAdd=[];Ua.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var $c,Kc,Mi,wo,Xo,ui,ps,Dl,Pa,aa,mr,Ir,vn,Br,Hi,cu,zc,Rl,zp,r0,n0,s0,a0,i0,Vc,o0,l0,Vp,Au=a(511),Gp=a(2041),Wp=a(225),Dd=a(767),Yp=0,Rd=Gp,Md=Wp,ia=Dd,Ta=Au,Hd=0,$d=1,Ml=2,Kd=3,zd=4,Gc=5,Jp=6,c0=7,A0=8,Vd=9,Wc=10,Ky=[2,3,7],zy=[3,3,11],Xp=[280,256,256,256,40],Vy=[0,1,1,1,0],Gd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Gy=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Wy=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Yy=8,u0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],uu=null,Jy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Xy=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qp=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qy=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Zy=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],e1=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],t1=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qo=[],di=[],Oa=[],r1=1,Zp=2,jo=[],La=[];Ms("UpsampleRgbLinePair",Wo,3),Ms("UpsampleBgrLinePair",li,3),Ms("UpsampleRgbaLinePair",Mc,4),Ms("UpsampleBgraLinePair",Ol,4),Ms("UpsampleArgbLinePair",Tl,4),Ms("UpsampleRgba4444LinePair",lr,2),Ms("UpsampleRgb565LinePair",pn,2);var n1=P.UpsampleRgbLinePair,d0=P.UpsampleBgrLinePair,du=P.UpsampleRgbaLinePair,eg=P.UpsampleBgraLinePair,tg=P.UpsampleArgbLinePair,rg=P.UpsampleRgba4444LinePair,s1=P.UpsampleRgb565LinePair,Wd=16,Yd=1<<Wd-1,Zo=-227,f0=482,ng=6,a1=(256<<ng)-1,sg=0,i1=a(256),o1=a(256),l1=a(256),c1=a(256),A1=a(f0-Zo),u1=a(f0-Zo);Vn("YuvToRgbRow",Wo,3),Vn("YuvToBgrRow",li,3),Vn("YuvToRgbaRow",Mc,4),Vn("YuvToBgraRow",Ol,4),Vn("YuvToArgbRow",Tl,4),Vn("YuvToRgba4444Row",lr,2),Vn("YuvToRgb565Row",pn,2);var ag=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Jd=[0,2,8],ig=[8,7,6,4,4,2,2,2,1,1,1,1],d1=1;this.WebPDecodeRGBA=function(w,_,O,$,J){var te=$d,se=new Se,ae=new wt;se.ba=ae,ae.S=te,ae.width=[ae.width],ae.height=[ae.height];var ce=ae.width,ge=ae.height,Be=new Ye;if(Be==null||w==null)var Pe=2;else t(Be!=null),Pe=Yo(w,_,O,Be.width,Be.height,Be.Pd,Be.Qd,Be.format,null);if(Pe!=0?ce=0:(ce!=null&&(ce[0]=Be.width[0]),ge!=null&&(ge[0]=Be.height[0]),ce=1),ce){ae.width=ae.width[0],ae.height=ae.height[0],$!=null&&($[0]=ae.width),J!=null&&(J[0]=ae.height);e:{if($=new Oi,(J=new Me).data=w,J.w=_,J.ha=O,J.kd=1,_=[0],t(J!=null),((w=Yo(J.data,J.w,J.ha,null,null,null,_,null,J))==0||w==7)&&_[0]&&(w=4),(_=w)==0){if(t(se!=null),$.data=J.data,$.w=J.w+J.offset,$.ha=J.ha-J.offset,$.put=Qt,$.ac=ms,$.bc=Pi,$.ma=se,J.xa){if((w=jl())==null){se=1;break e}if(function(ve,je){var Ee=[0],Le=[0],Ue=[0];t:for(;;){if(ve==null)return 0;if(je==null)return ve.a=2,0;if(ve.l=je,ve.a=0,X(ve.m,je.data,je.w,je.ha),!ho(ve.m,Ee,Le,Ue)){ve.a=3;break t}if(ve.xb=Zp,je.width=Ee[0],je.height=Le[0],!Sa(Ee[0],Le[0],1,ve,null))break t;return 1}return t(ve.a!=0),0}(w,$)){if($=(_=Ns($.width,$.height,se.Oa,se.ba))==0){t:{$=w;r:for(;;){if($==null){$=0;break t}if(t($.s.yc!=null),t($.s.Ya!=null),t(0<$.s.Wb),t((O=$.l)!=null),t((J=O.ma)!=null),$.xb!=0){if($.ca=J.ba,$.tb=J.tb,t($.ca!=null),!gn(J.Oa,O,Kd)){$.a=2;break r}if(!Ko($,O.width)||O.da)break r;if((O.da||At($.ca.S))&&Ia(),11>$.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$.ca.f.kb.F!=null&&Ia()),$.Pb&&0<$.s.ua&&$.s.vb.X==null&&!ie($.s.vb,$.s.Wa.Xa)){$.a=1;break r}$.xb=0}if(!Na($,$.V,$.Ba,$.c,$.i,O.o,Ti))break r;J.Dc=$.Ma,$=1;break t}t($.a!=0),$=0}$=!$}$&&(_=w.a)}else _=w.a}else{if((w=new zh)==null){se=1;break e}if(w.Fa=J.na,w.P=J.P,w.qc=J.Sa,Cl(w,$)){if((_=Ns($.width,$.height,se.Oa,se.ba))==0){if(w.Aa=0,O=se.Oa,t((J=w)!=null),O!=null){if(0<(ce=0>(ce=O.Md)?0:100<ce?255:255*ce/100)){for(ge=Be=0;4>ge;++ge)12>(Pe=J.pb[ge]).lc&&(Pe.ia=ce*ig[0>Pe.lc?0:Pe.lc]>>3),Be|=Pe.ia;Be&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=O.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}(function(ve,je){if(ve==null)return 0;if(je==null)return Sn(ve,2,"NULL VP8Io parameter in VP8Decode().");if(!ve.cb&&!Cl(ve,je))return 0;if(t(ve.cb),je.ac==null||je.ac(je)){je.ob&&(ve.L=0);var Ee=Jd[ve.L];if(ve.L==2?(ve.yb=0,ve.zb=0):(ve.yb=je.v-Ee>>4,ve.zb=je.j-Ee>>4,0>ve.yb&&(ve.yb=0),0>ve.zb&&(ve.zb=0)),ve.Va=je.o+15+Ee>>4,ve.Hb=je.va+15+Ee>>4,ve.Hb>ve.za&&(ve.Hb=ve.za),ve.Va>ve.Ub&&(ve.Va=ve.Ub),0<ve.L){var Le=ve.ed;for(Ee=0;4>Ee;++Ee){var Ue;if(ve.Qa.Cb){var De=ve.Qa.Lb[Ee];ve.Qa.Fb||(De+=Le.Tb)}else De=Le.Tb;for(Ue=0;1>=Ue;++Ue){var $e=ve.gd[Ee][Ue],We=De;if(Le.Pc&&(We+=Le.vd[0],Ue&&(We+=Le.od[0])),0<(We=0>We?0:63<We?63:We)){var ze=We;0<Le.wb&&(ze=4<Le.wb?ze>>2:ze>>1)>9-Le.wb&&(ze=9-Le.wb),1>ze&&(ze=1),$e.dd=ze,$e.tc=2*We+ze,$e.ld=40<=We?2:15<=We?1:0}else $e.tc=0;$e.La=Ue}}}Ee=0}else Sn(ve,6,"Frame setup failed"),Ee=ve.a;if(Ee=Ee==0){if(Ee){ve.$c=0,0<ve.Aa||(ve.Ic=d1);t:{Ee=ve.Ic,Le=4*(ze=ve.za);var Ft=32*ze,gt=ze+1,Jt=0<ve.L?ze*(0<ve.Aa?2:1):0,Nt=(ve.Aa==2?2:1)*ze;if(($e=Le+832+(Ue=3*(16*Ee+Jd[ve.L])/2*Ft)+(De=ve.Fa!=null&&0<ve.Fa.length?ve.Kc.c*ve.Kc.i:0))!=$e)Ee=0;else{if($e>ve.Vb){if(ve.Vb=0,ve.Ec=a($e),ve.Fc=0,ve.Ec==null){Ee=Sn(ve,1,"no memory during frame initialization.");break t}ve.Vb=$e}$e=ve.Ec,We=ve.Fc,ve.Ac=$e,ve.Bc=We,We+=Le,ve.Gd=l(Ft,_d),ve.Hd=0,ve.rb=l(gt+1,Vo),ve.sb=1,ve.wa=Jt?l(Jt,sa):null,ve.Y=0,ve.D.Nb=0,ve.D.wa=ve.wa,ve.D.Y=ve.Y,0<ve.Aa&&(ve.D.Y+=ze),t(!0),ve.oc=$e,ve.pc=We,We+=832,ve.ya=l(Nt,mo),ve.aa=0,ve.D.ya=ve.ya,ve.D.aa=ve.aa,ve.Aa==2&&(ve.D.aa+=ze),ve.R=16*ze,ve.B=8*ze,ze=(Ft=Jd[ve.L])*ve.R,Ft=Ft/2*ve.B,ve.sa=$e,ve.ta=We+ze,ve.qa=ve.sa,ve.ra=ve.ta+16*Ee*ve.R+Ft,ve.Ha=ve.qa,ve.Ia=ve.ra+8*Ee*ve.B+Ft,ve.$c=0,We+=Ue,ve.mb=De?$e:null,ve.nb=De?We:null,t(We+De<=ve.Fc+ve.Vb),si(ve),s(ve.Ac,ve.Bc,0,Le),Ee=1}}if(Ee){if(je.ka=0,je.y=ve.sa,je.O=ve.ta,je.f=ve.qa,je.N=ve.ra,je.ea=ve.Ha,je.Vd=ve.Ia,je.fa=ve.R,je.Rc=ve.B,je.F=null,je.J=0,!Yp){for(Ee=-255;255>=Ee;++Ee)Au[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)Gp[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)Wp[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)Dd[255+Ee]=0>Ee?0:255<Ee?255:Ee;Yp=1}ps=Id,Dl=Gh,aa=Wh,mr=Li,Ir=Fd,Pa=Vh,vn=Il,Br=lu,Hi=I,cu=Y,zc=Ul,Rl=oi,zp=xe,r0=we,n0=Qi,s0=Fl,a0=Od,i0=Ld,di[0]=e0,di[1]=iu,di[2]=qh,di[3]=Zh,di[4]=t0,di[5]=vo,di[6]=go,di[7]=Ea,di[8]=kl,di[9]=Pd,qo[0]=Rs,qo[1]=Yh,qo[2]=Jh,qo[3]=Uc,qo[4]=Xh,qo[5]=Nl,qo[6]=ou,Oa[0]=Oc,Oa[1]=Ud,Oa[2]=Pc,Oa[3]=Sl,Oa[4]=Lc,Oa[5]=Td,Oa[6]=Qc,Ee=1}else Ee=0}Ee&&(Ee=function(rr,Un){for(rr.M=0;rr.M<rr.Va;++rr.M){var Ke,kt=rr.Jc[rr.M&rr.Xb],st=rr.m,Jr=rr;for(Ke=0;Ke<Jr.za;++Ke){var Dt=st,cr=Jr,Dr=cr.Ac,xn=cr.Bc+4*Ke,Gn=cr.zc,nn=cr.ya[cr.aa+Ke];if(cr.Qa.Bb?nn.$b=fe(Dt,cr.Pa.jb[0])?2+fe(Dt,cr.Pa.jb[2]):fe(Dt,cr.Pa.jb[1]):nn.$b=0,cr.kc&&(nn.Ad=fe(Dt,cr.Bd)),nn.Za=!fe(Dt,145)+0,nn.Za){var gs=nn.Ob,Ss=0;for(cr=0;4>cr;++cr){var Hr,nr=Gn[0+cr];for(Hr=0;4>Hr;++Hr){nr=Zy[Dr[xn+Hr]][nr];for(var pr=qp[fe(Dt,nr[0])];0<pr;)pr=qp[2*pr+fe(Dt,nr[pr])];nr=-pr,Dr[xn+Hr]=nr}n(gs,Ss,Dr,xn,4),Ss+=4,Gn[0+cr]=nr}}else nr=fe(Dt,156)?fe(Dt,128)?1:3:fe(Dt,163)?2:0,nn.Ob[0]=nr,s(Dr,xn,nr,4),s(Gn,0,nr,4);nn.Dd=fe(Dt,142)?fe(Dt,114)?fe(Dt,183)?1:3:2:0}if(Jr.m.Ka)return Sn(rr,7,"Premature end-of-partition0 encountered.");for(;rr.ja<rr.za;++rr.ja){if(Jr=kt,Dt=(st=rr).rb[st.sb-1],Dr=st.rb[st.sb+st.ja],Ke=st.ya[st.aa+st.ja],xn=st.kc?Ke.Ad:0)Dt.la=Dr.la=0,Ke.Za||(Dt.Na=Dr.Na=0),Ke.Hc=0,Ke.Gc=0,Ke.ia=0;else{var sn,xr;if(Dt=Dr,Dr=Jr,xn=st.Pa.Xc,Gn=st.ya[st.aa+st.ja],nn=st.pb[Gn.$b],cr=Gn.ad,gs=0,Ss=st.rb[st.sb-1],nr=Hr=0,s(cr,gs,0,384),Gn.Za)var ts=0,oa=xn[3];else{pr=a(16);var bn=Dt.Na+Ss.Na;if(bn=uu(Dr,xn[1],bn,nn.Eb,0,pr,0),Dt.Na=Ss.Na=(0<bn)+0,1<bn)ps(pr,0,cr,gs);else{var $s=pr[0]+3>>3;for(pr=0;256>pr;pr+=16)cr[gs+pr]=$s}ts=1,oa=xn[0]}var Ur=15&Dt.la,Qn=15&Ss.la;for(pr=0;4>pr;++pr){var la=1&Qn;for($s=xr=0;4>$s;++$s)Ur=Ur>>1|(la=(bn=uu(Dr,oa,bn=la+(1&Ur),nn.Sc,ts,cr,gs))>ts)<<7,xr=xr<<2|(3<bn?3:1<bn?2:cr[gs+0]!=0),gs+=16;Ur>>=4,Qn=Qn>>1|la<<7,Hr=(Hr<<8|xr)>>>0}for(oa=Ur,ts=Qn>>4,sn=0;4>sn;sn+=2){for(xr=0,Ur=Dt.la>>4+sn,Qn=Ss.la>>4+sn,pr=0;2>pr;++pr){for(la=1&Qn,$s=0;2>$s;++$s)bn=la+(1&Ur),Ur=Ur>>1|(la=0<(bn=uu(Dr,xn[2],bn,nn.Qc,0,cr,gs)))<<3,xr=xr<<2|(3<bn?3:1<bn?2:cr[gs+0]!=0),gs+=16;Ur>>=2,Qn=Qn>>1|la<<5}nr|=xr<<4*sn,oa|=Ur<<4<<sn,ts|=(240&Qn)<<sn}Dt.la=oa,Ss.la=ts,Gn.Hc=Hr,Gn.Gc=nr,Gn.ia=43690&nr?0:nn.ia,xn=!(Hr|nr)}if(0<st.L&&(st.wa[st.Y+st.ja]=st.gd[Ke.$b][Ke.Za],st.wa[st.Y+st.ja].La|=!xn),Jr.Ka)return Sn(rr,7,"Premature end-of-file encountered.")}if(si(rr),st=Un,Jr=1,Ke=(kt=rr).D,Dt=0<kt.L&&kt.M>=kt.zb&&kt.M<=kt.Va,kt.Aa==0)t:{if(Ke.M=kt.M,Ke.uc=Dt,hr(kt,Ke),Jr=1,Ke=(xr=kt.D).Nb,Dt=(nr=Jd[kt.L])*kt.R,Dr=nr/2*kt.B,pr=16*Ke*kt.R,$s=8*Ke*kt.B,xn=kt.sa,Gn=kt.ta-Dt+pr,nn=kt.qa,cr=kt.ra-Dr+$s,gs=kt.Ha,Ss=kt.Ia-Dr+$s,Qn=(Ur=xr.M)==0,Hr=Ur>=kt.Va-1,kt.Aa==2&&hr(kt,xr),xr.uc)for(la=(bn=kt).D.M,t(bn.D.uc),xr=bn.yb;xr<bn.Hb;++xr){ts=xr,oa=la;var _s=(ca=(rs=bn).D).Nb;sn=rs.R;var ca=ca.wa[ca.Y+ts],Aa=rs.sa,Es=rs.ta+16*_s*sn+16*ts,ua=ca.dd,Rr=ca.tc;if(Rr!=0)if(t(3<=Rr),rs.L==1)0<ts&&s0(Aa,Es,sn,Rr+4),ca.La&&i0(Aa,Es,sn,Rr),0<oa&&n0(Aa,Es,sn,Rr+4),ca.La&&a0(Aa,Es,sn,Rr);else{var da=rs.B,Qa=rs.qa,Hl=rs.ra+8*_s*da+8*ts,Da=rs.Ha,rs=rs.Ia+8*_s*da+8*ts;_s=ca.ld,0<ts&&(Br(Aa,Es,sn,Rr+4,ua,_s),cu(Qa,Hl,Da,rs,da,Rr+4,ua,_s)),ca.La&&(Rl(Aa,Es,sn,Rr,ua,_s),r0(Qa,Hl,Da,rs,da,Rr,ua,_s)),0<oa&&(vn(Aa,Es,sn,Rr+4,ua,_s),Hi(Qa,Hl,Da,rs,da,Rr+4,ua,_s)),ca.La&&(zc(Aa,Es,sn,Rr,ua,_s),zp(Qa,Hl,Da,rs,da,Rr,ua,_s))}}if(kt.ia&&alert("todo:DitherRow"),st.put!=null){if(xr=16*Ur,Ur=16*(Ur+1),Qn?(st.y=kt.sa,st.O=kt.ta+pr,st.f=kt.qa,st.N=kt.ra+$s,st.ea=kt.Ha,st.W=kt.Ia+$s):(xr-=nr,st.y=xn,st.O=Gn,st.f=nn,st.N=cr,st.ea=gs,st.W=Ss),Hr||(Ur-=nr),Ur>st.o&&(Ur=st.o),st.F=null,st.J=null,kt.Fa!=null&&0<kt.Fa.length&&xr<Ur&&(st.J=Fn(kt,st,xr,Ur-xr),st.F=kt.mb,st.F==null&&st.F.length==0)){Jr=Sn(kt,3,"Could not decode alpha data.");break t}xr<st.j&&(nr=st.j-xr,xr=st.j,t(!(1&nr)),st.O+=kt.R*nr,st.N+=kt.B*(nr>>1),st.W+=kt.B*(nr>>1),st.F!=null&&(st.J+=st.width*nr)),xr<Ur&&(st.O+=st.v,st.N+=st.v>>1,st.W+=st.v>>1,st.F!=null&&(st.J+=st.v),st.ka=xr-st.j,st.U=st.va-st.v,st.T=Ur-xr,Jr=st.put(st))}Ke+1!=kt.Ic||Hr||(n(kt.sa,kt.ta-Dt,xn,Gn+16*kt.R,Dt),n(kt.qa,kt.ra-Dr,nn,cr+8*kt.B,Dr),n(kt.Ha,kt.Ia-Dr,gs,Ss+8*kt.B,Dr))}if(!Jr)return Sn(rr,6,"Output aborted.")}return 1}(ve,je)),je.bc!=null&&je.bc(je),Ee&=1}return Ee?(ve.cb=0,Ee):0})(w,$)||(_=w.a)}}else _=w.a}_==0&&se.Oa!=null&&se.Oa.fd&&(_=Ll(se.ba))}se=_}te=se!=0?null:11>te?ae.f.RGBA.eb:ae.f.kb.y}else te=null;return te};var og=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,R){for(var U="",D=0;D<4;D++)U+=String.fromCharCode(P[R++]);return U}function o(P,R){return P[R+0]|P[R+1]<<8}function d(P,R){return(P[R+0]|P[R+1]<<8|P[R+2]<<16)>>>0}function h(P,R){return(P[R+0]|P[R+1]<<8|P[R+2]<<16|P[R+3]<<24)>>>0}new c;var f=[0],g=[0],m=[],x=new c,p=e,v=function(P,R){var U={},D=0,Q=!1,H=0,W=0;if(U.frames=[],!function(M,G){for(var re=0;re<4;re++)if(M[G+re]!="RIFF".charCodeAt(re))return!0;return!1}(P,R)){for(h(P,R+=4),R+=8;R<P.length;){var V=u(P,R),Z=h(P,R+=4);R+=4;var K=Z+(1&Z);switch(V){case"VP8 ":case"VP8L":U.frames[D]===void 0&&(U.frames[D]={}),(Ae=U.frames[D]).src_off=Q?W:R-8,Ae.src_size=H+Z+8,D++,Q&&(Q=!1,H=0,W=0);break;case"VP8X":(Ae=U.header={}).feature_flags=P[R];var X=R+4;Ae.canvas_width=1+d(P,X),X+=3,Ae.canvas_height=1+d(P,X),X+=3;break;case"ALPH":Q=!0,H=K+8,W=R-8;break;case"ANIM":(Ae=U.header).bgcolor=h(P,R),X=R+4,Ae.loop_count=o(P,X),X+=2;break;case"ANMF":var le,Ae;(Ae=U.frames[D]={}).offset_x=2*d(P,R),R+=3,Ae.offset_y=2*d(P,R),R+=3,Ae.width=1+d(P,R),R+=3,Ae.height=1+d(P,R),R+=3,Ae.duration=d(P,R),R+=3,le=P[R++],Ae.dispose=1&le,Ae.blend=le>>1&1}V!="ANMF"&&(R+=K)}return U}}(p,0);v.response=p,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,j=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],g=[b.canvas_width];for(var k=0;k<j.length&&j[k].blend!=0;k++);}var S=j[0],F=x.WebPDecodeRGBA(p,S.src_off,S.src_size,g,f);S.rgba=F,S.imgwidth=g[0],S.imgheight=f[0];for(var T=0;T<g[0]*f[0]*4;T++)m[T]=F[T];return this.width=g,this.height=f,this.data=m,this}(function(e){var t,r,n,s,a,l,A,c,u,o=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new l,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new l,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,A=this.internal.Rectangle,c=this.internal.Matrix,u=new o}]);var d=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=M;Object.defineProperty(this,"pdf",{get:function(){return G}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(be){re=!!be}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(be){ne=!!be}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(be){isNaN(be)||(de=be)}});var q=0;Object.defineProperty(this,"posY",{get:function(){return q},set:function(be){isNaN(be)||(q=be)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(be){var ie;typeof be=="number"?ie=[be,be,be,be]:((ie=new Array(4))[0]=be[0],ie[1]=be.length>=2?be[1]:ie[0],ie[2]=be.length>=3?be[2]:ie[0],ie[3]=be.length>=4?be[3]:ie[1]),u.margin=ie}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(be){pe=be}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(be){oe=be}});var fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return fe},set:function(be){fe=be}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(be){be instanceof o&&(u=be)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(be){u.path=be}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(be){ye=be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(be){var ie;ie=h(be),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(be){var ie=h(be);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(be){["butt","round","square"].indexOf(be)!==-1&&(this.ctx.lineCap=be,this.pdf.setLineCap(be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(be){isNaN(be)||(this.ctx.lineWidth=be,this.pdf.setLineWidth(be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(be){["bevel","round","miter"].indexOf(be)!==-1&&(this.ctx.lineJoin=be,this.pdf.setLineJoin(be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(be){isNaN(be)||(this.ctx.miterLimit=be,this.pdf.setMiterLimit(be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(be){this.ctx.textBaseline=be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(be){["right","end","center","left","start"].indexOf(be)!==-1&&(this.ctx.textAlign=be)}});var ue=null,_e=null;Object.defineProperty(this,"fontFaces",{get:function(){return _e},set:function(be){ue=null,_e=be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(be){var ie;if(this.ctx.font=be,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(be))!==null){var et=ie[1];ie[2];var ke=ie[3],Re=ie[4];ie[5];var Oe=ie[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Re)[2];Re=Math.floor(qe==="px"?parseFloat(Re)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(Re)*this.pdf.getFontSize():parseFloat(Re)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Re);var Ge=function(Ct){var it,Rt,Tt=[],ut=Ct.trim();if(ut==="")return f2;if(ut in _6)return[_6[ut]];for(;ut!=="";){switch(Rt=null,it=(ut=F6(ut)).charAt(0)){case'"':case"'":Rt=jde(ut.substring(1),it);break;default:Rt=Bde(ut)}if(Rt===null||(Tt.push(Rt[0]),(ut=F6(Rt[1]))!==""&&ut.charAt(0)!==","))return f2;ut=ut.replace(/^,/,"")}return Tt}(Oe);if(this.fontFaces){var pt=function(Ct,it){if(ue===null){var Rt=function(Tt){var ut=[];return Object.keys(Tt).forEach(function(He){Tt[He].forEach(function(at){var rt=null;switch(at){case"bold":rt={family:He,weight:"bold"};break;case"italic":rt={family:He,style:"italic"};break;case"bolditalic":rt={family:He,weight:"bold",style:"italic"};break;case"":case"normal":rt={family:He}}rt!==null&&(rt.ref={name:He,style:at},ut.push(rt))})}),ut}(Ct.getFontList());ue=function(Tt){for(var ut={},He=0;He<Tt.length;++He){var at=d2(Tt[He]),rt=at.family,ot=at.stretch,At=at.style,or=at.weight;ut[rt]=ut[rt]||{},ut[rt][ot]=ut[rt][ot]||{},ut[rt][ot][At]=ut[rt][ot][At]||{},ut[rt][ot][At][or]=at}return ut}(Rt.concat(it))}return ue}(this.pdf,this.fontFaces),nt=Ge.map(function(Ct){return{family:Ct,stretch:"normal",weight:ke,style:et}}),Lt=function(Ct,it,Rt){for(var Tt=(Rt=Rt||{}).defaultFontFamily||"times",ut=Object.assign({},wde,Rt.genericFontFamilies||{}),He=null,at=null,rt=0;rt<it.length;++rt)if(ut[(He=d2(it[rt])).family]&&(He.family=ut[He.family]),Ct.hasOwnProperty(He.family)){at=Ct[He.family];break}if(!(at=at||Ct[Tt]))throw new Error("Could not find a font-family for the rule '"+E6(He)+"' and default family '"+Tt+"'.");if(at=function(ot,At){if(At[ot])return At[ot];var or=Q5[ot],vr=or<=Q5.normal?-1:1,wt=S6(At,CD,or,vr);if(!wt)throw new Error("Could not find a matching font-stretch value for "+ot);return wt}(He.stretch,at),at=function(ot,At){if(At[ot])return At[ot];for(var or=BD[ot],vr=0;vr<or.length;++vr)if(At[or[vr]])return At[or[vr]];throw new Error("Could not find a matching font-style for "+ot)}(He.style,at),!(at=function(ot,At){if(At[ot])return At[ot];if(ot===400&&At[500])return At[500];if(ot===500&&At[400])return At[400];var or=yde[ot],vr=S6(At,ND,or,ot<400?-1:1);if(!vr)throw new Error("Could not find a matching font-weight for value "+ot);return vr}(He.weight,at)))throw new Error("Failed to resolve a font for the rule '"+E6(He)+"'.");return at}(pt,nt);this.pdf.setFont(Lt.ref.name,Lt.ref.style)}else{var Xe="";(ke==="bold"||parseInt(ke,10)>=700||et==="bold")&&(Xe="bold"),et==="italic"&&(Xe+="italic"),Xe.length===0&&(Xe="normal");for(var St="",qt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Bt=0;Bt<Ge.length;Bt++){if(this.pdf.internal.getFont(Ge[Bt],Xe,{noFallback:!0,disableWarning:!0})!==void 0){St=Ge[Bt];break}if(Xe==="bolditalic"&&this.pdf.internal.getFont(Ge[Bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)St=Ge[Bt],Xe="bold";else if(this.pdf.internal.getFont(Ge[Bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){St=Ge[Bt],Xe="normal";break}}if(St===""){for(var tt=0;tt<Ge.length;tt++)if(qt[Ge[tt]]){St=qt[Ge[tt]];break}}St=St===""?"Times":St,this.pdf.setFont(St,Xe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(be){this.ctx.globalCompositeOperation=be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(be){this.ctx.globalAlpha=be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(be){this.ctx.lineDashOffset=be,Ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(be){this.ctx.lineDash=be,Ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(be){this.ctx.ignoreClearRect=!!be}})};d.prototype.setLineDash=function(M){this.lineDash=M},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){j.call(this,"fill",!1)},d.prototype.stroke=function(){j.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(M,G){if(isNaN(M)||isNaN(G))throw $r.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new l(M,G));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new l(M,G)},d.prototype.closePath=function(){var M=new l(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Tr(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){M=new l(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(M.x,M.y)},d.prototype.lineTo=function(M,G){if(isNaN(M)||isNaN(G))throw $r.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new l(M,G));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new l(re.x,re.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},d.prototype.quadraticCurveTo=function(M,G,re,ne){if(isNaN(re)||isNaN(ne)||isNaN(M)||isNaN(G))throw $r.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new l(re,ne)),q=this.ctx.transform.applyToPoint(new l(M,G));this.path.push({type:"qct",x1:q.x,y1:q.y,x:de.x,y:de.y}),this.ctx.lastPoint=new l(de.x,de.y)},d.prototype.bezierCurveTo=function(M,G,re,ne,de,q){if(isNaN(de)||isNaN(q)||isNaN(M)||isNaN(G)||isNaN(re)||isNaN(ne))throw $r.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new l(de,q)),oe=this.ctx.transform.applyToPoint(new l(M,G)),fe=this.ctx.transform.applyToPoint(new l(re,ne));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:fe.x,y2:fe.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new l(pe.x,pe.y)},d.prototype.arc=function(M,G,re,ne,de,q){if(isNaN(M)||isNaN(G)||isNaN(re)||isNaN(ne)||isNaN(de))throw $r.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(q=!!q,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new l(M,G));M=pe.x,G=pe.y;var oe=this.ctx.transform.applyToPoint(new l(0,re)),fe=this.ctx.transform.applyToPoint(new l(0,0));re=Math.sqrt(Math.pow(oe.x-fe.x,2)+Math.pow(oe.y-fe.y,2))}Math.abs(de-ne)>=2*Math.PI&&(ne=0,de=2*Math.PI),this.path.push({type:"arc",x:M,y:G,radius:re,startAngle:ne,endAngle:de,counterclockwise:q})},d.prototype.arcTo=function(M,G,re,ne,de){throw new Error("arcTo not implemented.")},d.prototype.rect=function(M,G,re,ne){if(isNaN(M)||isNaN(G)||isNaN(re)||isNaN(ne))throw $r.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,G),this.lineTo(M+re,G),this.lineTo(M+re,G+ne),this.lineTo(M,G+ne),this.lineTo(M,G),this.lineTo(M+re,G),this.lineTo(M,G)},d.prototype.fillRect=function(M,G,re,ne){if(isNaN(M)||isNaN(G)||isNaN(re)||isNaN(ne))throw $r.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,G,re,ne),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},d.prototype.strokeRect=function(M,G,re,ne){if(isNaN(M)||isNaN(G)||isNaN(re)||isNaN(ne))throw $r.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(M,G,re,ne),this.stroke())},d.prototype.clearRect=function(M,G,re,ne){if(isNaN(M)||isNaN(G)||isNaN(re)||isNaN(ne))throw $r.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,G,re,ne))},d.prototype.save=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new o(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},d.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(G),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(M){var G,re,ne,de;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))G=0,re=0,ne=0,de=0;else{var q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(q!==null)G=parseInt(q[1]),re=parseInt(q[2]),ne=parseInt(q[3]),de=1;else if((q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)G=parseInt(q[1]),re=parseInt(q[2]),ne=parseInt(q[3]),de=parseFloat(q[4]);else{if(de=1,typeof M=="string"&&M.charAt(0)!=="#"){var pe=new gD(M);M=pe.ok?pe.toHex():"#000000"}M.length===4?(G=M.substring(1,2),G+=G,re=M.substring(2,3),re+=re,ne=M.substring(3,4),ne+=ne):(G=M.substring(1,3),re=M.substring(3,5),ne=M.substring(5,7)),G=parseInt(G,16),re=parseInt(re,16),ne=parseInt(ne,16)}}return{r:G,g:re,b:ne,a:de,style:M}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(M,G,re,ne){if(isNaN(G)||isNaN(re)||typeof M!="string")throw $r.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!f.call(this)){var de=K(this.ctx.transform.rotation),q=this.ctx.transform.scaleX;D.call(this,{text:M,x:G,y:re,scale:q,angle:de,align:this.textAlign,maxWidth:ne})}},d.prototype.strokeText=function(M,G,re,ne){if(isNaN(G)||isNaN(re)||typeof M!="string")throw $r.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){ne=isNaN(ne)?void 0:ne;var de=K(this.ctx.transform.rotation),q=this.ctx.transform.scaleX;D.call(this,{text:M,x:G,y:re,scale:q,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:ne})}},d.prototype.measureText=function(M){if(typeof M!="string")throw $r.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,re=this.pdf.internal.scaleFactor,ne=G.internal.getFontSize(),de=G.getStringUnitWidth(M)*ne/G.internal.scaleFactor;return new function(q){var pe=(q=q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:de*=Math.round(96*re/72*1e4)/1e4})},d.prototype.scale=function(M,G){if(isNaN(M)||isNaN(G))throw $r.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new c(M,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},d.prototype.rotate=function(M){if(isNaN(M))throw $r.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.translate=function(M,G){if(isNaN(M)||isNaN(G))throw $r.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new c(1,0,0,1,M,G);this.ctx.transform=this.ctx.transform.multiply(re)},d.prototype.transform=function(M,G,re,ne,de,q){if(isNaN(M)||isNaN(G)||isNaN(re)||isNaN(ne)||isNaN(de)||isNaN(q))throw $r.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new c(M,G,re,ne,de,q);this.ctx.transform=this.ctx.transform.multiply(pe)},d.prototype.setTransform=function(M,G,re,ne,de,q){M=isNaN(M)?1:M,G=isNaN(G)?0:G,re=isNaN(re)?0:re,ne=isNaN(ne)?1:ne,de=isNaN(de)?0:de,q=isNaN(q)?0:q,this.ctx.transform=new c(M,G,re,ne,de,q)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(M,G,re,ne,de,q,pe,oe,fe){var ye=this.pdf.getImageProperties(M),ue=1,_e=1,be=1,ie=1;ne!==void 0&&oe!==void 0&&(be=oe/ne,ie=fe/de,ue=ye.width/ne*oe/ne,_e=ye.height/de*fe/de),q===void 0&&(q=G,pe=re,G=0,re=0),ne!==void 0&&oe===void 0&&(oe=ne,fe=de),ne===void 0&&oe===void 0&&(oe=ye.width,fe=ye.height);for(var et,ke=this.ctx.transform.decompose(),Re=K(ke.rotate.shx),Oe=new c,qe=(Oe=(Oe=(Oe=Oe.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale)).applyToRectangle(new A(q-G*be,pe-re*ie,ne*ue,de*_e)),Ge=x.call(this,qe),pt=[],nt=0;nt<Ge.length;nt+=1)pt.indexOf(Ge[nt])===-1&&pt.push(Ge[nt]);if(b(pt),this.autoPaging)for(var Lt=pt[0],Xe=pt[pt.length-1],St=Lt;St<Xe+1;St++){this.pdf.setPage(St);var qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=St===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=St===1?0:tt+(St-2)*Ct;if(this.ctx.clip_path.length!==0){var Rt=this.path;et=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(et,this.posX+this.margin[3],-it+Bt+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=Rt}var Tt=JSON.parse(JSON.stringify(qe));Tt=v([Tt],this.posX+this.margin[3],-it+Bt+this.ctx.prevPageLastElemOffset)[0];var ut=(St>Lt||St<Xe)&&m.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,Ct,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Tt.x,Tt.y,Tt.w,Tt.h,null,null,Re),ut&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Re)};var x=function(M,G,re){var ne=[];G=G||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ne.push(Math.floor((M.y+de)/re)+1);break;case"arc":ne.push(Math.floor((M.y+de-M.radius)/re)+1),ne.push(Math.floor((M.y+de+M.radius)/re)+1);break;case"qct":var q=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ne.push(Math.floor((q.y+de)/re)+1),ne.push(Math.floor((q.y+q.h+de)/re)+1);break;case"bct":var pe=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ne.push(Math.floor((pe.y+de)/re)+1),ne.push(Math.floor((pe.y+pe.h+de)/re)+1);break;case"rect":ne.push(Math.floor((M.y+de)/re)+1),ne.push(Math.floor((M.y+M.h+de)/re)+1)}for(var oe=0;oe<ne.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<ne[oe];)p.call(this);return ne},p=function(){var M=this.fillStyle,G=this.strokeStyle,re=this.font,ne=this.lineCap,de=this.lineWidth,q=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=G,this.font=re,this.lineCap=ne,this.lineWidth=de,this.lineJoin=q},v=function(M,G,re){for(var ne=0;ne<M.length;ne++)switch(M[ne].type){case"bct":M[ne].x2+=G,M[ne].y2+=re;case"qct":M[ne].x1+=G,M[ne].y1+=re;default:M[ne].x+=G,M[ne].y+=re}return M},b=function(M){return M.sort(function(G,re){return G-re})},j=function(M,G){for(var re,ne,de=this.fillStyle,q=this.strokeStyle,pe=this.lineCap,oe=this.lineWidth,fe=Math.abs(oe*this.ctx.transform.scaleX),ye=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),be=[],ie=0;ie<_e.length;ie++)if(_e[ie].x!==void 0)for(var et=x.call(this,_e[ie]),ke=0;ke<et.length;ke+=1)be.indexOf(et[ke])===-1&&be.push(et[ke]);for(var Re=0;Re<be.length;Re++)for(;this.pdf.internal.getNumberOfPages()<be[Re];)p.call(this);if(b(be),this.autoPaging)for(var Oe=be[0],qe=be[be.length-1],Ge=Oe;Ge<qe+1;Ge++){this.pdf.setPage(Ge),this.fillStyle=de,this.strokeStyle=q,this.lineCap=pe,this.lineWidth=fe,this.lineJoin=ye;var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nt=Ge===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=Ge===1?0:Lt+(Ge-2)*Xe;if(this.ctx.clip_path.length!==0){var qt=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(re,this.posX+this.margin[3],-St+nt+this.ctx.prevPageLastElemOffset),k.call(this,M,!0),this.path=qt}if(ne=JSON.parse(JSON.stringify(ue)),this.path=v(ne,this.posX+this.margin[3],-St+nt+this.ctx.prevPageLastElemOffset),G===!1||Ge===0){var Bt=(Ge>Oe||Ge<qe)&&m.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Xe,null).clip().discardPath()),k.call(this,M,G),Bt&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=fe,k.call(this,M,G),this.lineWidth=oe;this.path=ue},k=function(M,G){if((M!=="stroke"||G||!g.call(this))&&(M==="stroke"||G||!f.call(this))){for(var re,ne,de=[],q=this.path,pe=0;pe<q.length;pe++){var oe=q[pe];switch(oe.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:oe,deltas:[],abs:[]});break;case"lt":var fe=de.length;if(q[pe-1]&&!isNaN(q[pe-1].x)&&(re=[oe.x-q[pe-1].x,oe.y-q[pe-1].y],fe>0)){for(;fe>=0;fe--)if(de[fe-1].close!==!0&&de[fe-1].begin!==!0){de[fe-1].deltas.push(re),de[fe-1].abs.push(oe);break}}break;case"bct":re=[oe.x1-q[pe-1].x,oe.y1-q[pe-1].y,oe.x2-q[pe-1].x,oe.y2-q[pe-1].y,oe.x-q[pe-1].x,oe.y-q[pe-1].y],de[de.length-1].deltas.push(re);break;case"qct":var ye=q[pe-1].x+2/3*(oe.x1-q[pe-1].x),ue=q[pe-1].y+2/3*(oe.y1-q[pe-1].y),_e=oe.x+2/3*(oe.x1-oe.x),be=oe.y+2/3*(oe.y1-oe.y),ie=oe.x,et=oe.y;re=[ye-q[pe-1].x,ue-q[pe-1].y,_e-q[pe-1].x,be-q[pe-1].y,ie-q[pe-1].x,et-q[pe-1].y],de[de.length-1].deltas.push(re);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(oe)}}ne=G?null:M==="stroke"?"stroke":"fill";for(var ke=!1,Re=0;Re<de.length;Re++)if(de[Re].arc)for(var Oe=de[Re].abs,qe=0;qe<Oe.length;qe++){var Ge=Oe[qe];Ge.type==="arc"?T.call(this,Ge.x,Ge.y,Ge.radius,Ge.startAngle,Ge.endAngle,Ge.counterclockwise,void 0,G,!ke):Q.call(this,Ge.x,Ge.y),ke=!0}else if(de[Re].close===!0)this.pdf.internal.out("h"),ke=!1;else if(de[Re].begin!==!0){var pt=de[Re].start.x,nt=de[Re].start.y;H.call(this,de[Re].deltas,pt,nt),ke=!0}ne&&P.call(this,ne),G&&R.call(this)}},S=function(M){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-re;case"top":return M+G-re;case"hanging":return M+G-2*re;case"middle":return M+G/2-re;default:return M}},F=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(G,re){this.colorStops.push([G,re])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(M,G,re,ne,de,q,pe,oe,fe){for(var ye=V.call(this,re,ne,de,q),ue=0;ue<ye.length;ue++){var _e=ye[ue];ue===0&&(fe?U.call(this,_e.x1+M,_e.y1+G):Q.call(this,_e.x1+M,_e.y1+G)),W.call(this,M,G,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}oe?R.call(this):P.call(this,pe)},P=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(M,G){this.pdf.internal.out(r(M)+" "+n(G)+" m")},D=function(M){var G;switch(M.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var re=this.pdf.getTextDimensions(M.text),ne=S.call(this,M.y),de=F.call(this,ne)-re.h,q=this.ctx.transform.applyToPoint(new l(M.x,ne)),pe=this.ctx.transform.decompose(),oe=new c;oe=(oe=(oe=oe.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var fe,ye,ue,_e=this.ctx.transform.applyToRectangle(new A(M.x,ne,re.w,re.h)),be=oe.applyToRectangle(new A(M.x,de,re.w,re.h)),ie=x.call(this,be),et=[],ke=0;ke<ie.length;ke+=1)et.indexOf(ie[ke])===-1&&et.push(ie[ke]);if(b(et),this.autoPaging)for(var Re=et[0],Oe=et[et.length-1],qe=Re;qe<Oe+1;qe++){this.pdf.setPage(qe);var Ge=qe===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[2],Lt=nt-this.margin[0],Xe=this.pdf.internal.pageSize.width-this.margin[1],St=Xe-this.margin[3],qt=qe===1?0:pt+(qe-2)*Lt;if(this.ctx.clip_path.length!==0){var Bt=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(fe,this.posX+this.margin[3],-1*qt+Ge),k.call(this,"fill",!0),this.path=Bt}var tt=v([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-qt+Ge+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*M.scale),ue=this.lineWidth,this.lineWidth=ue*M.scale);var Ct=this.autoPaging!=="text";if(Ct||tt.y+tt.h<=nt){if(Ct||tt.y>=Ge&&tt.x<=Xe){var it=Ct?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Xe-tt.x)[0],Rt=v([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-qt+Ge+this.ctx.prevPageLastElemOffset)[0],Tt=Ct&&(qe>Re||qe<Oe)&&m.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,Lt,null).clip().discardPath()),this.pdf.text(it,Rt.x,Rt.y,{angle:M.angle,align:G,renderingMode:M.renderingMode}),Tt&&this.pdf.restoreGraphicsState()}}else tt.y<nt&&(this.ctx.prevPageLastElemOffset+=nt-tt.y);M.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=ue)}else M.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*M.scale),ue=this.lineWidth,this.lineWidth=ue*M.scale),this.pdf.text(M.text,q.x+this.posX,q.y+this.posY,{angle:M.angle,align:G,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=ue)},Q=function(M,G,re,ne){re=re||0,ne=ne||0,this.pdf.internal.out(r(M+re)+" "+n(G+ne)+" l")},H=function(M,G,re){return this.pdf.lines(M,G,re,null,null)},W=function(M,G,re,ne,de,q,pe,oe){this.pdf.internal.out([t(s(re+M)),t(a(ne+G)),t(s(de+M)),t(a(q+G)),t(s(pe+M)),t(a(oe+G)),"c"].join(" "))},V=function(M,G,re,ne){for(var de=2*Math.PI,q=Math.PI/2;G>re;)G-=de;var pe=Math.abs(re-G);pe<de&&ne&&(pe=de-pe);for(var oe=[],fe=ne?-1:1,ye=G;pe>1e-5;){var ue=ye+fe*Math.min(pe,q);oe.push(Z.call(this,M,ye,ue)),pe-=Math.abs(ue-ye),ye=ue}return oe},Z=function(M,G,re){var ne=(re-G)/2,de=M*Math.cos(ne),q=M*Math.sin(ne),pe=de,oe=-q,fe=pe*pe+oe*oe,ye=fe+pe*de+oe*q,ue=4/3*(Math.sqrt(2*fe*ye)-ye)/(pe*q-oe*de),_e=pe-ue*oe,be=oe+ue*pe,ie=_e,et=-be,ke=ne+G,Re=Math.cos(ke),Oe=Math.sin(ke);return{x1:M*Math.cos(G),y1:M*Math.sin(G),x2:_e*Re-be*Oe,y2:_e*Oe+be*Re,x3:ie*Re-et*Oe,y3:ie*Oe+et*Re,x4:M*Math.cos(re),y4:M*Math.sin(re)}},K=function(M){return 180*M/Math.PI},X=function(M,G,re,ne,de,q){var pe=M+.5*(re-M),oe=G+.5*(ne-G),fe=de+.5*(re-de),ye=q+.5*(ne-q),ue=Math.min(M,de,pe,fe),_e=Math.max(M,de,pe,fe),be=Math.min(G,q,oe,ye),ie=Math.max(G,q,oe,ye);return new A(ue,be,_e-ue,ie-be)},le=function(M,G,re,ne,de,q,pe,oe){var fe,ye,ue,_e,be,ie,et,ke,Re,Oe,qe,Ge,pt,nt,Lt=re-M,Xe=ne-G,St=de-re,qt=q-ne,Bt=pe-de,tt=oe-q;for(ye=0;ye<41;ye++)Re=(et=(ue=M+(fe=ye/40)*Lt)+fe*((be=re+fe*St)-ue))+fe*(be+fe*(de+fe*Bt-be)-et),Oe=(ke=(_e=G+fe*Xe)+fe*((ie=ne+fe*qt)-_e))+fe*(ie+fe*(q+fe*tt-ie)-ke),ye==0?(qe=Re,Ge=Oe,pt=Re,nt=Oe):(qe=Math.min(qe,Re),Ge=Math.min(Ge,Oe),pt=Math.max(pt,Re),nt=Math.max(nt,Oe));return new A(Math.round(qe),Math.round(Ge),Math.round(pt-qe),Math.round(nt-Ge))},Ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,G,re=(M=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:G}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(Ut.API),function(e){var t=function(l){var A,c,u,o,d,h,f,g,m,x;for(c=[],u=0,o=(l+=A="\0\0\0\0".slice(l.length%4||4)).length;o>u;u+=4)(d=(l.charCodeAt(u)<<24)+(l.charCodeAt(u+1)<<16)+(l.charCodeAt(u+2)<<8)+l.charCodeAt(u+3))!==0?(h=(d=((d=((d=((d=(d-(x=d%85))/85)-(m=d%85))/85)-(g=d%85))/85)-(f=d%85))/85)%85,c.push(h+33,f+33,g+33,m+33,x+33)):c.push(122);return function(p,v){for(var b=v;b>0;b--)p.pop()}(c,A.length),String.fromCharCode.apply(String,c)+"~>"},r=function(l){var A,c,u,o,d,h=String,f="length",g=255,m="charCodeAt",x="slice",p="replace";for(l[x](-2),l=l[x](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),u=[],o=0,d=(l+=A="uuuuu"[x](l[f]%5||5))[f];d>o;o+=5)c=52200625*(l[m](o)-33)+614125*(l[m](o+1)-33)+7225*(l[m](o+2)-33)+85*(l[m](o+3)-33)+(l[m](o+4)-33),u.push(g&c>>24,g&c>>16,g&c>>8,g&c);return function(v,b){for(var j=b;j>0;j--)v.pop()}(u,A[f]),h.fromCharCode.apply(h,u)},n=function(l){return l.split("").map(function(A){return("0"+A.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(l){var A=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),A.test(l)===!1)return"";for(var c="",u=0;u<l.length;u+=2)c+=String.fromCharCode("0x"+(l[u]+l[u+1]));return c},a=function(l){for(var A=new Uint8Array(l.length),c=l.length;c--;)A[c]=l.charCodeAt(c);return(A=C5(A)).reduce(function(u,o){return u+String.fromCharCode(o)},"")};e.processDataByFilters=function(l,A){var c=0,u=l||"",o=[];for(typeof(A=A||[])=="string"&&(A=[A]),c=0;c<A.length;c+=1)switch(A[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),o.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),o.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),o.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),o.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),o.push("/FlateDecode");break;default:throw new Error('The filter: "'+A[c]+'" is not implemented')}return{data:u,reverseChain:o.reverse().join(" ")}}}(Ut.API),function(e){e.loadFile=function(t,r,n){return function(s,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var A=void 0;try{A=function(c,u,o){var d=new XMLHttpRequest,h=0,f=function(g){var m=g.length,x=[],p=String.fromCharCode;for(h=0;h<m;h+=1)x.push(p(255&g.charCodeAt(h)));return x.join("")};if(d.open("GET",c,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?o(f(this.responseText)):o(void 0)}),d.send(null),u&&d.status===200)return f(d.responseText)}(s,a,l)}catch{}return A}(t,r,n)},e.loadImageFile=e.loadFile}(Ut.API),function(e){function t(){return(Vt.html2canvas?Promise.resolve(Vt.html2canvas):TA(()=>import("./html2canvas-D7oyOZNe.js").then(A=>A.h),[])).catch(function(A){return Promise.reject(new Error("Could not load html2canvas: "+A))}).then(function(A){return A.default?A.default:A})}function r(){return(Vt.DOMPurify?Promise.resolve(Vt.DOMPurify):TA(()=>import("./purify.es-sOfw8HaZ.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load dompurify: "+A))}).then(function(A){return A.default?A.default:A})}var n=function(A){var c=Tr(A);return c==="undefined"?"undefined":c==="string"||A instanceof String?"string":c==="number"||A instanceof Number?"number":c==="function"||A instanceof Function?"function":A&&A.constructor===Array?"array":A&&A.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(A,c){var u=document.createElement(A);for(var o in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[o]=c.style[o];return u},a=function A(c,u){for(var o=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),d=c.firstChild;d;d=d.nextSibling)u!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||o.appendChild(A(d,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(o.width=c.width,o.height=c.height,o.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(o.value=c.value),o.addEventListener("load",function(){o.scrollTop=c.scrollTop,o.scrollLeft=c.scrollLeft},!0)),o},l=function A(c){var u=Object.assign(A.convert(Promise.resolve()),JSON.parse(JSON.stringify(A.template))),o=A.convert(Promise.resolve(),u);return(o=o.setProgress(1,A,1,[A])).set(c)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(A,c){return A.__proto__=c||l.prototype,A},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(A,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(A),c){case"string":return this.then(r).then(function(u){return this.set({src:s("div",{innerHTML:A,dompurify:u})})});case"element":return this.set({src:A});case"canvas":return this.set({canvas:A});case"img":return this.set({img:A});default:return this.error("Unknown source type.")}})},l.prototype.to=function(A){switch(A){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var A={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(A.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:A}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(t).then(function(c){var u=this.opt.jsPDF,o=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=o,o)for(var f=0;f<o.length;++f){var g=o[f],m=g.src.find(function(x){return x.format==="truetype"});m&&u.addFont(m.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,u.context2d.save(!0),c(this.prop.container,h)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var A=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=A})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(A,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(A,c):this.outputPdf(A,c)},l.prototype.outputPdf=function(A,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(A,c)})},l.prototype.outputImg=function(A){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(A){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+A+'" is not supported.'}})},l.prototype.save=function(A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(A?{filename:A}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(A){if(n(A)!=="object")return this;var c=Object.keys(A||{}).map(function(u){if(u in l.template.prop)return function(){this.prop[u]=A[u]};switch(u){case"margin":return this.setMargin.bind(this,A.margin);case"jsPDF":return function(){return this.opt.jsPDF=A.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,A.pageSize);default:return function(){this.opt[u]=A[u]}}},this);return this.then(function(){return this.thenList(c)})},l.prototype.get=function(A,c){return this.then(function(){var u=A in l.template.prop?this.prop[A]:this.opt[A];return c?c(u):u})},l.prototype.setMargin=function(A){return this.then(function(){switch(n(A)){case"number":A=[A,A,A,A];case"array":if(A.length===2&&(A=[A[0],A[1],A[0],A[1]]),A.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=A}).then(this.setPageSize)},l.prototype.setPageSize=function(A){function c(u,o){return Math.floor(u*o/72*96)}return this.then(function(){(A=A||Ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(A.inner={width:A.width-this.opt.margin[1]-this.opt.margin[3],height:A.height-this.opt.margin[0]-this.opt.margin[2]},A.inner.px={width:c(A.inner.width,A.k),height:c(A.inner.height,A.k)},A.inner.ratio=A.inner.height/A.inner.width),this.prop.pageSize=A})},l.prototype.setProgress=function(A,c,u,o){return A!=null&&(this.progress.val=A),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),o!=null&&(this.progress.stack=o),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(A,c,u,o){return this.setProgress(A?this.progress.val+A:null,c||null,u?this.progress.n+u:null,o?this.progress.stack.concat(o):null)},l.prototype.then=function(A,c){var u=this;return this.thenCore(A,c,function(o,d){return u.updateProgress(null,null,1,[o]),Promise.prototype.then.call(this,function(h){return u.updateProgress(null,o),h}).then(o,d).then(function(h){return u.updateProgress(1),h})})},l.prototype.thenCore=function(A,c,u){u=u||Promise.prototype.then;var o=this;A&&(A=A.bind(o)),c&&(c=c.bind(o));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?o:l.convert(Object.assign({},o),Promise.prototype),h=u.call(d,A,c);return l.convert(h,o.__proto__)},l.prototype.thenExternal=function(A,c){return Promise.prototype.then.call(this,A,c)},l.prototype.thenList=function(A){var c=this;return A.forEach(function(u){c=c.thenCore(u)}),c},l.prototype.catch=function(A){A&&(A=A.bind(this));var c=Promise.prototype.catch.call(this,A);return l.convert(c,this)},l.prototype.catchExternal=function(A){return Promise.prototype.catch.call(this,A)},l.prototype.error=function(A){return this.then(function(){throw new Error(A)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Ut.getPageSize=function(A,c,u){if(Tr(A)==="object"){var o=A;A=o.orientation,c=o.unit||c,u=o.format||u}c=c||"mm",u=u||"a4",A=(""+(A||"P")).toLowerCase();var d,h=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+c}var g,m=0,x=0;if(f.hasOwnProperty(h))m=f[h][1]/d,x=f[h][0]/d;else try{m=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(A==="p"||A==="portrait")A="p",x>m&&(g=x,x=m,m=g);else{if(A!=="l"&&A!=="landscape")throw"Invalid orientation: "+A;A="l",m>x&&(g=x,x=m,m=g)}return{width:x,height:m,unit:c,k:d,orientation:A}},e.html=function(A,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(d2):null;var u=new l(c);return c.worker?u:u.from(A).doCallback()}}(Ut.API),Ut.API.addJS=function(e){return U6=e,this.internal.events.subscribe("postPutResources",function(){Nv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Nv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),I6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+U6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Nv!==void 0&&I6!==void 0&&this.internal.out("/Names <</JavaScript "+Nv+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),a=0;a<s.length;a++){var l=s[a],A=n.exec(l);if(A!=null){var c=A[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(l)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,o=[];for(a=0;a<u;a++){var d=r.internal.newObject();o.push(d);var h=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<o.length;a++)r.internal.write("(page_"+(a+1)+")"+o[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,a){var l={title:s,options:a,children:[]};return n==null&&(n=this.root),n.children.push(l),l},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var l=n.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var A=this.count=this.count_r({count:0},l);if(A>0&&this.line("/Count "+A),l.options&&l.options.pageNumber){var c=r.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var a=0;a<s.children.length;a++)n.count++,this.count_r(n,s.children[a]);return n.count}}])}(Ut.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,a,l,A){var c,u=this.decode.DCT_DECODE,o=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=l||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,m={width:0,height:0,numcomponents:1},x=4;x<g;x+=2){if(x+=f,t.indexOf(d.charCodeAt(x+1))!==-1){h=256*d.charCodeAt(x+5)+d.charCodeAt(x+6),m={width:256*d.charCodeAt(x+7)+d.charCodeAt(x+8),height:h,numcomponents:d.charCodeAt(x+9)};break}f=256*d.charCodeAt(x+2)+d.charCodeAt(x+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:A=this.color_spaces.DEVICE_GRAY;break;case 4:A=this.color_spaces.DEVICE_CMYK;break;case 3:A=this.color_spaces.DEVICE_RGB}o={data:r,width:c.width,height:c.height,colorSpace:A,bitsPerComponent:8,filter:u,index:n,alias:s}}return o}}(Ut.API),Ut.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,a=ide(e,{checkCrc:!0}),l=a.width,A=a.height,c=a.channels,u=a.palette,o=a.depth;s=u&&c===1?function(T){for(var P=T.width,R=T.height,U=T.data,D=T.palette,Q=T.depth,H=!1,W=[],V=[],Z=void 0,K=!1,X=0,le=0;le<D.length;le++){var Ae=k3(D[le],4),M=Ae[0],G=Ae[1],re=Ae[2],ne=Ae[3];W.push(M,G,re),ne!=null&&(ne===0?(X++,V.length<1&&V.push(le)):ne<255&&(K=!0))}if(K||X>1){H=!0,V=void 0;var de=P*R;Z=new Uint8Array(de);for(var q=new DataView(U.buffer),pe=0;pe<de;pe++){var oe=h2(q,pe,Q),fe=k3(D[oe],4)[3];Z[pe]=fe}}else X===0&&(V=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:U,alphaBytes:Z,needSMask:H,palette:W,mask:V}}(a):c===2||c===4?function(T){for(var P=T.data,R=T.width,U=T.height,D=T.channels,Q=T.depth,H=D===2?"DeviceGray":"DeviceRGB",W=D-1,V=R*U,Z=W,K=V*Z,X=1*V,le=Math.ceil(K*Q/8),Ae=Math.ceil(X*Q/8),M=new Uint8Array(le),G=new Uint8Array(Ae),re=new DataView(P.buffer),ne=new DataView(M.buffer),de=new DataView(G.buffer),q=!1,pe=0;pe<V;pe++){for(var oe=pe*D,fe=0;fe<Z;fe++)H6(ne,h2(re,oe+fe,Q),pe*Z+fe,Q);var ye=h2(re,oe+Z,Q);ye<(1<<Q)-1&&(q=!0),H6(de,ye,1*pe,Q)}return{colorSpace:H,colorsPerPixel:W,sMaskBitsPerComponent:q?Q:void 0,colorBytes:M,alphaBytes:G,needSMask:q}}(a):function(T){var P=T.data,R=T.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:R,colorsPerPixel:R==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?function(U){for(var D=U.length,Q=new Uint8Array(2*D),H=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),W=0;W<D;W++)H.setUint16(2*W,U[W],!1);return Q}(P):P,needSMask:!1}}(a);var d,h,f,g=s,m=g.colorSpace,x=g.colorsPerPixel,p=g.sMaskBitsPerComponent,v=g.colorBytes,b=g.alphaBytes,j=g.needSMask,k=g.palette,S=g.mask,F=null;return n!==Ut.API.image_compression.NONE&&typeof C5=="function"?(F=function(T){var P;switch(T){case Ut.API.image_compression.FAST:P=11;break;case Ut.API.image_compression.MEDIUM:P=13;break;case Ut.API.image_compression.SLOW:P=14;break;default:P=12}return P}(n),d=this.decode.FLATE_DECODE,h="/Predictor ".concat(F," /Colors ").concat(x," /BitsPerComponent ").concat(o," /Columns ").concat(l),e=L6(v,Math.ceil(l*x*o/8),x,o,n),j&&(f=L6(b,Math.ceil(l*p/8),1,p,n))):(d=void 0,h=void 0,e=v,j&&(f=b)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:e,index:t,filter:d,decodeParameters:h,transparency:S,palette:k,sMask:f,predictor:F,width:l,height:A,bitsPerComponent:o,sMaskBitsPerComponent:p,colorSpace:m}}},function(e){e.processGIF89A=function(t,r,n,s){var a=new Sde(t),l=a.width,A=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:l,height:A},o=new m2(100).encode(u,100);return e.processJPEG.call(this,o,r,n,s)},e.processGIF87A=e.processGIF89A}(Ut.API),No.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},No.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){$r.log("bit decode error:"+r)}},No.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*s*4,A=0;A<8&&8*s+A<this.width;A++){var c=this.palette[a>>7-A&1];this.data[l+4*A]=c.blue,this.data[l+4*A+1]=c.green,this.data[l+4*A+2]=c.red,this.data[l+4*A+3]=255}r!==0&&(this.pos+=4-r)}},No.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*s*4,A=a>>4,c=15&a,u=this.palette[A];if(this.data[l]=u.blue,this.data[l+1]=u.green,this.data[l+2]=u.red,this.data[l+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[l+4]=u.blue,this.data[l+4+1]=u.green,this.data[l+4+2]=u.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},No.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(s<this.palette.length){var l=this.palette[s];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},No.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,A=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,u=a>>15?255:0,o=n*this.width*4+4*s;this.data[o]=c,this.data[o+1]=A,this.data[o+2]=l,this.data[o+3]=u}this.pos+=e}},No.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(l&t)/t*255|0,c=(l>>5&r)/r*255|0,u=(l>>11)/t*255|0,o=s*this.width*4+4*a;this.data[o]=u,this.data[o+1]=c,this.data[o+2]=A,this.data[o+3]=255}this.pos+=e}},No.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=a,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},No.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),A=t*this.width*4+4*r;this.data[A]=a,this.data[A+1]=s,this.data[A+2]=n,this.data[A+3]=l}},No.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var a=new No(t,!1),l=a.width,A=a.height,c={data:a.getData(),width:l,height:A},u=new m2(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(Ut.API),K6.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var a=new K6(t),l=a.width,A=a.height,c={data:a.getData(),width:l,height:A},u=new m2(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(Ut.API),Ut.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,a=new Uint8Array(s/4*3),l=new Uint8Array(s/4),A=0,c=0,u=0;u<s;u+=4){var o=n[u],d=n[u+1],h=n[u+2],f=n[u+3];a[A++]=o,a[A++]=d,a[A++]=h,l[c++]=f}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ut.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},wf=Ut.API,kv=wf.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),A=t.widths?t.widths:s.metadata.Unicode.widths,c=A.fof?A.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,o=u.fof?u.fof:1,d=t.doKerning!==!1,h=0,f=e.length,g=0,m=A[0]||c,x=[];for(r=0;r<f;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?x.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+l*(1e3/a)||0)/1e3):(h=d&&Tr(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/o:0,x.push((A[n]||m)/c+h)),g=n;return x},P6=wf.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return wf.processArabic&&(e=wf.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:kv.apply(this,arguments).reduce(function(a,l){return a+l},0)},T6=function(e,t,r,n){for(var s=[],a=0,l=e.length,A=0;a!==l&&A+t[a]<r;)A+=t[a],a++;s.push(e.slice(0,a));var c=a;for(A=0;a!==l;)A+t[a]>n&&(s.push(e.slice(c,a)),A=0,c=a),A+=t[a],a++;return c!==a&&s.push(e.slice(c,a)),s},O6=function(e,t,r){r||(r={});var n,s,a,l,A,c,u,o=[],d=[o],h=r.textIndent||0,f=0,g=0,m=e.split(" "),x=kv.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var p=Array(c).join(" "),v=[];m.map(function(j){(j=j.split(/\s*\n/)).length>1?v=v.concat(j.map(function(k,S){return(S&&k.length?`
`:"")+k})):v.push(j[0])}),m=v,c=P6.apply(this,[p,r])}for(a=0,l=m.length;a<l;a++){var b=0;if(n=m[a],c&&n[0]==`
`&&(n=n.substr(1),b=1),h+f+(g=(s=kv.apply(this,[n,r])).reduce(function(j,k){return j+k},0))>t||b){if(g>t){for(A=T6.apply(this,[n,s,t-(h+f),t]),o.push(A.shift()),o=[A.pop()];A.length;)d.push([A.shift()]);g=s.slice(n.length-(o[0]?o[0].length:0)).reduce(function(j,k){return j+k},0)}else o=[n];d.push(o),h=g+c,f=x}else o.push(n),h+=f+g,f=x}return u=c?function(j,k){return(k?p:"")+j.join(" ")}:function(j){return j.join(" ")},d.map(u)},wf.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(o){if(o.widths&&o.kerning)return{widths:o.widths,kerning:o.kerning};var d=this.internal.getFont(o.fontName,o.fontStyle),h="Unicode";return d.metadata[h]?{widths:d.metadata[h].widths||{0:1},kerning:d.metadata[h].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/s;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=r.lineIndent;var A,c,u=[];for(A=0,c=n.length;A<c;A++)u=u.concat(O6.apply(this,[n[A],l,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},a=0;a<16;a++)n[r[a]]=t[a],s[t[a]]=r[a];var l=function(h){return"0x"+parseInt(h,10).toString(16)},A=e.__fontmetrics__.compress=function(h){var f,g,m,x,p=["{"];for(var v in h){if(f=h[v],isNaN(parseInt(v,10))?g="'"+v+"'":(v=parseInt(v,10),g=(g=l(v).slice(2)).slice(0,-1)+s[g.slice(-1)]),typeof f=="number")f<0?(m=l(f).slice(3),x="-"):(m=l(f).slice(2),x=""),m=x+m.slice(0,-1)+s[m.slice(-1)];else{if(Tr(f)!=="object")throw new Error("Don't know what to do with value type "+Tr(f)+".");m=A(f)}p.push(g+m)}return p.push("}"),p.join("")},c=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,g,m,x,p={},v=1,b=p,j=[],k="",S="",F=h.length-1,T=1;T<F;T+=1)(x=h[T])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(j.push([b,m]),b={},m=void 0):x=="}"?((g=j.pop())[0][g[1]]=b,m=void 0,b=g[0]):x=="-"?v=-1:m===void 0?n.hasOwnProperty(x)?(k+=n[x],m=parseInt(k,16)*v,v=1,k=""):k+=x:n.hasOwnProperty(x)?(S+=n[x],b[m]=parseInt(S,16)*v,v=1,m=void 0,S=""):S+=x;return p},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},o={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},d={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var f=h.font,g=d.Unicode[f.postScriptName];g&&(f.metadata.Unicode={},f.metadata.Unicode.widths=g.widths,f.metadata.Unicode.kerning=g.kerning);var m=o.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(Ut.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),a=0;a<n;a++)s[a]=r.charCodeAt(a);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,a=r.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(l,A){A=/^\x00\x01\x00\x00/.test(A)?t(A):t(Gv(A)),l.metadata=e.API.TTFFont.open(A),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(s,n)}}])}(Ut),Ut.API.addSvgAsImage=function(e,t,r,n,s,a,l,A){if(isNaN(t)||isNaN(r))throw $r.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw $r.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var o={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(Vt.canvg?Promise.resolve(Vt.canvg):TA(()=>import("./index.es-Bi_5ubiP.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(u,e,o)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(o)}).then(function(){d.addImage(c.toDataURL("image/jpeg",1),t,r,n,s,l,A)})},Ut.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Ut.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},A=Object.keys(l),c=[],u=0,o=0,d=0;function h(g,m){var x,p=!1;for(x=0;x<g.length;x+=1)g[x]===m&&(p=!0);return p}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=A.length;for(d=0;d<f;d+=1)r[A[d]].value=r[A[d]].defaultValue,r[A[d]].explicitSet=!1}if(Tr(e)==="object"){for(s in e)if(a=e[s],h(A,s)&&a!==void 0){if(r[s].type==="boolean"&&typeof a=="boolean")r[s].value=a;else if(r[s].type==="name"&&h(r[s].valueSet,a))r[s].value=a;else if(r[s].type==="integer"&&Number.isInteger(a))r[s].value=a;else if(r[s].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(o=0;o<a[u].length;o+=1)typeof a[u][o]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),A=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+l.length+A.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+a+l+A+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Ut.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,l){for(var A,c=l.metadata.Unicode.widths,u=["","0","00","000","0000"],o=[""],d=0,h=a.length;d<h;++d){if(A=l.metadata.characterToGlyph(a.charCodeAt(d)),l.metadata.glyIdsUsed.push(A),l.metadata.toUnicode[A]=a.charCodeAt(d),c.indexOf(A)==-1&&(c.push(A),c.push([parseInt(l.metadata.widthOfGlyph(A),10)])),A=="0")return o.join("");A=A.toString(16),o.push(u[4-A.length],A)}return o.join("")},n=function(a){var l,A,c,u,o,d,h;for(o=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],d=0,h=(A=Object.keys(a).sort(function(f,g){return f-g})).length;d<h;d++)l=A[d],c.length>=100&&(o+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(u=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),c.push("<"+l+"><"+u+">"));return c.length&&(o+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),o+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(l){var A=l.font,c=l.out,u=l.newObject,o=l.putStream;if(A.metadata instanceof e.API.TTFFont&&A.encoding==="Identity-H"){for(var d=A.metadata.Unicode.widths,h=A.metadata.subset.encode(A.metadata.glyIdsUsed,1),f="",g=0;g<h.length;g++)f+=String.fromCharCode(h[g]);var m=u();o({data:f,addLength1:!0,objectId:m}),c("endobj");var x=u();o({data:n(A.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var p=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+kf(A.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(A.metadata.bbox)),c("/Flags "+A.metadata.flags),c("/StemV "+A.metadata.stemV),c("/ItalicAngle "+A.metadata.italicAngle),c("/Ascent "+A.metadata.ascender),c("/Descent "+A.metadata.decender),c("/CapHeight "+A.metadata.capHeight),c(">>"),c("endobj");var v=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+kf(A.fontName)),c("/FontDescriptor "+p+" 0 R"),c("/W "+e.API.PDFObject.convert(d)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+A.encoding+")"),c(">>"),c(">>"),c("endobj"),A.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+kf(A.fontName)),c("/Encoding /"+A.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),A.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(l){var A=l.font,c=l.out,u=l.newObject,o=l.putStream;if(A.metadata instanceof e.API.TTFFont&&A.encoding==="WinAnsiEncoding"){for(var d=A.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var g=u();o({data:h,addLength1:!0,objectId:g}),c("endobj");var m=u();o({data:n(A.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var x=u();c("<<"),c("/Descent "+A.metadata.decender),c("/CapHeight "+A.metadata.capHeight),c("/StemV "+A.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(A.metadata.bbox)),c("/FontName /"+kf(A.fontName)),c("/ItalicAngle "+A.metadata.italicAngle),c("/Ascent "+A.metadata.ascender),c(">>"),c("endobj"),A.objectNumber=u();for(var p=0;p<A.metadata.hmtx.widths.length;p++)A.metadata.hmtx.widths[p]=parseInt(A.metadata.hmtx.widths[p]*(1e3/A.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+kf(A.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+A.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(A.metadata.hmtx.widths)+">>"),c("endobj"),A.isAlreadyPutted=!0}})(a)}]);var s=function(a){var l,A=a.text||"",c=a.x,u=a.y,o=a.options||{},d=a.mutex||{},h=d.pdfEscape,f=d.activeFontKey,g=d.fonts,m=f,x="",p=0,v="",b=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:A,x:c,y:u,options:o,mutex:d};for(v=A,m=f,Array.isArray(A)&&(v=A[0]),p=0;p<v.length;p+=1)g[m].metadata.hasOwnProperty("cmap")&&(l=g[m].metadata.cmap.unicode.codeMap[v[p].charCodeAt(0)]),l||v[p].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?x+=v[p]:x+="";var j="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?j=h(x,m).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(j=r(x,g[m])),d.isHex=!0,{text:j,x:c,y:u,options:o,mutex:d}};t.events.push(["postProcessText",function(a){var l=a.text||"",A=[],c={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var u=0;for(u=0;u<l.length;u+=1)Array.isArray(l[u])&&l[u].length===3?A.push([s(Object.assign({},c,{text:l[u][0]})).text,l[u][1],l[u][2]]):A.push(s(Object.assign({},c,{text:l[u]})).text);a.text=A}else a.text=s(Object.assign({},c,{text:l})).text}])}(Ut),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ut.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,a,l,A,c,u,o,d=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,b=0;this.__bidiEngine__={};var j=function(U){var D=U.charCodeAt(),Q=D>>8,H=m[Q];return H!==void 0?d[256*H+(255&D)]:Q===252||Q===253?"AL":p.test(Q)?"L":Q===8?"R":"N"},k=function(U){for(var D,Q=0;Q<U.length;Q++){if((D=j(U.charAt(Q)))==="L")return!1;if(D==="R")return!0}return!1},S=function(U,D,Q,H){var W,V,Z,K,X=D[H];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(X="AN");break;case"AL":v=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":H<1||H+1>=D.length||(W=Q[H-1])!=="EN"&&W!=="AN"||(V=D[H+1])!=="EN"&&V!=="AN"?X="N":v&&(V="AN"),X=V===W?V:"N";break;case"ES":X=(W=H>0?Q[H-1]:"B")==="EN"&&H+1<D.length&&D[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&Q[H-1]==="EN"){X="EN";break}if(v){X="N";break}for(Z=H+1,K=D.length;Z<K&&D[Z]==="ET";)Z++;X=Z<K&&D[Z]==="EN"?"EN":"N";break;case"NSM":if(l&&!A){for(K=D.length,Z=H+1;Z<K&&D[Z]==="NSM";)Z++;if(Z<K){var le=U[H],Ae=le>=1425&&le<=2303||le===64286;if(W=D[Z],Ae&&(W==="R"||W==="AL")){X="R";break}}}X=H<1||(W=D[H-1])==="B"?"N":Q[H-1];break;case"B":v=!1,s=!0,X=b;break;case"S":a=!0,X="N"}return X},F=function(U,D,Q){var H=U.split("");return Q&&T(H,Q,{hiLevel:b}),H.reverse(),D&&D.reverse(),H.join("")},T=function(U,D,Q){var H,W,V,Z,K,X=-1,le=U.length,Ae=0,M=[],G=b?f:h,re=[];for(v=!1,s=!1,a=!1,W=0;W<le;W++)re[W]=j(U[W]);for(V=0;V<le;V++){if(K=Ae,M[V]=S(U,re,M,V),H=240&(Ae=G[K][g[M[V]]]),Ae&=15,D[V]=Z=G[Ae][5],H>0)if(H===16){for(W=X;W<V;W++)D[W]=1;X=-1}else X=-1;if(G[Ae][6])X===-1&&(X=V);else if(X>-1){for(W=X;W<V;W++)D[W]=Z;X=-1}re[V]==="B"&&(D[V]=0),Q.hiLevel|=Z}a&&function(ne,de,q){for(var pe=0;pe<q;pe++)if(ne[pe]==="S"){de[pe]=b;for(var oe=pe-1;oe>=0&&ne[oe]==="WS";oe--)de[oe]=b}}(re,D,le)},P=function(U,D,Q,H,W){if(!(W.hiLevel<U)){if(U===1&&b===1&&!s)return D.reverse(),void(Q&&Q.reverse());for(var V,Z,K,X,le=D.length,Ae=0;Ae<le;){if(H[Ae]>=U){for(K=Ae+1;K<le&&H[K]>=U;)K++;for(X=Ae,Z=K-1;X<Z;X++,Z--)V=D[X],D[X]=D[Z],D[Z]=V,Q&&(V=Q[X],Q[X]=Q[Z],Q[Z]=V);Ae=K}Ae++}}},R=function(U,D,Q){var H=U.split(""),W={hiLevel:b};return Q||(Q=[]),T(H,Q,W),function(V,Z,K){if(K.hiLevel!==0&&o)for(var X,le=0;le<V.length;le++)Z[le]===1&&(X=x.indexOf(V[le]))>=0&&(V[le]=x[X+1])}(H,Q,W),P(2,H,D,Q,W),P(1,H,D,Q,W),H.join("")};return this.__bidiEngine__.doBidiReorder=function(U,D,Q){if(function(W,V){if(V)for(var Z=0;Z<W.length;Z++)V[Z]=Z;A===void 0&&(A=k(W)),u===void 0&&(u=k(W))}(U,D),l||!c||u)if(l&&c&&A^u)b=A?1:0,U=F(U,D,Q);else if(!l&&c&&u)b=A?1:0,U=R(U,D,Q),U=F(U,D);else if(!l||A||c||u){if(l&&!c&&A^u)U=F(U,D),A?(b=0,U=R(U,D,Q)):(b=1,U=R(U,D,Q),U=F(U,D));else if(l&&A&&!c&&u)b=1,U=R(U,D,Q),U=F(U,D);else if(!l&&!c&&A^u){var H=o;A?(b=1,U=R(U,D,Q),b=0,o=!1,U=R(U,D,Q),o=H):(b=0,U=R(U,D,Q),U=F(U,D),b=1,o=!1,U=R(U,D,Q),o=H,U=F(U,D))}}else b=0,U=R(U,D,Q);else b=A?1:0,U=R(U,D,Q);return U},this.__bidiEngine__.setOptions=function(U){U&&(l=U.isInputVisual,c=U.isOutputVisual,A=U.isInputRtl,u=U.isOutputRtl,o=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var A=0;for(l=[],A=0;A<s.length;A+=1)Object.prototype.toString.call(s[A])==="[object Array]"?l.push([r.doBidiReorder(s[A][0]),s[A][1],s[A][2]]):l.push([r.doBidiReorder(s[A])]);n.text=l}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Ut),Ut.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new GA(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new $de(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new _de(this.contents),this.head=new Fde(this),this.name=new Ode(this),this.cmap=new SD(this),this.toUnicode={},this.hhea=new Ide(this),this.maxp=new Lde(this),this.hmtx=new Qde(this),this.post=new Pde(this),this.os2=new Ude(this),this.loca=new Hde(this),this.glyf=new Dde(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,A,c,u;for(u=[],l=0,A=(c=this.bbox).length;l<A;l++)t=c[l],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,a,l,A;for(l=0,a=0,A=(t=""+t).length;0<=A?a<A:a>A;a=0<=A?++a:--a)s=t.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return l*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var $o,GA=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,a,l,A,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),A=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^a)+65536*(255^l)+256*(255^A)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*a+65536*l+256*A+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,a;for(a=[],n=0,s=t.length;n<s;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),_de=function(){var e;function t(r){var n,s,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,a,l,A,c,u,o,d,h,f,g,m;for(m in f=Object.keys(r).length,c=Math.log(2),d=16*Math.floor(Math.log(f)/c),l=Math.floor(d/c),o=16*f-d,(s=new GA).writeInt(this.scalarType),s.writeShort(f),s.writeShort(d),s.writeShort(l),s.writeShort(o),a=16*f,u=s.pos+a,A=null,g=[],r)for(h=r[m],s.writeString(m),s.writeInt(e(h)),s.writeInt(u),s.writeInt(h.length),g=g.concat(h),m==="head"&&(A=u),u+=h.length;u%4;)g.push(0),u++;return s.write(g),n=2981146554-e(s.data),s.pos=A+8,s.writeUInt32(n),s.data},e=function(r){var n,s,a,l;for(r=_D.call(r);r.length%4;)r.push(0);for(a=new GA(r),s=0,n=0,l=r.length;n<l;n=n+=4)s+=a.readUInt32();return 4294967295&s},t}(),Ede={}.hasOwnProperty,wl=function(e,t){for(var r in t)Ede.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};$o=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Fde=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return wl(e,$o),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new GA).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),z6=function(){function e(t,r){var n,s,a,l,A,c,u,o,d,h,f,g,m,x,p,v,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),h=f/2,t.pos+=6,a=function(){var j,k;for(k=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)k.push(t.readUInt16());return k}(),t.pos+=2,m=function(){var j,k;for(k=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)k.push(t.readUInt16());return k}(),u=function(){var j,k;for(k=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)k.push(t.readUInt16());return k}(),o=function(){var j,k;for(k=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)k.push(t.readUInt16());return k}(),s=(this.length-t.pos+this.offset)/2,A=function(){var j,k;for(k=[],c=j=0;0<=s?j<s:j>s;c=0<=s?++j:--j)k.push(t.readUInt16());return k}(),c=p=0,b=a.length;p<b;c=++p)for(x=a[c],n=v=g=m[c];g<=x?v<=x:v>=x;n=g<=x?++v:--v)o[c]===0?l=n+u[c]:(l=A[o[c]/2+(n-g)-(h-c)]||0)!==0&&(l+=u[c]),this.codeMap[n]=65535&l}t.pos=d}return e.encode=function(t,r){var n,s,a,l,A,c,u,o,d,h,f,g,m,x,p,v,b,j,k,S,F,T,P,R,U,D,Q,H,W,V,Z,K,X,le,Ae,M,G,re,ne,de,q,pe,oe,fe,ye,ue;switch(H=new GA,l=Object.keys(t).sort(function(_e,be){return _e-be}),r){case"macroman":for(m=0,x=function(){var _e=[];for(g=0;g<256;++g)_e.push(0);return _e}(),v={0:0},a={},W=0,X=l.length;W<X;W++)v[oe=t[s=l[W]]]==null&&(v[oe]=++m),a[s]={old:t[s],new:v[t[s]]},x[s]=v[t[s]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(x),{charMap:a,subtable:H.data,maxGlyphID:m+1};case"unicode":for(D=[],d=[],b=0,v={},n={},p=u=null,V=0,le=l.length;V<le;V++)v[k=t[s=l[V]]]==null&&(v[k]=++b),n[s]={old:k,new:v[k]},A=v[k]-s,p!=null&&A===u||(p&&d.push(p),D.push(s),u=A),p=s;for(p&&d.push(p),d.push(65535),D.push(65535),R=2*(P=D.length),T=2*Math.pow(Math.log(P)/Math.LN2,2),h=Math.log(T/2)/Math.LN2,F=2*P-T,c=[],S=[],f=[],g=Z=0,Ae=D.length;Z<Ae;g=++Z){if(U=D[g],o=d[g],U===65535){c.push(0),S.push(0);break}if(U-(Q=n[U].new)>=32768)for(c.push(0),S.push(2*(f.length+P-g)),s=K=U;U<=o?K<=o:K>=o;s=U<=o?++K:--K)f.push(n[s].new);else c.push(Q-U),S.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*P+2*f.length),H.writeUInt16(0),H.writeUInt16(R),H.writeUInt16(T),H.writeUInt16(h),H.writeUInt16(F),q=0,M=d.length;q<M;q++)s=d[q],H.writeUInt16(s);for(H.writeUInt16(0),pe=0,G=D.length;pe<G;pe++)s=D[pe],H.writeUInt16(s);for(fe=0,re=c.length;fe<re;fe++)A=c[fe],H.writeUInt16(A);for(ye=0,ne=S.length;ye<ne;ye++)j=S[ye],H.writeUInt16(j);for(ue=0,de=f.length;ue<de;ue++)m=f[ue],H.writeUInt16(m);return{charMap:n,subtable:H.data,maxGlyphID:b+1}}},e}(),SD=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return wl(e,$o),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new z6(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=z6.encode(t,r),(s=new GA).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e}(),Ide=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return wl(e,$o),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Ude=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return wl(e,$o),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Pde=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return wl(e,$o),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var l,A,c;for(c=[],a=l=0,A=this.file.maxp.numGlyphs;0<=A?l<A:l>A;a=0<=A?++l:--l)c.push(t.readUInt32());return c}).call(this)}},e}(),Tde=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Ode=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return wl(e,$o),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,a,l,A,c,u,o,d,h;for(t.pos=this.offset,t.readShort(),r=t.readShort(),A=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+A+t.readShort()});for(c={},a=o=0,d=n.length;o<d;a=++o)s=n[a],t.pos=s.offset,u=t.readString(s.length),l=new Tde(u,s),c[h=s.nameID]==null&&(c[h]=[]),c[s.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Lde=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return wl(e,$o),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Qde=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return wl(e,$o),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,a,l,A,c;for(t.pos=this.offset,this.metrics=[],r=0,A=this.file.hhea.numberOfMetrics;0<=A?r<A:r>A;r=0<=A?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,o;for(o=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)o.push(t.readInt16());return o}(),this.widths=(function(){var u,o,d,h;for(h=[],u=0,o=(d=this.metrics).length;u<o;u++)a=d[u],h.push(a.advance);return h}).call(this),n=this.widths[this.widths.length-1],c=[],r=l=0;0<=s?l<s:l>s;r=0<=s?++l:--l)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),_D=[].slice,Dde=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return wl(e,$o),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,a,l,A,c,u,o,d;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(s=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,l=(A=new GA(r.read(s))).readShort(),u=A.readShort(),d=A.readShort(),c=A.readShort(),o=A.readShort(),this.cache[t]=l===-1?new Mde(A,u,d,c,o):new Rde(A,l,u,d,c,o),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,a,l,A,c;for(l=[],a=[],A=0,c=r.length;A<c;A++)s=t[r[A]],a.push(l.length),s&&(l=l.concat(s.encode(n)));return a.push(l.length),{table:l,offsets:a}},e}(),Rde=function(){function e(t,r,n,s,a,l){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=a,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Mde=function(){function e(t,r,n,s,a){var l,A;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;A=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&A;)l.pos+=1&A?4:2,128&A?l.pos+=8:64&A?l.pos+=4:8&A&&(l.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new GA(_D.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Hde=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return wl(e,$o),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],n=0,s=this.length;n<s;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],n=0,s=this.length;n<s;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,a=0,l=0;l<n.length;++l)if(n[l]=s,a<r.length&&r[a]==l){++a,n[l]=s;var A=this.offsets[l],c=this.offsets[l+1]-A;c>0&&(s+=c)}for(var u=new Array(4*n.length),o=0;o<n.length;++o)u[4*o+3]=255&n[o],u[4*o+2]=(65280&n[o])>>8,u[4*o+1]=(16711680&n[o])>>16,u[4*o]=(4278190080&n[o])>>24;return u},e}(),$de=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,a;for(r in s=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,a,l,A,c;for(s={},l=0,A=t.length;l<A;l++)s[a=t[l]]=this.font.glyf.glyphFor(a);for(a in r=[],s)(n=s[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],s[a]=n;return s},e.prototype.encode=function(t,r){var n,s,a,l,A,c,u,o,d,h,f,g,m,x,p;for(s in n=SD.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),f={0:0},p=n.charMap)f[(c=p[s]).old]=c.new;for(g in h=n.maxGlyphID,l)g in f||(f[g]=h++);return o=function(v){var b,j;for(b in j={},v)j[v[b]]=b;return j}(f),d=Object.keys(o).sort(function(v,b){return v-b}),m=function(){var v,b,j;for(j=[],v=0,b=d.length;v<b;v++)A=d[v],j.push(o[A]);return j}(),a=this.font.glyf.encode(l,m,f),u=this.font.loca.encode(a.offsets,m),x={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Ut.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,a,l;if(Array.isArray(r))return"["+function(){var A,c,u;for(u=[],A=0,c=r.length;A<c;A++)n=r[A],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in a=["<<"],r)l=r[s],a.push("/"+s+" "+t.convert(l));return a.push(">>"),a.join(`
`)}return""+r},t}();const Kde=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:bde,AcroFormAppearance:yt,AcroFormButton:ls,AcroFormCheckBox:wm,AcroFormChoiceField:Yu,AcroFormComboBox:Xu,AcroFormEditBox:bm,AcroFormListBox:Ju,AcroFormPasswordField:jm,AcroFormPushButton:ym,AcroFormRadioButton:qu,AcroFormTextField:RA,GState:dp,ShadingPattern:bA,TilingPattern:Hu,default:Ut,jsPDF:Ut},Symbol.toStringTag,{value:"Module"})),zde=Z6(Kde);var p2={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var V6;function Vde(){return V6||(V6=1,function(e,t){(function(r,n){e.exports=n()})(ba,function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var r=function(B,y){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,C){N.__proto__=C}||function(N,C){for(var L in C)Object.prototype.hasOwnProperty.call(C,L)&&(N[L]=C[L])},r(B,y)};function n(B,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");r(B,y);function N(){this.constructor=B}B.prototype=y===null?Object.create(y):(N.prototype=y.prototype,new N)}var s=function(){return s=Object.assign||function(y){for(var N,C=1,L=arguments.length;C<L;C++){N=arguments[C];for(var z in N)Object.prototype.hasOwnProperty.call(N,z)&&(y[z]=N[z])}return y},s.apply(this,arguments)};function a(B,y,N,C){function L(z){return z instanceof N?z:new N(function(ee){ee(z)})}return new(N||(N=Promise))(function(z,ee){function me(Ne){try{Ce(C.next(Ne))}catch(Fe){ee(Fe)}}function he(Ne){try{Ce(C.throw(Ne))}catch(Fe){ee(Fe)}}function Ce(Ne){Ne.done?z(Ne.value):L(Ne.value).then(me,he)}Ce((C=C.apply(B,[])).next())})}function l(B,y){var N={label:0,sent:function(){if(z[0]&1)throw z[1];return z[1]},trys:[],ops:[]},C,L,z,ee;return ee={next:me(0),throw:me(1),return:me(2)},typeof Symbol=="function"&&(ee[Symbol.iterator]=function(){return this}),ee;function me(Ce){return function(Ne){return he([Ce,Ne])}}function he(Ce){if(C)throw new TypeError("Generator is already executing.");for(;N;)try{if(C=1,L&&(z=Ce[0]&2?L.return:Ce[0]?L.throw||((z=L.return)&&z.call(L),0):L.next)&&!(z=z.call(L,Ce[1])).done)return z;switch(L=0,z&&(Ce=[Ce[0]&2,z.value]),Ce[0]){case 0:case 1:z=Ce;break;case 4:return N.label++,{value:Ce[1],done:!1};case 5:N.label++,L=Ce[1],Ce=[0];continue;case 7:Ce=N.ops.pop(),N.trys.pop();continue;default:if(z=N.trys,!(z=z.length>0&&z[z.length-1])&&(Ce[0]===6||Ce[0]===2)){N=0;continue}if(Ce[0]===3&&(!z||Ce[1]>z[0]&&Ce[1]<z[3])){N.label=Ce[1];break}if(Ce[0]===6&&N.label<z[1]){N.label=z[1],z=Ce;break}if(z&&N.label<z[2]){N.label=z[2],N.ops.push(Ce);break}z[2]&&N.ops.pop(),N.trys.pop();continue}Ce=y.call(B,N)}catch(Ne){Ce=[6,Ne],L=0}finally{C=z=0}if(Ce[0]&5)throw Ce[1];return{value:Ce[0]?Ce[1]:void 0,done:!0}}}function A(B,y,N){if(arguments.length===2)for(var C=0,L=y.length,z;C<L;C++)(z||!(C in y))&&(z||(z=Array.prototype.slice.call(y,0,C)),z[C]=y[C]);return B.concat(z||y)}for(var c=function(){function B(y,N,C,L){this.left=y,this.top=N,this.width=C,this.height=L}return B.prototype.add=function(y,N,C,L){return new B(this.left+y,this.top+N,this.width+C,this.height+L)},B.fromClientRect=function(y,N){return new B(N.left+y.windowBounds.left,N.top+y.windowBounds.top,N.width,N.height)},B.fromDOMRectList=function(y,N){var C=Array.from(N).find(function(L){return L.width!==0});return C?new B(C.left+y.windowBounds.left,C.top+y.windowBounds.top,C.width,C.height):B.EMPTY},B.EMPTY=new B(0,0,0,0),B}(),u=function(B,y){return c.fromClientRect(B,y.getBoundingClientRect())},o=function(B){var y=B.body,N=B.documentElement;if(!y||!N)throw new Error("Unable to get document size");var C=Math.max(Math.max(y.scrollWidth,N.scrollWidth),Math.max(y.offsetWidth,N.offsetWidth),Math.max(y.clientWidth,N.clientWidth)),L=Math.max(Math.max(y.scrollHeight,N.scrollHeight),Math.max(y.offsetHeight,N.offsetHeight),Math.max(y.clientHeight,N.clientHeight));return new c(0,0,C,L)},d=function(B){for(var y=[],N=0,C=B.length;N<C;){var L=B.charCodeAt(N++);if(L>=55296&&L<=56319&&N<C){var z=B.charCodeAt(N++);(z&64512)===56320?y.push(((L&1023)<<10)+(z&1023)+65536):(y.push(L),N--)}else y.push(L)}return y},h=function(){for(var B=[],y=0;y<arguments.length;y++)B[y]=arguments[y];if(String.fromCodePoint)return String.fromCodePoint.apply(String,B);var N=B.length;if(!N)return"";for(var C=[],L=-1,z="";++L<N;){var ee=B[L];ee<=65535?C.push(ee):(ee-=65536,C.push((ee>>10)+55296,ee%1024+56320)),(L+1===N||C.length>16384)&&(z+=String.fromCharCode.apply(String,C),C.length=0)}return z},f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=typeof Uint8Array>"u"?[]:new Uint8Array(256),m=0;m<f.length;m++)g[f.charCodeAt(m)]=m;for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=typeof Uint8Array>"u"?[]:new Uint8Array(256),v=0;v<x.length;v++)p[x.charCodeAt(v)]=v;for(var b=function(B){var y=B.length*.75,N=B.length,C,L=0,z,ee,me,he;B[B.length-1]==="="&&(y--,B[B.length-2]==="="&&y--);var Ce=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(y):new Array(y),Ne=Array.isArray(Ce)?Ce:new Uint8Array(Ce);for(C=0;C<N;C+=4)z=p[B.charCodeAt(C)],ee=p[B.charCodeAt(C+1)],me=p[B.charCodeAt(C+2)],he=p[B.charCodeAt(C+3)],Ne[L++]=z<<2|ee>>4,Ne[L++]=(ee&15)<<4|me>>2,Ne[L++]=(me&3)<<6|he&63;return Ce},j=function(B){for(var y=B.length,N=[],C=0;C<y;C+=2)N.push(B[C+1]<<8|B[C]);return N},k=function(B){for(var y=B.length,N=[],C=0;C<y;C+=4)N.push(B[C+3]<<24|B[C+2]<<16|B[C+1]<<8|B[C]);return N},S=5,F=11,T=2,P=F-S,R=65536>>S,U=1<<S,D=U-1,Q=1024>>S,H=R+Q,W=H,V=32,Z=W+V,K=65536>>F,X=1<<P,le=X-1,Ae=function(B,y,N){return B.slice?B.slice(y,N):new Uint16Array(Array.prototype.slice.call(B,y,N))},M=function(B,y,N){return B.slice?B.slice(y,N):new Uint32Array(Array.prototype.slice.call(B,y,N))},G=function(B,y){var N=b(B),C=Array.isArray(N)?k(N):new Uint32Array(N),L=Array.isArray(N)?j(N):new Uint16Array(N),z=24,ee=Ae(L,z/2,C[4]/2),me=C[5]===2?Ae(L,(z+C[4])/2):M(C,Math.ceil((z+C[4])/4));return new re(C[0],C[1],C[2],C[3],ee,me)},re=function(){function B(y,N,C,L,z,ee){this.initialValue=y,this.errorValue=N,this.highStart=C,this.highValueIndex=L,this.index=z,this.data=ee}return B.prototype.get=function(y){var N;if(y>=0){if(y<55296||y>56319&&y<=65535)return N=this.index[y>>S],N=(N<<T)+(y&D),this.data[N];if(y<=65535)return N=this.index[R+(y-55296>>S)],N=(N<<T)+(y&D),this.data[N];if(y<this.highStart)return N=Z-K+(y>>F),N=this.index[N],N+=y>>S&le,N=this.index[N],N=(N<<T)+(y&D),this.data[N];if(y<=1114111)return this.data[this.highValueIndex]}return this.errorValue},B}(),ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",de=typeof Uint8Array>"u"?[]:new Uint8Array(256),q=0;q<ne.length;q++)de[ne.charCodeAt(q)]=q;var pe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",oe=50,fe=1,ye=2,ue=3,_e=4,be=5,ie=7,et=8,ke=9,Re=10,Oe=11,qe=12,Ge=13,pt=14,nt=15,Lt=16,Xe=17,St=18,qt=19,Bt=20,tt=21,Ct=22,it=23,Rt=24,Tt=25,ut=26,He=27,at=28,rt=29,ot=30,At=31,or=32,vr=33,wt=34,Ye=35,ft=36,Ht=37,$t=38,Er=39,ms=40,Qt=41,Pi=42,ho=43,Ba=[9001,65288],na="!",It="",hn="",On=G(pe),Cs=[ot,ft],Ti=[fe,ye,ue,be],Ca=[Re,et],ri=[He,ut],ni=Ti.concat(Ca),Na=[$t,Er,ms,wt,Ye],ka=[nt,Ge],jl=function(B,y){y===void 0&&(y="strict");var N=[],C=[],L=[];return B.forEach(function(z,ee){var me=On.get(z);if(me>oe?(L.push(!0),me-=oe):L.push(!1),["normal","auto","loose"].indexOf(y)!==-1&&[8208,8211,12316,12448].indexOf(z)!==-1)return C.push(ee),N.push(Lt);if(me===_e||me===Oe){if(ee===0)return C.push(ee),N.push(ot);var he=N[ee-1];return ni.indexOf(he)===-1?(C.push(C[ee-1]),N.push(he)):(C.push(ee),N.push(ot))}if(C.push(ee),me===At)return N.push(y==="strict"?tt:Ht);if(me===Pi||me===rt)return N.push(ot);if(me===ho)return z>=131072&&z<=196605||z>=196608&&z<=262141?N.push(Ht):N.push(ot);N.push(me)}),[C,N,L]},Sa=function(B,y,N,C){var L=C[N];if(Array.isArray(B)?B.indexOf(L)!==-1:B===L)for(var z=N;z<=C.length;){z++;var ee=C[z];if(ee===y)return!0;if(ee!==Re)break}if(L===Re)for(var z=N;z>0;){z--;var me=C[z];if(Array.isArray(B)?B.indexOf(me)!==-1:B===me)for(var he=N;he<=C.length;){he++;var ee=C[he];if(ee===y)return!0;if(ee!==Re)break}if(me!==Re)break}return!1},Ko=function(B,y){for(var N=B;N>=0;){var C=y[N];if(C===Re)N--;else return C}return 0},Ec=function(B,y,N,C,L){if(N[C]===0)return It;var z=C-1;if(Array.isArray(L)&&L[z]===!0)return It;var ee=z-1,me=z+1,he=y[z],Ce=ee>=0?y[ee]:0,Ne=y[me];if(he===ye&&Ne===ue)return It;if(Ti.indexOf(he)!==-1)return na;if(Ti.indexOf(Ne)!==-1||Ca.indexOf(Ne)!==-1)return It;if(Ko(z,y)===et)return hn;if(On.get(B[z])===Oe||(he===or||he===vr)&&On.get(B[me])===Oe||he===ie||Ne===ie||he===ke||[Re,Ge,nt].indexOf(he)===-1&&Ne===ke||[Xe,St,qt,Rt,at].indexOf(Ne)!==-1||Ko(z,y)===Ct||Sa(it,Ct,z,y)||Sa([Xe,St],tt,z,y)||Sa(qe,qe,z,y))return It;if(he===Re)return hn;if(he===it||Ne===it)return It;if(Ne===Lt||he===Lt)return hn;if([Ge,nt,tt].indexOf(Ne)!==-1||he===pt||Ce===ft&&ka.indexOf(he)!==-1||he===at&&Ne===ft||Ne===Bt||Cs.indexOf(Ne)!==-1&&he===Tt||Cs.indexOf(he)!==-1&&Ne===Tt||he===He&&[Ht,or,vr].indexOf(Ne)!==-1||[Ht,or,vr].indexOf(he)!==-1&&Ne===ut||Cs.indexOf(he)!==-1&&ri.indexOf(Ne)!==-1||ri.indexOf(he)!==-1&&Cs.indexOf(Ne)!==-1||[He,ut].indexOf(he)!==-1&&(Ne===Tt||[Ct,nt].indexOf(Ne)!==-1&&y[me+1]===Tt)||[Ct,nt].indexOf(he)!==-1&&Ne===Tt||he===Tt&&[Tt,at,Rt].indexOf(Ne)!==-1)return It;if([Tt,at,Rt,Xe,St].indexOf(Ne)!==-1)for(var Fe=z;Fe>=0;){var Qe=y[Fe];if(Qe===Tt)return It;if([at,Rt].indexOf(Qe)!==-1)Fe--;else break}if([He,ut].indexOf(Ne)!==-1)for(var Fe=[Xe,St].indexOf(he)!==-1?ee:z;Fe>=0;){var Qe=y[Fe];if(Qe===Tt)return It;if([at,Rt].indexOf(Qe)!==-1)Fe--;else break}if($t===he&&[$t,Er,wt,Ye].indexOf(Ne)!==-1||[Er,wt].indexOf(he)!==-1&&[Er,ms].indexOf(Ne)!==-1||[ms,Ye].indexOf(he)!==-1&&Ne===ms||Na.indexOf(he)!==-1&&[Bt,ut].indexOf(Ne)!==-1||Na.indexOf(Ne)!==-1&&he===He||Cs.indexOf(he)!==-1&&Cs.indexOf(Ne)!==-1||he===Rt&&Cs.indexOf(Ne)!==-1||Cs.concat(Tt).indexOf(he)!==-1&&Ne===Ct&&Ba.indexOf(B[me])===-1||Cs.concat(Tt).indexOf(Ne)!==-1&&he===St)return It;if(he===Qt&&Ne===Qt){for(var mt=N[z],Ze=1;mt>0&&(mt--,y[mt]===Qt);)Ze++;if(Ze%2!==0)return It}return he===or&&Ne===vr?It:hn},Fc=function(B,y){y||(y={lineBreak:"normal",wordBreak:"normal"});var N=jl(B,y.lineBreak),C=N[0],L=N[1],z=N[2];(y.wordBreak==="break-all"||y.wordBreak==="break-word")&&(L=L.map(function(me){return[Tt,ot,Pi].indexOf(me)!==-1?Ht:me}));var ee=y.wordBreak==="keep-all"?z.map(function(me,he){return me&&B[he]>=19968&&B[he]<=40959}):void 0;return[C,L,ee]},Ic=function(){function B(y,N,C,L){this.codePoints=y,this.required=N===na,this.start=C,this.end=L}return B.prototype.slice=function(){return h.apply(void 0,this.codePoints.slice(this.start,this.end))},B}(),Kh=function(B,y){var N=d(B),C=Fc(N,y),L=C[0],z=C[1],ee=C[2],me=N.length,he=0,Ce=0;return{next:function(){if(Ce>=me)return{done:!0,value:null};for(var Ne=It;Ce<me&&(Ne=Ec(N,z,L,++Ce,ee))===It;);if(Ne!==It||Ce===me){var Fe=new Ic(N,Ne,he,Ce);return he=Ce,{value:Fe,done:!1}}return{done:!0,value:null}}}},nu=1,kd=2,zo=4,sa=8,Vo=10,su=47,mo=92,Sd=9,_d=32,Bl=34,Oi=61,zh=35,Sn=36,Ed=37,Cl=39,_a=40,si=41,ai=95,_n=45,mn=33,au=60,Vh=62,Gh=64,Wh=91,Li=93,Fd=61,Id=123,ii=63,iu=125,Ud=124,Yh=126,Jh=128,Uc=65533,po=42,Rs=43,Xh=44,Nl=58,ou=59,Mt=46,qh=0,Zh=8,e0=11,t0=14,go=31,vo=127,Ea=-1,Pd=48,kl=97,Pc=101,Sl=102,Tc=117,Oc=122,Td=65,Lc=69,Qc=70,_l=85,El=90,En=function(B){return B>=Pd&&B<=57},Dc=function(B){return B>=55296&&B<=57343},Qi=function(B){return En(B)||B>=Td&&B<=Qc||B>=kl&&B<=Sl},Fl=function(B){return B>=kl&&B<=Oc},Od=function(B){return B>=Td&&B<=El},Ld=function(B){return Fl(B)||Od(B)},xo=function(B){return B>=Jh},Fa=function(B){return B===Vo||B===Sd||B===_d},Il=function(B){return Ld(B)||xo(B)||B===ai},lu=function(B){return Il(B)||En(B)||B===_n},Ul=function(B){return B>=qh&&B<=Zh||B===e0||B>=t0&&B<=go||B===vo},oi=function(B,y){return B!==mo?!1:y!==Vo},I=function(B,y,N){return B===_n?Il(y)||oi(y,N):Il(B)?!0:!!(B===mo&&oi(B,y))},Y=function(B,y,N){return B===Rs||B===_n?En(y)?!0:y===Mt&&En(N):En(B===Mt?y:B)},xe=function(B){var y=0,N=1;(B[y]===Rs||B[y]===_n)&&(B[y]===_n&&(N=-1),y++);for(var C=[];En(B[y]);)C.push(B[y++]);var L=C.length?parseInt(h.apply(void 0,C),10):0;B[y]===Mt&&y++;for(var z=[];En(B[y]);)z.push(B[y++]);var ee=z.length,me=ee?parseInt(h.apply(void 0,z),10):0;(B[y]===Lc||B[y]===Pc)&&y++;var he=1;(B[y]===Rs||B[y]===_n)&&(B[y]===_n&&(he=-1),y++);for(var Ce=[];En(B[y]);)Ce.push(B[y++]);var Ne=Ce.length?parseInt(h.apply(void 0,Ce),10):0;return N*(L+me*Math.pow(10,-ee))*Math.pow(10,he*Ne)},we={type:2},Se={type:3},Me={type:4},Ve={type:13},bt={type:8},_t={type:21},Kt={type:9},Gt={type:10},fr={type:11},Yr={type:12},Fn={type:14},jr={type:23},Ln={type:1},In={type:25},qn={type:24},Ia={type:26},Ms={type:27},Qd={type:28},Rc={type:29},Pl={type:31},Di={type:32},Go=function(){function B(){this._value=[]}return B.prototype.write=function(y){this._value=this._value.concat(d(y))},B.prototype.read=function(){for(var y=[],N=this.consumeToken();N!==Di;)y.push(N),N=this.consumeToken();return y},B.prototype.consumeToken=function(){var y=this.consumeCodePoint();switch(y){case Bl:return this.consumeStringToken(Bl);case zh:var N=this.peekCodePoint(0),C=this.peekCodePoint(1),L=this.peekCodePoint(2);if(lu(N)||oi(C,L)){var z=I(N,C,L)?kd:nu,ee=this.consumeName();return{type:5,value:ee,flags:z}}break;case Sn:if(this.peekCodePoint(0)===Oi)return this.consumeCodePoint(),Ve;break;case Cl:return this.consumeStringToken(Cl);case _a:return we;case si:return Se;case po:if(this.peekCodePoint(0)===Oi)return this.consumeCodePoint(),Fn;break;case Rs:if(Y(y,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(y),this.consumeNumericToken();break;case Xh:return Me;case _n:var me=y,he=this.peekCodePoint(0),Ce=this.peekCodePoint(1);if(Y(me,he,Ce))return this.reconsumeCodePoint(y),this.consumeNumericToken();if(I(me,he,Ce))return this.reconsumeCodePoint(y),this.consumeIdentLikeToken();if(he===_n&&Ce===Vh)return this.consumeCodePoint(),this.consumeCodePoint(),qn;break;case Mt:if(Y(y,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(y),this.consumeNumericToken();break;case su:if(this.peekCodePoint(0)===po)for(this.consumeCodePoint();;){var Ne=this.consumeCodePoint();if(Ne===po&&(Ne=this.consumeCodePoint(),Ne===su))return this.consumeToken();if(Ne===Ea)return this.consumeToken()}break;case Nl:return Ia;case ou:return Ms;case au:if(this.peekCodePoint(0)===mn&&this.peekCodePoint(1)===_n&&this.peekCodePoint(2)===_n)return this.consumeCodePoint(),this.consumeCodePoint(),In;break;case Gh:var Fe=this.peekCodePoint(0),Qe=this.peekCodePoint(1),mt=this.peekCodePoint(2);if(I(Fe,Qe,mt)){var ee=this.consumeName();return{type:7,value:ee}}break;case Wh:return Qd;case mo:if(oi(y,this.peekCodePoint(0)))return this.reconsumeCodePoint(y),this.consumeIdentLikeToken();break;case Li:return Rc;case Fd:if(this.peekCodePoint(0)===Oi)return this.consumeCodePoint(),bt;break;case Id:return fr;case iu:return Yr;case Tc:case _l:var Ze=this.peekCodePoint(0),ct=this.peekCodePoint(1);return Ze===Rs&&(Qi(ct)||ct===ii)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(y),this.consumeIdentLikeToken();case Ud:if(this.peekCodePoint(0)===Oi)return this.consumeCodePoint(),Kt;if(this.peekCodePoint(0)===Ud)return this.consumeCodePoint(),_t;break;case Yh:if(this.peekCodePoint(0)===Oi)return this.consumeCodePoint(),Gt;break;case Ea:return Di}return Fa(y)?(this.consumeWhiteSpace(),Pl):En(y)?(this.reconsumeCodePoint(y),this.consumeNumericToken()):Il(y)?(this.reconsumeCodePoint(y),this.consumeIdentLikeToken()):{type:6,value:h(y)}},B.prototype.consumeCodePoint=function(){var y=this._value.shift();return typeof y>"u"?-1:y},B.prototype.reconsumeCodePoint=function(y){this._value.unshift(y)},B.prototype.peekCodePoint=function(y){return y>=this._value.length?-1:this._value[y]},B.prototype.consumeUnicodeRangeToken=function(){for(var y=[],N=this.consumeCodePoint();Qi(N)&&y.length<6;)y.push(N),N=this.consumeCodePoint();for(var C=!1;N===ii&&y.length<6;)y.push(N),N=this.consumeCodePoint(),C=!0;if(C){var L=parseInt(h.apply(void 0,y.map(function(he){return he===ii?Pd:he})),16),z=parseInt(h.apply(void 0,y.map(function(he){return he===ii?Qc:he})),16);return{type:30,start:L,end:z}}var ee=parseInt(h.apply(void 0,y),16);if(this.peekCodePoint(0)===_n&&Qi(this.peekCodePoint(1))){this.consumeCodePoint(),N=this.consumeCodePoint();for(var me=[];Qi(N)&&me.length<6;)me.push(N),N=this.consumeCodePoint();var z=parseInt(h.apply(void 0,me),16);return{type:30,start:ee,end:z}}else return{type:30,start:ee,end:ee}},B.prototype.consumeIdentLikeToken=function(){var y=this.consumeName();return y.toLowerCase()==="url"&&this.peekCodePoint(0)===_a?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===_a?(this.consumeCodePoint(),{type:19,value:y}):{type:20,value:y}},B.prototype.consumeUrlToken=function(){var y=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ea)return{type:22,value:""};var N=this.peekCodePoint(0);if(N===Cl||N===Bl){var C=this.consumeStringToken(this.consumeCodePoint());return C.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ea||this.peekCodePoint(0)===si)?(this.consumeCodePoint(),{type:22,value:C.value}):(this.consumeBadUrlRemnants(),jr)}for(;;){var L=this.consumeCodePoint();if(L===Ea||L===si)return{type:22,value:h.apply(void 0,y)};if(Fa(L))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ea||this.peekCodePoint(0)===si?(this.consumeCodePoint(),{type:22,value:h.apply(void 0,y)}):(this.consumeBadUrlRemnants(),jr);if(L===Bl||L===Cl||L===_a||Ul(L))return this.consumeBadUrlRemnants(),jr;if(L===mo)if(oi(L,this.peekCodePoint(0)))y.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),jr;else y.push(L)}},B.prototype.consumeWhiteSpace=function(){for(;Fa(this.peekCodePoint(0));)this.consumeCodePoint()},B.prototype.consumeBadUrlRemnants=function(){for(;;){var y=this.consumeCodePoint();if(y===si||y===Ea)return;oi(y,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},B.prototype.consumeStringSlice=function(y){for(var N=5e4,C="";y>0;){var L=Math.min(N,y);C+=h.apply(void 0,this._value.splice(0,L)),y-=L}return this._value.shift(),C},B.prototype.consumeStringToken=function(y){var N="",C=0;do{var L=this._value[C];if(L===Ea||L===void 0||L===y)return N+=this.consumeStringSlice(C),{type:0,value:N};if(L===Vo)return this._value.splice(0,C),Ln;if(L===mo){var z=this._value[C+1];z!==Ea&&z!==void 0&&(z===Vo?(N+=this.consumeStringSlice(C),C=-1,this._value.shift()):oi(L,z)&&(N+=this.consumeStringSlice(C),N+=h(this.consumeEscapedCodePoint()),C=-1))}C++}while(!0)},B.prototype.consumeNumber=function(){var y=[],N=zo,C=this.peekCodePoint(0);for((C===Rs||C===_n)&&y.push(this.consumeCodePoint());En(this.peekCodePoint(0));)y.push(this.consumeCodePoint());C=this.peekCodePoint(0);var L=this.peekCodePoint(1);if(C===Mt&&En(L))for(y.push(this.consumeCodePoint(),this.consumeCodePoint()),N=sa;En(this.peekCodePoint(0));)y.push(this.consumeCodePoint());C=this.peekCodePoint(0),L=this.peekCodePoint(1);var z=this.peekCodePoint(2);if((C===Lc||C===Pc)&&((L===Rs||L===_n)&&En(z)||En(L)))for(y.push(this.consumeCodePoint(),this.consumeCodePoint()),N=sa;En(this.peekCodePoint(0));)y.push(this.consumeCodePoint());return[xe(y),N]},B.prototype.consumeNumericToken=function(){var y=this.consumeNumber(),N=y[0],C=y[1],L=this.peekCodePoint(0),z=this.peekCodePoint(1),ee=this.peekCodePoint(2);if(I(L,z,ee)){var me=this.consumeName();return{type:15,number:N,flags:C,unit:me}}return L===Ed?(this.consumeCodePoint(),{type:16,number:N,flags:C}):{type:17,number:N,flags:C}},B.prototype.consumeEscapedCodePoint=function(){var y=this.consumeCodePoint();if(Qi(y)){for(var N=h(y);Qi(this.peekCodePoint(0))&&N.length<6;)N+=h(this.consumeCodePoint());Fa(this.peekCodePoint(0))&&this.consumeCodePoint();var C=parseInt(N,16);return C===0||Dc(C)||C>1114111?Uc:C}return y===Ea?Uc:y},B.prototype.consumeName=function(){for(var y="";;){var N=this.consumeCodePoint();if(lu(N))y+=h(N);else if(oi(N,this.peekCodePoint(0)))y+=h(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(N),y}},B}(),Wo=function(){function B(y){this._tokens=y}return B.create=function(y){var N=new Go;return N.write(y),new B(N.read())},B.parseValue=function(y){return B.create(y).parseComponentValue()},B.parseValues=function(y){return B.create(y).parseComponentValues()},B.prototype.parseComponentValue=function(){for(var y=this.consumeToken();y.type===31;)y=this.consumeToken();if(y.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(y);var N=this.consumeComponentValue();do y=this.consumeToken();while(y.type===31);if(y.type===32)return N;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},B.prototype.parseComponentValues=function(){for(var y=[];;){var N=this.consumeComponentValue();if(N.type===32)return y;y.push(N),y.push()}},B.prototype.consumeComponentValue=function(){var y=this.consumeToken();switch(y.type){case 11:case 28:case 2:return this.consumeSimpleBlock(y.type);case 19:return this.consumeFunction(y)}return y},B.prototype.consumeSimpleBlock=function(y){for(var N={type:y,values:[]},C=this.consumeToken();;){if(C.type===32||Hc(C,y))return N;this.reconsumeToken(C),N.values.push(this.consumeComponentValue()),C=this.consumeToken()}},B.prototype.consumeFunction=function(y){for(var N={name:y.value,values:[],type:18};;){var C=this.consumeToken();if(C.type===32||C.type===3)return N;this.reconsumeToken(C),N.values.push(this.consumeComponentValue())}},B.prototype.consumeToken=function(){var y=this._tokens.shift();return typeof y>"u"?Di:y},B.prototype.reconsumeToken=function(y){this._tokens.unshift(y)},B}(),li=function(B){return B.type===15},pn=function(B){return B.type===17},lr=function(B){return B.type===20},Tl=function(B){return B.type===0},Ol=function(B,y){return lr(B)&&B.value===y},Mc=function(B){return B.type!==31},Fr=function(B){return B.type!==31&&B.type!==4},Vn=function(B){var y=[],N=[];return B.forEach(function(C){if(C.type===4){if(N.length===0)throw new Error("Error parsing function args, zero tokens for arg");y.push(N),N=[];return}C.type!==31&&N.push(C)}),N.length&&y.push(N),y},Hc=function(B,y){return y===11&&B.type===12||y===28&&B.type===29?!0:y===2&&B.type===3},ci=function(B){return B.type===17||B.type===15},hr=function(B){return B.type===16||ci(B)},Yo=function(B){return B.length>1?[B[0],B[1]]:[B[0]]},gn={type:17,number:0,flags:zo},Ll={type:16,number:50,flags:zo},Ns={type:16,number:100,flags:zo},Ai=function(B,y,N){var C=B[0],L=B[1];return[er(C,y),er(typeof L<"u"?L:C,N)]},er=function(B,y){if(B.type===16)return B.number/100*y;if(li(B))switch(B.unit){case"rem":case"em":return 16*B.number;case"px":default:return B.number}return B.number},Hs="deg",bo="grad",Ri="rad",yo="turn",Jo={name:"angle",parse:function(B,y){if(y.type===15)switch(y.unit){case Hs:return Math.PI*y.number/180;case bo:return Math.PI/200*y.number;case Ri:return y.number;case yo:return Math.PI*2*y.number}throw new Error("Unsupported angle type")}},Ql=function(B){return B.type===15&&(B.unit===Hs||B.unit===bo||B.unit===Ri||B.unit===yo)},tn=function(B){var y=B.filter(lr).map(function(N){return N.value}).join(" ");switch(y){case"to bottom right":case"to right bottom":case"left top":case"top left":return[gn,gn];case"to top":case"bottom":return ks(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[gn,Ns];case"to right":case"left":return ks(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ns,Ns];case"to bottom":case"top":return ks(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ns,gn];case"to left":case"right":return ks(270)}return 0},ks=function(B){return Math.PI*B/180},Zn={name:"color",parse:function(B,y){if(y.type===18){var N=Xo[y.name];if(typeof N>"u")throw new Error('Attempting to parse an unsupported color function "'+y.name+'"');return N(B,y.values)}if(y.type===5){if(y.value.length===3){var C=y.value.substring(0,1),L=y.value.substring(1,2),z=y.value.substring(2,3);return Ua(parseInt(C+C,16),parseInt(L+L,16),parseInt(z+z,16),1)}if(y.value.length===4){var C=y.value.substring(0,1),L=y.value.substring(1,2),z=y.value.substring(2,3),ee=y.value.substring(3,4);return Ua(parseInt(C+C,16),parseInt(L+L,16),parseInt(z+z,16),parseInt(ee+ee,16)/255)}if(y.value.length===6){var C=y.value.substring(0,2),L=y.value.substring(2,4),z=y.value.substring(4,6);return Ua(parseInt(C,16),parseInt(L,16),parseInt(z,16),1)}if(y.value.length===8){var C=y.value.substring(0,2),L=y.value.substring(2,4),z=y.value.substring(4,6),ee=y.value.substring(6,8);return Ua(parseInt(C,16),parseInt(L,16),parseInt(z,16),parseInt(ee,16)/255)}}if(y.type===20){var me=ps[y.value.toUpperCase()];if(typeof me<"u")return me}return ps.TRANSPARENT}},es=function(B){return(255&B)===0},rn=function(B){var y=255&B,N=255&B>>8,C=255&B>>16,L=255&B>>24;return y<255?"rgba("+L+","+C+","+N+","+y/255+")":"rgb("+L+","+C+","+N+")"},Ua=function(B,y,N,C){return(B<<24|y<<16|N<<8|Math.round(C*255)<<0)>>>0},$c=function(B,y){if(B.type===17)return B.number;if(B.type===16){var N=y===3?1:255;return y===3?B.number/100*N:Math.round(B.number/100*N)}return 0},Kc=function(B,y){var N=y.filter(Fr);if(N.length===3){var C=N.map($c),L=C[0],z=C[1],ee=C[2];return Ua(L,z,ee,1)}if(N.length===4){var me=N.map($c),L=me[0],z=me[1],ee=me[2],he=me[3];return Ua(L,z,ee,he)}return 0};function Mi(B,y,N){return N<0&&(N+=1),N>=1&&(N-=1),N<1/6?(y-B)*N*6+B:N<1/2?y:N<2/3?(y-B)*6*(2/3-N)+B:B}var wo=function(B,y){var N=y.filter(Fr),C=N[0],L=N[1],z=N[2],ee=N[3],me=(C.type===17?ks(C.number):Jo.parse(B,C))/(Math.PI*2),he=hr(L)?L.number/100:0,Ce=hr(z)?z.number/100:0,Ne=typeof ee<"u"&&hr(ee)?er(ee,1):1;if(he===0)return Ua(Ce*255,Ce*255,Ce*255,1);var Fe=Ce<=.5?Ce*(he+1):Ce+he-Ce*he,Qe=Ce*2-Fe,mt=Mi(Qe,Fe,me+1/3),Ze=Mi(Qe,Fe,me),ct=Mi(Qe,Fe,me-1/3);return Ua(mt*255,Ze*255,ct*255,Ne)},Xo={hsl:wo,hsla:wo,rgb:Kc,rgba:Kc},ui=function(B,y){return Zn.parse(B,Wo.create(y).parseComponentValue())},ps={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Dl={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(B,y){return y.map(function(N){if(lr(N))switch(N.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Pa={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},aa=function(B,y){var N=Zn.parse(B,y[0]),C=y[1];return C&&hr(C)?{color:N,stop:C}:{color:N,stop:null}},mr=function(B,y){var N=B[0],C=B[B.length-1];N.stop===null&&(N.stop=gn),C.stop===null&&(C.stop=Ns);for(var L=[],z=0,ee=0;ee<B.length;ee++){var me=B[ee].stop;if(me!==null){var he=er(me,y);he>z?L.push(he):L.push(z),z=he}else L.push(null)}for(var Ce=null,ee=0;ee<L.length;ee++){var Ne=L[ee];if(Ne===null)Ce===null&&(Ce=ee);else if(Ce!==null){for(var Fe=ee-Ce,Qe=L[Ce-1],mt=(Ne-Qe)/(Fe+1),Ze=1;Ze<=Fe;Ze++)L[Ce+Ze-1]=mt*Ze;Ce=null}}return B.map(function(ct,Zt){var Et=ct.color;return{color:Et,stop:Math.max(Math.min(1,L[Zt]/y),0)}})},Ir=function(B,y,N){var C=y/2,L=N/2,z=er(B[0],y)-C,ee=L-er(B[1],N);return(Math.atan2(ee,z)+Math.PI*2)%(Math.PI*2)},vn=function(B,y,N){var C=typeof B=="number"?B:Ir(B,y,N),L=Math.abs(y*Math.sin(C))+Math.abs(N*Math.cos(C)),z=y/2,ee=N/2,me=L/2,he=Math.sin(C-Math.PI/2)*me,Ce=Math.cos(C-Math.PI/2)*me;return[L,z-Ce,z+Ce,ee-he,ee+he]},Br=function(B,y){return Math.sqrt(B*B+y*y)},Hi=function(B,y,N,C,L){var z=[[0,0],[0,y],[B,0],[B,y]];return z.reduce(function(ee,me){var he=me[0],Ce=me[1],Ne=Br(N-he,C-Ce);return(L?Ne<ee.optimumDistance:Ne>ee.optimumDistance)?{optimumCorner:me,optimumDistance:Ne}:ee},{optimumDistance:L?1/0:-1/0,optimumCorner:null}).optimumCorner},cu=function(B,y,N,C,L){var z=0,ee=0;switch(B.size){case 0:B.shape===0?z=ee=Math.min(Math.abs(y),Math.abs(y-C),Math.abs(N),Math.abs(N-L)):B.shape===1&&(z=Math.min(Math.abs(y),Math.abs(y-C)),ee=Math.min(Math.abs(N),Math.abs(N-L)));break;case 2:if(B.shape===0)z=ee=Math.min(Br(y,N),Br(y,N-L),Br(y-C,N),Br(y-C,N-L));else if(B.shape===1){var me=Math.min(Math.abs(N),Math.abs(N-L))/Math.min(Math.abs(y),Math.abs(y-C)),he=Hi(C,L,y,N,!0),Ce=he[0],Ne=he[1];z=Br(Ce-y,(Ne-N)/me),ee=me*z}break;case 1:B.shape===0?z=ee=Math.max(Math.abs(y),Math.abs(y-C),Math.abs(N),Math.abs(N-L)):B.shape===1&&(z=Math.max(Math.abs(y),Math.abs(y-C)),ee=Math.max(Math.abs(N),Math.abs(N-L)));break;case 3:if(B.shape===0)z=ee=Math.max(Br(y,N),Br(y,N-L),Br(y-C,N),Br(y-C,N-L));else if(B.shape===1){var me=Math.max(Math.abs(N),Math.abs(N-L))/Math.max(Math.abs(y),Math.abs(y-C)),Fe=Hi(C,L,y,N,!1),Ce=Fe[0],Ne=Fe[1];z=Br(Ce-y,(Ne-N)/me),ee=me*z}break}return Array.isArray(B.size)&&(z=er(B.size[0],C),ee=B.size.length===2?er(B.size[1],L):z),[z,ee]},zc=function(B,y){var N=ks(180),C=[];return Vn(y).forEach(function(L,z){if(z===0){var ee=L[0];if(ee.type===20&&ee.value==="to"){N=tn(L);return}else if(Ql(ee)){N=Jo.parse(B,ee);return}}var me=aa(B,L);C.push(me)}),{angle:N,stops:C,type:1}},Rl=function(B,y){var N=ks(180),C=[];return Vn(y).forEach(function(L,z){if(z===0){var ee=L[0];if(ee.type===20&&["top","left","right","bottom"].indexOf(ee.value)!==-1){N=tn(L);return}else if(Ql(ee)){N=(Jo.parse(B,ee)+ks(270))%ks(360);return}}var me=aa(B,L);C.push(me)}),{angle:N,stops:C,type:1}},zp=function(B,y){var N=ks(180),C=[],L=1,z=0,ee=3,me=[];return Vn(y).forEach(function(he,Ce){var Ne=he[0];if(Ce===0){if(lr(Ne)&&Ne.value==="linear"){L=1;return}else if(lr(Ne)&&Ne.value==="radial"){L=2;return}}if(Ne.type===18){if(Ne.name==="from"){var Fe=Zn.parse(B,Ne.values[0]);C.push({stop:gn,color:Fe})}else if(Ne.name==="to"){var Fe=Zn.parse(B,Ne.values[0]);C.push({stop:Ns,color:Fe})}else if(Ne.name==="color-stop"){var Qe=Ne.values.filter(Fr);if(Qe.length===2){var Fe=Zn.parse(B,Qe[1]),mt=Qe[0];pn(mt)&&C.push({stop:{type:16,number:mt.number*100,flags:mt.flags},color:Fe})}}}}),L===1?{angle:(N+ks(180))%ks(360),stops:C,type:L}:{size:ee,shape:z,stops:C,position:me,type:L}},r0="closest-side",n0="farthest-side",s0="closest-corner",a0="farthest-corner",i0="circle",Vc="ellipse",o0="cover",l0="contain",Vp=function(B,y){var N=0,C=3,L=[],z=[];return Vn(y).forEach(function(ee,me){var he=!0;if(me===0){var Ce=!1;he=ee.reduce(function(Fe,Qe){if(Ce)if(lr(Qe))switch(Qe.value){case"center":return z.push(Ll),Fe;case"top":case"left":return z.push(gn),Fe;case"right":case"bottom":return z.push(Ns),Fe}else(hr(Qe)||ci(Qe))&&z.push(Qe);else if(lr(Qe))switch(Qe.value){case i0:return N=0,!1;case Vc:return N=1,!1;case"at":return Ce=!0,!1;case r0:return C=0,!1;case o0:case n0:return C=1,!1;case l0:case s0:return C=2,!1;case a0:return C=3,!1}else if(ci(Qe)||hr(Qe))return Array.isArray(C)||(C=[]),C.push(Qe),!1;return Fe},he)}if(he){var Ne=aa(B,ee);L.push(Ne)}}),{size:C,shape:N,stops:L,position:z,type:2}},Au=function(B,y){var N=0,C=3,L=[],z=[];return Vn(y).forEach(function(ee,me){var he=!0;if(me===0?he=ee.reduce(function(Ne,Fe){if(lr(Fe))switch(Fe.value){case"center":return z.push(Ll),!1;case"top":case"left":return z.push(gn),!1;case"right":case"bottom":return z.push(Ns),!1}else if(hr(Fe)||ci(Fe))return z.push(Fe),!1;return Ne},he):me===1&&(he=ee.reduce(function(Ne,Fe){if(lr(Fe))switch(Fe.value){case i0:return N=0,!1;case Vc:return N=1,!1;case l0:case r0:return C=0,!1;case n0:return C=1,!1;case s0:return C=2,!1;case o0:case a0:return C=3,!1}else if(ci(Fe)||hr(Fe))return Array.isArray(C)||(C=[]),C.push(Fe),!1;return Ne},he)),he){var Ce=aa(B,ee);L.push(Ce)}}),{size:C,shape:N,stops:L,position:z,type:2}},Gp=function(B){return B.type===1},Wp=function(B){return B.type===2},Dd={name:"image",parse:function(B,y){if(y.type===22){var N={url:y.value,type:0};return B.cache.addImage(y.value),N}if(y.type===18){var C=Rd[y.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported image function "'+y.name+'"');return C(B,y.values)}throw new Error("Unsupported image type "+y.type)}};function Yp(B){return!(B.type===20&&B.value==="none")&&(B.type!==18||!!Rd[B.name])}var Rd={"linear-gradient":zc,"-moz-linear-gradient":Rl,"-ms-linear-gradient":Rl,"-o-linear-gradient":Rl,"-webkit-linear-gradient":Rl,"radial-gradient":Vp,"-moz-radial-gradient":Au,"-ms-radial-gradient":Au,"-o-radial-gradient":Au,"-webkit-radial-gradient":Au,"-webkit-gradient":zp},Md={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(B,y){if(y.length===0)return[];var N=y[0];return N.type===20&&N.value==="none"?[]:y.filter(function(C){return Fr(C)&&Yp(C)}).map(function(C){return Dd.parse(B,C)})}},ia={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(B,y){return y.map(function(N){if(lr(N))switch(N.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ta={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(B,y){return Vn(y).map(function(N){return N.filter(hr)}).map(Yo)}},Hd={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(B,y){return Vn(y).map(function(N){return N.filter(lr).map(function(C){return C.value}).join(" ")}).map($d)}},$d=function(B){switch(B){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ml;(function(B){B.AUTO="auto",B.CONTAIN="contain",B.COVER="cover"})(Ml||(Ml={}));var Kd={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(B,y){return Vn(y).map(function(N){return N.filter(zd)})}},zd=function(B){return lr(B)||hr(B)},Gc=function(B){return{name:"border-"+B+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Jp=Gc("top"),c0=Gc("right"),A0=Gc("bottom"),Vd=Gc("left"),Wc=function(B){return{name:"border-radius-"+B,initialValue:"0 0",prefix:!1,type:1,parse:function(y,N){return Yo(N.filter(hr))}}},Ky=Wc("top-left"),zy=Wc("top-right"),Xp=Wc("bottom-right"),Vy=Wc("bottom-left"),Gd=function(B){return{name:"border-"+B+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(y,N){switch(N){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Gy=Gd("top"),Wy=Gd("right"),Yy=Gd("bottom"),u0=Gd("left"),Yc=function(B){return{name:"border-"+B+"-width",initialValue:"0",type:0,prefix:!1,parse:function(y,N){return li(N)?N.number:0}}},uu=Yc("top"),Jy=Yc("right"),Xy=Yc("bottom"),qp=Yc("left"),qy={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zy={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(B,y){switch(y){case"rtl":return 1;case"ltr":default:return 0}}},e1={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(B,y){return y.filter(lr).reduce(function(N,C){return N|t1(C.value)},0)}},t1=function(B){switch(B){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},qo={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(B,y){switch(y){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},di={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(B,y){return y.type===20&&y.value==="normal"?0:y.type===17||y.type===15?y.number:0}},Oa;(function(B){B.NORMAL="normal",B.STRICT="strict"})(Oa||(Oa={}));var r1={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(B,y){switch(y){case"strict":return Oa.STRICT;case"normal":default:return Oa.NORMAL}}},Zp={name:"line-height",initialValue:"normal",prefix:!1,type:4},jo=function(B,y){return lr(B)&&B.value==="normal"?1.2*y:B.type===17?y*B.number:hr(B)?er(B,y):y},La={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(B,y){return y.type===20&&y.value==="none"?null:Dd.parse(B,y)}},n1={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(B,y){switch(y){case"inside":return 0;case"outside":default:return 1}}},d0={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(B,y){switch(y){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},du=function(B){return{name:"margin-"+B,initialValue:"0",prefix:!1,type:4}},eg=du("top"),tg=du("right"),rg=du("bottom"),s1=du("left"),Wd={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(B,y){return y.filter(lr).map(function(N){switch(N.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Yd={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(B,y){switch(y){case"break-word":return"break-word";case"normal":default:return"normal"}}},Zo=function(B){return{name:"padding-"+B,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},f0=Zo("top"),ng=Zo("right"),a1=Zo("bottom"),sg=Zo("left"),i1={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(B,y){switch(y){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},o1={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(B,y){switch(y){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},l1={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(B,y){return y.length===1&&Ol(y[0],"none")?[]:Vn(y).map(function(N){for(var C={color:ps.TRANSPARENT,offsetX:gn,offsetY:gn,blur:gn},L=0,z=0;z<N.length;z++){var ee=N[z];ci(ee)?(L===0?C.offsetX=ee:L===1?C.offsetY=ee:C.blur=ee,L++):C.color=Zn.parse(B,ee)}return C})}},c1={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(B,y){switch(y){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},A1={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(B,y){if(y.type===20&&y.value==="none")return null;if(y.type===18){var N=Jd[y.name];if(typeof N>"u")throw new Error('Attempting to parse an unsupported transform function "'+y.name+'"');return N(y.values)}return null}},u1=function(B){var y=B.filter(function(N){return N.type===17}).map(function(N){return N.number});return y.length===6?y:null},ag=function(B){var y=B.filter(function(he){return he.type===17}).map(function(he){return he.number}),N=y[0],C=y[1];y[2],y[3];var L=y[4],z=y[5];y[6],y[7],y[8],y[9],y[10],y[11];var ee=y[12],me=y[13];return y[14],y[15],y.length===16?[N,C,L,z,ee,me]:null},Jd={matrix:u1,matrix3d:ag},ig={type:16,number:50,flags:zo},d1=[ig,ig],og={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(B,y){var N=y.filter(hr);return N.length!==2?d1:[N[0],N[1]]}},w={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(B,y){switch(y){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},_;(function(B){B.NORMAL="normal",B.BREAK_ALL="break-all",B.KEEP_ALL="keep-all"})(_||(_={}));for(var O={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(B,y){switch(y){case"break-all":return _.BREAK_ALL;case"keep-all":return _.KEEP_ALL;case"normal":default:return _.NORMAL}}},$={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(B,y){if(y.type===20)return{auto:!0,order:0};if(pn(y))return{auto:!1,order:y.number};throw new Error("Invalid z-index number parsed")}},J={name:"time",parse:function(B,y){if(y.type===15)switch(y.unit.toLowerCase()){case"s":return 1e3*y.number;case"ms":return y.number}throw new Error("Unsupported time type")}},te={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(B,y){return pn(y)?y.number:1}},se={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ae={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(B,y){return y.filter(lr).map(function(N){switch(N.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(N){return N!==0})}},ce={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(B,y){var N=[],C=[];return y.forEach(function(L){switch(L.type){case 20:case 0:N.push(L.value);break;case 17:N.push(L.number.toString());break;case 4:C.push(N.join(" ")),N.length=0;break}}),N.length&&C.push(N.join(" ")),C.map(function(L){return L.indexOf(" ")===-1?L:"'"+L+"'"})}},ge={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Be={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(B,y){if(pn(y))return y.number;if(lr(y))switch(y.value){case"bold":return 700;case"normal":default:return 400}return 400}},Pe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(B,y){return y.filter(lr).map(function(N){return N.value})}},ve={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(B,y){switch(y){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},je=function(B,y){return(B&y)!==0},Ee={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(B,y){if(y.length===0)return[];var N=y[0];return N.type===20&&N.value==="none"?[]:y}},Le={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(B,y){if(y.length===0)return null;var N=y[0];if(N.type===20&&N.value==="none")return null;for(var C=[],L=y.filter(Mc),z=0;z<L.length;z++){var ee=L[z],me=L[z+1];if(ee.type===20){var he=me&&pn(me)?me.number:1;C.push({counter:ee.value,increment:he})}}return C}},Ue={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(B,y){if(y.length===0)return[];for(var N=[],C=y.filter(Mc),L=0;L<C.length;L++){var z=C[L],ee=C[L+1];if(lr(z)&&z.value!=="none"){var me=ee&&pn(ee)?ee.number:0;N.push({counter:z.value,reset:me})}}return N}},De={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(B,y){return y.filter(li).map(function(N){return J.parse(B,N)})}},$e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(B,y){if(y.length===0)return null;var N=y[0];if(N.type===20&&N.value==="none")return null;var C=[],L=y.filter(Tl);if(L.length%2!==0)return null;for(var z=0;z<L.length;z+=2){var ee=L[z].value,me=L[z+1].value;C.push({open:ee,close:me})}return C}},We=function(B,y,N){if(!B)return"";var C=B[Math.min(y,B.length-1)];return C?N?C.open:C.close:""},ze={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(B,y){return y.length===1&&Ol(y[0],"none")?[]:Vn(y).map(function(N){for(var C={color:255,offsetX:gn,offsetY:gn,blur:gn,spread:gn,inset:!1},L=0,z=0;z<N.length;z++){var ee=N[z];Ol(ee,"inset")?C.inset=!0:ci(ee)?(L===0?C.offsetX=ee:L===1?C.offsetY=ee:L===2?C.blur=ee:C.spread=ee,L++):C.color=Zn.parse(B,ee)}return C})}},Ft={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(B,y){var N=[0,1,2],C=[];return y.filter(lr).forEach(function(L){switch(L.value){case"stroke":C.push(1);break;case"fill":C.push(0);break;case"markers":C.push(2);break}}),N.forEach(function(L){C.indexOf(L)===-1&&C.push(L)}),C}},gt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Jt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(B,y){return li(y)?y.number:0}},Nt=function(){function B(y,N){var C,L;this.animationDuration=Ke(y,De,N.animationDuration),this.backgroundClip=Ke(y,Dl,N.backgroundClip),this.backgroundColor=Ke(y,Pa,N.backgroundColor),this.backgroundImage=Ke(y,Md,N.backgroundImage),this.backgroundOrigin=Ke(y,ia,N.backgroundOrigin),this.backgroundPosition=Ke(y,Ta,N.backgroundPosition),this.backgroundRepeat=Ke(y,Hd,N.backgroundRepeat),this.backgroundSize=Ke(y,Kd,N.backgroundSize),this.borderTopColor=Ke(y,Jp,N.borderTopColor),this.borderRightColor=Ke(y,c0,N.borderRightColor),this.borderBottomColor=Ke(y,A0,N.borderBottomColor),this.borderLeftColor=Ke(y,Vd,N.borderLeftColor),this.borderTopLeftRadius=Ke(y,Ky,N.borderTopLeftRadius),this.borderTopRightRadius=Ke(y,zy,N.borderTopRightRadius),this.borderBottomRightRadius=Ke(y,Xp,N.borderBottomRightRadius),this.borderBottomLeftRadius=Ke(y,Vy,N.borderBottomLeftRadius),this.borderTopStyle=Ke(y,Gy,N.borderTopStyle),this.borderRightStyle=Ke(y,Wy,N.borderRightStyle),this.borderBottomStyle=Ke(y,Yy,N.borderBottomStyle),this.borderLeftStyle=Ke(y,u0,N.borderLeftStyle),this.borderTopWidth=Ke(y,uu,N.borderTopWidth),this.borderRightWidth=Ke(y,Jy,N.borderRightWidth),this.borderBottomWidth=Ke(y,Xy,N.borderBottomWidth),this.borderLeftWidth=Ke(y,qp,N.borderLeftWidth),this.boxShadow=Ke(y,ze,N.boxShadow),this.color=Ke(y,qy,N.color),this.direction=Ke(y,Zy,N.direction),this.display=Ke(y,e1,N.display),this.float=Ke(y,qo,N.cssFloat),this.fontFamily=Ke(y,ce,N.fontFamily),this.fontSize=Ke(y,ge,N.fontSize),this.fontStyle=Ke(y,ve,N.fontStyle),this.fontVariant=Ke(y,Pe,N.fontVariant),this.fontWeight=Ke(y,Be,N.fontWeight),this.letterSpacing=Ke(y,di,N.letterSpacing),this.lineBreak=Ke(y,r1,N.lineBreak),this.lineHeight=Ke(y,Zp,N.lineHeight),this.listStyleImage=Ke(y,La,N.listStyleImage),this.listStylePosition=Ke(y,n1,N.listStylePosition),this.listStyleType=Ke(y,d0,N.listStyleType),this.marginTop=Ke(y,eg,N.marginTop),this.marginRight=Ke(y,tg,N.marginRight),this.marginBottom=Ke(y,rg,N.marginBottom),this.marginLeft=Ke(y,s1,N.marginLeft),this.opacity=Ke(y,te,N.opacity);var z=Ke(y,Wd,N.overflow);this.overflowX=z[0],this.overflowY=z[z.length>1?1:0],this.overflowWrap=Ke(y,Yd,N.overflowWrap),this.paddingTop=Ke(y,f0,N.paddingTop),this.paddingRight=Ke(y,ng,N.paddingRight),this.paddingBottom=Ke(y,a1,N.paddingBottom),this.paddingLeft=Ke(y,sg,N.paddingLeft),this.paintOrder=Ke(y,Ft,N.paintOrder),this.position=Ke(y,o1,N.position),this.textAlign=Ke(y,i1,N.textAlign),this.textDecorationColor=Ke(y,se,(C=N.textDecorationColor)!==null&&C!==void 0?C:N.color),this.textDecorationLine=Ke(y,ae,(L=N.textDecorationLine)!==null&&L!==void 0?L:N.textDecoration),this.textShadow=Ke(y,l1,N.textShadow),this.textTransform=Ke(y,c1,N.textTransform),this.transform=Ke(y,A1,N.transform),this.transformOrigin=Ke(y,og,N.transformOrigin),this.visibility=Ke(y,w,N.visibility),this.webkitTextStrokeColor=Ke(y,gt,N.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ke(y,Jt,N.webkitTextStrokeWidth),this.wordBreak=Ke(y,O,N.wordBreak),this.zIndex=Ke(y,$,N.zIndex)}return B.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},B.prototype.isTransparent=function(){return es(this.backgroundColor)},B.prototype.isTransformed=function(){return this.transform!==null},B.prototype.isPositioned=function(){return this.position!==0},B.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},B.prototype.isFloating=function(){return this.float!==0},B.prototype.isInlineLevel=function(){return je(this.display,4)||je(this.display,33554432)||je(this.display,268435456)||je(this.display,536870912)||je(this.display,67108864)||je(this.display,134217728)},B}(),rr=function(){function B(y,N){this.content=Ke(y,Ee,N.content),this.quotes=Ke(y,$e,N.quotes)}return B}(),Un=function(){function B(y,N){this.counterIncrement=Ke(y,Le,N.counterIncrement),this.counterReset=Ke(y,Ue,N.counterReset)}return B}(),Ke=function(B,y,N){var C=new Go,L=N!==null&&typeof N<"u"?N.toString():y.initialValue;C.write(L);var z=new Wo(C.read());switch(y.type){case 2:var ee=z.parseComponentValue();return y.parse(B,lr(ee)?ee.value:y.initialValue);case 0:return y.parse(B,z.parseComponentValue());case 1:return y.parse(B,z.parseComponentValues());case 4:return z.parseComponentValue();case 3:switch(y.format){case"angle":return Jo.parse(B,z.parseComponentValue());case"color":return Zn.parse(B,z.parseComponentValue());case"image":return Dd.parse(B,z.parseComponentValue());case"length":var me=z.parseComponentValue();return ci(me)?me:gn;case"length-percentage":var he=z.parseComponentValue();return hr(he)?he:gn;case"time":return J.parse(B,z.parseComponentValue())}break}},kt="data-html2canvas-debug",st=function(B){var y=B.getAttribute(kt);switch(y){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Jr=function(B,y){var N=st(B);return N===1||y===N},Dt=function(){function B(y,N){if(this.context=y,this.textNodes=[],this.elements=[],this.flags=0,Jr(N,3))debugger;this.styles=new Nt(y,window.getComputedStyle(N,null)),b1(N)&&(this.styles.animationDuration.some(function(C){return C>0})&&(N.style.animationDuration="0s"),this.styles.transform!==null&&(N.style.transform="none")),this.bounds=u(this.context,N),Jr(N,4)&&(this.flags|=16)}return B}(),cr="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Dr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xn=typeof Uint8Array>"u"?[]:new Uint8Array(256),Gn=0;Gn<Dr.length;Gn++)xn[Dr.charCodeAt(Gn)]=Gn;for(var nn=function(B){var y=B.length*.75,N=B.length,C,L=0,z,ee,me,he;B[B.length-1]==="="&&(y--,B[B.length-2]==="="&&y--);var Ce=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(y):new Array(y),Ne=Array.isArray(Ce)?Ce:new Uint8Array(Ce);for(C=0;C<N;C+=4)z=xn[B.charCodeAt(C)],ee=xn[B.charCodeAt(C+1)],me=xn[B.charCodeAt(C+2)],he=xn[B.charCodeAt(C+3)],Ne[L++]=z<<2|ee>>4,Ne[L++]=(ee&15)<<4|me>>2,Ne[L++]=(me&3)<<6|he&63;return Ce},gs=function(B){for(var y=B.length,N=[],C=0;C<y;C+=2)N.push(B[C+1]<<8|B[C]);return N},Ss=function(B){for(var y=B.length,N=[],C=0;C<y;C+=4)N.push(B[C+3]<<24|B[C+2]<<16|B[C+1]<<8|B[C]);return N},Hr=5,nr=11,pr=2,sn=nr-Hr,xr=65536>>Hr,ts=1<<Hr,oa=ts-1,bn=1024>>Hr,$s=xr+bn,Ur=$s,Qn=32,la=Ur+Qn,_s=65536>>nr,ca=1<<sn,Aa=ca-1,Es=function(B,y,N){return B.slice?B.slice(y,N):new Uint16Array(Array.prototype.slice.call(B,y,N))},ua=function(B,y,N){return B.slice?B.slice(y,N):new Uint32Array(Array.prototype.slice.call(B,y,N))},Rr=function(B,y){var N=nn(B),C=Array.isArray(N)?Ss(N):new Uint32Array(N),L=Array.isArray(N)?gs(N):new Uint16Array(N),z=24,ee=Es(L,z/2,C[4]/2),me=C[5]===2?Es(L,(z+C[4])/2):ua(C,Math.ceil((z+C[4])/4));return new da(C[0],C[1],C[2],C[3],ee,me)},da=function(){function B(y,N,C,L,z,ee){this.initialValue=y,this.errorValue=N,this.highStart=C,this.highValueIndex=L,this.index=z,this.data=ee}return B.prototype.get=function(y){var N;if(y>=0){if(y<55296||y>56319&&y<=65535)return N=this.index[y>>Hr],N=(N<<pr)+(y&oa),this.data[N];if(y<=65535)return N=this.index[xr+(y-55296>>Hr)],N=(N<<pr)+(y&oa),this.data[N];if(y<this.highStart)return N=la-_s+(y>>nr),N=this.index[N],N+=y>>Hr&Aa,N=this.index[N],N=(N<<pr)+(y&oa),this.data[N];if(y<=1114111)return this.data[this.highValueIndex]}return this.errorValue},B}(),Qa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hl=typeof Uint8Array>"u"?[]:new Uint8Array(256),Da=0;Da<Qa.length;Da++)Hl[Qa.charCodeAt(Da)]=Da;var rs=1,Jc=2,fu=3,hu=4,Xc=5,f1=7,lg=8,mu=9,$i=10,cg=11,Ag=12,ug=13,h0=14,qc=15,dg=function(B){for(var y=[],N=0,C=B.length;N<C;){var L=B.charCodeAt(N++);if(L>=55296&&L<=56319&&N<C){var z=B.charCodeAt(N++);(z&64512)===56320?y.push(((L&1023)<<10)+(z&1023)+65536):(y.push(L),N--)}else y.push(L)}return y},fg=function(){for(var B=[],y=0;y<arguments.length;y++)B[y]=arguments[y];if(String.fromCodePoint)return String.fromCodePoint.apply(String,B);var N=B.length;if(!N)return"";for(var C=[],L=-1,z="";++L<N;){var ee=B[L];ee<=65535?C.push(ee):(ee-=65536,C.push((ee>>10)+55296,ee%1024+56320)),(L+1===N||C.length>16384)&&(z+=String.fromCharCode.apply(String,C),C.length=0)}return z},Xd=Rr(cr),Ks="",$l="",hg=function(B){return Xd.get(B)},h1=function(B,y,N){var C=N-2,L=y[C],z=y[N-1],ee=y[N];if(z===Jc&&ee===fu)return Ks;if(z===Jc||z===fu||z===hu||ee===Jc||ee===fu||ee===hu)return $l;if(z===lg&&[lg,mu,cg,Ag].indexOf(ee)!==-1||(z===cg||z===mu)&&(ee===mu||ee===$i)||(z===Ag||z===$i)&&ee===$i||ee===ug||ee===Xc||ee===f1||z===rs)return Ks;if(z===ug&&ee===h0){for(;L===Xc;)L=y[--C];if(L===h0)return Ks}if(z===qc&&ee===qc){for(var me=0;L===qc;)me++,L=y[--C];if(me%2===0)return Ks}return $l},qd=function(B){var y=dg(B),N=y.length,C=0,L=0,z=y.map(hg);return{next:function(){if(C>=N)return{done:!0,value:null};for(var ee=Ks;C<N&&(ee=h1(y,z,++C))===Ks;);if(ee!==Ks||C===N){var me=fg.apply(null,y.slice(L,C));return L=C,{value:me,done:!1}}return{done:!0,value:null}}}},mg=function(B){for(var y=qd(B),N=[],C;!(C=y.next()).done;)C.value&&N.push(C.value.slice());return N},m0=function(B){var y=123;if(B.createRange){var N=B.createRange();if(N.getBoundingClientRect){var C=B.createElement("boundtest");C.style.height=y+"px",C.style.display="block",B.body.appendChild(C),N.selectNode(C);var L=N.getBoundingClientRect(),z=Math.round(L.height);if(B.body.removeChild(C),z===y)return!0}}return!1},el=function(B){var y=B.createElement("boundtest");y.style.width="50px",y.style.display="block",y.style.fontSize="12px",y.style.letterSpacing="0px",y.style.wordSpacing="0px",B.body.appendChild(y);var N=B.createRange();y.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var C=y.firstChild,L=d(C.data).map(function(he){return h(he)}),z=0,ee={},me=L.every(function(he,Ce){N.setStart(C,z),N.setEnd(C,z+he.length);var Ne=N.getBoundingClientRect();z+=he.length;var Fe=Ne.x>ee.x||Ne.y>ee.y;return ee=Ne,Ce===0?!0:Fe});return B.body.removeChild(y),me},pg=function(){return typeof new Image().crossOrigin<"u"},gg=function(){return typeof new XMLHttpRequest().responseType=="string"},m1=function(B){var y=new Image,N=B.createElement("canvas"),C=N.getContext("2d");if(!C)return!1;y.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{C.drawImage(y,0,0),N.toDataURL()}catch{return!1}return!0},p0=function(B){return B[0]===0&&B[1]===255&&B[2]===0&&B[3]===255},Zc=function(B){var y=B.createElement("canvas"),N=100;y.width=N,y.height=N;var C=y.getContext("2d");if(!C)return Promise.reject(!1);C.fillStyle="rgb(0, 255, 0)",C.fillRect(0,0,N,N);var L=new Image,z=y.toDataURL();L.src=z;var ee=g0(N,N,0,0,L);return C.fillStyle="red",C.fillRect(0,0,N,N),v0(ee).then(function(me){C.drawImage(me,0,0);var he=C.getImageData(0,0,N,N).data;C.fillStyle="red",C.fillRect(0,0,N,N);var Ce=B.createElement("div");return Ce.style.backgroundImage="url("+z+")",Ce.style.height=N+"px",p0(he)?v0(g0(N,N,0,0,Ce)):Promise.reject(!1)}).then(function(me){return C.drawImage(me,0,0),p0(C.getImageData(0,0,N,N).data)}).catch(function(){return!1})},g0=function(B,y,N,C,L){var z="http://www.w3.org/2000/svg",ee=document.createElementNS(z,"svg"),me=document.createElementNS(z,"foreignObject");return ee.setAttributeNS(null,"width",B.toString()),ee.setAttributeNS(null,"height",y.toString()),me.setAttributeNS(null,"width","100%"),me.setAttributeNS(null,"height","100%"),me.setAttributeNS(null,"x",N.toString()),me.setAttributeNS(null,"y",C.toString()),me.setAttributeNS(null,"externalResourcesRequired","true"),ee.appendChild(me),me.appendChild(L),ee},v0=function(B){return new Promise(function(y,N){var C=new Image;C.onload=function(){return y(C)},C.onerror=N,C.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(B))})},ns={get SUPPORT_RANGE_BOUNDS(){var B=m0(document);return Object.defineProperty(ns,"SUPPORT_RANGE_BOUNDS",{value:B}),B},get SUPPORT_WORD_BREAKING(){var B=ns.SUPPORT_RANGE_BOUNDS&&el(document);return Object.defineProperty(ns,"SUPPORT_WORD_BREAKING",{value:B}),B},get SUPPORT_SVG_DRAWING(){var B=m1(document);return Object.defineProperty(ns,"SUPPORT_SVG_DRAWING",{value:B}),B},get SUPPORT_FOREIGNOBJECT_DRAWING(){var B=typeof Array.from=="function"&&typeof window.fetch=="function"?Zc(document):Promise.resolve(!1);return Object.defineProperty(ns,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:B}),B},get SUPPORT_CORS_IMAGES(){var B=pg();return Object.defineProperty(ns,"SUPPORT_CORS_IMAGES",{value:B}),B},get SUPPORT_RESPONSE_TYPE(){var B=gg();return Object.defineProperty(ns,"SUPPORT_RESPONSE_TYPE",{value:B}),B},get SUPPORT_CORS_XHR(){var B="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ns,"SUPPORT_CORS_XHR",{value:B}),B},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var B=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ns,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:B}),B}},eA=function(){function B(y,N){this.text=y,this.bounds=N}return B}(),p1=function(B,y,N,C){var L=tl(y,N),z=[],ee=0;return L.forEach(function(me){if(N.textDecorationLine.length||me.trim().length>0)if(ns.SUPPORT_RANGE_BOUNDS){var he=Zd(C,ee,me.length).getClientRects();if(he.length>1){var Ce=tA(me),Ne=0;Ce.forEach(function(Qe){z.push(new eA(Qe,c.fromDOMRectList(B,Zd(C,Ne+ee,Qe.length).getClientRects()))),Ne+=Qe.length})}else z.push(new eA(me,c.fromDOMRectList(B,he)))}else{var Fe=C.splitText(me.length);z.push(new eA(me,pu(B,C))),C=Fe}else ns.SUPPORT_RANGE_BOUNDS||(C=C.splitText(me.length));ee+=me.length}),z},pu=function(B,y){var N=y.ownerDocument;if(N){var C=N.createElement("html2canvaswrapper");C.appendChild(y.cloneNode(!0));var L=y.parentNode;if(L){L.replaceChild(C,y);var z=u(B,C);return C.firstChild&&L.replaceChild(C.firstChild,C),z}}return c.EMPTY},Zd=function(B,y,N){var C=B.ownerDocument;if(!C)throw new Error("Node has no owner document");var L=C.createRange();return L.setStart(B,y),L.setEnd(B,y+N),L},tA=function(B){if(ns.SUPPORT_NATIVE_TEXT_SEGMENTATION){var y=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(y.segment(B)).map(function(N){return N.segment})}return mg(B)},Bo=function(B,y){if(ns.SUPPORT_NATIVE_TEXT_SEGMENTATION){var N=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(N.segment(B)).map(function(C){return C.segment})}return ef(B,y)},tl=function(B,y){return y.letterSpacing!==0?tA(B):Bo(B,y)},rl=[32,160,4961,65792,65793,4153,4241],ef=function(B,y){for(var N=Kh(B,{lineBreak:y.lineBreak,wordBreak:y.overflowWrap==="break-word"?"break-word":y.wordBreak}),C=[],L,z=function(){if(L.value){var ee=L.value.slice(),me=d(ee),he="";me.forEach(function(Ce){rl.indexOf(Ce)===-1?he+=h(Ce):(he.length&&C.push(he),C.push(h(Ce)),he="")}),he.length&&C.push(he)}};!(L=N.next()).done;)z();return C},x0=function(){function B(y,N,C){this.text=vg(N.data,C.textTransform),this.textBounds=p1(y,this.text,C,N)}return B}(),vg=function(B,y){switch(y){case 1:return B.toLowerCase();case 3:return B.replace(g1,b0);case 2:return B.toUpperCase();default:return B}},g1=/(^|\s|:|-|\(|\))([a-z])/g,b0=function(B,y,N){return B.length>0?y+N.toUpperCase():B},tf=function(B){n(y,B);function y(N,C){var L=B.call(this,N,C)||this;return L.src=C.currentSrc||C.src,L.intrinsicWidth=C.naturalWidth,L.intrinsicHeight=C.naturalHeight,L.context.cache.addImage(L.src),L}return y}(Dt),m4=function(B){n(y,B);function y(N,C){var L=B.call(this,N,C)||this;return L.canvas=C,L.intrinsicWidth=C.width,L.intrinsicHeight=C.height,L}return y}(Dt),p4=function(B){n(y,B);function y(N,C){var L=B.call(this,N,C)||this,z=new XMLSerializer,ee=u(N,C);return C.setAttribute("width",ee.width+"px"),C.setAttribute("height",ee.height+"px"),L.svg="data:image/svg+xml,"+encodeURIComponent(z.serializeToString(C)),L.intrinsicWidth=C.width.baseVal.value,L.intrinsicHeight=C.height.baseVal.value,L.context.cache.addImage(L.svg),L}return y}(Dt),g4=function(B){n(y,B);function y(N,C){var L=B.call(this,N,C)||this;return L.value=C.value,L}return y}(Dt),v1=function(B){n(y,B);function y(N,C){var L=B.call(this,N,C)||this;return L.start=C.start,L.reversed=typeof C.reversed=="boolean"&&C.reversed===!0,L}return y}(Dt),LD=[{type:15,flags:0,unit:"px",number:3}],QD=[{type:16,flags:0,number:50}],DD=function(B){return B.width>B.height?new c(B.left+(B.width-B.height)/2,B.top,B.height,B.height):B.width<B.height?new c(B.left,B.top+(B.height-B.width)/2,B.width,B.width):B},RD=function(B){var y=B.type===MD?new Array(B.value.length+1).join(""):B.value;return y.length===0?B.placeholder||"":y},xg="checkbox",bg="radio",MD="password",v4=707406591,x1=function(B){n(y,B);function y(N,C){var L=B.call(this,N,C)||this;switch(L.type=C.type.toLowerCase(),L.checked=C.checked,L.value=RD(C),(L.type===xg||L.type===bg)&&(L.styles.backgroundColor=3739148031,L.styles.borderTopColor=L.styles.borderRightColor=L.styles.borderBottomColor=L.styles.borderLeftColor=2779096575,L.styles.borderTopWidth=L.styles.borderRightWidth=L.styles.borderBottomWidth=L.styles.borderLeftWidth=1,L.styles.borderTopStyle=L.styles.borderRightStyle=L.styles.borderBottomStyle=L.styles.borderLeftStyle=1,L.styles.backgroundClip=[0],L.styles.backgroundOrigin=[0],L.bounds=DD(L.bounds)),L.type){case xg:L.styles.borderTopRightRadius=L.styles.borderTopLeftRadius=L.styles.borderBottomRightRadius=L.styles.borderBottomLeftRadius=LD;break;case bg:L.styles.borderTopRightRadius=L.styles.borderTopLeftRadius=L.styles.borderBottomRightRadius=L.styles.borderBottomLeftRadius=QD;break}return L}return y}(Dt),x4=function(B){n(y,B);function y(N,C){var L=B.call(this,N,C)||this,z=C.options[C.selectedIndex||0];return L.value=z&&z.text||"",L}return y}(Dt),b4=function(B){n(y,B);function y(N,C){var L=B.call(this,N,C)||this;return L.value=C.value,L}return y}(Dt),y4=function(B){n(y,B);function y(N,C){var L=B.call(this,N,C)||this;L.src=C.src,L.width=parseInt(C.width,10)||0,L.height=parseInt(C.height,10)||0,L.backgroundColor=L.styles.backgroundColor;try{if(C.contentWindow&&C.contentWindow.document&&C.contentWindow.document.documentElement){L.tree=j4(N,C.contentWindow.document.documentElement);var z=C.contentWindow.document.documentElement?ui(N,getComputedStyle(C.contentWindow.document.documentElement).backgroundColor):ps.TRANSPARENT,ee=C.contentWindow.document.body?ui(N,getComputedStyle(C.contentWindow.document.body).backgroundColor):ps.TRANSPARENT;L.backgroundColor=es(z)?es(ee)?L.styles.backgroundColor:ee:z}}catch{}return L}return y}(Dt),HD=["OL","UL","MENU"],yg=function(B,y,N,C){for(var L=y.firstChild,z=void 0;L;L=z)if(z=L.nextSibling,B4(L)&&L.data.trim().length>0)N.textNodes.push(new x0(B,L,N.styles));else if(rf(L))if(E4(L)&&L.assignedNodes)L.assignedNodes().forEach(function(me){return yg(B,me,N,C)});else{var ee=w4(B,L);ee.styles.isVisible()&&($D(L,ee,C)?ee.flags|=4:KD(ee.styles)&&(ee.flags|=2),HD.indexOf(L.tagName)!==-1&&(ee.flags|=8),N.elements.push(ee),L.slot,L.shadowRoot?yg(B,L.shadowRoot,ee,C):!jg(L)&&!C4(L)&&!Bg(L)&&yg(B,L,ee,C))}},w4=function(B,y){return w1(y)?new tf(B,y):N4(y)?new m4(B,y):C4(y)?new p4(B,y):zD(y)?new g4(B,y):VD(y)?new v1(B,y):GD(y)?new x1(B,y):Bg(y)?new x4(B,y):jg(y)?new b4(B,y):S4(y)?new y4(B,y):new Dt(B,y)},j4=function(B,y){var N=w4(B,y);return N.flags|=4,yg(B,y,N,N),N},$D=function(B,y,N){return y.styles.isPositionedWithZIndex()||y.styles.opacity<1||y.styles.isTransformed()||y1(B)&&N.styles.isTransparent()},KD=function(B){return B.isPositioned()||B.isFloating()},B4=function(B){return B.nodeType===Node.TEXT_NODE},rf=function(B){return B.nodeType===Node.ELEMENT_NODE},b1=function(B){return rf(B)&&typeof B.style<"u"&&!wg(B)},wg=function(B){return typeof B.className=="object"},zD=function(B){return B.tagName==="LI"},VD=function(B){return B.tagName==="OL"},GD=function(B){return B.tagName==="INPUT"},WD=function(B){return B.tagName==="HTML"},C4=function(B){return B.tagName==="svg"},y1=function(B){return B.tagName==="BODY"},N4=function(B){return B.tagName==="CANVAS"},k4=function(B){return B.tagName==="VIDEO"},w1=function(B){return B.tagName==="IMG"},S4=function(B){return B.tagName==="IFRAME"},_4=function(B){return B.tagName==="STYLE"},YD=function(B){return B.tagName==="SCRIPT"},jg=function(B){return B.tagName==="TEXTAREA"},Bg=function(B){return B.tagName==="SELECT"},E4=function(B){return B.tagName==="SLOT"},F4=function(B){return B.tagName.indexOf("-")>0},JD=function(){function B(){this.counters={}}return B.prototype.getCounterValue=function(y){var N=this.counters[y];return N&&N.length?N[N.length-1]:1},B.prototype.getCounterValues=function(y){var N=this.counters[y];return N||[]},B.prototype.pop=function(y){var N=this;y.forEach(function(C){return N.counters[C].pop()})},B.prototype.parse=function(y){var N=this,C=y.counterIncrement,L=y.counterReset,z=!0;C!==null&&C.forEach(function(me){var he=N.counters[me.counter];he&&me.increment!==0&&(z=!1,he.length||he.push(1),he[Math.max(0,he.length-1)]+=me.increment)});var ee=[];return z&&L.forEach(function(me){var he=N.counters[me.counter];ee.push(me.counter),he||(he=N.counters[me.counter]=[]),he.push(me.reset)}),ee},B}(),I4={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},U4={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},XD={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qD={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},nf=function(B,y,N,C,L,z){return B<y||B>N?w0(B,L,z.length>0):C.integers.reduce(function(ee,me,he){for(;B>=me;)B-=me,ee+=C.values[he];return ee},"")+z},P4=function(B,y,N,C){var L="";do N||B--,L=C(B)+L,B/=y;while(B*y>=y);return L},Dn=function(B,y,N,C,L){var z=N-y+1;return(B<0?"-":"")+(P4(Math.abs(B),z,C,function(ee){return h(Math.floor(ee%z)+y)})+L)},gu=function(B,y,N){N===void 0&&(N=". ");var C=y.length;return P4(Math.abs(B),C,!1,function(L){return y[Math.floor(L%C)]})+N},sf=1,rA=2,nA=4,y0=8,Kl=function(B,y,N,C,L,z){if(B<-9999||B>9999)return w0(B,4,L.length>0);var ee=Math.abs(B),me=L;if(ee===0)return y[0]+me;for(var he=0;ee>0&&he<=4;he++){var Ce=ee%10;Ce===0&&je(z,sf)&&me!==""?me=y[Ce]+me:Ce>1||Ce===1&&he===0||Ce===1&&he===1&&je(z,rA)||Ce===1&&he===1&&je(z,nA)&&B>100||Ce===1&&he>1&&je(z,y0)?me=y[Ce]+(he>0?N[he-1]:"")+me:Ce===1&&he>0&&(me=N[he-1]+me),ee=Math.floor(ee/10)}return(B<0?C:"")+me},T4="",O4="",L4="",j1="",w0=function(B,y,N){var C=N?". ":"",L=N?"":"",z=N?", ":"",ee=N?" ":"";switch(y){case 0:return""+ee;case 1:return""+ee;case 2:return""+ee;case 5:var me=Dn(B,48,57,!0,C);return me.length<4?"0"+me:me;case 4:return gu(B,"",L);case 6:return nf(B,1,3999,I4,3,C).toLowerCase();case 7:return nf(B,1,3999,I4,3,C);case 8:return Dn(B,945,969,!1,C);case 9:return Dn(B,97,122,!1,C);case 10:return Dn(B,65,90,!1,C);case 11:return Dn(B,1632,1641,!0,C);case 12:case 49:return nf(B,1,9999,U4,3,C);case 35:return nf(B,1,9999,U4,3,C).toLowerCase();case 13:return Dn(B,2534,2543,!0,C);case 14:case 30:return Dn(B,6112,6121,!0,C);case 15:return gu(B,"",L);case 16:return gu(B,"",L);case 17:case 48:return Kl(B,"",T4,"",L,rA|nA|y0);case 47:return Kl(B,"",O4,"",L,sf|rA|nA|y0);case 42:return Kl(B,"",T4,"",L,rA|nA|y0);case 41:return Kl(B,"",O4,"",L,sf|rA|nA|y0);case 26:return Kl(B,"","",L4,L,0);case 25:return Kl(B,"","",L4,L,sf|rA|nA);case 31:return Kl(B,"","",j1,z,sf|rA|nA);case 33:return Kl(B,"","",j1,z,0);case 32:return Kl(B,"","",j1,z,sf|rA|nA);case 18:return Dn(B,2406,2415,!0,C);case 20:return nf(B,1,19999,qD,3,C);case 21:return Dn(B,2790,2799,!0,C);case 22:return Dn(B,2662,2671,!0,C);case 22:return nf(B,1,10999,XD,3,C);case 23:return gu(B,"");case 24:return gu(B,"");case 27:return Dn(B,3302,3311,!0,C);case 28:return gu(B,"",L);case 29:return gu(B,"",L);case 34:return Dn(B,3792,3801,!0,C);case 37:return Dn(B,6160,6169,!0,C);case 38:return Dn(B,4160,4169,!0,C);case 39:return Dn(B,2918,2927,!0,C);case 40:return Dn(B,1776,1785,!0,C);case 43:return Dn(B,3046,3055,!0,C);case 44:return Dn(B,3174,3183,!0,C);case 45:return Dn(B,3664,3673,!0,C);case 46:return Dn(B,3872,3881,!0,C);case 3:default:return Dn(B,48,57,!0,C)}},Q4="data-html2canvas-ignore",D4=function(){function B(y,N,C){if(this.context=y,this.options=C,this.scrolledElements=[],this.referenceElement=N,this.counters=new JD,this.quoteDepth=0,!N.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(N.ownerDocument.documentElement,!1)}return B.prototype.toIFrame=function(y,N){var C=this,L=ZD(y,N);if(!L.contentWindow)return Promise.reject("Unable to find iframe window");var z=y.defaultView.pageXOffset,ee=y.defaultView.pageYOffset,me=L.contentWindow,he=me.document,Ce=rR(L).then(function(){return a(C,void 0,void 0,function(){var Ne,Fe;return l(this,function(Qe){switch(Qe.label){case 0:return this.scrolledElements.forEach(iR),me&&(me.scrollTo(N.left,N.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(me.scrollY!==N.top||me.scrollX!==N.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(me.scrollX-N.left,me.scrollY-N.top,0,0))),Ne=this.options.onclone,Fe=this.clonedReferenceElement,typeof Fe>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:he.fonts&&he.fonts.ready?[4,he.fonts.ready]:[3,2];case 1:Qe.sent(),Qe.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,tR(he)]:[3,4];case 3:Qe.sent(),Qe.label=4;case 4:return typeof Ne=="function"?[2,Promise.resolve().then(function(){return Ne(he,Fe)}).then(function(){return L})]:[2,L]}})})});return he.open(),he.write(sR(document.doctype)+"<html></html>"),aR(this.referenceElement.ownerDocument,z,ee),he.replaceChild(he.adoptNode(this.documentElement),he.documentElement),he.close(),Ce},B.prototype.createElementClone=function(y){if(Jr(y,2))debugger;if(N4(y))return this.createCanvasClone(y);if(k4(y))return this.createVideoClone(y);if(_4(y))return this.createStyleClone(y);var N=y.cloneNode(!1);return w1(N)&&(w1(y)&&y.currentSrc&&y.currentSrc!==y.src&&(N.src=y.currentSrc,N.srcset=""),N.loading==="lazy"&&(N.loading="eager")),F4(N)?this.createCustomElementClone(N):N},B.prototype.createCustomElementClone=function(y){var N=document.createElement("html2canvascustomelement");return B1(y.style,N),N},B.prototype.createStyleClone=function(y){try{var N=y.sheet;if(N&&N.cssRules){var C=[].slice.call(N.cssRules,0).reduce(function(z,ee){return ee&&typeof ee.cssText=="string"?z+ee.cssText:z},""),L=y.cloneNode(!1);return L.textContent=C,L}}catch(z){if(this.context.logger.error("Unable to access cssRules property",z),z.name!=="SecurityError")throw z}return y.cloneNode(!1)},B.prototype.createCanvasClone=function(y){var N;if(this.options.inlineImages&&y.ownerDocument){var C=y.ownerDocument.createElement("img");try{return C.src=y.toDataURL(),C}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",y)}}var L=y.cloneNode(!1);try{L.width=y.width,L.height=y.height;var z=y.getContext("2d"),ee=L.getContext("2d");if(ee)if(!this.options.allowTaint&&z)ee.putImageData(z.getImageData(0,0,y.width,y.height),0,0);else{var me=(N=y.getContext("webgl2"))!==null&&N!==void 0?N:y.getContext("webgl");if(me){var he=me.getContextAttributes();(he==null?void 0:he.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",y)}ee.drawImage(y,0,0)}return L}catch{this.context.logger.info("Unable to clone canvas as it is tainted",y)}return L},B.prototype.createVideoClone=function(y){var N=y.ownerDocument.createElement("canvas");N.width=y.offsetWidth,N.height=y.offsetHeight;var C=N.getContext("2d");try{return C&&(C.drawImage(y,0,0,N.width,N.height),this.options.allowTaint||C.getImageData(0,0,N.width,N.height)),N}catch{this.context.logger.info("Unable to clone video as it is tainted",y)}var L=y.ownerDocument.createElement("canvas");return L.width=y.offsetWidth,L.height=y.offsetHeight,L},B.prototype.appendChildNode=function(y,N,C){(!rf(N)||!YD(N)&&!N.hasAttribute(Q4)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(N)))&&(!this.options.copyStyles||!rf(N)||!_4(N))&&y.appendChild(this.cloneNode(N,C))},B.prototype.cloneChildNodes=function(y,N,C){for(var L=this,z=y.shadowRoot?y.shadowRoot.firstChild:y.firstChild;z;z=z.nextSibling)if(rf(z)&&E4(z)&&typeof z.assignedNodes=="function"){var ee=z.assignedNodes();ee.length&&ee.forEach(function(me){return L.appendChildNode(N,me,C)})}else this.appendChildNode(N,z,C)},B.prototype.cloneNode=function(y,N){if(B4(y))return document.createTextNode(y.data);if(!y.ownerDocument)return y.cloneNode(!1);var C=y.ownerDocument.defaultView;if(C&&rf(y)&&(b1(y)||wg(y))){var L=this.createElementClone(y);L.style.transitionProperty="none";var z=C.getComputedStyle(y),ee=C.getComputedStyle(y,":before"),me=C.getComputedStyle(y,":after");this.referenceElement===y&&b1(L)&&(this.clonedReferenceElement=L),y1(L)&&cR(L);var he=this.counters.parse(new Un(this.context,z)),Ce=this.resolvePseudoContent(y,L,ee,j0.BEFORE);F4(y)&&(N=!0),k4(y)||this.cloneChildNodes(y,L,N),Ce&&L.insertBefore(Ce,L.firstChild);var Ne=this.resolvePseudoContent(y,L,me,j0.AFTER);return Ne&&L.appendChild(Ne),this.counters.pop(he),(z&&(this.options.copyStyles||wg(y))&&!S4(y)||N)&&B1(z,L),(y.scrollTop!==0||y.scrollLeft!==0)&&this.scrolledElements.push([L,y.scrollLeft,y.scrollTop]),(jg(y)||Bg(y))&&(jg(L)||Bg(L))&&(L.value=y.value),L}return y.cloneNode(!1)},B.prototype.resolvePseudoContent=function(y,N,C,L){var z=this;if(C){var ee=C.content,me=N.ownerDocument;if(!(!me||!ee||ee==="none"||ee==="-moz-alt-content"||C.display==="none")){this.counters.parse(new Un(this.context,C));var he=new rr(this.context,C),Ce=me.createElement("html2canvaspseudoelement");B1(C,Ce),he.content.forEach(function(Fe){if(Fe.type===0)Ce.appendChild(me.createTextNode(Fe.value));else if(Fe.type===22){var Qe=me.createElement("img");Qe.src=Fe.value,Qe.style.opacity="1",Ce.appendChild(Qe)}else if(Fe.type===18){if(Fe.name==="attr"){var mt=Fe.values.filter(lr);mt.length&&Ce.appendChild(me.createTextNode(y.getAttribute(mt[0].value)||""))}else if(Fe.name==="counter"){var Ze=Fe.values.filter(Fr),ct=Ze[0],Zt=Ze[1];if(ct&&lr(ct)){var Et=z.counters.getCounterValue(ct.value),jt=Zt&&lr(Zt)?d0.parse(z.context,Zt.value):3;Ce.appendChild(me.createTextNode(w0(Et,jt,!1)))}}else if(Fe.name==="counters"){var br=Fe.values.filter(Fr),ct=br[0],tr=br[1],Zt=br[2];if(ct&&lr(ct)){var zt=z.counters.getCounterValues(ct.value),ht=Zt&&lr(Zt)?d0.parse(z.context,Zt.value):3,ur=tr&&tr.type===0?tr.value:"",dr=zt.map(function(Ra){return w0(Ra,ht,!1)}).join(ur);Ce.appendChild(me.createTextNode(dr))}}}else if(Fe.type===20)switch(Fe.value){case"open-quote":Ce.appendChild(me.createTextNode(We(he.quotes,z.quoteDepth++,!0)));break;case"close-quote":Ce.appendChild(me.createTextNode(We(he.quotes,--z.quoteDepth,!1)));break;default:Ce.appendChild(me.createTextNode(Fe.value))}}),Ce.className=C1+" "+N1;var Ne=L===j0.BEFORE?" "+C1:" "+N1;return wg(N)?N.className.baseValue+=Ne:N.className+=Ne,Ce}}},B.destroy=function(y){return y.parentNode?(y.parentNode.removeChild(y),!0):!1},B}(),j0;(function(B){B[B.BEFORE=0]="BEFORE",B[B.AFTER=1]="AFTER"})(j0||(j0={}));var ZD=function(B,y){var N=B.createElement("iframe");return N.className="html2canvas-container",N.style.visibility="hidden",N.style.position="fixed",N.style.left="-10000px",N.style.top="0px",N.style.border="0",N.width=y.width.toString(),N.height=y.height.toString(),N.scrolling="no",N.setAttribute(Q4,"true"),B.body.appendChild(N),N},eR=function(B){return new Promise(function(y){if(B.complete){y();return}if(!B.src){y();return}B.onload=y,B.onerror=y})},tR=function(B){return Promise.all([].slice.call(B.images,0).map(eR))},rR=function(B){return new Promise(function(y,N){var C=B.contentWindow;if(!C)return N("No window assigned for iframe");var L=C.document;C.onload=B.onload=function(){C.onload=B.onload=null;var z=setInterval(function(){L.body.childNodes.length>0&&L.readyState==="complete"&&(clearInterval(z),y(B))},50)}})},nR=["all","d","content"],B1=function(B,y){for(var N=B.length-1;N>=0;N--){var C=B.item(N);nR.indexOf(C)===-1&&y.style.setProperty(C,B.getPropertyValue(C))}return y},sR=function(B){var y="";return B&&(y+="<!DOCTYPE ",B.name&&(y+=B.name),B.internalSubset&&(y+=B.internalSubset),B.publicId&&(y+='"'+B.publicId+'"'),B.systemId&&(y+='"'+B.systemId+'"'),y+=">"),y},aR=function(B,y,N){B&&B.defaultView&&(y!==B.defaultView.pageXOffset||N!==B.defaultView.pageYOffset)&&B.defaultView.scrollTo(y,N)},iR=function(B){var y=B[0],N=B[1],C=B[2];y.scrollLeft=N,y.scrollTop=C},oR=":before",lR=":after",C1="___html2canvas___pseudoelement_before",N1="___html2canvas___pseudoelement_after",R4=`{
    content: "" !important;
    display: none !important;
}`,cR=function(B){AR(B,"."+C1+oR+R4+`
         .`+N1+lR+R4)},AR=function(B,y){var N=B.ownerDocument;if(N){var C=N.createElement("style");C.textContent=y,B.appendChild(C)}},M4=function(){function B(){}return B.getOrigin=function(y){var N=B._link;return N?(N.href=y,N.href=N.href,N.protocol+N.hostname+N.port):"about:blank"},B.isSameOrigin=function(y){return B.getOrigin(y)===B._origin},B.setContext=function(y){B._link=y.document.createElement("a"),B._origin=B.getOrigin(y.location.href)},B._origin="about:blank",B}(),uR=function(){function B(y,N){this.context=y,this._options=N,this._cache={}}return B.prototype.addImage=function(y){var N=Promise.resolve();return this.has(y)||(S1(y)||mR(y))&&(this._cache[y]=this.loadImage(y)).catch(function(){}),N},B.prototype.match=function(y){return this._cache[y]},B.prototype.loadImage=function(y){return a(this,void 0,void 0,function(){var N,C,L,z,ee=this;return l(this,function(me){switch(me.label){case 0:return N=M4.isSameOrigin(y),C=!k1(y)&&this._options.useCORS===!0&&ns.SUPPORT_CORS_IMAGES&&!N,L=!k1(y)&&!N&&!S1(y)&&typeof this._options.proxy=="string"&&ns.SUPPORT_CORS_XHR&&!C,!N&&this._options.allowTaint===!1&&!k1(y)&&!S1(y)&&!L&&!C?[2]:(z=y,L?[4,this.proxy(z)]:[3,2]);case 1:z=me.sent(),me.label=2;case 2:return this.context.logger.debug("Added image "+y.substring(0,256)),[4,new Promise(function(he,Ce){var Ne=new Image;Ne.onload=function(){return he(Ne)},Ne.onerror=Ce,(pR(z)||C)&&(Ne.crossOrigin="anonymous"),Ne.src=z,Ne.complete===!0&&setTimeout(function(){return he(Ne)},500),ee._options.imageTimeout>0&&setTimeout(function(){return Ce("Timed out ("+ee._options.imageTimeout+"ms) loading image")},ee._options.imageTimeout)})];case 3:return[2,me.sent()]}})})},B.prototype.has=function(y){return typeof this._cache[y]<"u"},B.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},B.prototype.proxy=function(y){var N=this,C=this._options.proxy;if(!C)throw new Error("No proxy defined");var L=y.substring(0,256);return new Promise(function(z,ee){var me=ns.SUPPORT_RESPONSE_TYPE?"blob":"text",he=new XMLHttpRequest;he.onload=function(){if(he.status===200)if(me==="text")z(he.response);else{var Fe=new FileReader;Fe.addEventListener("load",function(){return z(Fe.result)},!1),Fe.addEventListener("error",function(Qe){return ee(Qe)},!1),Fe.readAsDataURL(he.response)}else ee("Failed to proxy resource "+L+" with status code "+he.status)},he.onerror=ee;var Ce=C.indexOf("?")>-1?"&":"?";if(he.open("GET",""+C+Ce+"url="+encodeURIComponent(y)+"&responseType="+me),me!=="text"&&he instanceof XMLHttpRequest&&(he.responseType=me),N._options.imageTimeout){var Ne=N._options.imageTimeout;he.timeout=Ne,he.ontimeout=function(){return ee("Timed out ("+Ne+"ms) proxying "+L)}}he.send()})},B}(),dR=/^data:image\/svg\+xml/i,fR=/^data:image\/.*;base64,/i,hR=/^data:image\/.*/i,mR=function(B){return ns.SUPPORT_SVG_DRAWING||!gR(B)},k1=function(B){return hR.test(B)},pR=function(B){return fR.test(B)},S1=function(B){return B.substr(0,4)==="blob"},gR=function(B){return B.substr(-3).toLowerCase()==="svg"||dR.test(B)},dt=function(){function B(y,N){this.type=0,this.x=y,this.y=N}return B.prototype.add=function(y,N){return new B(this.x+y,this.y+N)},B}(),af=function(B,y,N){return new dt(B.x+(y.x-B.x)*N,B.y+(y.y-B.y)*N)},Cg=function(){function B(y,N,C,L){this.type=1,this.start=y,this.startControl=N,this.endControl=C,this.end=L}return B.prototype.subdivide=function(y,N){var C=af(this.start,this.startControl,y),L=af(this.startControl,this.endControl,y),z=af(this.endControl,this.end,y),ee=af(C,L,y),me=af(L,z,y),he=af(ee,me,y);return N?new B(this.start,C,ee,he):new B(he,me,z,this.end)},B.prototype.add=function(y,N){return new B(this.start.add(y,N),this.startControl.add(y,N),this.endControl.add(y,N),this.end.add(y,N))},B.prototype.reverse=function(){return new B(this.end,this.endControl,this.startControl,this.start)},B}(),Ki=function(B){return B.type===1},vR=function(){function B(y){var N=y.styles,C=y.bounds,L=Ai(N.borderTopLeftRadius,C.width,C.height),z=L[0],ee=L[1],me=Ai(N.borderTopRightRadius,C.width,C.height),he=me[0],Ce=me[1],Ne=Ai(N.borderBottomRightRadius,C.width,C.height),Fe=Ne[0],Qe=Ne[1],mt=Ai(N.borderBottomLeftRadius,C.width,C.height),Ze=mt[0],ct=mt[1],Zt=[];Zt.push((z+he)/C.width),Zt.push((Ze+Fe)/C.width),Zt.push((ee+ct)/C.height),Zt.push((Ce+Qe)/C.height);var Et=Math.max.apply(Math,Zt);Et>1&&(z/=Et,ee/=Et,he/=Et,Ce/=Et,Fe/=Et,Qe/=Et,Ze/=Et,ct/=Et);var jt=C.width-he,br=C.height-Qe,tr=C.width-Fe,zt=C.height-ct,ht=N.borderTopWidth,ur=N.borderRightWidth,dr=N.borderBottomWidth,Wt=N.borderLeftWidth,Wn=er(N.paddingTop,y.bounds.width),Ra=er(N.paddingRight,y.bounds.width),fi=er(N.paddingBottom,y.bounds.width),Mr=er(N.paddingLeft,y.bounds.width);this.topLeftBorderDoubleOuterBox=z>0||ee>0?an(C.left+Wt/3,C.top+ht/3,z-Wt/3,ee-ht/3,kr.TOP_LEFT):new dt(C.left+Wt/3,C.top+ht/3),this.topRightBorderDoubleOuterBox=z>0||ee>0?an(C.left+jt,C.top+ht/3,he-ur/3,Ce-ht/3,kr.TOP_RIGHT):new dt(C.left+C.width-ur/3,C.top+ht/3),this.bottomRightBorderDoubleOuterBox=Fe>0||Qe>0?an(C.left+tr,C.top+br,Fe-ur/3,Qe-dr/3,kr.BOTTOM_RIGHT):new dt(C.left+C.width-ur/3,C.top+C.height-dr/3),this.bottomLeftBorderDoubleOuterBox=Ze>0||ct>0?an(C.left+Wt/3,C.top+zt,Ze-Wt/3,ct-dr/3,kr.BOTTOM_LEFT):new dt(C.left+Wt/3,C.top+C.height-dr/3),this.topLeftBorderDoubleInnerBox=z>0||ee>0?an(C.left+Wt*2/3,C.top+ht*2/3,z-Wt*2/3,ee-ht*2/3,kr.TOP_LEFT):new dt(C.left+Wt*2/3,C.top+ht*2/3),this.topRightBorderDoubleInnerBox=z>0||ee>0?an(C.left+jt,C.top+ht*2/3,he-ur*2/3,Ce-ht*2/3,kr.TOP_RIGHT):new dt(C.left+C.width-ur*2/3,C.top+ht*2/3),this.bottomRightBorderDoubleInnerBox=Fe>0||Qe>0?an(C.left+tr,C.top+br,Fe-ur*2/3,Qe-dr*2/3,kr.BOTTOM_RIGHT):new dt(C.left+C.width-ur*2/3,C.top+C.height-dr*2/3),this.bottomLeftBorderDoubleInnerBox=Ze>0||ct>0?an(C.left+Wt*2/3,C.top+zt,Ze-Wt*2/3,ct-dr*2/3,kr.BOTTOM_LEFT):new dt(C.left+Wt*2/3,C.top+C.height-dr*2/3),this.topLeftBorderStroke=z>0||ee>0?an(C.left+Wt/2,C.top+ht/2,z-Wt/2,ee-ht/2,kr.TOP_LEFT):new dt(C.left+Wt/2,C.top+ht/2),this.topRightBorderStroke=z>0||ee>0?an(C.left+jt,C.top+ht/2,he-ur/2,Ce-ht/2,kr.TOP_RIGHT):new dt(C.left+C.width-ur/2,C.top+ht/2),this.bottomRightBorderStroke=Fe>0||Qe>0?an(C.left+tr,C.top+br,Fe-ur/2,Qe-dr/2,kr.BOTTOM_RIGHT):new dt(C.left+C.width-ur/2,C.top+C.height-dr/2),this.bottomLeftBorderStroke=Ze>0||ct>0?an(C.left+Wt/2,C.top+zt,Ze-Wt/2,ct-dr/2,kr.BOTTOM_LEFT):new dt(C.left+Wt/2,C.top+C.height-dr/2),this.topLeftBorderBox=z>0||ee>0?an(C.left,C.top,z,ee,kr.TOP_LEFT):new dt(C.left,C.top),this.topRightBorderBox=he>0||Ce>0?an(C.left+jt,C.top,he,Ce,kr.TOP_RIGHT):new dt(C.left+C.width,C.top),this.bottomRightBorderBox=Fe>0||Qe>0?an(C.left+tr,C.top+br,Fe,Qe,kr.BOTTOM_RIGHT):new dt(C.left+C.width,C.top+C.height),this.bottomLeftBorderBox=Ze>0||ct>0?an(C.left,C.top+zt,Ze,ct,kr.BOTTOM_LEFT):new dt(C.left,C.top+C.height),this.topLeftPaddingBox=z>0||ee>0?an(C.left+Wt,C.top+ht,Math.max(0,z-Wt),Math.max(0,ee-ht),kr.TOP_LEFT):new dt(C.left+Wt,C.top+ht),this.topRightPaddingBox=he>0||Ce>0?an(C.left+Math.min(jt,C.width-ur),C.top+ht,jt>C.width+ur?0:Math.max(0,he-ur),Math.max(0,Ce-ht),kr.TOP_RIGHT):new dt(C.left+C.width-ur,C.top+ht),this.bottomRightPaddingBox=Fe>0||Qe>0?an(C.left+Math.min(tr,C.width-Wt),C.top+Math.min(br,C.height-dr),Math.max(0,Fe-ur),Math.max(0,Qe-dr),kr.BOTTOM_RIGHT):new dt(C.left+C.width-ur,C.top+C.height-dr),this.bottomLeftPaddingBox=Ze>0||ct>0?an(C.left+Wt,C.top+Math.min(zt,C.height-dr),Math.max(0,Ze-Wt),Math.max(0,ct-dr),kr.BOTTOM_LEFT):new dt(C.left+Wt,C.top+C.height-dr),this.topLeftContentBox=z>0||ee>0?an(C.left+Wt+Mr,C.top+ht+Wn,Math.max(0,z-(Wt+Mr)),Math.max(0,ee-(ht+Wn)),kr.TOP_LEFT):new dt(C.left+Wt+Mr,C.top+ht+Wn),this.topRightContentBox=he>0||Ce>0?an(C.left+Math.min(jt,C.width+Wt+Mr),C.top+ht+Wn,jt>C.width+Wt+Mr?0:he-Wt+Mr,Ce-(ht+Wn),kr.TOP_RIGHT):new dt(C.left+C.width-(ur+Ra),C.top+ht+Wn),this.bottomRightContentBox=Fe>0||Qe>0?an(C.left+Math.min(tr,C.width-(Wt+Mr)),C.top+Math.min(br,C.height+ht+Wn),Math.max(0,Fe-(ur+Ra)),Qe-(dr+fi),kr.BOTTOM_RIGHT):new dt(C.left+C.width-(ur+Ra),C.top+C.height-(dr+fi)),this.bottomLeftContentBox=Ze>0||ct>0?an(C.left+Wt+Mr,C.top+zt,Math.max(0,Ze-(Wt+Mr)),ct-(dr+fi),kr.BOTTOM_LEFT):new dt(C.left+Wt+Mr,C.top+C.height-(dr+fi))}return B}(),kr;(function(B){B[B.TOP_LEFT=0]="TOP_LEFT",B[B.TOP_RIGHT=1]="TOP_RIGHT",B[B.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",B[B.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(kr||(kr={}));var an=function(B,y,N,C,L){var z=4*((Math.sqrt(2)-1)/3),ee=N*z,me=C*z,he=B+N,Ce=y+C;switch(L){case kr.TOP_LEFT:return new Cg(new dt(B,Ce),new dt(B,Ce-me),new dt(he-ee,y),new dt(he,y));case kr.TOP_RIGHT:return new Cg(new dt(B,y),new dt(B+ee,y),new dt(he,Ce-me),new dt(he,Ce));case kr.BOTTOM_RIGHT:return new Cg(new dt(he,y),new dt(he,y+me),new dt(B+ee,Ce),new dt(B,Ce));case kr.BOTTOM_LEFT:default:return new Cg(new dt(he,Ce),new dt(he-ee,Ce),new dt(B,y+me),new dt(B,y))}},Ng=function(B){return[B.topLeftBorderBox,B.topRightBorderBox,B.bottomRightBorderBox,B.bottomLeftBorderBox]},xR=function(B){return[B.topLeftContentBox,B.topRightContentBox,B.bottomRightContentBox,B.bottomLeftContentBox]},kg=function(B){return[B.topLeftPaddingBox,B.topRightPaddingBox,B.bottomRightPaddingBox,B.bottomLeftPaddingBox]},bR=function(){function B(y,N,C){this.offsetX=y,this.offsetY=N,this.matrix=C,this.type=0,this.target=6}return B}(),Sg=function(){function B(y,N){this.path=y,this.target=N,this.type=1}return B}(),yR=function(){function B(y){this.opacity=y,this.type=2,this.target=6}return B}(),wR=function(B){return B.type===0},H4=function(B){return B.type===1},jR=function(B){return B.type===2},$4=function(B,y){return B.length===y.length?B.some(function(N,C){return N===y[C]}):!1},BR=function(B,y,N,C,L){return B.map(function(z,ee){switch(ee){case 0:return z.add(y,N);case 1:return z.add(y+C,N);case 2:return z.add(y+C,N+L);case 3:return z.add(y,N+L)}return z})},K4=function(){function B(y){this.element=y,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return B}(),z4=function(){function B(y,N){if(this.container=y,this.parent=N,this.effects=[],this.curves=new vR(this.container),this.container.styles.opacity<1&&this.effects.push(new yR(this.container.styles.opacity)),this.container.styles.transform!==null){var C=this.container.bounds.left+this.container.styles.transformOrigin[0].number,L=this.container.bounds.top+this.container.styles.transformOrigin[1].number,z=this.container.styles.transform;this.effects.push(new bR(C,L,z))}if(this.container.styles.overflowX!==0){var ee=Ng(this.curves),me=kg(this.curves);$4(ee,me)?this.effects.push(new Sg(ee,6)):(this.effects.push(new Sg(ee,2)),this.effects.push(new Sg(me,4)))}}return B.prototype.getEffects=function(y){for(var N=[2,3].indexOf(this.container.styles.position)===-1,C=this.parent,L=this.effects.slice(0);C;){var z=C.effects.filter(function(he){return!H4(he)});if(N||C.container.styles.position!==0||!C.parent){if(L.unshift.apply(L,z),N=[2,3].indexOf(C.container.styles.position)===-1,C.container.styles.overflowX!==0){var ee=Ng(C.curves),me=kg(C.curves);$4(ee,me)||L.unshift(new Sg(me,6))}}else L.unshift.apply(L,z);C=C.parent}return L.filter(function(he){return je(he.target,y)})},B}(),_1=function(B,y,N,C){B.container.elements.forEach(function(L){var z=je(L.flags,4),ee=je(L.flags,2),me=new z4(L,B);je(L.styles.display,2048)&&C.push(me);var he=je(L.flags,8)?[]:C;if(z||ee){var Ce=z||L.styles.isPositioned()?N:y,Ne=new K4(me);if(L.styles.isPositioned()||L.styles.opacity<1||L.styles.isTransformed()){var Fe=L.styles.zIndex.order;if(Fe<0){var Qe=0;Ce.negativeZIndex.some(function(Ze,ct){return Fe>Ze.element.container.styles.zIndex.order?(Qe=ct,!1):Qe>0}),Ce.negativeZIndex.splice(Qe,0,Ne)}else if(Fe>0){var mt=0;Ce.positiveZIndex.some(function(Ze,ct){return Fe>=Ze.element.container.styles.zIndex.order?(mt=ct+1,!1):mt>0}),Ce.positiveZIndex.splice(mt,0,Ne)}else Ce.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ne)}else L.styles.isFloating()?Ce.nonPositionedFloats.push(Ne):Ce.nonPositionedInlineLevel.push(Ne);_1(me,Ne,z?Ne:N,he)}else L.styles.isInlineLevel()?y.inlineLevel.push(me):y.nonInlineLevel.push(me),_1(me,y,N,he);je(L.flags,8)&&V4(L,he)})},V4=function(B,y){for(var N=B instanceof v1?B.start:1,C=B instanceof v1?B.reversed:!1,L=0;L<y.length;L++){var z=y[L];z.container instanceof g4&&typeof z.container.value=="number"&&z.container.value!==0&&(N=z.container.value),z.listValue=w0(N,z.container.styles.listStyleType,!0),N+=C?-1:1}},CR=function(B){var y=new z4(B,null),N=new K4(y),C=[];return _1(y,N,N,C),V4(y.container,C),N},G4=function(B,y){switch(y){case 0:return zi(B.topLeftBorderBox,B.topLeftPaddingBox,B.topRightBorderBox,B.topRightPaddingBox);case 1:return zi(B.topRightBorderBox,B.topRightPaddingBox,B.bottomRightBorderBox,B.bottomRightPaddingBox);case 2:return zi(B.bottomRightBorderBox,B.bottomRightPaddingBox,B.bottomLeftBorderBox,B.bottomLeftPaddingBox);case 3:default:return zi(B.bottomLeftBorderBox,B.bottomLeftPaddingBox,B.topLeftBorderBox,B.topLeftPaddingBox)}},NR=function(B,y){switch(y){case 0:return zi(B.topLeftBorderBox,B.topLeftBorderDoubleOuterBox,B.topRightBorderBox,B.topRightBorderDoubleOuterBox);case 1:return zi(B.topRightBorderBox,B.topRightBorderDoubleOuterBox,B.bottomRightBorderBox,B.bottomRightBorderDoubleOuterBox);case 2:return zi(B.bottomRightBorderBox,B.bottomRightBorderDoubleOuterBox,B.bottomLeftBorderBox,B.bottomLeftBorderDoubleOuterBox);case 3:default:return zi(B.bottomLeftBorderBox,B.bottomLeftBorderDoubleOuterBox,B.topLeftBorderBox,B.topLeftBorderDoubleOuterBox)}},kR=function(B,y){switch(y){case 0:return zi(B.topLeftBorderDoubleInnerBox,B.topLeftPaddingBox,B.topRightBorderDoubleInnerBox,B.topRightPaddingBox);case 1:return zi(B.topRightBorderDoubleInnerBox,B.topRightPaddingBox,B.bottomRightBorderDoubleInnerBox,B.bottomRightPaddingBox);case 2:return zi(B.bottomRightBorderDoubleInnerBox,B.bottomRightPaddingBox,B.bottomLeftBorderDoubleInnerBox,B.bottomLeftPaddingBox);case 3:default:return zi(B.bottomLeftBorderDoubleInnerBox,B.bottomLeftPaddingBox,B.topLeftBorderDoubleInnerBox,B.topLeftPaddingBox)}},SR=function(B,y){switch(y){case 0:return _g(B.topLeftBorderStroke,B.topRightBorderStroke);case 1:return _g(B.topRightBorderStroke,B.bottomRightBorderStroke);case 2:return _g(B.bottomRightBorderStroke,B.bottomLeftBorderStroke);case 3:default:return _g(B.bottomLeftBorderStroke,B.topLeftBorderStroke)}},_g=function(B,y){var N=[];return Ki(B)?N.push(B.subdivide(.5,!1)):N.push(B),Ki(y)?N.push(y.subdivide(.5,!0)):N.push(y),N},zi=function(B,y,N,C){var L=[];return Ki(B)?L.push(B.subdivide(.5,!1)):L.push(B),Ki(N)?L.push(N.subdivide(.5,!0)):L.push(N),Ki(C)?L.push(C.subdivide(.5,!0).reverse()):L.push(C),Ki(y)?L.push(y.subdivide(.5,!1).reverse()):L.push(y),L},W4=function(B){var y=B.bounds,N=B.styles;return y.add(N.borderLeftWidth,N.borderTopWidth,-(N.borderRightWidth+N.borderLeftWidth),-(N.borderTopWidth+N.borderBottomWidth))},Eg=function(B){var y=B.styles,N=B.bounds,C=er(y.paddingLeft,N.width),L=er(y.paddingRight,N.width),z=er(y.paddingTop,N.width),ee=er(y.paddingBottom,N.width);return N.add(C+y.borderLeftWidth,z+y.borderTopWidth,-(y.borderRightWidth+y.borderLeftWidth+C+L),-(y.borderTopWidth+y.borderBottomWidth+z+ee))},_R=function(B,y){return B===0?y.bounds:B===2?Eg(y):W4(y)},ER=function(B,y){return B===0?y.bounds:B===2?Eg(y):W4(y)},E1=function(B,y,N){var C=_R(lf(B.styles.backgroundOrigin,y),B),L=ER(lf(B.styles.backgroundClip,y),B),z=FR(lf(B.styles.backgroundSize,y),N,C),ee=z[0],me=z[1],he=Ai(lf(B.styles.backgroundPosition,y),C.width-ee,C.height-me),Ce=IR(lf(B.styles.backgroundRepeat,y),he,z,C,L),Ne=Math.round(C.left+he[0]),Fe=Math.round(C.top+he[1]);return[Ce,Ne,Fe,ee,me]},of=function(B){return lr(B)&&B.value===Ml.AUTO},Fg=function(B){return typeof B=="number"},FR=function(B,y,N){var C=y[0],L=y[1],z=y[2],ee=B[0],me=B[1];if(!ee)return[0,0];if(hr(ee)&&me&&hr(me))return[er(ee,N.width),er(me,N.height)];var he=Fg(z);if(lr(ee)&&(ee.value===Ml.CONTAIN||ee.value===Ml.COVER)){if(Fg(z)){var Ce=N.width/N.height;return Ce<z!=(ee.value===Ml.COVER)?[N.width,N.width/z]:[N.height*z,N.height]}return[N.width,N.height]}var Ne=Fg(C),Fe=Fg(L),Qe=Ne||Fe;if(of(ee)&&(!me||of(me))){if(Ne&&Fe)return[C,L];if(!he&&!Qe)return[N.width,N.height];if(Qe&&he){var mt=Ne?C:L*z,Ze=Fe?L:C/z;return[mt,Ze]}var ct=Ne?C:N.width,Zt=Fe?L:N.height;return[ct,Zt]}if(he){var Et=0,jt=0;return hr(ee)?Et=er(ee,N.width):hr(me)&&(jt=er(me,N.height)),of(ee)?Et=jt*z:(!me||of(me))&&(jt=Et/z),[Et,jt]}var br=null,tr=null;if(hr(ee)?br=er(ee,N.width):me&&hr(me)&&(tr=er(me,N.height)),br!==null&&(!me||of(me))&&(tr=Ne&&Fe?br/C*L:N.height),tr!==null&&of(ee)&&(br=Ne&&Fe?tr/L*C:N.width),br!==null&&tr!==null)return[br,tr];throw new Error("Unable to calculate background-size for element")},lf=function(B,y){var N=B[y];return typeof N>"u"?B[0]:N},IR=function(B,y,N,C,L){var z=y[0],ee=y[1],me=N[0],he=N[1];switch(B){case 2:return[new dt(Math.round(C.left),Math.round(C.top+ee)),new dt(Math.round(C.left+C.width),Math.round(C.top+ee)),new dt(Math.round(C.left+C.width),Math.round(he+C.top+ee)),new dt(Math.round(C.left),Math.round(he+C.top+ee))];case 3:return[new dt(Math.round(C.left+z),Math.round(C.top)),new dt(Math.round(C.left+z+me),Math.round(C.top)),new dt(Math.round(C.left+z+me),Math.round(C.height+C.top)),new dt(Math.round(C.left+z),Math.round(C.height+C.top))];case 1:return[new dt(Math.round(C.left+z),Math.round(C.top+ee)),new dt(Math.round(C.left+z+me),Math.round(C.top+ee)),new dt(Math.round(C.left+z+me),Math.round(C.top+ee+he)),new dt(Math.round(C.left+z),Math.round(C.top+ee+he))];default:return[new dt(Math.round(L.left),Math.round(L.top)),new dt(Math.round(L.left+L.width),Math.round(L.top)),new dt(Math.round(L.left+L.width),Math.round(L.height+L.top)),new dt(Math.round(L.left),Math.round(L.height+L.top))]}},UR="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Y4="Hidden Text",PR=function(){function B(y){this._data={},this._document=y}return B.prototype.parseMetrics=function(y,N){var C=this._document.createElement("div"),L=this._document.createElement("img"),z=this._document.createElement("span"),ee=this._document.body;C.style.visibility="hidden",C.style.fontFamily=y,C.style.fontSize=N,C.style.margin="0",C.style.padding="0",C.style.whiteSpace="nowrap",ee.appendChild(C),L.src=UR,L.width=1,L.height=1,L.style.margin="0",L.style.padding="0",L.style.verticalAlign="baseline",z.style.fontFamily=y,z.style.fontSize=N,z.style.margin="0",z.style.padding="0",z.appendChild(this._document.createTextNode(Y4)),C.appendChild(z),C.appendChild(L);var me=L.offsetTop-z.offsetTop+2;C.removeChild(z),C.appendChild(this._document.createTextNode(Y4)),C.style.lineHeight="normal",L.style.verticalAlign="super";var he=L.offsetTop-C.offsetTop+2;return ee.removeChild(C),{baseline:me,middle:he}},B.prototype.getMetrics=function(y,N){var C=y+" "+N;return typeof this._data[C]>"u"&&(this._data[C]=this.parseMetrics(y,N)),this._data[C]},B}(),J4=function(){function B(y,N){this.context=y,this.options=N}return B}(),TR=1e4,OR=function(B){n(y,B);function y(N,C){var L=B.call(this,N,C)||this;return L._activeEffects=[],L.canvas=C.canvas?C.canvas:document.createElement("canvas"),L.ctx=L.canvas.getContext("2d"),C.canvas||(L.canvas.width=Math.floor(C.width*C.scale),L.canvas.height=Math.floor(C.height*C.scale),L.canvas.style.width=C.width+"px",L.canvas.style.height=C.height+"px"),L.fontMetrics=new PR(document),L.ctx.scale(L.options.scale,L.options.scale),L.ctx.translate(-C.x,-C.y),L.ctx.textBaseline="bottom",L._activeEffects=[],L.context.logger.debug("Canvas renderer initialized ("+C.width+"x"+C.height+") with scale "+C.scale),L}return y.prototype.applyEffects=function(N){for(var C=this;this._activeEffects.length;)this.popEffect();N.forEach(function(L){return C.applyEffect(L)})},y.prototype.applyEffect=function(N){this.ctx.save(),jR(N)&&(this.ctx.globalAlpha=N.opacity),wR(N)&&(this.ctx.translate(N.offsetX,N.offsetY),this.ctx.transform(N.matrix[0],N.matrix[1],N.matrix[2],N.matrix[3],N.matrix[4],N.matrix[5]),this.ctx.translate(-N.offsetX,-N.offsetY)),H4(N)&&(this.path(N.path),this.ctx.clip()),this._activeEffects.push(N)},y.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},y.prototype.renderStack=function(N){return a(this,void 0,void 0,function(){var C;return l(this,function(L){switch(L.label){case 0:return C=N.element.container.styles,C.isVisible()?[4,this.renderStackContent(N)]:[3,2];case 1:L.sent(),L.label=2;case 2:return[2]}})})},y.prototype.renderNode=function(N){return a(this,void 0,void 0,function(){return l(this,function(C){switch(C.label){case 0:if(je(N.container.flags,16))debugger;return N.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(N)]:[3,3];case 1:return C.sent(),[4,this.renderNodeContent(N)];case 2:C.sent(),C.label=3;case 3:return[2]}})})},y.prototype.renderTextWithLetterSpacing=function(N,C,L){var z=this;if(C===0)this.ctx.fillText(N.text,N.bounds.left,N.bounds.top+L);else{var ee=tA(N.text);ee.reduce(function(me,he){return z.ctx.fillText(he,me,N.bounds.top+L),me+z.ctx.measureText(he).width},N.bounds.left)}},y.prototype.createFontStyle=function(N){var C=N.fontVariant.filter(function(ee){return ee==="normal"||ee==="small-caps"}).join(""),L=MR(N.fontFamily).join(", "),z=li(N.fontSize)?""+N.fontSize.number+N.fontSize.unit:N.fontSize.number+"px";return[[N.fontStyle,C,N.fontWeight,z,L].join(" "),L,z]},y.prototype.renderTextNode=function(N,C){return a(this,void 0,void 0,function(){var L,z,ee,me,he,Ce,Ne,Fe,Qe=this;return l(this,function(mt){return L=this.createFontStyle(C),z=L[0],ee=L[1],me=L[2],this.ctx.font=z,this.ctx.direction=C.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",he=this.fontMetrics.getMetrics(ee,me),Ce=he.baseline,Ne=he.middle,Fe=C.paintOrder,N.textBounds.forEach(function(Ze){Fe.forEach(function(ct){switch(ct){case 0:Qe.ctx.fillStyle=rn(C.color),Qe.renderTextWithLetterSpacing(Ze,C.letterSpacing,Ce);var Zt=C.textShadow;Zt.length&&Ze.text.trim().length&&(Zt.slice(0).reverse().forEach(function(Et){Qe.ctx.shadowColor=rn(Et.color),Qe.ctx.shadowOffsetX=Et.offsetX.number*Qe.options.scale,Qe.ctx.shadowOffsetY=Et.offsetY.number*Qe.options.scale,Qe.ctx.shadowBlur=Et.blur.number,Qe.renderTextWithLetterSpacing(Ze,C.letterSpacing,Ce)}),Qe.ctx.shadowColor="",Qe.ctx.shadowOffsetX=0,Qe.ctx.shadowOffsetY=0,Qe.ctx.shadowBlur=0),C.textDecorationLine.length&&(Qe.ctx.fillStyle=rn(C.textDecorationColor||C.color),C.textDecorationLine.forEach(function(Et){switch(Et){case 1:Qe.ctx.fillRect(Ze.bounds.left,Math.round(Ze.bounds.top+Ce),Ze.bounds.width,1);break;case 2:Qe.ctx.fillRect(Ze.bounds.left,Math.round(Ze.bounds.top),Ze.bounds.width,1);break;case 3:Qe.ctx.fillRect(Ze.bounds.left,Math.ceil(Ze.bounds.top+Ne),Ze.bounds.width,1);break}}));break;case 1:C.webkitTextStrokeWidth&&Ze.text.trim().length&&(Qe.ctx.strokeStyle=rn(C.webkitTextStrokeColor),Qe.ctx.lineWidth=C.webkitTextStrokeWidth,Qe.ctx.lineJoin=window.chrome?"miter":"round",Qe.ctx.strokeText(Ze.text,Ze.bounds.left,Ze.bounds.top+Ce)),Qe.ctx.strokeStyle="",Qe.ctx.lineWidth=0,Qe.ctx.lineJoin="miter";break}})}),[2]})})},y.prototype.renderReplacedElement=function(N,C,L){if(L&&N.intrinsicWidth>0&&N.intrinsicHeight>0){var z=Eg(N),ee=kg(C);this.path(ee),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(L,0,0,N.intrinsicWidth,N.intrinsicHeight,z.left,z.top,z.width,z.height),this.ctx.restore()}},y.prototype.renderNodeContent=function(N){return a(this,void 0,void 0,function(){var C,L,z,ee,me,he,jt,jt,Ce,Ne,Fe,Qe,tr,mt,Ze,zt,ct,Zt,Et,jt,br,tr,zt;return l(this,function(ht){switch(ht.label){case 0:this.applyEffects(N.getEffects(4)),C=N.container,L=N.curves,z=C.styles,ee=0,me=C.textNodes,ht.label=1;case 1:return ee<me.length?(he=me[ee],[4,this.renderTextNode(he,z)]):[3,4];case 2:ht.sent(),ht.label=3;case 3:return ee++,[3,1];case 4:if(!(C instanceof tf))return[3,8];ht.label=5;case 5:return ht.trys.push([5,7,,8]),[4,this.context.cache.match(C.src)];case 6:return jt=ht.sent(),this.renderReplacedElement(C,L,jt),[3,8];case 7:return ht.sent(),this.context.logger.error("Error loading image "+C.src),[3,8];case 8:if(C instanceof m4&&this.renderReplacedElement(C,L,C.canvas),!(C instanceof p4))return[3,12];ht.label=9;case 9:return ht.trys.push([9,11,,12]),[4,this.context.cache.match(C.svg)];case 10:return jt=ht.sent(),this.renderReplacedElement(C,L,jt),[3,12];case 11:return ht.sent(),this.context.logger.error("Error loading svg "+C.svg.substring(0,255)),[3,12];case 12:return C instanceof y4&&C.tree?(Ce=new y(this.context,{scale:this.options.scale,backgroundColor:C.backgroundColor,x:0,y:0,width:C.width,height:C.height}),[4,Ce.render(C.tree)]):[3,14];case 13:Ne=ht.sent(),C.width&&C.height&&this.ctx.drawImage(Ne,0,0,C.width,C.height,C.bounds.left,C.bounds.top,C.bounds.width,C.bounds.height),ht.label=14;case 14:if(C instanceof x1&&(Fe=Math.min(C.bounds.width,C.bounds.height),C.type===xg?C.checked&&(this.ctx.save(),this.path([new dt(C.bounds.left+Fe*.39363,C.bounds.top+Fe*.79),new dt(C.bounds.left+Fe*.16,C.bounds.top+Fe*.5549),new dt(C.bounds.left+Fe*.27347,C.bounds.top+Fe*.44071),new dt(C.bounds.left+Fe*.39694,C.bounds.top+Fe*.5649),new dt(C.bounds.left+Fe*.72983,C.bounds.top+Fe*.23),new dt(C.bounds.left+Fe*.84,C.bounds.top+Fe*.34085),new dt(C.bounds.left+Fe*.39363,C.bounds.top+Fe*.79)]),this.ctx.fillStyle=rn(v4),this.ctx.fill(),this.ctx.restore()):C.type===bg&&C.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(C.bounds.left+Fe/2,C.bounds.top+Fe/2,Fe/4,0,Math.PI*2,!0),this.ctx.fillStyle=rn(v4),this.ctx.fill(),this.ctx.restore())),LR(C)&&C.value.length){switch(Qe=this.createFontStyle(z),tr=Qe[0],mt=Qe[1],Ze=this.fontMetrics.getMetrics(tr,mt).baseline,this.ctx.font=tr,this.ctx.fillStyle=rn(z.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=DR(C.styles.textAlign),zt=Eg(C),ct=0,C.styles.textAlign){case 1:ct+=zt.width/2;break;case 2:ct+=zt.width;break}Zt=zt.add(ct,0,0,-zt.height/2+1),this.ctx.save(),this.path([new dt(zt.left,zt.top),new dt(zt.left+zt.width,zt.top),new dt(zt.left+zt.width,zt.top+zt.height),new dt(zt.left,zt.top+zt.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new eA(C.value,Zt),z.letterSpacing,Ze),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!je(C.styles.display,2048))return[3,20];if(C.styles.listStyleImage===null)return[3,19];if(Et=C.styles.listStyleImage,Et.type!==0)return[3,18];jt=void 0,br=Et.url,ht.label=15;case 15:return ht.trys.push([15,17,,18]),[4,this.context.cache.match(br)];case 16:return jt=ht.sent(),this.ctx.drawImage(jt,C.bounds.left-(jt.width+10),C.bounds.top),[3,18];case 17:return ht.sent(),this.context.logger.error("Error loading list-style-image "+br),[3,18];case 18:return[3,20];case 19:N.listValue&&C.styles.listStyleType!==-1&&(tr=this.createFontStyle(z)[0],this.ctx.font=tr,this.ctx.fillStyle=rn(z.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",zt=new c(C.bounds.left,C.bounds.top+er(C.styles.paddingTop,C.bounds.width),C.bounds.width,jo(z.lineHeight,z.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new eA(N.listValue,zt),z.letterSpacing,jo(z.lineHeight,z.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),ht.label=20;case 20:return[2]}})})},y.prototype.renderStackContent=function(N){return a(this,void 0,void 0,function(){var C,L,Et,z,ee,Et,me,he,Et,Ce,Ne,Et,Fe,Qe,Et,mt,Ze,Et,ct,Zt,Et;return l(this,function(jt){switch(jt.label){case 0:if(je(N.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(N.element)];case 1:jt.sent(),C=0,L=N.negativeZIndex,jt.label=2;case 2:return C<L.length?(Et=L[C],[4,this.renderStack(Et)]):[3,5];case 3:jt.sent(),jt.label=4;case 4:return C++,[3,2];case 5:return[4,this.renderNodeContent(N.element)];case 6:jt.sent(),z=0,ee=N.nonInlineLevel,jt.label=7;case 7:return z<ee.length?(Et=ee[z],[4,this.renderNode(Et)]):[3,10];case 8:jt.sent(),jt.label=9;case 9:return z++,[3,7];case 10:me=0,he=N.nonPositionedFloats,jt.label=11;case 11:return me<he.length?(Et=he[me],[4,this.renderStack(Et)]):[3,14];case 12:jt.sent(),jt.label=13;case 13:return me++,[3,11];case 14:Ce=0,Ne=N.nonPositionedInlineLevel,jt.label=15;case 15:return Ce<Ne.length?(Et=Ne[Ce],[4,this.renderStack(Et)]):[3,18];case 16:jt.sent(),jt.label=17;case 17:return Ce++,[3,15];case 18:Fe=0,Qe=N.inlineLevel,jt.label=19;case 19:return Fe<Qe.length?(Et=Qe[Fe],[4,this.renderNode(Et)]):[3,22];case 20:jt.sent(),jt.label=21;case 21:return Fe++,[3,19];case 22:mt=0,Ze=N.zeroOrAutoZIndexOrTransformedOrOpacity,jt.label=23;case 23:return mt<Ze.length?(Et=Ze[mt],[4,this.renderStack(Et)]):[3,26];case 24:jt.sent(),jt.label=25;case 25:return mt++,[3,23];case 26:ct=0,Zt=N.positiveZIndex,jt.label=27;case 27:return ct<Zt.length?(Et=Zt[ct],[4,this.renderStack(Et)]):[3,30];case 28:jt.sent(),jt.label=29;case 29:return ct++,[3,27];case 30:return[2]}})})},y.prototype.mask=function(N){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(N.slice(0).reverse()),this.ctx.closePath()},y.prototype.path=function(N){this.ctx.beginPath(),this.formatPath(N),this.ctx.closePath()},y.prototype.formatPath=function(N){var C=this;N.forEach(function(L,z){var ee=Ki(L)?L.start:L;z===0?C.ctx.moveTo(ee.x,ee.y):C.ctx.lineTo(ee.x,ee.y),Ki(L)&&C.ctx.bezierCurveTo(L.startControl.x,L.startControl.y,L.endControl.x,L.endControl.y,L.end.x,L.end.y)})},y.prototype.renderRepeat=function(N,C,L,z){this.path(N),this.ctx.fillStyle=C,this.ctx.translate(L,z),this.ctx.fill(),this.ctx.translate(-L,-z)},y.prototype.resizeImage=function(N,C,L){var z;if(N.width===C&&N.height===L)return N;var ee=(z=this.canvas.ownerDocument)!==null&&z!==void 0?z:document,me=ee.createElement("canvas");me.width=Math.max(1,C),me.height=Math.max(1,L);var he=me.getContext("2d");return he.drawImage(N,0,0,N.width,N.height,0,0,C,L),me},y.prototype.renderBackgroundImage=function(N){return a(this,void 0,void 0,function(){var C,L,z,ee,me,he;return l(this,function(Ce){switch(Ce.label){case 0:C=N.styles.backgroundImage.length-1,L=function(Ne){var Fe,Qe,mt,Wn,Ma,Ha,Mr,Fs,dr,Ze,Wn,Ma,Ha,Mr,Fs,ct,Zt,Et,jt,br,tr,zt,ht,ur,dr,Wt,Wn,Ra,fi,Mr,Fs,sA,Ma,Ha,vu,nl,aA,xu,bu,zl,yu,Vl;return l(this,function(cf){switch(cf.label){case 0:if(Ne.type!==0)return[3,5];Fe=void 0,Qe=Ne.url,cf.label=1;case 1:return cf.trys.push([1,3,,4]),[4,z.context.cache.match(Qe)];case 2:return Fe=cf.sent(),[3,4];case 3:return cf.sent(),z.context.logger.error("Error loading background-image "+Qe),[3,4];case 4:return Fe&&(mt=E1(N,C,[Fe.width,Fe.height,Fe.width/Fe.height]),Wn=mt[0],Ma=mt[1],Ha=mt[2],Mr=mt[3],Fs=mt[4],dr=z.ctx.createPattern(z.resizeImage(Fe,Mr,Fs),"repeat"),z.renderRepeat(Wn,dr,Ma,Ha)),[3,6];case 5:Gp(Ne)?(Ze=E1(N,C,[null,null,null]),Wn=Ze[0],Ma=Ze[1],Ha=Ze[2],Mr=Ze[3],Fs=Ze[4],ct=vn(Ne.angle,Mr,Fs),Zt=ct[0],Et=ct[1],jt=ct[2],br=ct[3],tr=ct[4],zt=document.createElement("canvas"),zt.width=Mr,zt.height=Fs,ht=zt.getContext("2d"),ur=ht.createLinearGradient(Et,br,jt,tr),mr(Ne.stops,Zt).forEach(function(B0){return ur.addColorStop(B0.stop,rn(B0.color))}),ht.fillStyle=ur,ht.fillRect(0,0,Mr,Fs),Mr>0&&Fs>0&&(dr=z.ctx.createPattern(zt,"repeat"),z.renderRepeat(Wn,dr,Ma,Ha))):Wp(Ne)&&(Wt=E1(N,C,[null,null,null]),Wn=Wt[0],Ra=Wt[1],fi=Wt[2],Mr=Wt[3],Fs=Wt[4],sA=Ne.position.length===0?[Ll]:Ne.position,Ma=er(sA[0],Mr),Ha=er(sA[sA.length-1],Fs),vu=cu(Ne,Ma,Ha,Mr,Fs),nl=vu[0],aA=vu[1],nl>0&&aA>0&&(xu=z.ctx.createRadialGradient(Ra+Ma,fi+Ha,0,Ra+Ma,fi+Ha,nl),mr(Ne.stops,nl*2).forEach(function(B0){return xu.addColorStop(B0.stop,rn(B0.color))}),z.path(Wn),z.ctx.fillStyle=xu,nl!==aA?(bu=N.bounds.left+.5*N.bounds.width,zl=N.bounds.top+.5*N.bounds.height,yu=aA/nl,Vl=1/yu,z.ctx.save(),z.ctx.translate(bu,zl),z.ctx.transform(1,0,0,yu,0,0),z.ctx.translate(-bu,-zl),z.ctx.fillRect(Ra,Vl*(fi-zl)+zl,Mr,Fs*Vl),z.ctx.restore()):z.ctx.fill())),cf.label=6;case 6:return C--,[2]}})},z=this,ee=0,me=N.styles.backgroundImage.slice(0).reverse(),Ce.label=1;case 1:return ee<me.length?(he=me[ee],[5,L(he)]):[3,4];case 2:Ce.sent(),Ce.label=3;case 3:return ee++,[3,1];case 4:return[2]}})})},y.prototype.renderSolidBorder=function(N,C,L){return a(this,void 0,void 0,function(){return l(this,function(z){return this.path(G4(L,C)),this.ctx.fillStyle=rn(N),this.ctx.fill(),[2]})})},y.prototype.renderDoubleBorder=function(N,C,L,z){return a(this,void 0,void 0,function(){var ee,me;return l(this,function(he){switch(he.label){case 0:return C<3?[4,this.renderSolidBorder(N,L,z)]:[3,2];case 1:return he.sent(),[2];case 2:return ee=NR(z,L),this.path(ee),this.ctx.fillStyle=rn(N),this.ctx.fill(),me=kR(z,L),this.path(me),this.ctx.fill(),[2]}})})},y.prototype.renderNodeBackgroundAndBorders=function(N){return a(this,void 0,void 0,function(){var C,L,z,ee,me,he,Ce,Ne,Fe=this;return l(this,function(Qe){switch(Qe.label){case 0:return this.applyEffects(N.getEffects(2)),C=N.container.styles,L=!es(C.backgroundColor)||C.backgroundImage.length,z=[{style:C.borderTopStyle,color:C.borderTopColor,width:C.borderTopWidth},{style:C.borderRightStyle,color:C.borderRightColor,width:C.borderRightWidth},{style:C.borderBottomStyle,color:C.borderBottomColor,width:C.borderBottomWidth},{style:C.borderLeftStyle,color:C.borderLeftColor,width:C.borderLeftWidth}],ee=QR(lf(C.backgroundClip,0),N.curves),L||C.boxShadow.length?(this.ctx.save(),this.path(ee),this.ctx.clip(),es(C.backgroundColor)||(this.ctx.fillStyle=rn(C.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(N.container)]):[3,2];case 1:Qe.sent(),this.ctx.restore(),C.boxShadow.slice(0).reverse().forEach(function(mt){Fe.ctx.save();var Ze=Ng(N.curves),ct=mt.inset?0:TR,Zt=BR(Ze,-ct+(mt.inset?1:-1)*mt.spread.number,(mt.inset?1:-1)*mt.spread.number,mt.spread.number*(mt.inset?-2:2),mt.spread.number*(mt.inset?-2:2));mt.inset?(Fe.path(Ze),Fe.ctx.clip(),Fe.mask(Zt)):(Fe.mask(Ze),Fe.ctx.clip(),Fe.path(Zt)),Fe.ctx.shadowOffsetX=mt.offsetX.number+ct,Fe.ctx.shadowOffsetY=mt.offsetY.number,Fe.ctx.shadowColor=rn(mt.color),Fe.ctx.shadowBlur=mt.blur.number,Fe.ctx.fillStyle=mt.inset?rn(mt.color):"rgba(0,0,0,1)",Fe.ctx.fill(),Fe.ctx.restore()}),Qe.label=2;case 2:me=0,he=0,Ce=z,Qe.label=3;case 3:return he<Ce.length?(Ne=Ce[he],Ne.style!==0&&!es(Ne.color)&&Ne.width>0?Ne.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Ne.color,Ne.width,me,N.curves,2)]:[3,11]):[3,13];case 4:return Qe.sent(),[3,11];case 5:return Ne.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Ne.color,Ne.width,me,N.curves,3)];case 6:return Qe.sent(),[3,11];case 7:return Ne.style!==4?[3,9]:[4,this.renderDoubleBorder(Ne.color,Ne.width,me,N.curves)];case 8:return Qe.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ne.color,me,N.curves)];case 10:Qe.sent(),Qe.label=11;case 11:me++,Qe.label=12;case 12:return he++,[3,3];case 13:return[2]}})})},y.prototype.renderDashedDottedBorder=function(N,C,L,z,ee){return a(this,void 0,void 0,function(){var me,he,Ce,Ne,Fe,Qe,mt,Ze,ct,Zt,Et,jt,br,tr,zt,ht,zt,ht;return l(this,function(ur){return this.ctx.save(),me=SR(z,L),he=G4(z,L),ee===2&&(this.path(he),this.ctx.clip()),Ki(he[0])?(Ce=he[0].start.x,Ne=he[0].start.y):(Ce=he[0].x,Ne=he[0].y),Ki(he[1])?(Fe=he[1].end.x,Qe=he[1].end.y):(Fe=he[1].x,Qe=he[1].y),L===0||L===2?mt=Math.abs(Ce-Fe):mt=Math.abs(Ne-Qe),this.ctx.beginPath(),ee===3?this.formatPath(me):this.formatPath(he.slice(0,2)),Ze=C<3?C*3:C*2,ct=C<3?C*2:C,ee===3&&(Ze=C,ct=C),Zt=!0,mt<=Ze*2?Zt=!1:mt<=Ze*2+ct?(Et=mt/(2*Ze+ct),Ze*=Et,ct*=Et):(jt=Math.floor((mt+ct)/(Ze+ct)),br=(mt-jt*Ze)/(jt-1),tr=(mt-(jt+1)*Ze)/jt,ct=tr<=0||Math.abs(ct-br)<Math.abs(ct-tr)?br:tr),Zt&&(ee===3?this.ctx.setLineDash([0,Ze+ct]):this.ctx.setLineDash([Ze,ct])),ee===3?(this.ctx.lineCap="round",this.ctx.lineWidth=C):this.ctx.lineWidth=C*2+1.1,this.ctx.strokeStyle=rn(N),this.ctx.stroke(),this.ctx.setLineDash([]),ee===2&&(Ki(he[0])&&(zt=he[3],ht=he[0],this.ctx.beginPath(),this.formatPath([new dt(zt.end.x,zt.end.y),new dt(ht.start.x,ht.start.y)]),this.ctx.stroke()),Ki(he[1])&&(zt=he[1],ht=he[2],this.ctx.beginPath(),this.formatPath([new dt(zt.end.x,zt.end.y),new dt(ht.start.x,ht.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},y.prototype.render=function(N){return a(this,void 0,void 0,function(){var C;return l(this,function(L){switch(L.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=rn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),C=CR(N),[4,this.renderStack(C)];case 1:return L.sent(),this.applyEffects([]),[2,this.canvas]}})})},y}(J4),LR=function(B){return B instanceof b4||B instanceof x4?!0:B instanceof x1&&B.type!==bg&&B.type!==xg},QR=function(B,y){switch(B){case 0:return Ng(y);case 2:return xR(y);case 1:default:return kg(y)}},DR=function(B){switch(B){case 1:return"center";case 2:return"right";case 0:default:return"left"}},RR=["-apple-system","system-ui"],MR=function(B){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?B.filter(function(y){return RR.indexOf(y)===-1}):B},HR=function(B){n(y,B);function y(N,C){var L=B.call(this,N,C)||this;return L.canvas=C.canvas?C.canvas:document.createElement("canvas"),L.ctx=L.canvas.getContext("2d"),L.options=C,L.canvas.width=Math.floor(C.width*C.scale),L.canvas.height=Math.floor(C.height*C.scale),L.canvas.style.width=C.width+"px",L.canvas.style.height=C.height+"px",L.ctx.scale(L.options.scale,L.options.scale),L.ctx.translate(-C.x,-C.y),L.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+C.width+"x"+C.height+" at "+C.x+","+C.y+") with scale "+C.scale),L}return y.prototype.render=function(N){return a(this,void 0,void 0,function(){var C,L;return l(this,function(z){switch(z.label){case 0:return C=g0(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,N),[4,$R(C)];case 1:return L=z.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=rn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(L,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},y}(J4),$R=function(B){return new Promise(function(y,N){var C=new Image;C.onload=function(){y(C)},C.onerror=N,C.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(B))})},KR=function(){function B(y){var N=y.id,C=y.enabled;this.id=N,this.enabled=C,this.start=Date.now()}return B.prototype.debug=function(){for(var y=[],N=0;N<arguments.length;N++)y[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,A([this.id,this.getTime()+"ms"],y)):this.info.apply(this,y))},B.prototype.getTime=function(){return Date.now()-this.start},B.prototype.info=function(){for(var y=[],N=0;N<arguments.length;N++)y[N]=arguments[N];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,A([this.id,this.getTime()+"ms"],y))},B.prototype.warn=function(){for(var y=[],N=0;N<arguments.length;N++)y[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,A([this.id,this.getTime()+"ms"],y)):this.info.apply(this,y))},B.prototype.error=function(){for(var y=[],N=0;N<arguments.length;N++)y[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,A([this.id,this.getTime()+"ms"],y)):this.info.apply(this,y))},B.instances={},B}(),zR=function(){function B(y,N){var C;this.windowBounds=N,this.instanceName="#"+B.instanceCount++,this.logger=new KR({id:this.instanceName,enabled:y.logging}),this.cache=(C=y.cache)!==null&&C!==void 0?C:new uR(this,y)}return B.instanceCount=1,B}(),VR=function(B,y){return y===void 0&&(y={}),GR(B,y)};typeof window<"u"&&M4.setContext(window);var GR=function(B,y){return a(void 0,void 0,void 0,function(){var N,C,L,z,ee,me,he,Ce,Ne,Fe,Qe,mt,Ze,ct,Zt,Et,jt,br,tr,zt,ur,ht,ur,dr,Wt,Wn,Ra,fi,Mr,Fs,sA,Ma,Ha,vu,nl,aA,xu,bu,zl,yu;return l(this,function(Vl){switch(Vl.label){case 0:if(!B||typeof B!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(N=B.ownerDocument,!N)throw new Error("Element is not attached to a Document");if(C=N.defaultView,!C)throw new Error("Document is not attached to a Window");return L={allowTaint:(dr=y.allowTaint)!==null&&dr!==void 0?dr:!1,imageTimeout:(Wt=y.imageTimeout)!==null&&Wt!==void 0?Wt:15e3,proxy:y.proxy,useCORS:(Wn=y.useCORS)!==null&&Wn!==void 0?Wn:!1},z=s({logging:(Ra=y.logging)!==null&&Ra!==void 0?Ra:!0,cache:y.cache},L),ee={windowWidth:(fi=y.windowWidth)!==null&&fi!==void 0?fi:C.innerWidth,windowHeight:(Mr=y.windowHeight)!==null&&Mr!==void 0?Mr:C.innerHeight,scrollX:(Fs=y.scrollX)!==null&&Fs!==void 0?Fs:C.pageXOffset,scrollY:(sA=y.scrollY)!==null&&sA!==void 0?sA:C.pageYOffset},me=new c(ee.scrollX,ee.scrollY,ee.windowWidth,ee.windowHeight),he=new zR(z,me),Ce=(Ma=y.foreignObjectRendering)!==null&&Ma!==void 0?Ma:!1,Ne={allowTaint:(Ha=y.allowTaint)!==null&&Ha!==void 0?Ha:!1,onclone:y.onclone,ignoreElements:y.ignoreElements,inlineImages:Ce,copyStyles:Ce},he.logger.debug("Starting document clone with size "+me.width+"x"+me.height+" scrolled to "+-me.left+","+-me.top),Fe=new D4(he,B,Ne),Qe=Fe.clonedReferenceElement,Qe?[4,Fe.toIFrame(N,me)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return mt=Vl.sent(),Ze=y1(Qe)||WD(Qe)?o(Qe.ownerDocument):u(he,Qe),ct=Ze.width,Zt=Ze.height,Et=Ze.left,jt=Ze.top,br=WR(he,Qe,y.backgroundColor),tr={canvas:y.canvas,backgroundColor:br,scale:(nl=(vu=y.scale)!==null&&vu!==void 0?vu:C.devicePixelRatio)!==null&&nl!==void 0?nl:1,x:((aA=y.x)!==null&&aA!==void 0?aA:0)+Et,y:((xu=y.y)!==null&&xu!==void 0?xu:0)+jt,width:(bu=y.width)!==null&&bu!==void 0?bu:Math.ceil(ct),height:(zl=y.height)!==null&&zl!==void 0?zl:Math.ceil(Zt)},Ce?(he.logger.debug("Document cloned, using foreign object rendering"),ur=new HR(he,tr),[4,ur.render(Qe)]):[3,3];case 2:return zt=Vl.sent(),[3,5];case 3:return he.logger.debug("Document cloned, element located at "+Et+","+jt+" with size "+ct+"x"+Zt+" using computed rendering"),he.logger.debug("Starting DOM parsing"),ht=j4(he,Qe),br===ht.styles.backgroundColor&&(ht.styles.backgroundColor=ps.TRANSPARENT),he.logger.debug("Starting renderer for element at "+tr.x+","+tr.y+" with size "+tr.width+"x"+tr.height),ur=new OR(he,tr),[4,ur.render(ht)];case 4:zt=Vl.sent(),Vl.label=5;case 5:return(!((yu=y.removeContainer)!==null&&yu!==void 0)||yu)&&(D4.destroy(mt)||he.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),he.logger.debug("Finished rendering"),[2,zt]}})})},WR=function(B,y,N){var C=y.ownerDocument,L=C.documentElement?ui(B,getComputedStyle(C.documentElement).backgroundColor):ps.TRANSPARENT,z=C.body?ui(B,getComputedStyle(C.body).backgroundColor):ps.TRANSPARENT,ee=typeof N=="string"?ui(B,N):N===null?ps.TRANSPARENT:4294967295;return y===C.documentElement?es(L)?es(z)?ee:z:L:ee};return VR})}(p2)),p2.exports}/*!
 * html2pdf.js v0.12.1
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */(function(e,t){(function(n,s){e.exports=s(zde,Vde())})(self,function(r,n){return function(){var s={"./node_modules/core-js/internals/a-callable.js":function(c,u,o){var d=o("./node_modules/core-js/internals/is-callable.js"),h=o("./node_modules/core-js/internals/try-to-string.js"),f=TypeError;c.exports=function(g){if(d(g))return g;throw new f(h(g)+" is not a function")}},"./node_modules/core-js/internals/a-constructor.js":function(c,u,o){var d=o("./node_modules/core-js/internals/is-constructor.js"),h=o("./node_modules/core-js/internals/try-to-string.js"),f=TypeError;c.exports=function(g){if(d(g))return g;throw new f(h(g)+" is not a constructor")}},"./node_modules/core-js/internals/a-possible-prototype.js":function(c,u,o){var d=o("./node_modules/core-js/internals/is-possible-prototype.js"),h=String,f=TypeError;c.exports=function(g){if(d(g))return g;throw new f("Can't set "+h(g)+" as a prototype")}},"./node_modules/core-js/internals/a-set.js":function(c,u,o){var d=o("./node_modules/core-js/internals/set-helpers.js").has;c.exports=function(h){return d(h),h}},"./node_modules/core-js/internals/add-to-unscopables.js":function(c,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js"),h=o("./node_modules/core-js/internals/object-create.js"),f=o("./node_modules/core-js/internals/object-define-property.js").f,g=d("unscopables"),m=Array.prototype;m[g]===void 0&&f(m,g,{configurable:!0,value:h(null)}),c.exports=function(x){m[g][x]=!0}},"./node_modules/core-js/internals/an-instance.js":function(c,u,o){var d=o("./node_modules/core-js/internals/object-is-prototype-of.js"),h=TypeError;c.exports=function(f,g){if(d(g,f))return f;throw new h("Incorrect invocation")}},"./node_modules/core-js/internals/an-object.js":function(c,u,o){var d=o("./node_modules/core-js/internals/is-object.js"),h=String,f=TypeError;c.exports=function(g){if(d(g))return g;throw new f(h(g)+" is not an object")}},"./node_modules/core-js/internals/array-buffer-non-extensible.js":function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js");c.exports=d(function(){if(typeof ArrayBuffer=="function"){var h=new ArrayBuffer(8);Object.isExtensible(h)&&Object.defineProperty(h,"a",{value:8})}})},"./node_modules/core-js/internals/array-for-each.js":function(c,u,o){var d=o("./node_modules/core-js/internals/array-iteration.js").forEach,h=o("./node_modules/core-js/internals/array-method-is-strict.js"),f=h("forEach");c.exports=f?[].forEach:function(m){return d(this,m,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-from.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-bind-context.js"),h=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-object.js"),g=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),m=o("./node_modules/core-js/internals/is-array-iterator-method.js"),x=o("./node_modules/core-js/internals/is-constructor.js"),p=o("./node_modules/core-js/internals/length-of-array-like.js"),v=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/get-iterator.js"),j=o("./node_modules/core-js/internals/get-iterator-method.js"),k=Array;c.exports=function(F){var T=f(F),P=x(this),R=arguments.length,U=R>1?arguments[1]:void 0,D=U!==void 0;D&&(U=d(U,R>2?arguments[2]:void 0));var Q=j(T),H=0,W,V,Z,K,X,le;if(Q&&!(this===k&&m(Q)))for(V=P?new this:[],K=b(T,Q),X=K.next;!(Z=h(X,K)).done;H++)le=D?g(K,U,[Z.value,H],!0):Z.value,v(V,H,le);else for(W=p(T),V=P?new this(W):k(W);W>H;H++)le=D?U(T[H],H):T[H],v(V,H,le);return V.length=H,V}},"./node_modules/core-js/internals/array-includes.js":function(c,u,o){var d=o("./node_modules/core-js/internals/to-indexed-object.js"),h=o("./node_modules/core-js/internals/to-absolute-index.js"),f=o("./node_modules/core-js/internals/length-of-array-like.js"),g=function(m){return function(x,p,v){var b=d(x),j=f(b);if(j===0)return!m&&-1;var k=h(v,j),S;if(m&&p!==p){for(;j>k;)if(S=b[k++],S!==S)return!0}else for(;j>k;k++)if((m||k in b)&&b[k]===p)return m||k||0;return!m&&-1}};c.exports={includes:g(!0),indexOf:g(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-bind-context.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/indexed-object.js"),g=o("./node_modules/core-js/internals/to-object.js"),m=o("./node_modules/core-js/internals/length-of-array-like.js"),x=o("./node_modules/core-js/internals/array-species-create.js"),p=h([].push),v=function(b){var j=b===1,k=b===2,S=b===3,F=b===4,T=b===6,P=b===7,R=b===5||T;return function(U,D,Q,H){for(var W=g(U),V=f(W),Z=m(V),K=d(D,Q),X=0,le=H||x,Ae=j?le(U,Z):k||P?le(U,0):void 0,M,G;Z>X;X++)if((R||X in V)&&(M=V[X],G=K(M,X,W),b))if(j)Ae[X]=G;else if(G)switch(b){case 3:return!0;case 5:return M;case 6:return X;case 2:p(Ae,M)}else switch(b){case 4:return!1;case 7:p(Ae,M)}return T?-1:S||F?F:Ae}};c.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6),filterReject:v(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/well-known-symbol.js"),f=o("./node_modules/core-js/internals/environment-v8-version.js"),g=h("species");c.exports=function(m){return f>=51||!d(function(){var x=[],p=x.constructor={};return p[g]=function(){return{foo:1}},x[m](Boolean).foo!==1})}},"./node_modules/core-js/internals/array-method-is-strict.js":function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js");c.exports=function(h,f){var g=[][h];return!!g&&d(function(){g.call(null,f||function(){return 1},1)})}},"./node_modules/core-js/internals/array-slice.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js");c.exports=d([].slice)},"./node_modules/core-js/internals/array-species-constructor.js":function(c,u,o){var d=o("./node_modules/core-js/internals/is-array.js"),h=o("./node_modules/core-js/internals/is-constructor.js"),f=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),m=g("species"),x=Array;c.exports=function(p){var v;return d(p)&&(v=p.constructor,h(v)&&(v===x||d(v.prototype))?v=void 0:f(v)&&(v=v[m],v===null&&(v=void 0))),v===void 0?x:v}},"./node_modules/core-js/internals/array-species-create.js":function(c,u,o){var d=o("./node_modules/core-js/internals/array-species-constructor.js");c.exports=function(h,f){return new(d(h))(f===0?0:f)}},"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(c,u,o){var d=o("./node_modules/core-js/internals/an-object.js"),h=o("./node_modules/core-js/internals/iterator-close.js");c.exports=function(f,g,m,x){try{return x?g(d(m)[0],m[1]):g(m)}catch(p){h(f,"throw",p)}}},"./node_modules/core-js/internals/check-correctness-of-iteration.js":function(c,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js"),h=d("iterator"),f=!1;try{var g=0,m={next:function(){return{done:!!g++}},return:function(){f=!0}};m[h]=function(){return this},Array.from(m,function(){throw 2})}catch{}c.exports=function(x,p){try{if(!p&&!f)return!1}catch{return!1}var v=!1;try{var b={};b[h]=function(){return{next:function(){return{done:v=!0}}}},x(b)}catch{}return v}},"./node_modules/core-js/internals/classof-raw.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=d({}.toString),f=d("".slice);c.exports=function(g){return f(h(g),8,-1)}},"./node_modules/core-js/internals/classof.js":function(c,u,o){var d=o("./node_modules/core-js/internals/to-string-tag-support.js"),h=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/classof-raw.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),m=g("toStringTag"),x=Object,p=f(function(){return arguments}())==="Arguments",v=function(b,j){try{return b[j]}catch{}};c.exports=d?f:function(b){var j,k,S;return b===void 0?"Undefined":b===null?"Null":typeof(k=v(j=x(b),m))=="string"?k:p?f(j):(S=f(j))==="Object"&&h(j.callee)?"Arguments":S}},"./node_modules/core-js/internals/collection-strong.js":function(c,u,o){var d=o("./node_modules/core-js/internals/object-create.js"),h=o("./node_modules/core-js/internals/define-built-in-accessor.js"),f=o("./node_modules/core-js/internals/define-built-ins.js"),g=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/an-instance.js"),x=o("./node_modules/core-js/internals/is-null-or-undefined.js"),p=o("./node_modules/core-js/internals/iterate.js"),v=o("./node_modules/core-js/internals/iterator-define.js"),b=o("./node_modules/core-js/internals/create-iter-result-object.js"),j=o("./node_modules/core-js/internals/set-species.js"),k=o("./node_modules/core-js/internals/descriptors.js"),S=o("./node_modules/core-js/internals/internal-metadata.js").fastKey,F=o("./node_modules/core-js/internals/internal-state.js"),T=F.set,P=F.getterFor;c.exports={getConstructor:function(R,U,D,Q){var H=R(function(X,le){m(X,W),T(X,{type:U,index:d(null),first:null,last:null,size:0}),k||(X.size=0),x(le)||p(le,X[Q],{that:X,AS_ENTRIES:D})}),W=H.prototype,V=P(U),Z=function(X,le,Ae){var M=V(X),G=K(X,le),re,ne;return G?G.value=Ae:(M.last=G={index:ne=S(le,!0),key:le,value:Ae,previous:re=M.last,next:null,removed:!1},M.first||(M.first=G),re&&(re.next=G),k?M.size++:X.size++,ne!=="F"&&(M.index[ne]=G)),X},K=function(X,le){var Ae=V(X),M=S(le),G;if(M!=="F")return Ae.index[M];for(G=Ae.first;G;G=G.next)if(G.key===le)return G};return f(W,{clear:function(){for(var le=this,Ae=V(le),M=Ae.first;M;)M.removed=!0,M.previous&&(M.previous=M.previous.next=null),M=M.next;Ae.first=Ae.last=null,Ae.index=d(null),k?Ae.size=0:le.size=0},delete:function(X){var le=this,Ae=V(le),M=K(le,X);if(M){var G=M.next,re=M.previous;delete Ae.index[M.index],M.removed=!0,re&&(re.next=G),G&&(G.previous=re),Ae.first===M&&(Ae.first=G),Ae.last===M&&(Ae.last=re),k?Ae.size--:le.size--}return!!M},forEach:function(le){for(var Ae=V(this),M=g(le,arguments.length>1?arguments[1]:void 0),G;G=G?G.next:Ae.first;)for(M(G.value,G.key,this);G&&G.removed;)G=G.previous},has:function(le){return!!K(this,le)}}),f(W,D?{get:function(le){var Ae=K(this,le);return Ae&&Ae.value},set:function(le,Ae){return Z(this,le===0?0:le,Ae)}}:{add:function(le){return Z(this,le=le===0?0:le,le)}}),k&&h(W,"size",{configurable:!0,get:function(){return V(this).size}}),H},setStrong:function(R,U,D){var Q=U+" Iterator",H=P(U),W=P(Q);v(R,U,function(V,Z){T(this,{type:Q,target:V,state:H(V),kind:Z,last:null})},function(){for(var V=W(this),Z=V.kind,K=V.last;K&&K.removed;)K=K.previous;return!V.target||!(V.last=K=K?K.next:V.state.first)?(V.target=null,b(void 0,!0)):b(Z==="keys"?K.key:Z==="values"?K.value:[K.key,K.value],!1)},D?"entries":"values",!D,!0),j(U)}}},"./node_modules/core-js/internals/collection.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),g=o("./node_modules/core-js/internals/is-forced.js"),m=o("./node_modules/core-js/internals/define-built-in.js"),x=o("./node_modules/core-js/internals/internal-metadata.js"),p=o("./node_modules/core-js/internals/iterate.js"),v=o("./node_modules/core-js/internals/an-instance.js"),b=o("./node_modules/core-js/internals/is-callable.js"),j=o("./node_modules/core-js/internals/is-null-or-undefined.js"),k=o("./node_modules/core-js/internals/is-object.js"),S=o("./node_modules/core-js/internals/fails.js"),F=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),T=o("./node_modules/core-js/internals/set-to-string-tag.js"),P=o("./node_modules/core-js/internals/inherit-if-required.js");c.exports=function(R,U,D){var Q=R.indexOf("Map")!==-1,H=R.indexOf("Weak")!==-1,W=Q?"set":"add",V=h[R],Z=V&&V.prototype,K=V,X={},le=function(q){var pe=f(Z[q]);m(Z,q,q==="add"?function(fe){return pe(this,fe===0?0:fe),this}:q==="delete"?function(oe){return H&&!k(oe)?!1:pe(this,oe===0?0:oe)}:q==="get"?function(fe){return H&&!k(fe)?void 0:pe(this,fe===0?0:fe)}:q==="has"?function(fe){return H&&!k(fe)?!1:pe(this,fe===0?0:fe)}:function(fe,ye){return pe(this,fe===0?0:fe,ye),this})},Ae=g(R,!b(V)||!(H||Z.forEach&&!S(function(){new V().entries().next()})));if(Ae)K=D.getConstructor(U,R,Q,W),x.enable();else if(g(R,!0)){var M=new K,G=M[W](H?{}:-0,1)!==M,re=S(function(){M.has(1)}),ne=F(function(q){new V(q)}),de=!H&&S(function(){for(var q=new V,pe=5;pe--;)q[W](pe,pe);return!q.has(-0)});ne||(K=U(function(q,pe){v(q,Z);var oe=P(new V,q,K);return j(pe)||p(pe,oe[W],{that:oe,AS_ENTRIES:Q}),oe}),K.prototype=Z,Z.constructor=K),(re||de)&&(le("delete"),le("has"),Q&&le("get")),(de||G)&&le(W),H&&Z.clear&&delete Z.clear}return X[R]=K,d({global:!0,constructor:!0,forced:K!==V},X),T(K,R),H||D.setStrong(K,R,Q),K}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(c,u,o){var d=o("./node_modules/core-js/internals/has-own-property.js"),h=o("./node_modules/core-js/internals/own-keys.js"),f=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),g=o("./node_modules/core-js/internals/object-define-property.js");c.exports=function(m,x,p){for(var v=h(x),b=g.f,j=f.f,k=0;k<v.length;k++){var S=v[k];!d(m,S)&&!(p&&d(p,S))&&b(m,S,j(x,S))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},"./node_modules/core-js/internals/create-html.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/require-object-coercible.js"),f=o("./node_modules/core-js/internals/to-string.js"),g=/"/g,m=d("".replace);c.exports=function(x,p,v,b){var j=f(h(x)),k="<"+p;return v!==""&&(k+=" "+v+'="'+m(f(b),g,"&quot;")+'"'),k+">"+j+"</"+p+">"}},"./node_modules/core-js/internals/create-iter-result-object.js":function(c){c.exports=function(u,o){return{value:u,done:o}}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/object-define-property.js"),f=o("./node_modules/core-js/internals/create-property-descriptor.js");c.exports=d?function(g,m,x){return h.f(g,m,f(1,x))}:function(g,m,x){return g[m]=x,g}},"./node_modules/core-js/internals/create-property-descriptor.js":function(c){c.exports=function(u,o){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:o}}},"./node_modules/core-js/internals/create-property.js":function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/object-define-property.js"),f=o("./node_modules/core-js/internals/create-property-descriptor.js");c.exports=function(g,m,x){d?h.f(g,m,f(0,x)):g[m]=x}},"./node_modules/core-js/internals/define-built-in-accessor.js":function(c,u,o){var d=o("./node_modules/core-js/internals/make-built-in.js"),h=o("./node_modules/core-js/internals/object-define-property.js");c.exports=function(f,g,m){return m.get&&d(m.get,g,{getter:!0}),m.set&&d(m.set,g,{setter:!0}),h.f(f,g,m)}},"./node_modules/core-js/internals/define-built-in.js":function(c,u,o){var d=o("./node_modules/core-js/internals/is-callable.js"),h=o("./node_modules/core-js/internals/object-define-property.js"),f=o("./node_modules/core-js/internals/make-built-in.js"),g=o("./node_modules/core-js/internals/define-global-property.js");c.exports=function(m,x,p,v){v||(v={});var b=v.enumerable,j=v.name!==void 0?v.name:x;if(d(p)&&f(p,j,v),v.global)b?m[x]=p:g(x,p);else{try{v.unsafe?m[x]&&(b=!0):delete m[x]}catch{}b?m[x]=p:h.f(m,x,{value:p,enumerable:!1,configurable:!v.nonConfigurable,writable:!v.nonWritable})}return m}},"./node_modules/core-js/internals/define-built-ins.js":function(c,u,o){var d=o("./node_modules/core-js/internals/define-built-in.js");c.exports=function(h,f,g){for(var m in f)d(h,m,f[m],g);return h}},"./node_modules/core-js/internals/define-global-property.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=Object.defineProperty;c.exports=function(f,g){try{h(d,f,{value:g,configurable:!0,writable:!0})}catch{d[f]=g}return g}},"./node_modules/core-js/internals/descriptors.js":function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},"./node_modules/core-js/internals/document-create-element.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/is-object.js"),f=d.document,g=h(f)&&h(f.createElement);c.exports=function(m){return g?f.createElement(m):{}}},"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":function(c){var u=TypeError,o=9007199254740991;c.exports=function(d){if(d>o)throw u("Maximum allowed index exceeded");return d}},"./node_modules/core-js/internals/dom-iterables.js":function(c){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/dom-token-list-prototype.js":function(c,u,o){var d=o("./node_modules/core-js/internals/document-create-element.js"),h=d("span").classList,f=h&&h.constructor&&h.constructor.prototype;c.exports=f===Object.prototype?void 0:f},"./node_modules/core-js/internals/enum-bug-keys.js":function(c){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/environment-is-ios-pebble.js":function(c,u,o){var d=o("./node_modules/core-js/internals/environment-user-agent.js");c.exports=/ipad|iphone|ipod/i.test(d)&&typeof Pebble<"u"},"./node_modules/core-js/internals/environment-is-ios.js":function(c,u,o){var d=o("./node_modules/core-js/internals/environment-user-agent.js");c.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)},"./node_modules/core-js/internals/environment-is-node.js":function(c,u,o){var d=o("./node_modules/core-js/internals/environment.js");c.exports=d==="NODE"},"./node_modules/core-js/internals/environment-is-webos-webkit.js":function(c,u,o){var d=o("./node_modules/core-js/internals/environment-user-agent.js");c.exports=/web0s(?!.*chrome)/i.test(d)},"./node_modules/core-js/internals/environment-user-agent.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=d.navigator,f=h&&h.userAgent;c.exports=f?String(f):""},"./node_modules/core-js/internals/environment-v8-version.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/environment-user-agent.js"),f=d.process,g=d.Deno,m=f&&f.versions||g&&g.version,x=m&&m.v8,p,v;x&&(p=x.split("."),v=p[0]>0&&p[0]<4?1:+(p[0]+p[1])),!v&&h&&(p=h.match(/Edge\/(\d+)/),(!p||p[1]>=74)&&(p=h.match(/Chrome\/(\d+)/),p&&(v=+p[1]))),c.exports=v},"./node_modules/core-js/internals/environment.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/environment-user-agent.js"),f=o("./node_modules/core-js/internals/classof-raw.js"),g=function(m){return h.slice(0,m.length)===m};c.exports=function(){return g("Bun/")?"BUN":g("Cloudflare-Workers")?"CLOUDFLARE":g("Deno/")?"DENO":g("Node.js/")?"NODE":d.Bun&&typeof Bun.version=="string"?"BUN":d.Deno&&typeof Deno.version=="object"?"DENO":f(d.process)==="process"?"NODE":d.window&&d.document?"BROWSER":"REST"}()},"./node_modules/core-js/internals/export.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,f=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=o("./node_modules/core-js/internals/define-built-in.js"),m=o("./node_modules/core-js/internals/define-global-property.js"),x=o("./node_modules/core-js/internals/copy-constructor-properties.js"),p=o("./node_modules/core-js/internals/is-forced.js");c.exports=function(v,b){var j=v.target,k=v.global,S=v.stat,F,T,P,R,U,D;if(k?T=d:S?T=d[j]||m(j,{}):T=d[j]&&d[j].prototype,T)for(P in b){if(U=b[P],v.dontCallGetSet?(D=h(T,P),R=D&&D.value):R=T[P],F=p(k?P:j+(S?".":"#")+P,v.forced),!F&&R!==void 0){if(typeof U==typeof R)continue;x(U,R)}(v.sham||R&&R.sham)&&f(U,"sham",!0),g(T,P,U,v)}}},"./node_modules/core-js/internals/fails.js":function(c){c.exports=function(u){try{return!!u()}catch{return!0}}},"./node_modules/core-js/internals/freezing.js":function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})},"./node_modules/core-js/internals/function-apply.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-bind-native.js"),h=Function.prototype,f=h.apply,g=h.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(d?g.bind(f):function(){return g.apply(f,arguments)})},"./node_modules/core-js/internals/function-bind-context.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),h=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/function-bind-native.js"),g=d(d.bind);c.exports=function(m,x){return h(m),x===void 0?m:f?g(m,x):function(){return m.apply(x,arguments)}}},"./node_modules/core-js/internals/function-bind-native.js":function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){var h=(function(){}).bind();return typeof h!="function"||h.hasOwnProperty("prototype")})},"./node_modules/core-js/internals/function-call.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-bind-native.js"),h=Function.prototype.call;c.exports=d?h.bind(h):function(){return h.apply(h,arguments)}},"./node_modules/core-js/internals/function-name.js":function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/has-own-property.js"),f=Function.prototype,g=d&&Object.getOwnPropertyDescriptor,m=h(f,"name"),x=m&&(function(){}).name==="something",p=m&&(!d||d&&g(f,"name").configurable);c.exports={EXISTS:m,PROPER:x,CONFIGURABLE:p}},"./node_modules/core-js/internals/function-uncurry-this-accessor.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/a-callable.js");c.exports=function(f,g,m){try{return d(h(Object.getOwnPropertyDescriptor(f,g)[m]))}catch{}}},"./node_modules/core-js/internals/function-uncurry-this-clause.js":function(c,u,o){var d=o("./node_modules/core-js/internals/classof-raw.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js");c.exports=function(f){if(d(f)==="Function")return h(f)}},"./node_modules/core-js/internals/function-uncurry-this.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-bind-native.js"),h=Function.prototype,f=h.call,g=d&&h.bind.bind(f,f);c.exports=d?g:function(m){return function(){return f.apply(m,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/is-callable.js"),f=function(g){return h(g)?g:void 0};c.exports=function(g,m){return arguments.length<2?f(d[g]):d[g]&&d[g][m]}},"./node_modules/core-js/internals/get-iterator-direct.js":function(c){c.exports=function(u){return{iterator:u,next:u.next,done:!1}}},"./node_modules/core-js/internals/get-iterator-method.js":function(c,u,o){var d=o("./node_modules/core-js/internals/classof.js"),h=o("./node_modules/core-js/internals/get-method.js"),f=o("./node_modules/core-js/internals/is-null-or-undefined.js"),g=o("./node_modules/core-js/internals/iterators.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=m("iterator");c.exports=function(p){if(!f(p))return h(p,x)||h(p,"@@iterator")||g[d(p)]}},"./node_modules/core-js/internals/get-iterator.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/try-to-string.js"),m=o("./node_modules/core-js/internals/get-iterator-method.js"),x=TypeError;c.exports=function(p,v){var b=arguments.length<2?m(p):v;if(h(b))return f(d(b,p));throw new x(g(p)+" is not iterable")}},"./node_modules/core-js/internals/get-json-replacer-function.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/is-array.js"),f=o("./node_modules/core-js/internals/is-callable.js"),g=o("./node_modules/core-js/internals/classof-raw.js"),m=o("./node_modules/core-js/internals/to-string.js"),x=d([].push);c.exports=function(p){if(f(p))return p;if(h(p)){for(var v=p.length,b=[],j=0;j<v;j++){var k=p[j];typeof k=="string"?x(b,k):(typeof k=="number"||g(k)==="Number"||g(k)==="String")&&x(b,m(k))}var S=b.length,F=!0;return function(T,P){if(F)return F=!1,P;if(h(this))return P;for(var R=0;R<S;R++)if(b[R]===T)return P}}}},"./node_modules/core-js/internals/get-method.js":function(c,u,o){var d=o("./node_modules/core-js/internals/a-callable.js"),h=o("./node_modules/core-js/internals/is-null-or-undefined.js");c.exports=function(f,g){var m=f[g];return h(m)?void 0:d(m)}},"./node_modules/core-js/internals/get-set-record.js":function(c,u,o){var d=o("./node_modules/core-js/internals/a-callable.js"),h=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/function-call.js"),g=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),m=o("./node_modules/core-js/internals/get-iterator-direct.js"),x="Invalid size",p=RangeError,v=TypeError,b=Math.max,j=function(k,S){this.set=k,this.size=b(S,0),this.has=d(k.has),this.keys=d(k.keys)};j.prototype={getIterator:function(){return m(h(f(this.keys,this.set)))},includes:function(k){return f(this.has,this.set,k)}},c.exports=function(k){h(k);var S=+k.size;if(S!==S)throw new v(x);var F=g(S);if(F<0)throw new p(x);return new j(k,F)}},"./node_modules/core-js/internals/global-this.js":function(c){var u=function(o){return o&&o.Math===Math&&o};c.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof ba=="object"&&ba)||u(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has-own-property.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/to-object.js"),f=d({}.hasOwnProperty);c.exports=Object.hasOwn||function(m,x){return f(h(m),x)}},"./node_modules/core-js/internals/hidden-keys.js":function(c){c.exports={}},"./node_modules/core-js/internals/host-report-errors.js":function(c){c.exports=function(u,o){try{arguments.length===1?console.error(u):console.error(u,o)}catch{}}},"./node_modules/core-js/internals/html.js":function(c,u,o){var d=o("./node_modules/core-js/internals/get-built-in.js");c.exports=d("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/document-create-element.js");c.exports=!d&&!h(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!==7})},"./node_modules/core-js/internals/indexed-object.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/classof-raw.js"),g=Object,m=d("".split);c.exports=h(function(){return!g("z").propertyIsEnumerable(0)})?function(x){return f(x)==="String"?m(x,""):g(x)}:g},"./node_modules/core-js/internals/inherit-if-required.js":function(c,u,o){var d=o("./node_modules/core-js/internals/is-callable.js"),h=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/object-set-prototype-of.js");c.exports=function(g,m,x){var p,v;return f&&d(p=m.constructor)&&p!==x&&h(v=p.prototype)&&v!==x.prototype&&f(g,v),g}},"./node_modules/core-js/internals/inspect-source.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/shared-store.js"),g=d(Function.toString);h(f.inspectSource)||(f.inspectSource=function(m){return g(m)}),c.exports=f.inspectSource},"./node_modules/core-js/internals/internal-metadata.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/hidden-keys.js"),g=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),x=o("./node_modules/core-js/internals/object-define-property.js").f,p=o("./node_modules/core-js/internals/object-get-own-property-names.js"),v=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),b=o("./node_modules/core-js/internals/object-is-extensible.js"),j=o("./node_modules/core-js/internals/uid.js"),k=o("./node_modules/core-js/internals/freezing.js"),S=!1,F=j("meta"),T=0,P=function(W){x(W,F,{value:{objectID:"O"+T++,weakData:{}}})},R=function(W,V){if(!g(W))return typeof W=="symbol"?W:(typeof W=="string"?"S":"P")+W;if(!m(W,F)){if(!b(W))return"F";if(!V)return"E";P(W)}return W[F].objectID},U=function(W,V){if(!m(W,F)){if(!b(W))return!0;if(!V)return!1;P(W)}return W[F].weakData},D=function(W){return k&&S&&b(W)&&!m(W,F)&&P(W),W},Q=function(){H.enable=function(){},S=!0;var W=p.f,V=h([].splice),Z={};Z[F]=1,W(Z).length&&(p.f=function(K){for(var X=W(K),le=0,Ae=X.length;le<Ae;le++)if(X[le]===F){V(X,le,1);break}return X},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:v.f}))},H=c.exports={enable:Q,fastKey:R,getWeakData:U,onFreeze:D};f[F]=!0},"./node_modules/core-js/internals/internal-state.js":function(c,u,o){var d=o("./node_modules/core-js/internals/weak-map-basic-detection.js"),h=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),x=o("./node_modules/core-js/internals/shared-store.js"),p=o("./node_modules/core-js/internals/shared-key.js"),v=o("./node_modules/core-js/internals/hidden-keys.js"),b="Object already initialized",j=h.TypeError,k=h.WeakMap,S,F,T,P=function(Q){return T(Q)?F(Q):S(Q,{})},R=function(Q){return function(H){var W;if(!f(H)||(W=F(H)).type!==Q)throw new j("Incompatible receiver, "+Q+" required");return W}};if(d||x.state){var U=x.state||(x.state=new k);U.get=U.get,U.has=U.has,U.set=U.set,S=function(Q,H){if(U.has(Q))throw new j(b);return H.facade=Q,U.set(Q,H),H},F=function(Q){return U.get(Q)||{}},T=function(Q){return U.has(Q)}}else{var D=p("state");v[D]=!0,S=function(Q,H){if(m(Q,D))throw new j(b);return H.facade=Q,g(Q,D,H),H},F=function(Q){return m(Q,D)?Q[D]:{}},T=function(Q){return m(Q,D)}}c.exports={set:S,get:F,has:T,enforce:P,getterFor:R}},"./node_modules/core-js/internals/is-array-iterator-method.js":function(c,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js"),h=o("./node_modules/core-js/internals/iterators.js"),f=d("iterator"),g=Array.prototype;c.exports=function(m){return m!==void 0&&(h.Array===m||g[f]===m)}},"./node_modules/core-js/internals/is-array.js":function(c,u,o){var d=o("./node_modules/core-js/internals/classof-raw.js");c.exports=Array.isArray||function(f){return d(f)==="Array"}},"./node_modules/core-js/internals/is-callable.js":function(c){var u=typeof document=="object"&&document.all;c.exports=typeof u>"u"&&u!==void 0?function(o){return typeof o=="function"||o===u}:function(o){return typeof o=="function"}},"./node_modules/core-js/internals/is-constructor.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/is-callable.js"),g=o("./node_modules/core-js/internals/classof.js"),m=o("./node_modules/core-js/internals/get-built-in.js"),x=o("./node_modules/core-js/internals/inspect-source.js"),p=function(){},v=m("Reflect","construct"),b=/^\s*(?:class|function)\b/,j=d(b.exec),k=!b.test(p),S=function(P){if(!f(P))return!1;try{return v(p,[],P),!0}catch{return!1}},F=function(P){if(!f(P))return!1;switch(g(P)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return k||!!j(b,x(P))}catch{return!0}};F.sham=!0,c.exports=!v||h(function(){var T;return S(S.call)||!S(Object)||!S(function(){T=!0})||T})?F:S},"./node_modules/core-js/internals/is-forced.js":function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/is-callable.js"),f=/#|\.prototype\./,g=function(b,j){var k=x[m(b)];return k===v?!0:k===p?!1:h(j)?d(j):!!j},m=g.normalize=function(b){return String(b).replace(f,".").toLowerCase()},x=g.data={},p=g.NATIVE="N",v=g.POLYFILL="P";c.exports=g},"./node_modules/core-js/internals/is-iterable.js":function(c,u,o){var d=o("./node_modules/core-js/internals/classof.js"),h=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/is-null-or-undefined.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/iterators.js"),x=g("iterator"),p=Object;c.exports=function(v){if(f(v))return!1;var b=p(v);return b[x]!==void 0||"@@iterator"in b||h(m,d(b))}},"./node_modules/core-js/internals/is-null-or-undefined.js":function(c){c.exports=function(u){return u==null}},"./node_modules/core-js/internals/is-object.js":function(c,u,o){var d=o("./node_modules/core-js/internals/is-callable.js");c.exports=function(h){return typeof h=="object"?h!==null:d(h)}},"./node_modules/core-js/internals/is-possible-prototype.js":function(c,u,o){var d=o("./node_modules/core-js/internals/is-object.js");c.exports=function(h){return d(h)||h===null}},"./node_modules/core-js/internals/is-pure.js":function(c){c.exports=!1},"./node_modules/core-js/internals/is-symbol.js":function(c,u,o){var d=o("./node_modules/core-js/internals/get-built-in.js"),h=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/object-is-prototype-of.js"),g=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),m=Object;c.exports=g?function(x){return typeof x=="symbol"}:function(x){var p=d("Symbol");return h(p)&&f(p.prototype,m(x))}},"./node_modules/core-js/internals/iterate-simple.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js");c.exports=function(h,f,g){for(var m=g?h:h.iterator,x=h.next,p,v;!(p=d(x,m)).done;)if(v=f(p.value),v!==void 0)return v}},"./node_modules/core-js/internals/iterate.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-bind-context.js"),h=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/try-to-string.js"),m=o("./node_modules/core-js/internals/is-array-iterator-method.js"),x=o("./node_modules/core-js/internals/length-of-array-like.js"),p=o("./node_modules/core-js/internals/object-is-prototype-of.js"),v=o("./node_modules/core-js/internals/get-iterator.js"),b=o("./node_modules/core-js/internals/get-iterator-method.js"),j=o("./node_modules/core-js/internals/iterator-close.js"),k=TypeError,S=function(T,P){this.stopped=T,this.result=P},F=S.prototype;c.exports=function(T,P,R){var U=R&&R.that,D=!!(R&&R.AS_ENTRIES),Q=!!(R&&R.IS_RECORD),H=!!(R&&R.IS_ITERATOR),W=!!(R&&R.INTERRUPTED),V=d(P,U),Z,K,X,le,Ae,M,G,re=function(de){return Z&&j(Z,"normal"),new S(!0,de)},ne=function(de){return D?(f(de),W?V(de[0],de[1],re):V(de[0],de[1])):W?V(de,re):V(de)};if(Q)Z=T.iterator;else if(H)Z=T;else{if(K=b(T),!K)throw new k(g(T)+" is not iterable");if(m(K)){for(X=0,le=x(T);le>X;X++)if(Ae=ne(T[X]),Ae&&p(F,Ae))return Ae;return new S(!1)}Z=v(T,K)}for(M=Q?T.next:Z.next;!(G=h(M,Z)).done;){try{Ae=ne(G.value)}catch(de){j(Z,"throw",de)}if(typeof Ae=="object"&&Ae&&p(F,Ae))return Ae}return new S(!1)}},"./node_modules/core-js/internals/iterator-close-all.js":function(c,u,o){var d=o("./node_modules/core-js/internals/iterator-close.js");c.exports=function(h,f,g){for(var m=h.length-1;m>=0;m--)if(h[m]!==void 0)try{g=d(h[m].iterator,f,g)}catch(x){f="throw",g=x}if(f==="throw")throw g;return g}},"./node_modules/core-js/internals/iterator-close.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/get-method.js");c.exports=function(g,m,x){var p,v;h(g);try{if(p=f(g,"return"),!p){if(m==="throw")throw x;return x}p=d(p,g)}catch(b){v=!0,p=b}if(m==="throw")throw x;if(v)throw p;return h(p),x}},"./node_modules/core-js/internals/iterator-create-constructor.js":function(c,u,o){var d=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,h=o("./node_modules/core-js/internals/object-create.js"),f=o("./node_modules/core-js/internals/create-property-descriptor.js"),g=o("./node_modules/core-js/internals/set-to-string-tag.js"),m=o("./node_modules/core-js/internals/iterators.js"),x=function(){return this};c.exports=function(p,v,b,j){var k=v+" Iterator";return p.prototype=h(d,{next:f(+!j,b)}),g(p,k,!1,!0),m[k]=x,p}},"./node_modules/core-js/internals/iterator-create-proxy.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/object-create.js"),f=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=o("./node_modules/core-js/internals/define-built-ins.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),x=o("./node_modules/core-js/internals/internal-state.js"),p=o("./node_modules/core-js/internals/get-method.js"),v=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,b=o("./node_modules/core-js/internals/create-iter-result-object.js"),j=o("./node_modules/core-js/internals/iterator-close.js"),k=o("./node_modules/core-js/internals/iterator-close-all.js"),S=m("toStringTag"),F="IteratorHelper",T="WrapForValidIterator",P="normal",R="throw",U=x.set,D=function(W){var V=x.getterFor(W?T:F);return g(h(v),{next:function(){var K=V(this);if(W)return K.nextHandler();if(K.done)return b(void 0,!0);try{var X=K.nextHandler();return K.returnHandlerResult?X:b(X,K.done)}catch(le){throw K.done=!0,le}},return:function(){var Z=V(this),K=Z.iterator;if(Z.done=!0,W){var X=p(K,"return");return X?d(X,K):b(void 0,!0)}if(Z.inner)try{j(Z.inner.iterator,P)}catch(le){return j(K,R,le)}if(Z.openIters)try{k(Z.openIters,P)}catch(le){return j(K,R,le)}return K&&j(K,P),b(void 0,!0)}})},Q=D(!0),H=D(!1);f(H,S,"Iterator Helper"),c.exports=function(W,V,Z){var K=function(le,Ae){Ae?(Ae.iterator=le.iterator,Ae.next=le.next):Ae=le,Ae.type=V?T:F,Ae.returnHandlerResult=!!Z,Ae.nextHandler=W,Ae.counter=0,Ae.done=!1,U(this,Ae)};return K.prototype=V?Q:H,K}},"./node_modules/core-js/internals/iterator-define.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/is-pure.js"),g=o("./node_modules/core-js/internals/function-name.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/iterator-create-constructor.js"),p=o("./node_modules/core-js/internals/object-get-prototype-of.js"),v=o("./node_modules/core-js/internals/object-set-prototype-of.js"),b=o("./node_modules/core-js/internals/set-to-string-tag.js"),j=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),k=o("./node_modules/core-js/internals/define-built-in.js"),S=o("./node_modules/core-js/internals/well-known-symbol.js"),F=o("./node_modules/core-js/internals/iterators.js"),T=o("./node_modules/core-js/internals/iterators-core.js"),P=g.PROPER,R=g.CONFIGURABLE,U=T.IteratorPrototype,D=T.BUGGY_SAFARI_ITERATORS,Q=S("iterator"),H="keys",W="values",V="entries",Z=function(){return this};c.exports=function(K,X,le,Ae,M,G,re){x(le,X,Ae);var ne=function(ie){if(ie===M&&fe)return fe;if(!D&&ie&&ie in pe)return pe[ie];switch(ie){case H:return function(){return new le(this,ie)};case W:return function(){return new le(this,ie)};case V:return function(){return new le(this,ie)}}return function(){return new le(this)}},de=X+" Iterator",q=!1,pe=K.prototype,oe=pe[Q]||pe["@@iterator"]||M&&pe[M],fe=!D&&oe||ne(M),ye=X==="Array"&&pe.entries||oe,ue,_e,be;if(ye&&(ue=p(ye.call(new K)),ue!==Object.prototype&&ue.next&&(!f&&p(ue)!==U&&(v?v(ue,U):m(ue[Q])||k(ue,Q,Z)),b(ue,de,!0,!0),f&&(F[de]=Z))),P&&M===W&&oe&&oe.name!==W&&(!f&&R?j(pe,"name",W):(q=!0,fe=function(){return h(oe,this)})),M)if(_e={values:ne(W),keys:G?fe:ne(H),entries:ne(V)},re)for(be in _e)(D||q||!(be in pe))&&k(pe,be,_e[be]);else d({target:X,proto:!0,forced:D||q},_e);return(!f||re)&&pe[Q]!==fe&&k(pe,Q,fe,{name:M}),F[X]=fe,_e}},"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":function(c){c.exports=function(u,o){var d=typeof Iterator=="function"&&Iterator.prototype[u];if(d)try{d.call({next:null},o).next()}catch{return!0}}},"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js");c.exports=function(h,f){var g=d.Iterator,m=g&&g.prototype,x=m&&m[h],p=!1;if(x)try{x.call({next:function(){return{done:!0}},return:function(){p=!0}},-1)}catch(v){v instanceof f||(p=!1)}if(!p)return x}},"./node_modules/core-js/internals/iterators-core.js":function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/object-create.js"),m=o("./node_modules/core-js/internals/object-get-prototype-of.js"),x=o("./node_modules/core-js/internals/define-built-in.js"),p=o("./node_modules/core-js/internals/well-known-symbol.js"),v=o("./node_modules/core-js/internals/is-pure.js"),b=p("iterator"),j=!1,k,S,F;[].keys&&(F=[].keys(),"next"in F?(S=m(m(F)),S!==Object.prototype&&(k=S)):j=!0);var T=!f(k)||d(function(){var P={};return k[b].call(P)!==P});T?k={}:v&&(k=g(k)),h(k[b])||x(k,b,function(){return this}),c.exports={IteratorPrototype:k,BUGGY_SAFARI_ITERATORS:j}},"./node_modules/core-js/internals/iterators.js":function(c){c.exports={}},"./node_modules/core-js/internals/length-of-array-like.js":function(c,u,o){var d=o("./node_modules/core-js/internals/to-length.js");c.exports=function(h){return d(h.length)}},"./node_modules/core-js/internals/make-built-in.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/is-callable.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/descriptors.js"),x=o("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,p=o("./node_modules/core-js/internals/inspect-source.js"),v=o("./node_modules/core-js/internals/internal-state.js"),b=v.enforce,j=v.get,k=String,S=Object.defineProperty,F=d("".slice),T=d("".replace),P=d([].join),R=m&&!h(function(){return S(function(){},"length",{value:8}).length!==8}),U=String(String).split("String"),D=c.exports=function(Q,H,W){F(k(H),0,7)==="Symbol("&&(H="["+T(k(H),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),W&&W.getter&&(H="get "+H),W&&W.setter&&(H="set "+H),(!g(Q,"name")||x&&Q.name!==H)&&(m?S(Q,"name",{value:H,configurable:!0}):Q.name=H),R&&W&&g(W,"arity")&&Q.length!==W.arity&&S(Q,"length",{value:W.arity});try{W&&g(W,"constructor")&&W.constructor?m&&S(Q,"prototype",{writable:!1}):Q.prototype&&(Q.prototype=void 0)}catch{}var V=b(Q);return g(V,"source")||(V.source=P(U,typeof H=="string"?H:"")),Q};Function.prototype.toString=D(function(){return f(this)&&j(this).source||p(this)},"toString")},"./node_modules/core-js/internals/math-trunc.js":function(c){var u=Math.ceil,o=Math.floor;c.exports=Math.trunc||function(h){var f=+h;return(f>0?o:u)(f)}},"./node_modules/core-js/internals/microtask.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/safe-get-built-in.js"),f=o("./node_modules/core-js/internals/function-bind-context.js"),g=o("./node_modules/core-js/internals/task.js").set,m=o("./node_modules/core-js/internals/queue.js"),x=o("./node_modules/core-js/internals/environment-is-ios.js"),p=o("./node_modules/core-js/internals/environment-is-ios-pebble.js"),v=o("./node_modules/core-js/internals/environment-is-webos-webkit.js"),b=o("./node_modules/core-js/internals/environment-is-node.js"),j=d.MutationObserver||d.WebKitMutationObserver,k=d.document,S=d.process,F=d.Promise,T=h("queueMicrotask"),P,R,U,D,Q;if(!T){var H=new m,W=function(){var V,Z;for(b&&(V=S.domain)&&V.exit();Z=H.get();)try{Z()}catch(K){throw H.head&&P(),K}V&&V.enter()};!x&&!b&&!v&&j&&k?(R=!0,U=k.createTextNode(""),new j(W).observe(U,{characterData:!0}),P=function(){U.data=R=!R}):!p&&F&&F.resolve?(D=F.resolve(void 0),D.constructor=F,Q=f(D.then,D),P=function(){Q(W)}):b?P=function(){S.nextTick(W)}:(g=f(g,d),P=function(){g(W)}),T=function(V){H.head||P(),H.add(V)}}c.exports=T},"./node_modules/core-js/internals/new-promise-capability.js":function(c,u,o){var d=o("./node_modules/core-js/internals/a-callable.js"),h=TypeError,f=function(g){var m,x;this.promise=new g(function(p,v){if(m!==void 0||x!==void 0)throw new h("Bad Promise constructor");m=p,x=v}),this.resolve=d(m),this.reject=d(x)};c.exports.f=function(g){return new f(g)}},"./node_modules/core-js/internals/object-assign.js":function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/function-call.js"),g=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/object-keys.js"),x=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),p=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),v=o("./node_modules/core-js/internals/to-object.js"),b=o("./node_modules/core-js/internals/indexed-object.js"),j=Object.assign,k=Object.defineProperty,S=h([].concat);c.exports=!j||g(function(){if(d&&j({b:1},j(k({},"a",{enumerable:!0,get:function(){k(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var F={},T={},P=Symbol("assign detection"),R="abcdefghijklmnopqrst";return F[P]=7,R.split("").forEach(function(U){T[U]=U}),j({},F)[P]!==7||m(j({},T)).join("")!==R})?function(T,P){for(var R=v(T),U=arguments.length,D=1,Q=x.f,H=p.f;U>D;)for(var W=b(arguments[D++]),V=Q?S(m(W),Q(W)):m(W),Z=V.length,K=0,X;Z>K;)X=V[K++],(!d||f(H,W,X))&&(R[X]=W[X]);return R}:j},"./node_modules/core-js/internals/object-create.js":function(c,u,o){var d=o("./node_modules/core-js/internals/an-object.js"),h=o("./node_modules/core-js/internals/object-define-properties.js"),f=o("./node_modules/core-js/internals/enum-bug-keys.js"),g=o("./node_modules/core-js/internals/hidden-keys.js"),m=o("./node_modules/core-js/internals/html.js"),x=o("./node_modules/core-js/internals/document-create-element.js"),p=o("./node_modules/core-js/internals/shared-key.js"),v=">",b="<",j="prototype",k="script",S=p("IE_PROTO"),F=function(){},T=function(Q){return b+k+v+Q+b+"/"+k+v},P=function(Q){Q.write(T("")),Q.close();var H=Q.parentWindow.Object;return Q=null,H},R=function(){var Q=x("iframe"),H="java"+k+":",W;return Q.style.display="none",m.appendChild(Q),Q.src=String(H),W=Q.contentWindow.document,W.open(),W.write(T("document.F=Object")),W.close(),W.F},U,D=function(){try{U=new ActiveXObject("htmlfile")}catch{}D=typeof document<"u"?document.domain&&U?P(U):R():P(U);for(var Q=f.length;Q--;)delete D[j][f[Q]];return D()};g[S]=!0,c.exports=Object.create||function(H,W){var V;return H!==null?(F[j]=d(H),V=new F,F[j]=null,V[S]=H):V=D(),W===void 0?V:h.f(V,W)}},"./node_modules/core-js/internals/object-define-properties.js":function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),f=o("./node_modules/core-js/internals/object-define-property.js"),g=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/to-indexed-object.js"),x=o("./node_modules/core-js/internals/object-keys.js");u.f=d&&!h?Object.defineProperties:function(v,b){g(v);for(var j=m(b),k=x(b),S=k.length,F=0,T;S>F;)f.f(v,T=k[F++],j[T]);return v}},"./node_modules/core-js/internals/object-define-property.js":function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/ie8-dom-define.js"),f=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),g=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/to-property-key.js"),x=TypeError,p=Object.defineProperty,v=Object.getOwnPropertyDescriptor,b="enumerable",j="configurable",k="writable";u.f=d?f?function(F,T,P){if(g(F),T=m(T),g(P),typeof F=="function"&&T==="prototype"&&"value"in P&&k in P&&!P[k]){var R=v(F,T);R&&R[k]&&(F[T]=P.value,P={configurable:j in P?P[j]:R[j],enumerable:b in P?P[b]:R[b],writable:!1})}return p(F,T,P)}:p:function(F,T,P){if(g(F),T=m(T),g(P),h)try{return p(F,T,P)}catch{}if("get"in P||"set"in P)throw new x("Accessors not supported");return"value"in P&&(F[T]=P.value),F}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),g=o("./node_modules/core-js/internals/create-property-descriptor.js"),m=o("./node_modules/core-js/internals/to-indexed-object.js"),x=o("./node_modules/core-js/internals/to-property-key.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),v=o("./node_modules/core-js/internals/ie8-dom-define.js"),b=Object.getOwnPropertyDescriptor;u.f=d?b:function(k,S){if(k=m(k),S=x(S),v)try{return b(k,S)}catch{}if(p(k,S))return g(!h(f.f,k,S),k[S])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(c,u,o){var d=o("./node_modules/core-js/internals/classof-raw.js"),h=o("./node_modules/core-js/internals/to-indexed-object.js"),f=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,g=o("./node_modules/core-js/internals/array-slice.js"),m=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],x=function(p){try{return f(p)}catch{return g(m)}};c.exports.f=function(v){return m&&d(v)==="Window"?x(v):f(h(v))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(c,u,o){var d=o("./node_modules/core-js/internals/object-keys-internal.js"),h=o("./node_modules/core-js/internals/enum-bug-keys.js"),f=h.concat("length","prototype");u.f=Object.getOwnPropertyNames||function(m){return d(m,f)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(c,u){u.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(c,u,o){var d=o("./node_modules/core-js/internals/has-own-property.js"),h=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/to-object.js"),g=o("./node_modules/core-js/internals/shared-key.js"),m=o("./node_modules/core-js/internals/correct-prototype-getter.js"),x=g("IE_PROTO"),p=Object,v=p.prototype;c.exports=m?p.getPrototypeOf:function(b){var j=f(b);if(d(j,x))return j[x];var k=j.constructor;return h(k)&&j instanceof k?k.prototype:j instanceof p?v:null}},"./node_modules/core-js/internals/object-is-extensible.js":function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/classof-raw.js"),g=o("./node_modules/core-js/internals/array-buffer-non-extensible.js"),m=Object.isExtensible,x=d(function(){});c.exports=x||g?function(v){return!h(v)||g&&f(v)==="ArrayBuffer"?!1:m?m(v):!0}:m},"./node_modules/core-js/internals/object-is-prototype-of.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js");c.exports=d({}.isPrototypeOf)},"./node_modules/core-js/internals/object-keys-internal.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/to-indexed-object.js"),g=o("./node_modules/core-js/internals/array-includes.js").indexOf,m=o("./node_modules/core-js/internals/hidden-keys.js"),x=d([].push);c.exports=function(p,v){var b=f(p),j=0,k=[],S;for(S in b)!h(m,S)&&h(b,S)&&x(k,S);for(;v.length>j;)h(b,S=v[j++])&&(~g(k,S)||x(k,S));return k}},"./node_modules/core-js/internals/object-keys.js":function(c,u,o){var d=o("./node_modules/core-js/internals/object-keys-internal.js"),h=o("./node_modules/core-js/internals/enum-bug-keys.js");c.exports=Object.keys||function(g){return d(g,h)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(c,u){var o={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,h=d&&!o.call({1:2},1);u.f=h?function(g){var m=d(this,g);return!!m&&m.enumerable}:o},"./node_modules/core-js/internals/object-set-prototype-of.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),h=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/require-object-coercible.js"),g=o("./node_modules/core-js/internals/a-possible-prototype.js");c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var m=!1,x={},p;try{p=d(Object.prototype,"__proto__","set"),p(x,[]),m=x instanceof Array}catch{}return function(b,j){return f(b),g(j),h(b)&&(m?p(b,j):b.__proto__=j),b}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(c,u,o){var d=o("./node_modules/core-js/internals/to-string-tag-support.js"),h=o("./node_modules/core-js/internals/classof.js");c.exports=d?{}.toString:function(){return"[object "+h(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/is-object.js"),g=TypeError;c.exports=function(m,x){var p,v;if(x==="string"&&h(p=m.toString)&&!f(v=d(p,m))||h(p=m.valueOf)&&!f(v=d(p,m))||x!=="string"&&h(p=m.toString)&&!f(v=d(p,m)))return v;throw new g("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(c,u,o){var d=o("./node_modules/core-js/internals/get-built-in.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/object-get-own-property-names.js"),g=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),m=o("./node_modules/core-js/internals/an-object.js"),x=h([].concat);c.exports=d("Reflect","ownKeys")||function(v){var b=f.f(m(v)),j=g.f;return j?x(b,j(v)):b}},"./node_modules/core-js/internals/path.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js");c.exports=d},"./node_modules/core-js/internals/perform.js":function(c){c.exports=function(u){try{return{error:!1,value:u()}}catch(o){return{error:!0,value:o}}}},"./node_modules/core-js/internals/promise-constructor-detection.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/promise-native-constructor.js"),f=o("./node_modules/core-js/internals/is-callable.js"),g=o("./node_modules/core-js/internals/is-forced.js"),m=o("./node_modules/core-js/internals/inspect-source.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),p=o("./node_modules/core-js/internals/environment.js"),v=o("./node_modules/core-js/internals/is-pure.js"),b=o("./node_modules/core-js/internals/environment-v8-version.js"),j=h&&h.prototype,k=x("species"),S=!1,F=f(d.PromiseRejectionEvent),T=g("Promise",function(){var P=m(h),R=P!==String(h);if(!R&&b===66||v&&!(j.catch&&j.finally))return!0;if(!b||b<51||!/native code/.test(P)){var U=new h(function(H){H(1)}),D=function(H){H(function(){},function(){})},Q=U.constructor={};if(Q[k]=D,S=U.then(function(){})instanceof D,!S)return!0}return!R&&(p==="BROWSER"||p==="DENO")&&!F});c.exports={CONSTRUCTOR:T,REJECTION_EVENT:F,SUBCLASSING:S}},"./node_modules/core-js/internals/promise-native-constructor.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js");c.exports=d.Promise},"./node_modules/core-js/internals/promise-resolve.js":function(c,u,o){var d=o("./node_modules/core-js/internals/an-object.js"),h=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/new-promise-capability.js");c.exports=function(g,m){if(d(g),h(m)&&m.constructor===g)return m;var x=f.f(g),p=x.resolve;return p(m),x.promise}},"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":function(c,u,o){var d=o("./node_modules/core-js/internals/promise-native-constructor.js"),h=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),f=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;c.exports=f||!h(function(g){d.all(g).then(void 0,function(){})})},"./node_modules/core-js/internals/queue.js":function(c){var u=function(){this.head=null,this.tail=null};u.prototype={add:function(o){var d={item:o,next:null},h=this.tail;h?h.next=d:this.head=d,this.tail=d},get:function(){var o=this.head;if(o){var d=this.head=o.next;return d===null&&(this.tail=null),o.item}}},c.exports=u},"./node_modules/core-js/internals/regexp-exec.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/to-string.js"),g=o("./node_modules/core-js/internals/regexp-flags.js"),m=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),x=o("./node_modules/core-js/internals/shared.js"),p=o("./node_modules/core-js/internals/object-create.js"),v=o("./node_modules/core-js/internals/internal-state.js").get,b=o("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),j=o("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),k=x("native-string-replace",String.prototype.replace),S=RegExp.prototype.exec,F=S,T=h("".charAt),P=h("".indexOf),R=h("".replace),U=h("".slice),D=function(){var V=/a/,Z=/b*/g;return d(S,V,"a"),d(S,Z,"a"),V.lastIndex!==0||Z.lastIndex!==0}(),Q=m.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0,W=D||H||Q||b||j;W&&(F=function(Z){var K=this,X=v(K),le=f(Z),Ae=X.raw,M,G,re,ne,de,q,pe;if(Ae)return Ae.lastIndex=K.lastIndex,M=d(F,Ae,le),K.lastIndex=Ae.lastIndex,M;var oe=X.groups,fe=Q&&K.sticky,ye=d(g,K),ue=K.source,_e=0,be=le;if(fe&&(ye=R(ye,"y",""),P(ye,"g")===-1&&(ye+="g"),be=U(le,K.lastIndex),K.lastIndex>0&&(!K.multiline||K.multiline&&T(le,K.lastIndex-1)!==`
`)&&(ue="(?: "+ue+")",be=" "+be,_e++),G=new RegExp("^(?:"+ue+")",ye)),H&&(G=new RegExp("^"+ue+"$(?!\\s)",ye)),D&&(re=K.lastIndex),ne=d(S,fe?G:K,be),fe?ne?(ne.input=U(ne.input,_e),ne[0]=U(ne[0],_e),ne.index=K.lastIndex,K.lastIndex+=ne[0].length):K.lastIndex=0:D&&ne&&(K.lastIndex=K.global?ne.index+ne[0].length:re),H&&ne&&ne.length>1&&d(k,ne[0],G,function(){for(de=1;de<arguments.length-2;de++)arguments[de]===void 0&&(ne[de]=void 0)}),ne&&oe)for(ne.groups=q=p(null),de=0;de<oe.length;de++)pe=oe[de],q[pe[0]]=ne[pe[1]];return ne}),c.exports=F},"./node_modules/core-js/internals/regexp-flags-detection.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/fails.js"),f=d.RegExp,g=!h(function(){var m=!0;try{f(".","d")}catch{m=!1}var x={},p="",v=m?"dgimsy":"gimsy",b=function(F,T){Object.defineProperty(x,F,{get:function(){return p+=T,!0}})},j={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};m&&(j.hasIndices="d");for(var k in j)b(k,j[k]);var S=Object.getOwnPropertyDescriptor(f.prototype,"flags").get.call(x);return S!==v||p!==v});c.exports={correct:g}},"./node_modules/core-js/internals/regexp-flags.js":function(c,u,o){var d=o("./node_modules/core-js/internals/an-object.js");c.exports=function(){var h=d(this),f="";return h.hasIndices&&(f+="d"),h.global&&(f+="g"),h.ignoreCase&&(f+="i"),h.multiline&&(f+="m"),h.dotAll&&(f+="s"),h.unicode&&(f+="u"),h.unicodeSets&&(f+="v"),h.sticky&&(f+="y"),f}},"./node_modules/core-js/internals/regexp-get-flags.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/object-is-prototype-of.js"),g=o("./node_modules/core-js/internals/regexp-flags-detection.js"),m=o("./node_modules/core-js/internals/regexp-flags.js"),x=RegExp.prototype;c.exports=g.correct?function(p){return p.flags}:function(p){return!g.correct&&f(x,p)&&!h(p,"flags")?d(m,p):p.flags}},"./node_modules/core-js/internals/regexp-sticky-helpers.js":function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/global-this.js"),f=h.RegExp,g=d(function(){var p=f("a","y");return p.lastIndex=2,p.exec("abcd")!==null}),m=g||d(function(){return!f("a","y").sticky}),x=g||d(function(){var p=f("^r","gy");return p.lastIndex=2,p.exec("str")!==null});c.exports={BROKEN_CARET:x,MISSED_STICKY:m,UNSUPPORTED_Y:g}},"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/global-this.js"),f=h.RegExp;c.exports=d(function(){var g=f(".","s");return!(g.dotAll&&g.test(`
`)&&g.flags==="s")})},"./node_modules/core-js/internals/regexp-unsupported-ncg.js":function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/global-this.js"),f=h.RegExp;c.exports=d(function(){var g=f("(?<a>b)","g");return g.exec("b").groups.a!=="b"||"b".replace(g,"$<a>c")!=="bc"})},"./node_modules/core-js/internals/require-object-coercible.js":function(c,u,o){var d=o("./node_modules/core-js/internals/is-null-or-undefined.js"),h=TypeError;c.exports=function(f){if(d(f))throw new h("Can't call method on "+f);return f}},"./node_modules/core-js/internals/safe-get-built-in.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/descriptors.js"),f=Object.getOwnPropertyDescriptor;c.exports=function(g){if(!h)return d[g];var m=f(d,g);return m&&m.value}},"./node_modules/core-js/internals/schedulers-fix.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/function-apply.js"),f=o("./node_modules/core-js/internals/is-callable.js"),g=o("./node_modules/core-js/internals/environment.js"),m=o("./node_modules/core-js/internals/environment-user-agent.js"),x=o("./node_modules/core-js/internals/array-slice.js"),p=o("./node_modules/core-js/internals/validate-arguments-length.js"),v=d.Function,b=/MSIE .\./.test(m)||g==="BUN"&&function(){var j=d.Bun.version.split(".");return j.length<3||j[0]==="0"&&(j[1]<3||j[1]==="3"&&j[2]==="0")}();c.exports=function(j,k){var S=k?2:1;return b?function(F,T){var P=p(arguments.length,1)>S,R=f(F)?F:v(F),U=P?x(arguments,S):[],D=P?function(){h(R,this,U)}:R;return k?j(D,T):j(D)}:j}},"./node_modules/core-js/internals/set-clone.js":function(c,u,o){var d=o("./node_modules/core-js/internals/set-helpers.js"),h=o("./node_modules/core-js/internals/set-iterate.js"),f=d.Set,g=d.add;c.exports=function(m){var x=new f;return h(m,function(p){g(x,p)}),x}},"./node_modules/core-js/internals/set-difference.js":function(c,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),h=o("./node_modules/core-js/internals/set-helpers.js"),f=o("./node_modules/core-js/internals/set-clone.js"),g=o("./node_modules/core-js/internals/set-size.js"),m=o("./node_modules/core-js/internals/get-set-record.js"),x=o("./node_modules/core-js/internals/set-iterate.js"),p=o("./node_modules/core-js/internals/iterate-simple.js"),v=h.has,b=h.remove;c.exports=function(k){var S=d(this),F=m(k),T=f(S);return g(S)<=F.size?x(S,function(P){F.includes(P)&&b(T,P)}):p(F.getIterator(),function(P){v(T,P)&&b(T,P)}),T}},"./node_modules/core-js/internals/set-helpers.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=Set.prototype;c.exports={Set,add:d(h.add),has:d(h.has),remove:d(h.delete),proto:h}},"./node_modules/core-js/internals/set-intersection.js":function(c,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),h=o("./node_modules/core-js/internals/set-helpers.js"),f=o("./node_modules/core-js/internals/set-size.js"),g=o("./node_modules/core-js/internals/get-set-record.js"),m=o("./node_modules/core-js/internals/set-iterate.js"),x=o("./node_modules/core-js/internals/iterate-simple.js"),p=h.Set,v=h.add,b=h.has;c.exports=function(k){var S=d(this),F=g(k),T=new p;return f(S)>F.size?x(F.getIterator(),function(P){b(S,P)&&v(T,P)}):m(S,function(P){F.includes(P)&&v(T,P)}),T}},"./node_modules/core-js/internals/set-is-disjoint-from.js":function(c,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),h=o("./node_modules/core-js/internals/set-helpers.js").has,f=o("./node_modules/core-js/internals/set-size.js"),g=o("./node_modules/core-js/internals/get-set-record.js"),m=o("./node_modules/core-js/internals/set-iterate.js"),x=o("./node_modules/core-js/internals/iterate-simple.js"),p=o("./node_modules/core-js/internals/iterator-close.js");c.exports=function(b){var j=d(this),k=g(b);if(f(j)<=k.size)return m(j,function(F){if(k.includes(F))return!1},!0)!==!1;var S=k.getIterator();return x(S,function(F){if(h(j,F))return p(S,"normal",!1)})!==!1}},"./node_modules/core-js/internals/set-is-subset-of.js":function(c,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),h=o("./node_modules/core-js/internals/set-size.js"),f=o("./node_modules/core-js/internals/set-iterate.js"),g=o("./node_modules/core-js/internals/get-set-record.js");c.exports=function(x){var p=d(this),v=g(x);return h(p)>v.size?!1:f(p,function(b){if(!v.includes(b))return!1},!0)!==!1}},"./node_modules/core-js/internals/set-is-superset-of.js":function(c,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),h=o("./node_modules/core-js/internals/set-helpers.js").has,f=o("./node_modules/core-js/internals/set-size.js"),g=o("./node_modules/core-js/internals/get-set-record.js"),m=o("./node_modules/core-js/internals/iterate-simple.js"),x=o("./node_modules/core-js/internals/iterator-close.js");c.exports=function(v){var b=d(this),j=g(v);if(f(b)<j.size)return!1;var k=j.getIterator();return m(k,function(S){if(!h(b,S))return x(k,"normal",!1)})!==!1}},"./node_modules/core-js/internals/set-iterate.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/iterate-simple.js"),f=o("./node_modules/core-js/internals/set-helpers.js"),g=f.Set,m=f.proto,x=d(m.forEach),p=d(m.keys),v=p(new g).next;c.exports=function(b,j,k){return k?h({iterator:p(b),next:v},j):x(b,j)}},"./node_modules/core-js/internals/set-size.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),h=o("./node_modules/core-js/internals/set-helpers.js");c.exports=d(h.proto,"size","get")||function(f){return f.size}},"./node_modules/core-js/internals/set-species.js":function(c,u,o){var d=o("./node_modules/core-js/internals/get-built-in.js"),h=o("./node_modules/core-js/internals/define-built-in-accessor.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),g=o("./node_modules/core-js/internals/descriptors.js"),m=f("species");c.exports=function(x){var p=d(x);g&&p&&!p[m]&&h(p,m,{configurable:!0,get:function(){return this}})}},"./node_modules/core-js/internals/set-symmetric-difference.js":function(c,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),h=o("./node_modules/core-js/internals/set-helpers.js"),f=o("./node_modules/core-js/internals/set-clone.js"),g=o("./node_modules/core-js/internals/get-set-record.js"),m=o("./node_modules/core-js/internals/iterate-simple.js"),x=h.add,p=h.has,v=h.remove;c.exports=function(j){var k=d(this),S=g(j).getIterator(),F=f(k);return m(S,function(T){p(k,T)?v(F,T):x(F,T)}),F}},"./node_modules/core-js/internals/set-to-string-tag.js":function(c,u,o){var d=o("./node_modules/core-js/internals/object-define-property.js").f,h=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),g=f("toStringTag");c.exports=function(m,x,p){m&&!p&&(m=m.prototype),m&&!h(m,g)&&d(m,g,{configurable:!0,value:x})}},"./node_modules/core-js/internals/set-union.js":function(c,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),h=o("./node_modules/core-js/internals/set-helpers.js").add,f=o("./node_modules/core-js/internals/set-clone.js"),g=o("./node_modules/core-js/internals/get-set-record.js"),m=o("./node_modules/core-js/internals/iterate-simple.js");c.exports=function(p){var v=d(this),b=g(p).getIterator(),j=f(v);return m(b,function(k){h(j,k)}),j}},"./node_modules/core-js/internals/shared-key.js":function(c,u,o){var d=o("./node_modules/core-js/internals/shared.js"),h=o("./node_modules/core-js/internals/uid.js"),f=d("keys");c.exports=function(g){return f[g]||(f[g]=h(g))}},"./node_modules/core-js/internals/shared-store.js":function(c,u,o){var d=o("./node_modules/core-js/internals/is-pure.js"),h=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/define-global-property.js"),g="__core-js_shared__",m=c.exports=h[g]||f(g,{});(m.versions||(m.versions=[])).push({version:"3.45.1",mode:d?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"})},"./node_modules/core-js/internals/shared.js":function(c,u,o){var d=o("./node_modules/core-js/internals/shared-store.js");c.exports=function(h,f){return d[h]||(d[h]=f||{})}},"./node_modules/core-js/internals/species-constructor.js":function(c,u,o){var d=o("./node_modules/core-js/internals/an-object.js"),h=o("./node_modules/core-js/internals/a-constructor.js"),f=o("./node_modules/core-js/internals/is-null-or-undefined.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),m=g("species");c.exports=function(x,p){var v=d(x).constructor,b;return v===void 0||f(b=d(v)[m])?p:h(b)}},"./node_modules/core-js/internals/string-html-forced.js":function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js");c.exports=function(h){return d(function(){var f=""[h]('"');return f!==f.toLowerCase()||f.split('"').length>3})}},"./node_modules/core-js/internals/string-multibyte.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),f=o("./node_modules/core-js/internals/to-string.js"),g=o("./node_modules/core-js/internals/require-object-coercible.js"),m=d("".charAt),x=d("".charCodeAt),p=d("".slice),v=function(b){return function(j,k){var S=f(g(j)),F=h(k),T=S.length,P,R;return F<0||F>=T?b?"":void 0:(P=x(S,F),P<55296||P>56319||F+1===T||(R=x(S,F+1))<56320||R>57343?b?m(S,F):P:b?p(S,F,F+2):(P-55296<<10)+(R-56320)+65536)}};c.exports={codeAt:v(!1),charAt:v(!0)}},"./node_modules/core-js/internals/string-trim.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=o("./node_modules/core-js/internals/require-object-coercible.js"),f=o("./node_modules/core-js/internals/to-string.js"),g=o("./node_modules/core-js/internals/whitespaces.js"),m=d("".replace),x=RegExp("^["+g+"]+"),p=RegExp("(^|[^"+g+"])["+g+"]+$"),v=function(b){return function(j){var k=f(h(j));return b&1&&(k=m(k,x,"")),b&2&&(k=m(k,p,"$1")),k}};c.exports={start:v(1),end:v(2),trim:v(3)}},"./node_modules/core-js/internals/symbol-constructor-detection.js":function(c,u,o){var d=o("./node_modules/core-js/internals/environment-v8-version.js"),h=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/global-this.js"),g=f.String;c.exports=!!Object.getOwnPropertySymbols&&!h(function(){var m=Symbol("symbol detection");return!g(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&d&&d<41})},"./node_modules/core-js/internals/symbol-define-to-primitive.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/get-built-in.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),g=o("./node_modules/core-js/internals/define-built-in.js");c.exports=function(){var m=h("Symbol"),x=m&&m.prototype,p=x&&x.valueOf,v=f("toPrimitive");x&&!x[v]&&g(x,v,function(b){return d(p,this)},{arity:1})}},"./node_modules/core-js/internals/symbol-registry-detection.js":function(c,u,o){var d=o("./node_modules/core-js/internals/symbol-constructor-detection.js");c.exports=d&&!!Symbol.for&&!!Symbol.keyFor},"./node_modules/core-js/internals/task.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/function-apply.js"),f=o("./node_modules/core-js/internals/function-bind-context.js"),g=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),x=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/html.js"),v=o("./node_modules/core-js/internals/array-slice.js"),b=o("./node_modules/core-js/internals/document-create-element.js"),j=o("./node_modules/core-js/internals/validate-arguments-length.js"),k=o("./node_modules/core-js/internals/environment-is-ios.js"),S=o("./node_modules/core-js/internals/environment-is-node.js"),F=d.setImmediate,T=d.clearImmediate,P=d.process,R=d.Dispatch,U=d.Function,D=d.MessageChannel,Q=d.String,H=0,W={},V="onreadystatechange",Z,K,X,le;x(function(){Z=d.location});var Ae=function(ne){if(m(W,ne)){var de=W[ne];delete W[ne],de()}},M=function(ne){return function(){Ae(ne)}},G=function(ne){Ae(ne.data)},re=function(ne){d.postMessage(Q(ne),Z.protocol+"//"+Z.host)};(!F||!T)&&(F=function(de){j(arguments.length,1);var q=g(de)?de:U(de),pe=v(arguments,1);return W[++H]=function(){h(q,void 0,pe)},K(H),H},T=function(de){delete W[de]},S?K=function(ne){P.nextTick(M(ne))}:R&&R.now?K=function(ne){R.now(M(ne))}:D&&!k?(X=new D,le=X.port2,X.port1.onmessage=G,K=f(le.postMessage,le)):d.addEventListener&&g(d.postMessage)&&!d.importScripts&&Z&&Z.protocol!=="file:"&&!x(re)?(K=re,d.addEventListener("message",G,!1)):V in b("script")?K=function(ne){p.appendChild(b("script"))[V]=function(){p.removeChild(this),Ae(ne)}}:K=function(ne){setTimeout(M(ne),0)}),c.exports={set:F,clear:T}},"./node_modules/core-js/internals/this-number-value.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js");c.exports=d(1.1.valueOf)},"./node_modules/core-js/internals/to-absolute-index.js":function(c,u,o){var d=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),h=Math.max,f=Math.min;c.exports=function(g,m){var x=d(g);return x<0?h(x+m,0):f(x,m)}},"./node_modules/core-js/internals/to-indexed-object.js":function(c,u,o){var d=o("./node_modules/core-js/internals/indexed-object.js"),h=o("./node_modules/core-js/internals/require-object-coercible.js");c.exports=function(f){return d(h(f))}},"./node_modules/core-js/internals/to-integer-or-infinity.js":function(c,u,o){var d=o("./node_modules/core-js/internals/math-trunc.js");c.exports=function(h){var f=+h;return f!==f||f===0?0:d(f)}},"./node_modules/core-js/internals/to-length.js":function(c,u,o){var d=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),h=Math.min;c.exports=function(f){var g=d(f);return g>0?h(g,9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(c,u,o){var d=o("./node_modules/core-js/internals/require-object-coercible.js"),h=Object;c.exports=function(f){return h(d(f))}},"./node_modules/core-js/internals/to-primitive.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),h=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/is-symbol.js"),g=o("./node_modules/core-js/internals/get-method.js"),m=o("./node_modules/core-js/internals/ordinary-to-primitive.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),p=TypeError,v=x("toPrimitive");c.exports=function(b,j){if(!h(b)||f(b))return b;var k=g(b,v),S;if(k){if(j===void 0&&(j="default"),S=d(k,b,j),!h(S)||f(S))return S;throw new p("Can't convert object to primitive value")}return j===void 0&&(j="number"),m(b,j)}},"./node_modules/core-js/internals/to-property-key.js":function(c,u,o){var d=o("./node_modules/core-js/internals/to-primitive.js"),h=o("./node_modules/core-js/internals/is-symbol.js");c.exports=function(f){var g=d(f,"string");return h(g)?g:g+""}},"./node_modules/core-js/internals/to-set-like.js":function(c,u,o){var d=o("./node_modules/core-js/internals/get-built-in.js"),h=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/is-iterable.js"),g=o("./node_modules/core-js/internals/is-object.js"),m=d("Set"),x=function(p){return g(p)&&typeof p.size=="number"&&h(p.has)&&h(p.keys)};c.exports=function(p){return x(p)?p:f(p)?new m(p):p}},"./node_modules/core-js/internals/to-string-tag-support.js":function(c,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js"),h=d("toStringTag"),f={};f[h]="z",c.exports=String(f)==="[object z]"},"./node_modules/core-js/internals/to-string.js":function(c,u,o){var d=o("./node_modules/core-js/internals/classof.js"),h=String;c.exports=function(f){if(d(f)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return h(f)}},"./node_modules/core-js/internals/try-to-string.js":function(c){var u=String;c.exports=function(o){try{return u(o)}catch{return"Object"}}},"./node_modules/core-js/internals/uid.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),h=0,f=Math.random(),g=d(1.1.toString);c.exports=function(m){return"Symbol("+(m===void 0?"":m)+")_"+g(++h+f,36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(c,u,o){var d=o("./node_modules/core-js/internals/symbol-constructor-detection.js");c.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},"./node_modules/core-js/internals/v8-prototype-define-bug.js":function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/fails.js");c.exports=d&&h(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},"./node_modules/core-js/internals/validate-arguments-length.js":function(c){var u=TypeError;c.exports=function(o,d){if(o<d)throw new u("Not enough arguments");return o}},"./node_modules/core-js/internals/weak-map-basic-detection.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/is-callable.js"),f=d.WeakMap;c.exports=h(f)&&/native code/.test(String(f))},"./node_modules/core-js/internals/well-known-symbol-define.js":function(c,u,o){var d=o("./node_modules/core-js/internals/path.js"),h=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),g=o("./node_modules/core-js/internals/object-define-property.js").f;c.exports=function(m){var x=d.Symbol||(d.Symbol={});h(x,m)||g(x,m,{value:f.f(m)})}},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(c,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js");u.f=d},"./node_modules/core-js/internals/well-known-symbol.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/shared.js"),f=o("./node_modules/core-js/internals/has-own-property.js"),g=o("./node_modules/core-js/internals/uid.js"),m=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),x=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),p=d.Symbol,v=h("wks"),b=x?p.for||p:p&&p.withoutSetter||g;c.exports=function(j){return f(v,j)||(v[j]=m&&f(p,j)?p[j]:b("Symbol."+j)),v[j]}},"./node_modules/core-js/internals/whitespaces.js":function(c){c.exports=`	
\v\f\r \u2028\u2029\uFEFF`},"./node_modules/core-js/modules/es.array.concat.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/is-array.js"),g=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/to-object.js"),x=o("./node_modules/core-js/internals/length-of-array-like.js"),p=o("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),v=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/array-species-create.js"),j=o("./node_modules/core-js/internals/array-method-has-species-support.js"),k=o("./node_modules/core-js/internals/well-known-symbol.js"),S=o("./node_modules/core-js/internals/environment-v8-version.js"),F=k("isConcatSpreadable"),T=S>=51||!h(function(){var U=[];return U[F]=!1,U.concat()[0]!==U}),P=function(U){if(!g(U))return!1;var D=U[F];return D!==void 0?!!D:f(U)},R=!T||!j("concat");d({target:"Array",proto:!0,arity:1,forced:R},{concat:function(D){var Q=m(this),H=b(Q,0),W=0,V,Z,K,X,le;for(V=-1,K=arguments.length;V<K;V++)if(le=V===-1?Q:arguments[V],P(le))for(X=x(le),p(W+X),Z=0;Z<X;Z++,W++)Z in le&&v(H,W,le[Z]);else p(W+1),v(H,W++,le);return H.length=W,H}})},"./node_modules/core-js/modules/es.array.from.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/array-from.js"),f=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),g=!f(function(m){Array.from(m)});d({target:"Array",stat:!0,forced:g},{from:h})},"./node_modules/core-js/modules/es.array.iterator.js":function(c,u,o){var d=o("./node_modules/core-js/internals/to-indexed-object.js"),h=o("./node_modules/core-js/internals/add-to-unscopables.js"),f=o("./node_modules/core-js/internals/iterators.js"),g=o("./node_modules/core-js/internals/internal-state.js"),m=o("./node_modules/core-js/internals/object-define-property.js").f,x=o("./node_modules/core-js/internals/iterator-define.js"),p=o("./node_modules/core-js/internals/create-iter-result-object.js"),v=o("./node_modules/core-js/internals/is-pure.js"),b=o("./node_modules/core-js/internals/descriptors.js"),j="Array Iterator",k=g.set,S=g.getterFor(j);c.exports=x(Array,"Array",function(T,P){k(this,{type:j,target:d(T),index:0,kind:P})},function(){var T=S(this),P=T.target,R=T.index++;if(!P||R>=P.length)return T.target=null,p(void 0,!0);switch(T.kind){case"keys":return p(R,!1);case"values":return p(P[R],!1)}return p([R,P[R]],!1)},"values");var F=f.Arguments=f.Array;if(h("keys"),h("values"),h("entries"),!v&&b&&F.name!=="values")try{m(F,"name",{value:"values"})}catch{}},"./node_modules/core-js/modules/es.array.join.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/indexed-object.js"),g=o("./node_modules/core-js/internals/to-indexed-object.js"),m=o("./node_modules/core-js/internals/array-method-is-strict.js"),x=h([].join),p=f!==Object,v=p||!m("join",",");d({target:"Array",proto:!0,forced:v},{join:function(j){return x(g(this),j===void 0?",":j)}})},"./node_modules/core-js/modules/es.array.map.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/array-iteration.js").map,f=o("./node_modules/core-js/internals/array-method-has-species-support.js"),g=f("map");d({target:"Array",proto:!0,forced:!g},{map:function(x){return h(this,x,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/is-array.js"),f=o("./node_modules/core-js/internals/is-constructor.js"),g=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/to-absolute-index.js"),x=o("./node_modules/core-js/internals/length-of-array-like.js"),p=o("./node_modules/core-js/internals/to-indexed-object.js"),v=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),j=o("./node_modules/core-js/internals/array-method-has-species-support.js"),k=o("./node_modules/core-js/internals/array-slice.js"),S=j("slice"),F=b("species"),T=Array,P=Math.max;d({target:"Array",proto:!0,forced:!S},{slice:function(U,D){var Q=p(this),H=x(Q),W=m(U,H),V=m(D===void 0?H:D,H),Z,K,X;if(h(Q)&&(Z=Q.constructor,f(Z)&&(Z===T||h(Z.prototype))?Z=void 0:g(Z)&&(Z=Z[F],Z===null&&(Z=void 0)),Z===T||Z===void 0))return k(Q,W,V);for(K=new(Z===void 0?T:Z)(P(V-W,0)),X=0;W<V;W++,X++)W in Q&&v(K,X,Q[W]);return K.length=X,K}})},"./node_modules/core-js/modules/es.function.name.js":function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/function-name.js").EXISTS,f=o("./node_modules/core-js/internals/function-uncurry-this.js"),g=o("./node_modules/core-js/internals/define-built-in-accessor.js"),m=Function.prototype,x=f(m.toString),p=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,v=f(p.exec),b="name";d&&!h&&g(m,b,{configurable:!0,get:function(){try{return v(p,x(this))[1]}catch{return""}}})},"./node_modules/core-js/modules/es.iterator.constructor.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/an-instance.js"),g=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/object-get-prototype-of.js"),p=o("./node_modules/core-js/internals/define-built-in-accessor.js"),v=o("./node_modules/core-js/internals/create-property.js"),b=o("./node_modules/core-js/internals/fails.js"),j=o("./node_modules/core-js/internals/has-own-property.js"),k=o("./node_modules/core-js/internals/well-known-symbol.js"),S=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,F=o("./node_modules/core-js/internals/descriptors.js"),T=o("./node_modules/core-js/internals/is-pure.js"),P="constructor",R="Iterator",U=k("toStringTag"),D=TypeError,Q=h[R],H=T||!m(Q)||Q.prototype!==S||!b(function(){Q({})}),W=function(){if(f(this,S),x(this)===S)throw new D("Abstract class Iterator not directly constructable")},V=function(Z,K){F?p(S,Z,{configurable:!0,get:function(){return K},set:function(X){if(g(this),this===S)throw new D("You can't redefine this property");j(this,Z)?this[Z]=X:v(this,Z,X)}}):S[Z]=K};j(S,U)||V(U,R),(H||!j(S,P)||S[P]===Object)&&V(P,W),W.prototype=S,d({global:!0,constructor:!0,forced:H},{Iterator:W})},"./node_modules/core-js/modules/es.iterator.for-each.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/iterate.js"),g=o("./node_modules/core-js/internals/a-callable.js"),m=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/get-iterator-direct.js"),p=o("./node_modules/core-js/internals/iterator-close.js"),v=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),b=v("forEach",TypeError);d({target:"Iterator",proto:!0,real:!0,forced:b},{forEach:function(k){m(this);try{g(k)}catch(T){p(this,"throw",T)}if(b)return h(b,this,k);var S=x(this),F=0;f(S,function(T){k(T,F++)},{IS_RECORD:!0})}})},"./node_modules/core-js/modules/es.iterator.map.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/a-callable.js"),g=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/get-iterator-direct.js"),x=o("./node_modules/core-js/internals/iterator-create-proxy.js"),p=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),v=o("./node_modules/core-js/internals/iterator-close.js"),b=o("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),j=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),k=o("./node_modules/core-js/internals/is-pure.js"),S=!k&&!b("map",function(){}),F=!k&&!S&&j("map",TypeError),T=k||S||F,P=x(function(){var R=this.iterator,U=g(h(this.next,R)),D=this.done=!!U.done;if(!D)return p(R,this.mapper,[U.value,this.counter++],!0)});d({target:"Iterator",proto:!0,real:!0,forced:T},{map:function(U){g(this);try{f(U)}catch(D){v(this,"throw",D)}return F?h(F,this,U):new P(m(this),{mapper:U})}})},"./node_modules/core-js/modules/es.json.stringify.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/get-built-in.js"),f=o("./node_modules/core-js/internals/function-apply.js"),g=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/is-callable.js"),v=o("./node_modules/core-js/internals/is-symbol.js"),b=o("./node_modules/core-js/internals/array-slice.js"),j=o("./node_modules/core-js/internals/get-json-replacer-function.js"),k=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),S=String,F=h("JSON","stringify"),T=m(/./.exec),P=m("".charAt),R=m("".charCodeAt),U=m("".replace),D=m(1.1.toString),Q=/[\uD800-\uDFFF]/g,H=/^[\uD800-\uDBFF]$/,W=/^[\uDC00-\uDFFF]$/,V=!k||x(function(){var le=h("Symbol")("stringify detection");return F([le])!=="[null]"||F({a:le})!=="{}"||F(Object(le))!=="{}"}),Z=x(function(){return F("\uDF06\uD834")!=='"\\udf06\\ud834"'||F("\uDEAD")!=='"\\udead"'}),K=function(le,Ae){var M=b(arguments),G=j(Ae);if(!(!p(G)&&(le===void 0||v(le))))return M[1]=function(re,ne){if(p(G)&&(ne=g(G,this,S(re),ne)),!v(ne))return ne},f(F,null,M)},X=function(le,Ae,M){var G=P(M,Ae-1),re=P(M,Ae+1);return T(H,le)&&!T(W,re)||T(W,le)&&!T(H,G)?"\\u"+D(R(le,0),16):le};F&&d({target:"JSON",stat:!0,arity:3,forced:V||Z},{stringify:function(Ae,M,G){var re=b(arguments),ne=f(V?K:F,null,re);return Z&&typeof ne=="string"?U(ne,Q,X):ne}})},"./node_modules/core-js/modules/es.number.constructor.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/is-pure.js"),f=o("./node_modules/core-js/internals/descriptors.js"),g=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/path.js"),x=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/is-forced.js"),v=o("./node_modules/core-js/internals/has-own-property.js"),b=o("./node_modules/core-js/internals/inherit-if-required.js"),j=o("./node_modules/core-js/internals/object-is-prototype-of.js"),k=o("./node_modules/core-js/internals/is-symbol.js"),S=o("./node_modules/core-js/internals/to-primitive.js"),F=o("./node_modules/core-js/internals/fails.js"),T=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,P=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,R=o("./node_modules/core-js/internals/object-define-property.js").f,U=o("./node_modules/core-js/internals/this-number-value.js"),D=o("./node_modules/core-js/internals/string-trim.js").trim,Q="Number",H=g[Q],W=m[Q],V=H.prototype,Z=g.TypeError,K=x("".slice),X=x("".charCodeAt),le=function(de){var q=S(de,"number");return typeof q=="bigint"?q:Ae(q)},Ae=function(de){var q=S(de,"number"),pe,oe,fe,ye,ue,_e,be,ie;if(k(q))throw new Z("Cannot convert a Symbol value to a number");if(typeof q=="string"&&q.length>2){if(q=D(q),pe=X(q,0),pe===43||pe===45){if(oe=X(q,2),oe===88||oe===120)return NaN}else if(pe===48){switch(X(q,1)){case 66:case 98:fe=2,ye=49;break;case 79:case 111:fe=8,ye=55;break;default:return+q}for(ue=K(q,2),_e=ue.length,be=0;be<_e;be++)if(ie=X(ue,be),ie<48||ie>ye)return NaN;return parseInt(ue,fe)}}return+q},M=p(Q,!H(" 0o1")||!H("0b1")||H("+0x1")),G=function(de){return j(V,de)&&F(function(){U(de)})},re=function(q){var pe=arguments.length<1?0:H(le(q));return G(this)?b(Object(pe),this,re):pe};re.prototype=V,M&&!h&&(V.constructor=re),d({global:!0,constructor:!0,wrap:!0,forced:M},{Number:re});var ne=function(de,q){for(var pe=f?T(q):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),oe=0,fe;pe.length>oe;oe++)v(q,fe=pe[oe])&&!v(de,fe)&&R(de,fe,P(q,fe))};h&&W&&ne(m[Q],W),(M||h)&&ne(m[Q],H)},"./node_modules/core-js/modules/es.object.assign.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/object-assign.js");d({target:"Object",stat:!0,arity:2,forced:Object.assign!==h},{assign:h})},"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),f=o("./node_modules/core-js/internals/fails.js"),g=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),m=o("./node_modules/core-js/internals/to-object.js"),x=!h||f(function(){g.f(1)});d({target:"Object",stat:!0,forced:x},{getOwnPropertySymbols:function(v){var b=g.f;return b?b(m(v)):[]}})},"./node_modules/core-js/modules/es.object.keys.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/to-object.js"),f=o("./node_modules/core-js/internals/object-keys.js"),g=o("./node_modules/core-js/internals/fails.js"),m=g(function(){f(1)});d({target:"Object",stat:!0,forced:m},{keys:function(p){return f(h(p))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(c,u,o){var d=o("./node_modules/core-js/internals/to-string-tag-support.js"),h=o("./node_modules/core-js/internals/define-built-in.js"),f=o("./node_modules/core-js/internals/object-to-string.js");d||h(Object.prototype,"toString",f,{unsafe:!0})},"./node_modules/core-js/modules/es.promise.all.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/a-callable.js"),g=o("./node_modules/core-js/internals/new-promise-capability.js"),m=o("./node_modules/core-js/internals/perform.js"),x=o("./node_modules/core-js/internals/iterate.js"),p=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");d({target:"Promise",stat:!0,forced:p},{all:function(b){var j=this,k=g.f(j),S=k.resolve,F=k.reject,T=m(function(){var P=f(j.resolve),R=[],U=0,D=1;x(b,function(Q){var H=U++,W=!1;D++,h(P,j,Q).then(function(V){W||(W=!0,R[H]=V,--D||S(R))},F)}),--D||S(R)});return T.error&&F(T.value),k.promise}})},"./node_modules/core-js/modules/es.promise.catch.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/is-pure.js"),f=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,g=o("./node_modules/core-js/internals/promise-native-constructor.js"),m=o("./node_modules/core-js/internals/get-built-in.js"),x=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/define-built-in.js"),v=g&&g.prototype;if(d({target:"Promise",proto:!0,forced:f,real:!0},{catch:function(j){return this.then(void 0,j)}}),!h&&x(g)){var b=m("Promise").prototype.catch;v.catch!==b&&p(v,"catch",b,{unsafe:!0})}},"./node_modules/core-js/modules/es.promise.constructor.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/is-pure.js"),f=o("./node_modules/core-js/internals/environment-is-node.js"),g=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/path.js"),x=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/define-built-in.js"),v=o("./node_modules/core-js/internals/object-set-prototype-of.js"),b=o("./node_modules/core-js/internals/set-to-string-tag.js"),j=o("./node_modules/core-js/internals/set-species.js"),k=o("./node_modules/core-js/internals/a-callable.js"),S=o("./node_modules/core-js/internals/is-callable.js"),F=o("./node_modules/core-js/internals/is-object.js"),T=o("./node_modules/core-js/internals/an-instance.js"),P=o("./node_modules/core-js/internals/species-constructor.js"),R=o("./node_modules/core-js/internals/task.js").set,U=o("./node_modules/core-js/internals/microtask.js"),D=o("./node_modules/core-js/internals/host-report-errors.js"),Q=o("./node_modules/core-js/internals/perform.js"),H=o("./node_modules/core-js/internals/queue.js"),W=o("./node_modules/core-js/internals/internal-state.js"),V=o("./node_modules/core-js/internals/promise-native-constructor.js"),Z=o("./node_modules/core-js/internals/promise-constructor-detection.js"),K=o("./node_modules/core-js/internals/new-promise-capability.js"),X="Promise",le=Z.CONSTRUCTOR,Ae=Z.REJECTION_EVENT,M=Z.SUBCLASSING,G=W.getterFor(X),re=W.set,ne=V&&V.prototype,de=V,q=ne,pe=g.TypeError,oe=g.document,fe=g.process,ye=K.f,ue=ye,_e=!!(oe&&oe.createEvent&&g.dispatchEvent),be="unhandledrejection",ie="rejectionhandled",et=0,ke=1,Re=2,Oe=1,qe=2,Ge,pt,nt,Lt,Xe=function(He){var at;return F(He)&&S(at=He.then)?at:!1},St=function(He,at){var rt=at.value,ot=at.state===ke,At=ot?He.ok:He.fail,or=He.resolve,vr=He.reject,wt=He.domain,Ye,ft,Ht;try{At?(ot||(at.rejection===qe&&it(at),at.rejection=Oe),At===!0?Ye=rt:(wt&&wt.enter(),Ye=At(rt),wt&&(wt.exit(),Ht=!0)),Ye===He.promise?vr(new pe("Promise-chain cycle")):(ft=Xe(Ye))?x(ft,Ye,or,vr):or(Ye)):vr(rt)}catch($t){wt&&!Ht&&wt.exit(),vr($t)}},qt=function(He,at){He.notified||(He.notified=!0,U(function(){for(var rt=He.reactions,ot;ot=rt.get();)St(ot,He);He.notified=!1,at&&!He.rejection&&tt(He)}))},Bt=function(He,at,rt){var ot,At;_e?(ot=oe.createEvent("Event"),ot.promise=at,ot.reason=rt,ot.initEvent(He,!1,!0),g.dispatchEvent(ot)):ot={promise:at,reason:rt},!Ae&&(At=g["on"+He])?At(ot):He===be&&D("Unhandled promise rejection",rt)},tt=function(He){x(R,g,function(){var at=He.facade,rt=He.value,ot=Ct(He),At;if(ot&&(At=Q(function(){f?fe.emit("unhandledRejection",rt,at):Bt(be,at,rt)}),He.rejection=f||Ct(He)?qe:Oe,At.error))throw At.value})},Ct=function(He){return He.rejection!==Oe&&!He.parent},it=function(He){x(R,g,function(){var at=He.facade;f?fe.emit("rejectionHandled",at):Bt(ie,at,He.value)})},Rt=function(He,at,rt){return function(ot){He(at,ot,rt)}},Tt=function(He,at,rt){He.done||(He.done=!0,rt&&(He=rt),He.value=at,He.state=Re,qt(He,!0))},ut=function(He,at,rt){if(!He.done){He.done=!0,rt&&(He=rt);try{if(He.facade===at)throw new pe("Promise can't be resolved itself");var ot=Xe(at);ot?U(function(){var At={done:!1};try{x(ot,at,Rt(ut,At,He),Rt(Tt,At,He))}catch(or){Tt(At,or,He)}}):(He.value=at,He.state=ke,qt(He,!1))}catch(At){Tt({done:!1},At,He)}}};if(le&&(de=function(at){T(this,q),k(at),x(Ge,this);var rt=G(this);try{at(Rt(ut,rt),Rt(Tt,rt))}catch(ot){Tt(rt,ot)}},q=de.prototype,Ge=function(at){re(this,{type:X,done:!1,notified:!1,parent:!1,reactions:new H,rejection:!1,state:et,value:null})},Ge.prototype=p(q,"then",function(at,rt){var ot=G(this),At=ye(P(this,de));return ot.parent=!0,At.ok=S(at)?at:!0,At.fail=S(rt)&&rt,At.domain=f?fe.domain:void 0,ot.state===et?ot.reactions.add(At):U(function(){St(At,ot)}),At.promise}),pt=function(){var He=new Ge,at=G(He);this.promise=He,this.resolve=Rt(ut,at),this.reject=Rt(Tt,at)},K.f=ye=function(He){return He===de||He===nt?new pt(He):ue(He)},!h&&S(V)&&ne!==Object.prototype)){Lt=ne.then,M||p(ne,"then",function(at,rt){var ot=this;return new de(function(At,or){x(Lt,ot,At,or)}).then(at,rt)},{unsafe:!0});try{delete ne.constructor}catch{}v&&v(ne,q)}d({global:!0,constructor:!0,wrap:!0,forced:le},{Promise:de}),nt=m.Promise,b(de,X,!1,!0),j(X)},"./node_modules/core-js/modules/es.promise.js":function(c,u,o){o("./node_modules/core-js/modules/es.promise.constructor.js"),o("./node_modules/core-js/modules/es.promise.all.js"),o("./node_modules/core-js/modules/es.promise.catch.js"),o("./node_modules/core-js/modules/es.promise.race.js"),o("./node_modules/core-js/modules/es.promise.reject.js"),o("./node_modules/core-js/modules/es.promise.resolve.js")},"./node_modules/core-js/modules/es.promise.race.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/a-callable.js"),g=o("./node_modules/core-js/internals/new-promise-capability.js"),m=o("./node_modules/core-js/internals/perform.js"),x=o("./node_modules/core-js/internals/iterate.js"),p=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");d({target:"Promise",stat:!0,forced:p},{race:function(b){var j=this,k=g.f(j),S=k.reject,F=m(function(){var T=f(j.resolve);x(b,function(P){h(T,j,P).then(k.resolve,S)})});return F.error&&S(F.value),k.promise}})},"./node_modules/core-js/modules/es.promise.reject.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/new-promise-capability.js"),f=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;d({target:"Promise",stat:!0,forced:f},{reject:function(m){var x=h.f(this),p=x.reject;return p(m),x.promise}})},"./node_modules/core-js/modules/es.promise.resolve.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/get-built-in.js"),f=o("./node_modules/core-js/internals/is-pure.js"),g=o("./node_modules/core-js/internals/promise-native-constructor.js"),m=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,x=o("./node_modules/core-js/internals/promise-resolve.js"),p=h("Promise"),v=f&&!m;d({target:"Promise",stat:!0,forced:f||m},{resolve:function(j){return x(v&&this===p?g:this,j)}})},"./node_modules/core-js/modules/es.regexp.exec.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/regexp-exec.js");d({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})},"./node_modules/core-js/modules/es.regexp.test.js":function(c,u,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/is-callable.js"),g=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/to-string.js"),x=function(){var v=!1,b=/[ac]/;return b.exec=function(){return v=!0,/./.exec.apply(this,arguments)},b.test("abc")===!0&&v}(),p=/./.test;d({target:"RegExp",proto:!0,forced:!x},{test:function(v){var b=g(this),j=m(v),k=b.exec;if(!f(k))return h(p,b,j);var S=h(k,b,j);return S===null?!1:(g(S),!0)}})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(c,u,o){var d=o("./node_modules/core-js/internals/function-name.js").PROPER,h=o("./node_modules/core-js/internals/define-built-in.js"),f=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=o("./node_modules/core-js/internals/fails.js"),x=o("./node_modules/core-js/internals/regexp-get-flags.js"),p="toString",v=RegExp.prototype,b=v[p],j=m(function(){return b.call({source:"a",flags:"b"})!=="/a/b"}),k=d&&b.name!==p;(j||k)&&h(v,p,function(){var F=f(this),T=g(F.source),P=g(x(F));return"/"+T+"/"+P},{unsafe:!0})},"./node_modules/core-js/modules/es.set.constructor.js":function(c,u,o){var d=o("./node_modules/core-js/internals/collection.js"),h=o("./node_modules/core-js/internals/collection-strong.js");d("Set",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},h)},"./node_modules/core-js/modules/es.set.js":function(c,u,o){o("./node_modules/core-js/modules/es.set.constructor.js")},"./node_modules/core-js/modules/es.string.iterator.js":function(c,u,o){var d=o("./node_modules/core-js/internals/string-multibyte.js").charAt,h=o("./node_modules/core-js/internals/to-string.js"),f=o("./node_modules/core-js/internals/internal-state.js"),g=o("./node_modules/core-js/internals/iterator-define.js"),m=o("./node_modules/core-js/internals/create-iter-result-object.js"),x="String Iterator",p=f.set,v=f.getterFor(x);g(String,"String",function(b){p(this,{type:x,string:h(b),index:0})},function(){var j=v(this),k=j.string,S=j.index,F;return S>=k.length?m(void 0,!0):(F=d(k,S),j.index+=F.length,m(F,!1))})},"./node_modules/core-js/modules/es.string.link.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/create-html.js"),f=o("./node_modules/core-js/internals/string-html-forced.js");d({target:"String",proto:!0,forced:f("link")},{link:function(m){return h(this,"a","href",m)}})},"./node_modules/core-js/modules/es.symbol.constructor.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/function-call.js"),g=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/is-pure.js"),x=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),v=o("./node_modules/core-js/internals/fails.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),j=o("./node_modules/core-js/internals/object-is-prototype-of.js"),k=o("./node_modules/core-js/internals/an-object.js"),S=o("./node_modules/core-js/internals/to-indexed-object.js"),F=o("./node_modules/core-js/internals/to-property-key.js"),T=o("./node_modules/core-js/internals/to-string.js"),P=o("./node_modules/core-js/internals/create-property-descriptor.js"),R=o("./node_modules/core-js/internals/object-create.js"),U=o("./node_modules/core-js/internals/object-keys.js"),D=o("./node_modules/core-js/internals/object-get-own-property-names.js"),Q=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),H=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),W=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),V=o("./node_modules/core-js/internals/object-define-property.js"),Z=o("./node_modules/core-js/internals/object-define-properties.js"),K=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),X=o("./node_modules/core-js/internals/define-built-in.js"),le=o("./node_modules/core-js/internals/define-built-in-accessor.js"),Ae=o("./node_modules/core-js/internals/shared.js"),M=o("./node_modules/core-js/internals/shared-key.js"),G=o("./node_modules/core-js/internals/hidden-keys.js"),re=o("./node_modules/core-js/internals/uid.js"),ne=o("./node_modules/core-js/internals/well-known-symbol.js"),de=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),q=o("./node_modules/core-js/internals/well-known-symbol-define.js"),pe=o("./node_modules/core-js/internals/symbol-define-to-primitive.js"),oe=o("./node_modules/core-js/internals/set-to-string-tag.js"),fe=o("./node_modules/core-js/internals/internal-state.js"),ye=o("./node_modules/core-js/internals/array-iteration.js").forEach,ue=M("hidden"),_e="Symbol",be="prototype",ie=fe.set,et=fe.getterFor(_e),ke=Object[be],Re=h.Symbol,Oe=Re&&Re[be],qe=h.RangeError,Ge=h.TypeError,pt=h.QObject,nt=W.f,Lt=V.f,Xe=Q.f,St=K.f,qt=g([].push),Bt=Ae("symbols"),tt=Ae("op-symbols"),Ct=Ae("wks"),it=!pt||!pt[be]||!pt[be].findChild,Rt=function(wt,Ye,ft){var Ht=nt(ke,Ye);Ht&&delete ke[Ye],Lt(wt,Ye,ft),Ht&&wt!==ke&&Lt(ke,Ye,Ht)},Tt=x&&v(function(){return R(Lt({},"a",{get:function(){return Lt(this,"a",{value:7}).a}})).a!==7})?Rt:Lt,ut=function(wt,Ye){var ft=Bt[wt]=R(Oe);return ie(ft,{type:_e,tag:wt,description:Ye}),x||(ft.description=Ye),ft},He=function(Ye,ft,Ht){Ye===ke&&He(tt,ft,Ht),k(Ye);var $t=F(ft);return k(Ht),b(Bt,$t)?(Ht.enumerable?(b(Ye,ue)&&Ye[ue][$t]&&(Ye[ue][$t]=!1),Ht=R(Ht,{enumerable:P(0,!1)})):(b(Ye,ue)||Lt(Ye,ue,P(1,R(null))),Ye[ue][$t]=!0),Tt(Ye,$t,Ht)):Lt(Ye,$t,Ht)},at=function(Ye,ft){k(Ye);var Ht=S(ft),$t=U(Ht).concat(vr(Ht));return ye($t,function(Er){(!x||f(ot,Ht,Er))&&He(Ye,Er,Ht[Er])}),Ye},rt=function(Ye,ft){return ft===void 0?R(Ye):at(R(Ye),ft)},ot=function(Ye){var ft=F(Ye),Ht=f(St,this,ft);return this===ke&&b(Bt,ft)&&!b(tt,ft)?!1:Ht||!b(this,ft)||!b(Bt,ft)||b(this,ue)&&this[ue][ft]?Ht:!0},At=function(Ye,ft){var Ht=S(Ye),$t=F(ft);if(!(Ht===ke&&b(Bt,$t)&&!b(tt,$t))){var Er=nt(Ht,$t);return Er&&b(Bt,$t)&&!(b(Ht,ue)&&Ht[ue][$t])&&(Er.enumerable=!0),Er}},or=function(Ye){var ft=Xe(S(Ye)),Ht=[];return ye(ft,function($t){!b(Bt,$t)&&!b(G,$t)&&qt(Ht,$t)}),Ht},vr=function(wt){var Ye=wt===ke,ft=Xe(Ye?tt:S(wt)),Ht=[];return ye(ft,function($t){b(Bt,$t)&&(!Ye||b(ke,$t))&&qt(Ht,Bt[$t])}),Ht};p||(Re=function(){if(j(Oe,this))throw new Ge("Symbol is not a constructor");var Ye=!arguments.length||arguments[0]===void 0?void 0:T(arguments[0]),ft=re(Ye),Ht=function($t){var Er=this===void 0?h:this;Er===ke&&f(Ht,tt,$t),b(Er,ue)&&b(Er[ue],ft)&&(Er[ue][ft]=!1);var ms=P(1,$t);try{Tt(Er,ft,ms)}catch(Qt){if(!(Qt instanceof qe))throw Qt;Rt(Er,ft,ms)}};return x&&it&&Tt(ke,ft,{configurable:!0,set:Ht}),ut(ft,Ye)},Oe=Re[be],X(Oe,"toString",function(){return et(this).tag}),X(Re,"withoutSetter",function(wt){return ut(re(wt),wt)}),K.f=ot,V.f=He,Z.f=at,W.f=At,D.f=Q.f=or,H.f=vr,de.f=function(wt){return ut(ne(wt),wt)},x&&(le(Oe,"description",{configurable:!0,get:function(){return et(this).description}}),m||X(ke,"propertyIsEnumerable",ot,{unsafe:!0}))),d({global:!0,constructor:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Re}),ye(U(Ct),function(wt){q(wt)}),d({target:_e,stat:!0,forced:!p},{useSetter:function(){it=!0},useSimple:function(){it=!1}}),d({target:"Object",stat:!0,forced:!p,sham:!x},{create:rt,defineProperty:He,defineProperties:at,getOwnPropertyDescriptor:At}),d({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:or}),pe(),oe(Re,_e),G[ue]=!0},"./node_modules/core-js/modules/es.symbol.description.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/descriptors.js"),f=o("./node_modules/core-js/internals/global-this.js"),g=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),x=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/object-is-prototype-of.js"),v=o("./node_modules/core-js/internals/to-string.js"),b=o("./node_modules/core-js/internals/define-built-in-accessor.js"),j=o("./node_modules/core-js/internals/copy-constructor-properties.js"),k=f.Symbol,S=k&&k.prototype;if(h&&x(k)&&(!("description"in S)||k().description!==void 0)){var F={},T=function(){var V=arguments.length<1||arguments[0]===void 0?void 0:v(arguments[0]),Z=p(S,this)?new k(V):V===void 0?k():k(V);return V===""&&(F[Z]=!0),Z};j(T,k),T.prototype=S,S.constructor=T;var P=String(k("description detection"))==="Symbol(description detection)",R=g(S.valueOf),U=g(S.toString),D=/^Symbol\((.*)\)[^)]+$/,Q=g("".replace),H=g("".slice);b(S,"description",{configurable:!0,get:function(){var V=R(this);if(m(F,V))return"";var Z=U(V),K=P?H(Z,7,-1):Q(Z,D,"$1");return K===""?void 0:K}}),d({global:!0,constructor:!0,forced:!0},{Symbol:T})}},"./node_modules/core-js/modules/es.symbol.for.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/get-built-in.js"),f=o("./node_modules/core-js/internals/has-own-property.js"),g=o("./node_modules/core-js/internals/to-string.js"),m=o("./node_modules/core-js/internals/shared.js"),x=o("./node_modules/core-js/internals/symbol-registry-detection.js"),p=m("string-to-symbol-registry"),v=m("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!x},{for:function(b){var j=g(b);if(f(p,j))return p[j];var k=h("Symbol")(j);return p[j]=k,v[k]=j,k}})},"./node_modules/core-js/modules/es.symbol.iterator.js":function(c,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol-define.js");d("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(c,u,o){o("./node_modules/core-js/modules/es.symbol.constructor.js"),o("./node_modules/core-js/modules/es.symbol.for.js"),o("./node_modules/core-js/modules/es.symbol.key-for.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")},"./node_modules/core-js/modules/es.symbol.key-for.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/is-symbol.js"),g=o("./node_modules/core-js/internals/try-to-string.js"),m=o("./node_modules/core-js/internals/shared.js"),x=o("./node_modules/core-js/internals/symbol-registry-detection.js"),p=m("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!x},{keyFor:function(b){if(!f(b))throw new TypeError(g(b)+" is not a symbol");if(h(p,b))return p[b]}})},"./node_modules/core-js/modules/esnext.iterator.constructor.js":function(c,u,o){o("./node_modules/core-js/modules/es.iterator.constructor.js")},"./node_modules/core-js/modules/esnext.iterator.for-each.js":function(c,u,o){o("./node_modules/core-js/modules/es.iterator.for-each.js")},"./node_modules/core-js/modules/esnext.iterator.map.js":function(c,u,o){o("./node_modules/core-js/modules/es.iterator.map.js")},"./node_modules/core-js/modules/esnext.set.add-all.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-helpers.js").add;d({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var m=h(this),x=0,p=arguments.length;x<p;x++)f(m,arguments[x]);return m}})},"./node_modules/core-js/modules/esnext.set.delete-all.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-helpers.js").remove;d({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var m=h(this),x=!0,p,v=0,b=arguments.length;v<b;v++)p=f(m,arguments[v]),x=x&&p;return!!x}})},"./node_modules/core-js/modules/esnext.set.difference.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-set-like.js"),g=o("./node_modules/core-js/internals/set-difference.js");d({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(x){return h(g,this,f(x))}})},"./node_modules/core-js/modules/esnext.set.every.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/a-set.js"),g=o("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{every:function(x){var p=f(this),v=h(x,arguments.length>1?arguments[1]:void 0);return g(p,function(b){if(!v(b,b,p))return!1},!0)!==!1}})},"./node_modules/core-js/modules/esnext.set.filter.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/a-set.js"),g=o("./node_modules/core-js/internals/set-helpers.js"),m=o("./node_modules/core-js/internals/set-iterate.js"),x=g.Set,p=g.add;d({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(b){var j=f(this),k=h(b,arguments.length>1?arguments[1]:void 0),S=new x;return m(j,function(F){k(F,F,j)&&p(S,F)}),S}})},"./node_modules/core-js/modules/esnext.set.find.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/a-set.js"),g=o("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{find:function(x){var p=f(this),v=h(x,arguments.length>1?arguments[1]:void 0),b=g(p,function(j){if(v(j,j,p))return{value:j}},!0);return b&&b.value}})},"./node_modules/core-js/modules/esnext.set.intersection.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-set-like.js"),g=o("./node_modules/core-js/internals/set-intersection.js");d({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(x){return h(g,this,f(x))}})},"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-set-like.js"),g=o("./node_modules/core-js/internals/set-is-disjoint-from.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(x){return h(g,this,f(x))}})},"./node_modules/core-js/modules/esnext.set.is-subset-of.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-set-like.js"),g=o("./node_modules/core-js/internals/set-is-subset-of.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(x){return h(g,this,f(x))}})},"./node_modules/core-js/modules/esnext.set.is-superset-of.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-set-like.js"),g=o("./node_modules/core-js/internals/set-is-superset-of.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(x){return h(g,this,f(x))}})},"./node_modules/core-js/modules/esnext.set.join.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/a-set.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=o("./node_modules/core-js/internals/to-string.js"),x=h([].join),p=h([].push);d({target:"Set",proto:!0,real:!0,forced:!0},{join:function(b){var j=f(this),k=b===void 0?",":m(b),S=[];return g(j,function(F){p(S,F)}),x(S,k)}})},"./node_modules/core-js/modules/esnext.set.map.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/a-set.js"),g=o("./node_modules/core-js/internals/set-helpers.js"),m=o("./node_modules/core-js/internals/set-iterate.js"),x=g.Set,p=g.add;d({target:"Set",proto:!0,real:!0,forced:!0},{map:function(b){var j=f(this),k=h(b,arguments.length>1?arguments[1]:void 0),S=new x;return m(j,function(F){p(S,k(F,F,j))}),S}})},"./node_modules/core-js/modules/esnext.set.reduce.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/a-set.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),m=TypeError;d({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(p){var v=f(this),b=arguments.length<2,j=b?void 0:arguments[1];if(h(p),g(v,function(k){b?(b=!1,j=k):j=p(j,k,k,v)}),b)throw new m("Reduce of empty set with no initial value");return j}})},"./node_modules/core-js/modules/esnext.set.some.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/a-set.js"),g=o("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{some:function(x){var p=f(this),v=h(x,arguments.length>1?arguments[1]:void 0);return g(p,function(b){if(v(b,b,p))return!0},!0)===!0}})},"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-set-like.js"),g=o("./node_modules/core-js/internals/set-symmetric-difference.js");d({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(x){return h(g,this,f(x))}})},"./node_modules/core-js/modules/esnext.set.union.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/to-set-like.js"),g=o("./node_modules/core-js/internals/set-union.js");d({target:"Set",proto:!0,real:!0,forced:!0},{union:function(x){return h(g,this,f(x))}})},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/dom-iterables.js"),f=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),g=o("./node_modules/core-js/internals/array-for-each.js"),m=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=function(v){if(v&&v.forEach!==g)try{m(v,"forEach",g)}catch{v.forEach=g}};for(var p in h)h[p]&&x(d[p]&&d[p].prototype);x(f)},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),h=o("./node_modules/core-js/internals/dom-iterables.js"),f=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),g=o("./node_modules/core-js/modules/es.array.iterator.js"),m=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=o("./node_modules/core-js/internals/set-to-string-tag.js"),p=o("./node_modules/core-js/internals/well-known-symbol.js"),v=p("iterator"),b=g.values,j=function(S,F){if(S){if(S[v]!==b)try{m(S,v,b)}catch{S[v]=b}if(x(S,F,!0),h[F]){for(var T in g)if(S[T]!==g[T])try{m(S,T,g[T])}catch{S[T]=g[T]}}}};for(var k in h)j(d[k]&&d[k].prototype,k);j(f,"DOMTokenList")},"./node_modules/core-js/modules/web.set-interval.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/schedulers-fix.js"),g=f(h.setInterval,!0);d({global:!0,bind:!0,forced:h.setInterval!==g},{setInterval:g})},"./node_modules/core-js/modules/web.set-timeout.js":function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/schedulers-fix.js"),g=f(h.setTimeout,!0);d({global:!0,bind:!0,forced:h.setTimeout!==g},{setTimeout:g})},"./node_modules/core-js/modules/web.timers.js":function(c,u,o){o("./node_modules/core-js/modules/web.set-interval.js"),o("./node_modules/core-js/modules/web.set-timeout.js")},"./src/plugin/hyperlinks.js":function(c,u,o){o.r(u),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.link.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var d=o("./src/worker.js"),h=o("./src/utils.js"),f=[],g={toContainer:d.default.prototype.toContainer,toPdf:d.default.prototype.toPdf};d.default.prototype.toContainer=function(){return g.toContainer.call(this).then(function(){if(this.opt.enableLinks){var p=this.prop.container,v=p.querySelectorAll("a"),b=(0,h.unitConvert)(p.getBoundingClientRect(),this.prop.pageSize.k);f=[],Array.prototype.forEach.call(v,function(j){for(var k=j.getClientRects(),S=0;S<k.length;S++){var F=(0,h.unitConvert)(k[S],this.prop.pageSize.k);F.left-=b.left,F.top-=b.top;var T=Math.floor(F.top/this.prop.pageSize.inner.height)+1,P=this.opt.margin[0]+F.top%this.prop.pageSize.inner.height,R=this.opt.margin[1]+F.left;f.push({page:T,top:P,left:R,clientRect:F,link:j})}},this)}})},d.default.prototype.toPdf=function(){return g.toPdf.call(this).then(function(){if(this.opt.enableLinks){f.forEach(function(v){this.prop.pdf.setPage(v.page),this.prop.pdf.link(v.left,v.top,v.clientRect.width,v.clientRect.height,{url:v.link.href})},this);var p=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(p)}})}},"./src/plugin/jspdf-plugin.js":function(c,u,o){o.r(u),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var d=o("jspdf");function h(f){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},h(f)}d.jsPDF.getPageSize=function(f,g,m){if(h(f)==="object"){var x=f;f=x.orientation,g=x.unit||g,m=x.format||m}g=g||"mm",m=m||"a4",f=(""+(f||"P")).toLowerCase();var p=(""+m).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(g){case"pt":var b=1;break;case"mm":var b=72/25.4;break;case"cm":var b=72/2.54;break;case"in":var b=72;break;case"px":var b=72/96;break;case"pc":var b=12;break;case"em":var b=12;break;case"ex":var b=6;break;default:throw"Invalid unit: "+g}if(v.hasOwnProperty(p))var j=v[p][1]/b,k=v[p][0]/b;else try{var j=m[1],k=m[0]}catch{throw new Error("Invalid format: "+m)}if(f==="p"||f==="portrait"){if(f="p",k>j){var S=k;k=j,j=S}}else if(f==="l"||f==="landscape"){if(f="l",j>k){var S=k;k=j,j=S}}else throw"Invalid orientation: "+f;var F={width:k,height:j,unit:g,k:b};return F},u.default=d.jsPDF},"./src/plugin/pagebreaks.js":function(c,u,o){o.r(u),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.join.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var d=o("./src/worker.js"),h=o("./src/utils.js"),f={toContainer:d.default.prototype.toContainer};d.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},d.default.prototype.toContainer=function(){return f.toContainer.call(this).then(function(){var x=this.prop.container,p=this.prop.pageSize.inner.px.height,v=[].concat(this.opt.pagebreak.mode),b={avoidAll:v.indexOf("avoid-all")!==-1,css:v.indexOf("css")!==-1,legacy:v.indexOf("legacy")!==-1},j={},k=this;["before","after","avoid"].forEach(function(T){var P=b.avoidAll&&T==="avoid";j[T]=P?[]:[].concat(k.opt.pagebreak[T]||[]),j[T].length>0&&(j[T]=Array.prototype.slice.call(x.querySelectorAll(j[T].join(", "))))});var S=x.querySelectorAll(".html2pdf__page-break");S=Array.prototype.slice.call(S);var F=x.querySelectorAll("*");Array.prototype.forEach.call(F,function(P){var R={before:!1,after:b.legacy&&S.indexOf(P)!==-1,avoid:b.avoidAll};if(b.css){var U=window.getComputedStyle(P),D=["always","page","left","right"],Q=["avoid","avoid-page"];R={before:R.before||D.indexOf(U.breakBefore||U.pageBreakBefore)!==-1,after:R.after||D.indexOf(U.breakAfter||U.pageBreakAfter)!==-1,avoid:R.avoid||Q.indexOf(U.breakInside||U.pageBreakInside)!==-1}}Object.keys(R).forEach(function(X){R[X]=R[X]||j[X].indexOf(P)!==-1});var H=P.getBoundingClientRect();if(R.avoid&&!R.before){var W=Math.floor(H.top/p),V=Math.floor(H.bottom/p),Z=Math.abs(H.bottom-H.top)/p;V!==W&&Z<=1&&(R.before=!0)}if(R.before){var K=(0,h.createElement)("div",{style:{display:"block",height:p-H.top%p+"px"}});P.parentNode.insertBefore(K,P)}if(R.after){var K=(0,h.createElement)("div",{style:{display:"block",height:p-H.bottom%p+"px"}});P.parentNode.insertBefore(K,P.nextSibling)}})})}},"./src/snapdom/clone.js":function(c,u,o){o.r(u),o.d(u,{deepCloneBasic:function(){return m}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.from.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.regexp.test.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/es.set.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/esnext.set.add-all.js"),o("./node_modules/core-js/modules/esnext.set.delete-all.js"),o("./node_modules/core-js/modules/esnext.set.difference.js"),o("./node_modules/core-js/modules/esnext.set.every.js"),o("./node_modules/core-js/modules/esnext.set.filter.js"),o("./node_modules/core-js/modules/esnext.set.find.js"),o("./node_modules/core-js/modules/esnext.set.intersection.js"),o("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),o("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),o("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),o("./node_modules/core-js/modules/esnext.set.join.js"),o("./node_modules/core-js/modules/esnext.set.map.js"),o("./node_modules/core-js/modules/esnext.set.reduce.js"),o("./node_modules/core-js/modules/esnext.set.some.js"),o("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),o("./node_modules/core-js/modules/esnext.set.union.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");function d(x,p){var v=typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!v){if(Array.isArray(x)||(v=h(x))||p){v&&(x=v);var b=0,j=function(){};return{s:j,n:function(){return b>=x.length?{done:!0}:{done:!1,value:x[b++]}},e:function(P){throw P},f:j}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k,S=!0,F=!1;return{s:function(){v=v.call(x)},n:function(){var P=v.next();return S=P.done,P},e:function(P){F=!0,k=P},f:function(){try{S||v.return==null||v.return()}finally{if(F)throw k}}}}function h(x,p){if(x){if(typeof x=="string")return f(x,p);var v={}.toString.call(x).slice(8,-1);return v==="Object"&&x.constructor&&(v=x.constructor.name),v==="Map"||v==="Set"?Array.from(x):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?f(x,p):void 0}}function f(x,p){(p==null||p>x.length)&&(p=x.length);for(var v=0,b=Array(p);v<p;v++)b[v]=x[v];return b}function g(x,p){try{var v=x.currentSrc||x.src||"";if(!v)return;p.setAttribute("src",v),p.removeAttribute("srcset"),p.removeAttribute("sizes"),p.loading="eager",p.decoding="sync"}catch{}}function m(x){if(!x)throw new Error("Invalid node");var p=new Set,v=null;if(x.nodeType===Node.TEXT_NODE||x.nodeType!==Node.ELEMENT_NODE)return x.cloneNode(!0);if(x.tagName==="IFRAME"){var b=document.createElement("div");return b.style.cssText="width:".concat(x.offsetWidth,"px;height:").concat(x.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),b}if(x.tagName==="CANVAS"){var j=x.toDataURL(),k=document.createElement("img");return k.src=j,k.width=x.width,k.height=x.height,k}var S;try{S=x.cloneNode(!1),x.tagName==="IMG"&&g(x,S)}catch(_e){throw console.error("[Snapdom] Failed to clone node:",x,_e),_e}if(x instanceof HTMLTextAreaElement){S.textContent=x.value,S.value=x.value;var F=x.getBoundingClientRect();return S.style.boxSizing="border-box",S.style.width="".concat(F.width,"px"),S.style.height="".concat(F.height,"px"),S}if(x instanceof HTMLInputElement&&(x.hasAttribute("value")&&(S.value=x.value,S.setAttribute("value",x.value)),x.checked!==void 0&&(S.checked=x.checked,x.checked&&S.setAttribute("checked",""),x.indeterminate&&(S.indeterminate=x.indeterminate))),x instanceof HTMLSelectElement&&(v=x.value),x.shadowRoot){var T=Array.from(x.shadowRoot.querySelectorAll("slot")).length>0;if(!T){var P=document.createDocumentFragment(),R=d(x.shadowRoot.childNodes),U;try{for(R.s();!(U=R.n()).done;){var D=U.value;if(!(D.nodeType===Node.ELEMENT_NODE&&D.tagName==="STYLE")){var Q=m(D);Q&&P.appendChild(Q)}}}catch(_e){R.e(_e)}finally{R.f()}S.appendChild(P)}}if(x.tagName==="SLOT"){var H,W=((H=x.assignedNodes)===null||H===void 0?void 0:H.call(x,{flatten:!0}))||[],V=W.length>0?W:Array.from(x.childNodes),Z=document.createDocumentFragment(),K=d(V),X;try{for(K.s();!(X=K.n()).done;){var le=X.value,Ae=m(le);Ae&&Z.appendChild(Ae)}}catch(_e){K.e(_e)}finally{K.f()}return Z}var M=d(x.childNodes),G;try{for(M.s();!(G=M.n()).done;){var re=G.value;if(!p.has(re)){var ne=m(re);ne&&S.appendChild(ne)}}}catch(_e){M.e(_e)}finally{M.f()}if(v!==null&&S instanceof HTMLSelectElement){S.value=v;var de=d(S.options),q;try{for(de.s();!(q=de.n()).done;){var pe=q.value;pe.value===v?pe.setAttribute("selected",""):pe.removeAttribute("selected")}}catch(_e){de.e(_e)}finally{de.f()}}var oe=x.scrollLeft,fe=x.scrollTop,ye=oe||fe;if(ye&&S instanceof HTMLElement){S.style.overflow="hidden",S.style.scrollbarWidth="none",S.style.msOverflowStyle="none";var ue=document.createElement("div");for(ue.style.transform="translate(".concat(-oe,"px, ").concat(-fe,"px)"),ue.style.willChange="transform",ue.style.display="inline-block",ue.style.width="100%";S.firstChild;)ue.appendChild(S.firstChild);S.appendChild(ue)}return S}},"./src/utils.js":function(c,u,o){o.r(u),o.d(u,{createElement:function(){return f},objType:function(){return h},toPx:function(){return m},unitConvert:function(){return g}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.number.constructor.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");function d(x){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},d(x)}var h=function(p){var v=d(p);return v==="undefined"?"undefined":v==="string"||p instanceof String?"string":v==="number"||p instanceof Number?"number":v==="function"||p instanceof Function?"function":p&&p.constructor===Array?"array":p&&p.nodeType===1?"element":v==="object"?"object":"unknown"},f=function(p,v){var b=document.createElement(p);if(v.className&&(b.className=v.className),v.innerHTML){b.innerHTML=v.innerHTML;for(var j=b.getElementsByTagName("script"),k=j.length;k-- >0;null)j[k].parentNode.removeChild(j[k])}for(var S in v.style)b.style[S]=v.style[S];return b},g=function(p,v){if(h(p)==="number")return p*72/96/v;var b={};for(var j in p)b[j]=p[j]*72/96/v;return b},m=function(p,v){return Math.floor(p*v/72*96)}},"./src/worker.js":function(c,u,o){o.r(u),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.assign.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.promise.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/esnext.iterator.map.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),o("./node_modules/core-js/modules/web.timers.js");var d=o("jspdf"),h=o("html2canvas"),f=o.n(h),g=o("./src/snapdom/clone.js"),m=o("./src/utils.js"),x=function p(v){var b=Object.assign(p.convert(Promise.resolve()),JSON.parse(JSON.stringify(p.template))),j=p.convert(Promise.resolve(),b);return j=j.setProgress(1,p,1,[p]),j=j.set(v),j};x.prototype=Object.create(Promise.prototype),x.prototype.constructor=x,x.convert=function(v,b){return v.__proto__=b||x.prototype,v},x.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},x.prototype.from=function(v,b){function j(k){switch((0,m.objType)(k)){case"string":return"string";case"element":return k.nodeName.toLowerCase&&k.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(b=b||j(v),b){case"string":return this.set({src:(0,m.createElement)("div",{innerHTML:v})});case"element":return this.set({src:v});case"canvas":return this.set({canvas:v});case"img":return this.set({img:v});default:return this.error("Unknown source type.")}})},x.prototype.to=function(v){switch(v){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},x.prototype.toContainer=function(){var v=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(v).then(function(){var j={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},k={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};j.opacity=0;var S=(0,g.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,m.createElement)("div",{className:"html2pdf__overlay",style:j}),this.prop.container=(0,m.createElement)("div",{className:"html2pdf__container",style:k}),this.prop.container.appendChild(S),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(F){return setTimeout(F,10)})})},x.prototype.toCanvas=function(){var v=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(v).then(function(){var j=Object.assign({},this.opt.html2canvas);return delete j.onrendered,f()(this.prop.container,j)}).then(function(j){var k=this.opt.html2canvas.onrendered||function(){};k(j),this.prop.canvas=j,document.body.removeChild(this.prop.overlay)})},x.prototype.toImg=function(){var v=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(v).then(function(){var j=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=j})},x.prototype.toPdf=function(){var v=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(v).then(function(){var j=this.prop.canvas,k=this.opt,S=j.height,F=Math.floor(j.width*this.prop.pageSize.inner.ratio),T=Math.ceil(S/F),P=this.prop.pageSize.inner.height,R=document.createElement("canvas"),U=R.getContext("2d");R.width=j.width,R.height=F,this.prop.pdf=this.prop.pdf||new d.jsPDF(k.jsPDF);for(var D=0;D<T;D++){D===T-1&&S%F!==0&&(R.height=S%F,P=R.height*this.prop.pageSize.inner.width/R.width);var Q=R.width,H=R.height;U.fillStyle="white",U.fillRect(0,0,Q,H),U.drawImage(j,0,D*F,Q,H,0,0,Q,H),D&&this.prop.pdf.addPage();var W=R.toDataURL("image/"+k.image.type,k.image.quality);this.prop.pdf.addImage(W,k.image.type,k.margin[1],k.margin[0],this.prop.pageSize.inner.width,P)}})},x.prototype.output=function(v,b,j){return j=j||"pdf",j.toLowerCase()==="img"||j.toLowerCase()==="image"?this.outputImg(v,b):this.outputPdf(v,b)},x.prototype.outputPdf=function(v,b){var j=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(j).then(function(){return this.prop.pdf.output(v,b)})},x.prototype.outputImg=function(v,b){var j=[function(){return this.prop.img||this.toImg()}];return this.thenList(j).then(function(){switch(v){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+v+'" is not supported.'}})},x.prototype.save=function(v){var b=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(b).set(v?{filename:v}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},x.prototype.set=function(v){if((0,m.objType)(v)!=="object")return this;var b=Object.keys(v||{}).map(function(j){switch(j){case"margin":return this.setMargin.bind(this,v.margin);case"jsPDF":return function(){return this.opt.jsPDF=v.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,v.pageSize);default:return j in x.template.prop?function(){this.prop[j]=v[j]}:function(){this.opt[j]=v[j]}}},this);return this.then(function(){return this.thenList(b)})},x.prototype.get=function(v,b){return this.then(function(){var k=v in x.template.prop?this.prop[v]:this.opt[v];return b?b(k):k})},x.prototype.setMargin=function(v){return this.then(function(){switch((0,m.objType)(v)){case"number":v=[v,v,v,v];case"array":if(v.length===2&&(v=[v[0],v[1],v[0],v[1]]),v.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=v}).then(this.setPageSize)},x.prototype.setPageSize=function(v){return this.then(function(){v=v||d.jsPDF.getPageSize(this.opt.jsPDF),v.hasOwnProperty("inner")||(v.inner={width:v.width-this.opt.margin[1]-this.opt.margin[3],height:v.height-this.opt.margin[0]-this.opt.margin[2]},v.inner.px={width:(0,m.toPx)(v.inner.width,v.k),height:(0,m.toPx)(v.inner.height,v.k)},v.inner.ratio=v.inner.height/v.inner.width),this.prop.pageSize=v})},x.prototype.setProgress=function(v,b,j,k){return v!=null&&(this.progress.val=v),b!=null&&(this.progress.state=b),j!=null&&(this.progress.n=j),k!=null&&(this.progress.stack=k),this.progress.ratio=this.progress.val/this.progress.state,this},x.prototype.updateProgress=function(v,b,j,k){return this.setProgress(v?this.progress.val+v:null,b||null,j?this.progress.n+j:null,k?this.progress.stack.concat(k):null)},x.prototype.then=function(v,b){var j=this;return this.thenCore(v,b,function(S,F){return j.updateProgress(null,null,1,[S]),Promise.prototype.then.call(this,function(P){return j.updateProgress(null,S),P}).then(S,F).then(function(P){return j.updateProgress(1),P})})},x.prototype.thenCore=function(v,b,j){j=j||Promise.prototype.then;var k=this;v&&(v=v.bind(k)),b&&(b=b.bind(k));var S=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",F=S?k:x.convert(Object.assign({},k),Promise.prototype),T=j.call(F,v,b);return x.convert(T,k.__proto__)},x.prototype.thenExternal=function(v,b){return Promise.prototype.then.call(this,v,b)},x.prototype.thenList=function(v){var b=this;return v.forEach(function(k){b=b.thenCore(k)}),b},x.prototype.catch=function(p){p&&(p=p.bind(this));var v=Promise.prototype.catch.call(this,p);return x.convert(v,this)},x.prototype.catchExternal=function(v){return Promise.prototype.catch.call(this,v)},x.prototype.error=function(v){return this.then(function(){throw new Error(v)})},x.prototype.using=x.prototype.set,x.prototype.saveAs=x.prototype.save,x.prototype.export=x.prototype.output,x.prototype.run=x.prototype.then,u.default=x},html2canvas:function(c){c.exports=n},jspdf:function(c){c.exports=r}},a={};function l(c){var u=a[c];if(u!==void 0)return u.exports;var o=a[c]={exports:{}};return s[c].call(o.exports,o,o.exports,l),o.exports}(function(){l.n=function(c){var u=c&&c.__esModule?function(){return c.default}:function(){return c};return l.d(u,{a:u}),u}})(),function(){l.d=function(c,u){for(var o in u)l.o(u,o)&&!l.o(c,o)&&Object.defineProperty(c,o,{enumerable:!0,get:u[o]})}}(),function(){l.o=function(c,u){return Object.prototype.hasOwnProperty.call(c,u)}}(),function(){l.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}}();var A={};return function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/l.r(A);var c=l("./src/worker.js");l("./src/plugin/jspdf-plugin.js"),l("./src/plugin/pagebreaks.js"),l("./src/plugin/hyperlinks.js");var u=function o(d,h){var f=new o.Worker(h);return d?f.from(d).save():f};u.Worker=c.default,A.default=u}(),A=A.default,A}()})})(b8);var Gde=b8.exports;const ED=bl(Gde);function FD(e,t){const r=["Entreprise","Contact","Email","Tlphone","Rponse","Montant ()","Commentaire","Source","Date"],n=t.map(c=>{var o;const u=c.sponsors;return[(u==null?void 0:u.company)||"",(u==null?void 0:u.contact_name)||"",(u==null?void 0:u.email)||"",(u==null?void 0:u.phone)||"",c.status==="yes"?"Oui":c.status==="maybe"?"Peut-tre":c.status==="no"?"Non":"En attente",((o=c.amount)==null?void 0:o.toString())||"0",c.comment||"",c.source||"invite",new Date(c.created_at||"").toLocaleDateString("fr-FR")]}),s=[r.join(","),...n.map(c=>c.map(u=>`"${u.toString().replace(/"/g,'""')}"`).join(","))].join(`
`),a=new Blob(["\uFEFF"+s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),A=URL.createObjectURL(a);l.setAttribute("href",A),l.setAttribute("download",`${UD(e.title)}_pledges_${Date.now()}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(A)}async function ID(e,t,r,n){try{const s=Wde(e,t,r);document.body.appendChild(s);const a={margin:10,filename:`${UD(e.title)}_report_${Date.now()}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}},l=await ED().set(a).from(s).output("blob");document.body.removeChild(s);const A=`${n}/${e.id}/report_${Date.now()}.pdf`,{data:c,error:u}=await Ie.storage.from("club_exports").upload(A,l,{contentType:"application/pdf",upsert:!1});if(u)return console.error("Storage error:",u),Yde(l,a.filename),{success:!1,error:"Erreur de stockage, fichier tlcharg localement"};const{data:o}=Ie.storage.from("club_exports").getPublicUrl(A);return{success:!0,url:o.publicUrl}}catch(s){return console.error("Export error:",s),{success:!1,error:s.message||"Erreur lors de la gnration du PDF"}}}function Wde(e,t,r){const n=document.createElement("div");return n.style.width="210mm",n.style.padding="20mm",n.style.backgroundColor="#ffffff",n.style.fontFamily="Arial, sans-serif",n.style.color="#1e293b",n.style.position="absolute",n.style.left="-9999px",n.style.top="0",n.innerHTML=`
    <div style="border-bottom: 4px solid #3b82f6; padding-bottom: 15px; margin-bottom: 25px;">
      <h1 style="color: #1e40af; font-size: 32px; margin: 0 0 10px 0; font-weight: bold;">
        ${Bu(e.title)}
      </h1>
      <div style="color: #64748b; font-size: 14px; line-height: 1.8;">
        <p style="margin: 5px 0;"><strong>Rapport gnr le:</strong> ${new Date().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}</p>
        ${e.location?`<p style="margin: 5px 0;"><strong>Localisation:</strong> ${Bu(e.location)}</p>`:""}
        ${e.deadline?`<p style="margin: 5px 0;"><strong>Date limite:</strong> ${new Date(e.deadline).toLocaleDateString("fr-FR")}</p>`:""}
      </div>
    </div>

    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 25px 0;">
      <div style="text-align: center; padding: 20px; background: linear-gradient(135deg, #10b981 0%, #059669 100%); border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <div style="font-size: 12px; color: rgba(255,255,255,0.9); text-transform: uppercase; font-weight: 600; margin-bottom: 8px;">Total promis</div>
        <div style="font-size: 36px; font-weight: bold; color: white; margin-bottom: 5px;">
          ${r.total_pledged.toLocaleString("fr-FR")}
        </div>
        <div style="font-size: 11px; color: rgba(255,255,255,0.8);">
          sur ${e.objective_amount.toLocaleString("fr-FR")}
        </div>
      </div>

      <div style="text-align: center; padding: 20px; background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <div style="font-size: 12px; color: rgba(255,255,255,0.9); text-transform: uppercase; font-weight: 600; margin-bottom: 8px;">Taux d'atteinte</div>
        <div style="font-size: 36px; font-weight: bold; color: white;">
          ${r.progress_percentage.toFixed(1)}%
        </div>
      </div>

      <div style="text-align: center; padding: 20px; background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <div style="font-size: 12px; color: rgba(255,255,255,0.9); text-transform: uppercase; font-weight: 600; margin-bottom: 8px;">Total rponses</div>
        <div style="font-size: 36px; font-weight: bold; color: white;">
          ${t.length}
        </div>
      </div>
    </div>

    <div style="display: flex; justify-content: space-around; margin: 20px 0; padding: 20px; background: #f8fafc; border-radius: 12px;">
      <div style="text-align: center;">
        <div style="font-size: 28px; font-weight: bold; color: #10b981;">${r.yes_count}</div>
        <div style="font-size: 13px; color: #64748b; margin-top: 5px;">Oui</div>
      </div>
      <div style="text-align: center;">
        <div style="font-size: 28px; font-weight: bold; color: #f59e0b;">${r.maybe_count}</div>
        <div style="font-size: 13px; color: #64748b; margin-top: 5px;">Peut-tre</div>
      </div>
      <div style="text-align: center;">
        <div style="font-size: 28px; font-weight: bold; color: #ef4444;">${r.no_count}</div>
        <div style="font-size: 13px; color: #64748b; margin-top: 5px;">Non</div>
      </div>
    </div>

    <div style="margin-top: 30px;">
      <h2 style="color: #1e40af; font-size: 20px; margin-bottom: 15px; font-weight: bold;">
        Dtail des promesses
      </h2>
      <table style="width: 100%; border-collapse: collapse; font-size: 11px;">
        <thead>
          <tr style="background: #1e40af; color: white;">
            <th style="padding: 10px 8px; text-align: left; font-weight: 600;">Entreprise</th>
            <th style="padding: 10px 8px; text-align: left; font-weight: 600;">Contact</th>
            <th style="padding: 10px 8px; text-align: center; font-weight: 600;">Rponse</th>
            <th style="padding: 10px 8px; text-align: right; font-weight: 600;">Montant</th>
            <th style="padding: 10px 8px; text-align: center; font-weight: 600;">Date</th>
          </tr>
        </thead>
        <tbody>
          ${t.map((s,a)=>{const l=s.sponsors,A=s.status==="yes"?"#d1fae5":s.status==="maybe"?"#fef3c7":"#fee2e2",c=s.status==="yes"?"#065f46":s.status==="maybe"?"#92400e":"#991b1b",u=s.status==="yes"?"Oui":s.status==="maybe"?"Peut-tre":"Non";return`
                <tr style="background: ${a%2===0?"#ffffff":"#f8fafc"}; border-bottom: 1px solid #e2e8f0;">
                  <td style="padding: 10px 8px;">
                    <strong style="color: #1e293b;">${Bu((l==null?void 0:l.company)||"N/A")}</strong>
                  </td>
                  <td style="padding: 10px 8px;">
                    <div style="color: #1e293b;">${Bu((l==null?void 0:l.contact_name)||"N/A")}</div>
                    <div style="color: #64748b; font-size: 10px;">${Bu((l==null?void 0:l.email)||"")}</div>
                  </td>
                  <td style="padding: 10px 8px; text-align: center;">
                    <span style="display: inline-block; padding: 4px 10px; border-radius: 12px; font-weight: 600; font-size: 10px; background: ${A}; color: ${c};">
                      ${u}
                    </span>
                  </td>
                  <td style="padding: 10px 8px; text-align: right; font-weight: 600; color: #059669;">
                    ${(s.amount||0).toLocaleString("fr-FR")}
                  </td>
                  <td style="padding: 10px 8px; text-align: center; color: #64748b;">
                    ${new Date(s.created_at||"").toLocaleDateString("fr-FR")}
                  </td>
                </tr>
              `}).join("")}
        </tbody>
      </table>
    </div>

    ${t.some(s=>s.comment)?`
      <div style="margin-top: 30px; page-break-before: auto;">
        <h2 style="color: #1e40af; font-size: 20px; margin-bottom: 15px; font-weight: bold;">
          Commentaires
        </h2>
        ${t.filter(s=>s.comment).map(s=>{var a;return`
            <div style="background: #f8fafc; padding: 12px; border-radius: 8px; margin-bottom: 12px; border-left: 4px solid #3b82f6;">
              <div style="font-weight: 600; color: #1e293b; margin-bottom: 5px; font-size: 12px;">
                ${Bu(((a=s.sponsors)==null?void 0:a.company)||"N/A")}
              </div>
              <div style="color: #475569; font-size: 11px; line-height: 1.6;">
                ${Bu(s.comment||"")}
              </div>
            </div>
          `}).join("")}
      </div>
    `:""}

    <div style="margin-top: 40px; padding-top: 15px; border-top: 2px solid #e2e8f0; text-align: center; color: #94a3b8; font-size: 10px;">
      <p>Document gnr automatiquement - ${new Date().toLocaleString("fr-FR")}</p>
    </div>
  `,n}function UD(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/gi,"_").toLowerCase().substring(0,50)}function Bu(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}function Yde(e,t){const r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,n.click(),URL.revokeObjectURL(r)}const G6={led_ext:"LED Extrieur",led_int:"LED Intrieur",borne_ext:"Borne Extrieur",borne_int_mobile:"Borne Intrieur Mobile",ecran_int_fixe:"cran Intrieur Fixe"};function Jde(){var H,W;const{profile:e}=Nn(),{effectiveTenantId:t}=As(),r=Cn(),[n,s]=E.useState([]),[a,l]=E.useState([]),[A,c]=E.useState(!1),[u,o]=E.useState(null),[d,h]=E.useState(null),[f,g]=E.useState(""),[m,x]=E.useState(!0),p=E.useRef(null),[v,b]=E.useState({title:"",screen_type:"led_ext",location:"",annual_price_hint:"",objective_amount:"",daily_footfall_estimate:"",lighting_hours:{start:"08:00",end:"20:00"},cover_image_url:"",deadline:"",description_md:""});E.useEffect(()=>{j()},[]);const j=async()=>{if(!t)return;x(!0);const{data:V,error:Z}=await Ie.from("campaigns").select("*").eq("tenant_id",t).order("created_at",{ascending:!1});if(!Z&&V){const K=await Promise.all(V.map(async le=>{const{data:Ae}=await Ie.from("pledges").select("amount, status").eq("campaign_id",le.id),M=(Ae==null?void 0:Ae.reduce((q,pe)=>pe.status==="yes"?q+(pe.amount||0):q,0))||0,G=(Ae==null?void 0:Ae.filter(q=>q.status==="yes").length)||0,re=(Ae==null?void 0:Ae.filter(q=>q.status==="maybe").length)||0,ne=(Ae==null?void 0:Ae.filter(q=>q.status==="no").length)||0,de=le.objective_amount>0?Math.round(M/le.objective_amount*100):0;return{...le,pledges_count:(Ae==null?void 0:Ae.length)||0,total_pledged:M,progress_percentage:de,yes_count:G,maybe_count:re,no_count:ne}}));s(K);const X=V.map(le=>le.id);if(X.length>0){const{data:le}=await Ie.from("pledges").select("*, campaigns!inner(title)").in("campaign_id",X).order("created_at",{ascending:!1}).limit(20);if(le){const Ae=le.map(M=>{var G;return{...M,campaign_name:((G=M.campaigns)==null?void 0:G.title)||"Campagne inconnue",sponsor_name:M.sponsor_name||M.sponsor_email}});l(Ae)}}}x(!1)},k=async V=>{if(V.preventDefault(),!t){r.error("Impossible de crer une campagne : tenant_id manquant");return}try{const{error:Z}=await Ie.from("campaigns").insert({tenant_id:t,title:v.title,screen_type:v.screen_type,location:v.location,annual_price_hint:parseFloat(v.annual_price_hint)||0,objective_amount:parseFloat(v.objective_amount)||0,daily_footfall_estimate:parseInt(v.daily_footfall_estimate)||0,lighting_hours:v.lighting_hours,cover_image_url:v.cover_image_url||null,deadline:v.deadline||null,description_md:v.description_md||null,is_public_share_enabled:!1});if(Z)throw Z;b({title:"",screen_type:"led_ext",location:"",annual_price_hint:"",objective_amount:"",daily_footfall_estimate:"",lighting_hours:{start:"08:00",end:"20:00"},cover_image_url:"",deadline:"",description_md:""}),c(!1),j()}catch(Z){alert("Erreur: "+Z.message)}},S=async V=>{const Z=`campaign-${Date.now()}`;try{const{error:K}=await Ie.from("campaigns").update({is_public_share_enabled:!0,public_slug:Z}).eq("id",V);if(K)throw K;await j(),F(V)}catch(K){alert("Erreur: "+K.message)}},F=async V=>{const Z=n.find(X=>X.id===V);if(!(Z!=null&&Z.public_slug)){await S(V);return}const K=`${window.location.origin}/p/${Z.public_slug}`;g(K),h(V),setTimeout(async()=>{if(p.current)try{await KA.toCanvas(p.current,K,{width:300,margin:2,color:{dark:"#1e293b",light:"#ffffff"}})}catch(X){console.error("QR Code generation error:",X)}},100)},T=()=>{if(p.current){const V=p.current.toDataURL("image/png"),Z=document.createElement("a");Z.download="qr-code-campagne.png",Z.href=V,Z.click()}},P=()=>{navigator.clipboard.writeText(f),r.success("URL copie dans le presse-papier")},R=async()=>{if(e!=null&&e.tenant_id)try{const V=n.map(X=>X.id),{data:Z,error:K}=await Ie.from("pledges").select("*, campaigns!inner(title)").in("campaign_id",V).order("created_at",{ascending:!1});if(K)throw K;if(Z&&Z.length>0){const X=Z.map(re=>{var ne;return{Campagne:((ne=re.campaigns)==null?void 0:ne.title)||"",Sponsor:re.sponsor_name||re.sponsor_email,Entreprise:re.sponsor_company||"",Email:re.sponsor_email,Tlphone:re.sponsor_phone||"",Montant:re.amount||0,Statut:re.status==="yes"?"Oui":re.status==="maybe"?"Peut-tre":"Non",Date:new Date(re.created_at||"").toLocaleDateString("fr-FR")}}),le=Object.keys(X[0]),Ae=[le.join(","),...X.map(re=>le.map(ne=>`"${re[ne]}"`).join(","))].join(`
`),M=new Blob([Ae],{type:"text/csv;charset=utf-8;"}),G=document.createElement("a");G.href=URL.createObjectURL(M),G.download=`promesses-${new Date().toISOString().split("T")[0]}.csv`,G.click(),r.success("Export CSV termin")}else r.info("Aucune promesse  exporter")}catch(V){r.error("Erreur lors de l'export: "+V.message)}},U=V=>{const Z=document.getElementById(`campaign-${V}`);Z&&(Z.scrollIntoView({behavior:"smooth",block:"center"}),Z.classList.add("ring-4","ring-blue-500","ring-opacity-50"),setTimeout(()=>{Z.classList.remove("ring-4","ring-blue-500","ring-opacity-50")},2e3))},D=async V=>{const Z=n.find(X=>X.id===V);if(!Z)return;const{data:K}=await Ie.from("pledges").select("*, sponsors(*)").eq("campaign_id",V).order("created_at",{ascending:!1});K&&FD(Z,K)},Q=async V=>{const Z=n.find(X=>X.id===V);if(!Z)return;const{data:K}=await Ie.from("pledges").select("*, sponsors(*)").eq("campaign_id",V).order("created_at",{ascending:!1});if(K&&(e!=null&&e.tenant_id)){const X={total_pledged:Z.total_pledged||0,yes_count:Z.yes_count||0,maybe_count:Z.maybe_count||0,no_count:Z.no_count||0,progress_percentage:Z.progress_percentage||0};r.info("Gnration du PDF en cours...");const le=await ID(Z,K,X,e.tenant_id);le.success?r.success("PDF gnr et sauvegard avec succs"):r.error(le.error||"Erreur lors de la gnration du PDF")}};return i.jsxs(_r,{children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Tableau de bord"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Vue d'ensemble de vos campagnes"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>window.location.href="/settings",className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-lg transition font-medium",children:[i.jsx(LB,{className:"w-5 h-5"}),i.jsx("span",{children:"Paramtres"})]}),i.jsxs("button",{onClick:()=>window.location.href="/reminders",className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-lg transition font-medium",children:[i.jsx(mU,{className:"w-5 h-5"}),i.jsx("span",{children:"Relances"})]}),i.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white rounded-lg transition font-medium shadow-lg",children:[i.jsx(gc,{className:"w-5 h-5"}),i.jsx("span",{children:"Nouvelle campagne"})]})]})]}),m?i.jsx("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:"Chargement..."}):i.jsxs(i.Fragment,{children:[i.jsx(Mle,{campaigns:n,recentPledges:a,onExportCSV:R,onViewCampaign:U}),i.jsx("div",{className:"mt-8",children:i.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Mes campagnes"})})]}),!m&&n.length===0?i.jsxs("div",{className:"bg-white rounded-xl p-12 text-center border border-slate-200",children:[i.jsx(Ga,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Aucune campagne"}),i.jsx("p",{className:"text-slate-600 mb-6",children:"Crez votre premire campagne pour commencer  collecter des promesses"}),i.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition font-medium",children:[i.jsx(gc,{className:"w-5 h-5"}),"Crer une campagne"]})]}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:n.map(V=>i.jsxs("div",{id:`campaign-${V.id}`,className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden hover:shadow-md transition",children:[V.cover_image_url&&i.jsx("div",{className:"h-48 overflow-hidden",children:i.jsx("img",{src:V.cover_image_url,alt:V.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:V.title}),i.jsx("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:i.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded font-medium",children:G6[V.screen_type]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>F(V.id),className:"p-2 hover:bg-green-50 text-green-600 rounded-lg transition",title:"Partager via QR code",children:i.jsx(fj,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>o(V.id),className:"p-2 hover:bg-blue-50 text-blue-600 rounded-lg transition",title:"Ouvrir la simulation",children:i.jsx(pU,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 mb-4",children:[i.jsx(vp,{className:"w-4 h-4"}),i.jsx("span",{children:V.location})]}),V.deadline&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 mb-4",children:[i.jsx($A,{className:"w-4 h-4"}),i.jsxs("span",{children:["chance: ",new Date(V.deadline).toLocaleDateString("fr-FR")]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-xl p-4 border border-green-200",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-slate-600 mb-1",children:"Objectif atteint "}),i.jsxs("p",{className:"text-3xl font-bold text-green-700",children:[V.progress_percentage,"%"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Promis / Objectif"}),i.jsxs("p",{className:"text-lg font-bold text-slate-900",children:[(V.total_pledged||0).toLocaleString("fr-FR"),""]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["sur ",V.objective_amount.toLocaleString("fr-FR"),""]})]})]}),i.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3 mb-3",children:i.jsx("div",{className:`h-3 rounded-full transition-all ${V.progress_percentage>=100?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-green-600 to-blue-600"}`,style:{width:`${Math.min(V.progress_percentage||0,100)}%`}})}),i.jsxs("div",{className:"flex items-center justify-between gap-4 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-green-700",children:[i.jsx(ar,{className:"w-4 h-4"}),i.jsxs("span",{className:"font-semibold",children:[V.yes_count||0," Oui"]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-amber-700",children:[i.jsx(Qo,{className:"w-4 h-4"}),i.jsxs("span",{className:"font-semibold",children:[V.maybe_count||0," Peut-tre"]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-red-700",children:[i.jsx(Lr,{className:"w-4 h-4"}),i.jsxs("span",{className:"font-semibold",children:[V.no_count||0," Non"]})]})]})]}),i.jsxs("div",{className:"flex gap-2 pt-3 border-t border-slate-200",children:[i.jsxs("button",{onClick:()=>D(V.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg transition text-sm font-medium",children:[i.jsx(ad,{className:"w-4 h-4"}),"CSV"]}),i.jsxs("button",{onClick:()=>Q(V.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg transition text-sm font-medium",children:[i.jsx(Hm,{className:"w-4 h-4"}),"PDF"]})]}),V.daily_footfall_estimate>0&&i.jsx("div",{className:"pt-3 border-t border-slate-200",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[i.jsx(Sh,{className:"w-4 h-4"}),i.jsxs("span",{children:[V.daily_footfall_estimate.toLocaleString("fr-FR")," passages/jour"]})]})})]})]})]},V.id))})]}),A&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Crer une nouvelle campagne"}),i.jsxs("form",{onSubmit:k,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Titre de la campagne"}),i.jsx("input",{type:"text",required:!0,value:v.title,onChange:V=>b({...v,title:V.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",placeholder:"Ex: Financement cran LED stade"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Type d'quipement"}),i.jsx("select",{value:v.screen_type,onChange:V=>b({...v,screen_type:V.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:Object.entries(G6).map(([V,Z])=>i.jsx("option",{value:V,children:Z},V))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Localisation"}),i.jsx("input",{type:"text",required:!0,value:v.location,onChange:V=>b({...v,location:V.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",placeholder:"Ex: Entre principale"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Prix indicatif annuel ()"}),i.jsx("input",{type:"number",min:"0",step:"0.01",value:v.annual_price_hint,onChange:V=>b({...v,annual_price_hint:V.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",placeholder:"15000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Objectif de financement ()"}),i.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:v.objective_amount,onChange:V=>b({...v,objective_amount:V.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",placeholder:"50000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Estimation passages/jour"}),i.jsx("input",{type:"number",min:"0",value:v.daily_footfall_estimate,onChange:V=>b({...v,daily_footfall_estimate:V.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",placeholder:"5000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date limite (optionnel)"}),i.jsx("input",{type:"date",value:v.deadline,onChange:V=>b({...v,deadline:V.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"URL de l'image de couverture (optionnel)"}),i.jsx("input",{type:"url",value:v.cover_image_url,onChange:V=>b({...v,cover_image_url:V.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",placeholder:"https://exemple.com/image.jpg"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description (Markdown support)"}),i.jsx("textarea",{value:v.description_md,onChange:V=>b({...v,description_md:V.target.value}),rows:4,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none resize-none",placeholder:"Dcrivez votre projet..."})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition font-medium",children:"Annuler"}),i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition font-medium",children:"Crer la campagne"})]})]})]})}),u&&i.jsx(Dz,{campaignId:u,objectiveAmount:((H=n.find(V=>V.id===u))==null?void 0:H.objective_amount)||0,currentPledged:((W=n.find(V=>V.id===u))==null?void 0:W.total_pledged)||0,onClose:()=>o(null)}),d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-8",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:i.jsx(QB,{className:"w-8 h-8 text-green-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Partager la campagne"}),i.jsx("p",{className:"text-slate-600 text-sm",children:"Scannez ce QR code ou partagez le lien public"})]}),i.jsx("div",{className:"bg-slate-50 rounded-xl p-6 mb-6 flex justify-center",children:i.jsx("canvas",{ref:p,className:"rounded-lg shadow-sm"})}),i.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 mb-4 border border-blue-200",children:[i.jsx("p",{className:"text-xs text-blue-700 font-medium mb-2",children:"URL publique"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"text",value:f,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-blue-200 rounded-lg text-sm text-slate-700 focus:outline-none"}),i.jsx("button",{onClick:P,className:"p-2 hover:bg-blue-100 text-blue-600 rounded-lg transition",title:"Copier l'URL",children:i.jsx(pc,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:T,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition font-semibold",children:[i.jsx(Mm,{className:"w-4 h-4"}),"Tlcharger QR"]}),i.jsx("button",{onClick:()=>h(null),className:"flex-1 px-4 py-3 border-2 border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition font-semibold",children:"Fermer"})]}),i.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:i.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Les visiteurs pourront participer  votre campagne via cette page publique"})})]})})]})}const Xde=[{value:"led_ext",label:"LED Extrieur"},{value:"led_int",label:"LED Intrieur"},{value:"borne_ext",label:"Borne Extrieur"},{value:"borne_int_mobile",label:"Borne Intrieur Mobile"},{value:"ecran_int_fixe",label:"cran Intrieur Fixe"}],W6=[{value:"monday",label:"Lundi"},{value:"tuesday",label:"Mardi"},{value:"wednesday",label:"Mercredi"},{value:"thursday",label:"Jeudi"},{value:"friday",label:"Vendredi"},{value:"saturday",label:"Samedi"},{value:"sunday",label:"Dimanche"}];function qde({onSuccess:e,onCancel:t}){Nn();const{effectiveTenantId:r}=As(),n=Cn(),[s,a]=E.useState(!1),[l,A]=E.useState({title:"",screen_type:"led_ext",location:"",annual_price_hint:"",objective_amount:"",daily_footfall_estimate:"",cover_image_url:"",deadline:"",description_md:"",is_public_share_enabled:!1}),[c,u]=E.useState({monday:{start:"08:00",end:"20:00"},tuesday:{start:"08:00",end:"20:00"},wednesday:{start:"08:00",end:"20:00"},thursday:{start:"08:00",end:"20:00"},friday:{start:"08:00",end:"20:00"},saturday:{start:"08:00",end:"20:00"},sunday:{start:"08:00",end:"20:00"}}),o=(p,v)=>{A(b=>({...b,[p]:v}))},d=(p,v,b)=>{u(j=>({...j,[p]:j[p]?{...j[p],[v]:b}:{start:"08:00",end:"20:00"}}))},h=p=>{u(v=>({...v,[p]:v[p]===null?{start:"08:00",end:"20:00"}:null}))},f=p=>{const v=p.replace(/[^\d]/g,"");return v?parseInt(v,10):0},g=()=>{if(!l.title.trim())return n.error("Le titre est requis"),!1;if(!l.location.trim())return n.error("La localisation est requise"),!1;if(!l.objective_amount||f(l.objective_amount)<=0)return n.error("Le montant objectif doit tre suprieur  0"),!1;if(l.deadline){const p=new Date(l.deadline),v=new Date;if(v.setHours(0,0,0,0),p<v)return n.error("La date limite doit tre dans le futur"),!1}return!0},m=async p=>{if(p.preventDefault(),!!g()){if(!r){n.error("Impossible de crer une campagne : tenant_id manquant");return}a(!0);try{const{error:v}=await Ie.from("campaigns").insert({tenant_id:r,title:l.title.trim(),screen_type:l.screen_type,location:l.location.trim(),annual_price_hint:f(l.annual_price_hint),objective_amount:f(l.objective_amount),daily_footfall_estimate:f(l.daily_footfall_estimate),lighting_hours:c,cover_image_url:l.cover_image_url.trim()||null,deadline:l.deadline||null,description_md:l.description_md.trim()||null,is_public_share_enabled:l.is_public_share_enabled});if(v)throw v;e()}catch(v){n.error("Erreur lors de la cration: "+v.message)}finally{a(!1)}}},x=()=>{const p=c.monday;if(p){const v={};W6.forEach(b=>{v[b.value]={...p}}),u(v),n.success("Horaires appliqus  tous les jours")}};return i.jsx(_r,{children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition mb-4",children:[i.jsx(hU,{className:"w-4 h-4"}),i.jsx("span",{children:"Retour"})]}),i.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Crer une nouvelle campagne"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Remplissez les informations ci-dessous pour crer votre campagne"})]}),i.jsxs("form",{onSubmit:m,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Informations gnrales"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Titre de la campagne *"}),i.jsx("input",{type:"text",required:!0,value:l.title,onChange:p=>o("title",p.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Ex: cran LED Stade Principal"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Type d'cran *"}),i.jsx("select",{required:!0,value:l.screen_type,onChange:p=>o("screen_type",p.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:Xde.map(p=>i.jsx("option",{value:p.value,children:p.label},p.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Localisation *"}),i.jsx("input",{type:"text",required:!0,value:l.location,onChange:p=>o("location",p.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Ex: Stade Jean Bouin"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"URL de l'image de couverture"}),i.jsx("input",{type:"url",value:l.cover_image_url,onChange:p=>o("cover_image_url",p.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"https://example.com/image.jpg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description (Markdown)"}),i.jsx("textarea",{value:l.description_md,onChange:p=>o("description_md",p.target.value),rows:4,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Dcrivez votre campagne..."})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Objectifs et estimations"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Montant objectif * ()"}),i.jsx("input",{type:"text",required:!0,value:l.objective_amount,onChange:p=>o("objective_amount",p.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"50000"}),l.objective_amount&&i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[f(l.objective_amount).toLocaleString("fr-FR"),""]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Prix annuel indicatif ()"}),i.jsx("input",{type:"text",value:l.annual_price_hint,onChange:p=>o("annual_price_hint",p.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"5000"}),l.annual_price_hint&&i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[f(l.annual_price_hint).toLocaleString("fr-FR"),""]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Frquentation journalire estime"}),i.jsx("input",{type:"text",value:l.daily_footfall_estimate,onChange:p=>o("daily_footfall_estimate",p.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"1000"}),l.daily_footfall_estimate&&i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[f(l.daily_footfall_estimate).toLocaleString("fr-FR")," ","personnes"]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Horaires d'allumage"}),i.jsx("button",{type:"button",onClick:x,className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition",children:"Appliquer le lundi  tous"})]}),i.jsx("div",{className:"space-y-3",children:W6.map(p=>{var v,b;return i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 sm:w-40",children:[i.jsx("input",{type:"checkbox",checked:c[p.value]!==null,onChange:()=>h(p.value),className:"w-4 h-4 text-blue-600 bg-slate-100 border-slate-300 rounded focus:ring-blue-500"}),i.jsx("label",{className:"text-sm font-medium text-slate-900 dark:text-white",children:p.label})]}),c[p.value]!==null&&i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"time",value:((v=c[p.value])==null?void 0:v.start)||"08:00",onChange:j=>d(p.value,"start",j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})}),i.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:""}),i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"time",value:((b=c[p.value])==null?void 0:b.end)||"20:00",onChange:j=>d(p.value,"end",j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})})]})]},p.value)})})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Options et date limite"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Date limite"}),i.jsx("input",{type:"date",value:l.deadline,onChange:p=>o("deadline",p.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",id:"is_public",checked:l.is_public_share_enabled,onChange:p=>o("is_public_share_enabled",p.target.checked),className:"w-4 h-4 text-blue-600 bg-slate-100 border-slate-300 rounded focus:ring-blue-500"}),i.jsx("label",{htmlFor:"is_public",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Activer le partage public de la campagne"})]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition font-medium",disabled:s,children:"Annuler"}),i.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white rounded-lg transition font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:s?"Cration...":"Crer la campagne"})]})]})]})})}function Zde({campaign:e,onClose:t}){var f;const[r,n]=E.useState(""),[s,a]=E.useState("png");E.useRef(null);const l=E.useRef(null),A=e.public_slug?`${window.location.origin}/p/${e.public_slug}`:"";E.useEffect(()=>{A&&c()},[A,s]);const c=async()=>{try{if(s==="png"){const g=await KA.toDataURL(A,{width:512,margin:2,color:{dark:"#1e293b",light:"#ffffff"}});n(g)}else{const g=await KA.toString(A,{type:"svg",width:512,margin:2,color:{dark:"#1e293b",light:"#ffffff"}}),m=new Blob([g],{type:"image/svg+xml"}),x=URL.createObjectURL(m);n(x)}}catch(g){console.error("Error generating QR code:",g)}},u=()=>{if(!r)return;const g=document.createElement("a");g.download=`qr-${e.public_slug}.${s}`,g.href=r,g.click()},o=()=>{if(!l.current)return;const g=window.open("","_blank");if(!g)return;const m=l.current.innerHTML;g.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>Flyer - ${e.title}</title>
          <style>
            @page {
              size: A6;
              margin: 0;
            }
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
              width: 105mm;
              height: 148mm;
              margin: 0;
              padding: 0;
            }
            @media print {
              body {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
              }
            }
          </style>
        </head>
        <body>
          ${m}
        </body>
      </html>
    `),g.document.close(),g.focus(),setTimeout(()=>{g.print(),g.close()},250)},d=async()=>{if(!l.current)return;const g=l.current.cloneNode(!0),m={margin:0,filename:`flyer-${e.public_slug||e.id}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"},jsPDF:{unit:"mm",format:"a6",orientation:"portrait"}};try{await ED().set(m).from(g).save()}catch(x){console.error("Error generating PDF:",x)}},h=A.replace(/^https?:\/\//,"").replace(/^www\./,"");return i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50 overflow-y-auto",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-4xl w-full shadow-2xl my-8",children:[i.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 p-6 flex items-center justify-between rounded-t-2xl",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(fj,{className:"w-6 h-6"}),"Gnrateur QR Code & Flyer"]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:e.title})]}),i.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition",children:i.jsx(un,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"p-6 space-y-6",children:A?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"QR Code"}),i.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-xl p-6 mb-4 flex items-center justify-center",children:r&&i.jsx("img",{src:r,alt:"QR Code",className:"w-64 h-64 rounded-lg shadow-lg"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Format"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>a("png"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition ${s==="png"?"bg-blue-600 text-white shadow-sm":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"PNG"}),i.jsx("button",{onClick:()=>a("svg"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition ${s==="svg"?"bg-blue-600 text-white shadow-sm":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"SVG"})]})]}),i.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white rounded-xl font-semibold transition shadow-lg",children:[i.jsx(Mm,{className:"w-4 h-4"}),"Tlcharger QR Code (",s.toUpperCase(),")"]}),i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-3",children:[i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-1",children:"URL publique :"}),i.jsx("p",{className:"text-sm font-mono text-slate-900 dark:text-white break-all",children:A})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Aperu Flyer A6"}),i.jsx("div",{className:"bg-slate-100 dark:bg-slate-900 rounded-xl p-4 mb-4 flex items-center justify-center",children:i.jsx("div",{ref:l,className:"bg-white shadow-2xl",style:{width:"105mm",height:"148mm",position:"relative"},children:i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-between p-8",style:{background:"linear-gradient(135deg, #3b82f6 0%, #10b981 100%)"},children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"bg-white rounded-2xl p-4 mb-4 inline-block shadow-xl",children:i.jsx(fj,{className:"w-12 h-12 text-blue-600"})}),i.jsx("h1",{className:"text-white font-bold text-2xl mb-2",children:((f=e.tenant)==null?void 0:f.name)||"Club"}),i.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Opportunit de sponsoring"})]}),i.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-2xl",children:r&&i.jsx("img",{src:r,alt:"QR Code",className:"w-48 h-48 mx-auto"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-white font-bold text-lg mb-2",children:e.title}),i.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2",children:i.jsx("p",{className:"text-white text-xs font-mono break-all",children:h})})]})]})})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white rounded-xl font-semibold transition shadow-lg",children:[i.jsx(Hm,{className:"w-4 h-4"}),"Tlcharger Flyer PDF"]}),i.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg font-medium transition",children:[i.jsx(XH,{className:"w-4 h-4"}),"Imprimer"]}),i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 text-center",children:"Format A6 (105 x 148 mm)"})]})]})]}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(LH,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-300",children:[i.jsx("p",{className:"font-semibold mb-2",children:"Conseils d'utilisation"}),i.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[i.jsx("li",{children:"Le QR code peut tre scann avec n'importe quel smartphone"}),i.jsx("li",{children:"Format PNG pour intgration dans documents (Word, PowerPoint, etc.)"}),i.jsx("li",{children:"Format SVG pour impression haute qualit et redimensionnement sans perte"}),i.jsx("li",{children:"Le flyer A6 est optimis pour impression recto simple"}),i.jsx("li",{children:"Pour crer un PDF : Imprimer  Destination : Enregistrer au format PDF"})]})]})]})})]}):i.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-800 rounded-xl p-4",children:i.jsx("p",{className:"text-sm text-amber-900 dark:text-amber-300",children:"Cette campagne n'a pas de slug public configur. Veuillez d'abord activer le partage public dans les paramtres de la campagne."})})}),i.jsx("div",{className:"sticky bottom-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 p-6 rounded-b-2xl",children:i.jsx("button",{onClick:t,className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition font-medium",children:"Fermer"})})]})})}const efe={led_ext:"LED Extrieur",led_int:"LED Intrieur",borne_ext:"Borne Extrieur",borne_int_mobile:"Borne Intrieur Mobile",ecran_int_fixe:"cran Intrieur Fixe"};function tfe({campaignId:e,onBack:t}){const{profile:r}=Nn(),n=Cn(),s=E.useRef(null),[a,l]=E.useState(null),[A,c]=E.useState([]),[u,o]=E.useState(!0),[d,h]=E.useState(!1),[f,g]=E.useState(""),[m,x]=E.useState(!1),[p,v]=E.useState({price_hint:0,expected_interested_sponsors:0,cost_estimate:0});E.useEffect(()=>{b()},[e]);const b=async()=>{o(!0);try{const{data:V,error:Z}=await Ie.from("campaigns").select("*, tenants(*)").eq("id",e).single();if(Z)throw Z;const K=Array.isArray(V.tenants)?V.tenants[0]:V.tenants,{data:X,error:le}=await Ie.from("pledges").select("*").eq("campaign_id",e).order("amount",{ascending:!1});if(le)throw le;const Ae=(X==null?void 0:X.reduce((q,pe)=>pe.status==="yes"?q+(pe.amount||0):q,0))||0,M=(X==null?void 0:X.filter(q=>q.status==="yes").length)||0,G=(X==null?void 0:X.filter(q=>q.status==="maybe").length)||0,re=(X==null?void 0:X.filter(q=>q.status==="no").length)||0,ne=V.objective_amount?Ae/V.objective_amount*100:0;l({...V,tenant:K,pledges_count:(X==null?void 0:X.length)||0,total_pledged:Ae,progress_percentage:ne,yes_count:M,maybe_count:G,no_count:re});const de=X==null?void 0:X.map(q=>({...q,sponsor_name_display:q.sponsor_name||q.sponsor_email}));c(de||[]),v({price_hint:V.annual_price_hint||0,expected_interested_sponsors:M+G,cost_estimate:V.cost_estimate||0})}catch(V){n.error("Erreur lors du chargement: "+V.message)}finally{o(!1)}},j=async()=>{if(!a)return;const V=`${window.location.origin}/p/${a.slug||a.id}`;g(V);try{s.current&&await KA.toCanvas(s.current,V,{width:300,margin:2}),h(!0)}catch{n.error("Erreur lors de la gnration du QR code")}},k=()=>{if(!a||!A)return;const V=A.map(Z=>({...Z,sponsors:{company:Z.sponsor_company,contact_name:Z.sponsor_name_display,email:Z.sponsor_email,phone:Z.sponsor_phone}}));FD(a,V),n.success("Export CSV termin")},S=async()=>{if(!a||!A||!(r!=null&&r.tenant_id))return;n.info("Gnration du PDF en cours...");const V=A.map(X=>({...X,sponsors:{company:X.sponsor_company,contact_name:X.sponsor_name_display,email:X.sponsor_email,phone:X.sponsor_phone}})),Z={total_pledged:a.total_pledged||0,yes_count:a.yes_count||0,maybe_count:a.maybe_count||0,no_count:a.no_count||0,progress_percentage:a.progress_percentage||0},K=await ID(a,V,Z,r.tenant_id);K.success?(n.success("PDF gnr et sauvegard avec succs"),K.url&&console.log("PDF URL:",K.url)):n.error(K.error||"Erreur lors de la gnration du PDF")},F=async()=>{if(!a)return;const V=A.filter(Z=>Z.status==="maybe");if(V.length===0){n.info('Aucun sponsor "Peut-tre"  relancer');return}n.info(`Relance de ${V.length} sponsor(s) en cours...`);try{if(!(await fetch("undefined/functions/v1/send-reminders",{method:"POST",headers:{Authorization:"Bearer undefined","Content-Type":"application/json"},body:JSON.stringify({campaign_id:a.id})})).ok)throw new Error("Erreur lors de l'envoi des relances");n.success("Relances envoyes avec succs")}catch(Z){n.error("Erreur: "+Z.message)}},T=async()=>{if(a)try{const V=p.price_hint*p.expected_interested_sponsors,Z=a.objective_amount?V/a.objective_amount*100:0,{error:K}=await Ie.from("scenarios").insert({campaign_id:a.id,price_hint:p.price_hint,expected_interested_sponsors:p.expected_interested_sponsors,estimated_revenue:V,cost_estimate:p.cost_estimate,attainment_percentage:Z});if(K)throw K;n.success("Scnario enregistr avec succs")}catch(V){n.error("Erreur lors de l'enregistrement: "+V.message)}};if(u)return i.jsx(_r,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Chargement..."})})});if(!a)return i.jsx(_r,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Campagne introuvable"})})});const P=A.filter(V=>V.status==="yes"),R=P.slice(0,10).map(V=>{var Z;return{name:((Z=V.sponsor_name_display)==null?void 0:Z.substring(0,15))+(V.sponsor_name_display&&V.sponsor_name_display.length>15?"...":""),montant:V.amount||0}}),U=p.price_hint*p.expected_interested_sponsors,D=a.objective_amount?U/a.objective_amount*100:0,Q=p.cost_estimate>0&&p.price_hint>0?Math.ceil(p.cost_estimate/p.price_hint):0,H=a.objective_amount-(a.total_pledged||0),W=H>0&&a.annual_price_hint>0?Math.ceil(H/a.annual_price_hint):0;return i.jsxs(_r,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition mb-3",children:[i.jsx(hU,{className:"w-4 h-4"}),i.jsx("span",{children:"Retour aux campagnes"})]}),i.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:a.title}),i.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("span",{className:"px-2.5 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded font-medium",children:efe[a.screen_type]}),i.jsx("span",{children:a.location})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 hover:bg-amber-200 dark:hover:bg-amber-900/50 rounded-lg transition",children:[i.jsx(zn,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Relancer"})]}),i.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg transition",title:"Exporter CSV",children:[i.jsx(Hm,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium hidden sm:inline",children:"CSV"})]}),i.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/50 rounded-lg transition",title:"Exporter PDF",children:[i.jsx(Hm,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium hidden sm:inline",children:"PDF"})]}),i.jsx("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg transition",title:"Gnrer QR Code",children:i.jsx(QB,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:["Objectif atteint  ",(a.progress_percentage||0).toFixed(1),"%"]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:[(a.total_pledged||0).toLocaleString("fr-FR"),""]}),i.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["sur ",a.objective_amount.toLocaleString("fr-FR")," viss"]})]})]}),i.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-4 overflow-hidden mb-4",children:i.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${(a.progress_percentage||0)>=100?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-blue-500 to-green-500"}`,style:{width:`${Math.min(a.progress_percentage||0,100)}%`}})}),H>0&&i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"cart  l'objectif"}),i.jsxs("p",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:[H.toLocaleString("fr-FR"),""]})]}),W>0&&i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Sponsors ncessaires"}),i.jsxs("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:[W,i.jsxs("span",{className:"text-sm font-normal text-slate-500 dark:text-slate-400 ml-1",children:[" ",a.annual_price_hint.toLocaleString("fr-FR"),""]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:i.jsx(ar,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Oui"}),i.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:a.yes_count||0})]})]}),i.jsxs("p",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:[(a.total_pledged||0).toLocaleString("fr-FR"),""]})]}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:i.jsx(Qo,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Peut-tre"}),i.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:a.maybe_count||0})]})]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:i.jsx(Lr,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Non"}),i.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:a.no_count||0})]})]})})]}),P.length>0&&i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Top 10 des sponsors par montant"}),i.jsx(YT,{width:"100%",height:300,children:i.jsxs(Ele,{data:R,children:[i.jsx(n8,{strokeDasharray:"3 3",stroke:"#334155",opacity:.1}),i.jsx(s8,{dataKey:"name",tick:{fill:"#64748b",fontSize:12},angle:-45,textAnchor:"end",height:80}),i.jsx(a8,{tick:{fill:"#64748b",fontSize:12}}),i.jsx(yQ,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.9)",border:"none",borderRadius:"8px",color:"white"},formatter:V=>`${V.toLocaleString("fr-FR")}`}),i.jsx(qQ,{dataKey:"montant",fill:"url(#colorGradient)",radius:[8,8,0,0]}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:"#3b82f6"}),i.jsx("stop",{offset:"100%",stopColor:"#10b981"})]})})]})})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Mode prvisionnel"}),i.jsx("button",{onClick:()=>x(!m),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:m?"Masquer":"Afficher"})]}),m&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Prix unitaire estim: ",p.price_hint.toLocaleString("fr-FR"),""]}),i.jsx("input",{type:"range",min:"0",max:"50000",step:"500",value:p.price_hint,onChange:V=>v({...p,price_hint:parseInt(V.target.value)}),className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Sponsors intresss estims: ",p.expected_interested_sponsors]}),i.jsx("input",{type:"range",min:"0",max:"100",step:"1",value:p.expected_interested_sponsors,onChange:V=>v({...p,expected_interested_sponsors:parseInt(V.target.value)}),className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Cot estim: ",p.cost_estimate.toLocaleString("fr-FR"),""]}),i.jsx("input",{type:"range",min:"0",max:"100000",step:"1000",value:p.cost_estimate,onChange:V=>v({...p,cost_estimate:parseInt(V.target.value)}),className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),i.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Revenu estim"}),i.jsxs("span",{className:"text-lg font-bold text-slate-900 dark:text-white",children:[U.toLocaleString("fr-FR"),""]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"% d'atteinte"}),i.jsxs("span",{className:`text-lg font-bold ${D>=100?"text-green-600 dark:text-green-400":"text-amber-600 dark:text-amber-400"}`,children:[D.toFixed(1),"%"]})]}),p.cost_estimate>0&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Break-even"}),i.jsxs("span",{className:"text-lg font-bold text-slate-900 dark:text-white",children:[Q," sponsors"]})]})]}),i.jsxs("button",{onClick:T,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white rounded-lg transition font-medium shadow-lg",children:[i.jsx(xd,{className:"w-4 h-4"}),"Enregistrer le scnario"]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Statistiques"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total rponses"}),i.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:a.pledges_count||0})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Taux de conversion"}),i.jsxs("span",{className:"font-semibold text-slate-900 dark:text-white",children:[a.pledges_count?(a.yes_count/a.pledges_count*100).toFixed(1):0,"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Montant moyen"}),i.jsxs("span",{className:"font-semibold text-slate-900 dark:text-white",children:[a.yes_count?((a.total_pledged||0)/a.yes_count).toLocaleString("fr-FR"):0,""]})]})]})]})]})]})]}),d&&a&&i.jsx(Zde,{campaign:a,onClose:()=>h(!1)})]})}const rfe={led_ext:"LED Extrieur",led_int:"LED Intrieur",borne_ext:"Borne Extrieur",borne_int_mobile:"Borne Intrieur Mobile",ecran_int_fixe:"cran Intrieur Fixe"};function nfe(){const{profile:e}=Nn(),{effectiveTenantId:t}=As(),r=Cn(),[n,s]=E.useState([]),[a,l]=E.useState(!1),[A,c]=E.useState(null),[u,o]=E.useState(!0);E.useEffect(()=>{d()},[]);const d=async()=>{if(t){o(!0);try{const{data:g,error:m}=await Ie.from("campaigns").select("*").eq("tenant_id",t).order("created_at",{ascending:!1});if(m)throw m;if(g){const x=new Date,p=await Promise.all(g.map(async v=>{const{data:b}=await Ie.from("pledges").select("amount, status").eq("campaign_id",v.id),j=(b==null?void 0:b.reduce((R,U)=>U.status==="yes"?R+(U.amount||0):R,0))||0,k=(b==null?void 0:b.filter(R=>R.status==="yes").length)||0,S=(b==null?void 0:b.filter(R=>R.status==="maybe").length)||0,F=(b==null?void 0:b.filter(R=>R.status==="no").length)||0,T=v.objective_amount?j/v.objective_amount*100:0,P=v.deadline?new Date(v.deadline)>x:!0;return{...v,pledges_count:(b==null?void 0:b.length)||0,total_pledged:j,progress_percentage:T,yes_count:k,maybe_count:S,no_count:F,is_open:P}}));s(p)}}catch(g){r.error("Erreur lors du chargement: "+g.message)}finally{o(!1)}}},h=()=>{l(!1),d(),r.success("Campagne cre avec succs")},f=async g=>{if(e!=null&&e.tenant_id)try{const{error:m}=await Ie.from("campaigns").insert({tenant_id:e.tenant_id,title:`${g.title} (Copie)`,screen_type:g.screen_type,location:g.location,annual_price_hint:g.annual_price_hint,objective_amount:g.objective_amount,daily_footfall_estimate:g.daily_footfall_estimate,lighting_hours:g.lighting_hours,cover_image_url:g.cover_image_url,description_md:g.description_md,is_public_share_enabled:!1,public_slug:null,deadline:null});if(m)throw m;r.success("Campagne duplique avec succs"),d()}catch(m){r.error("Erreur lors de la duplication: "+m.message)}};return u?i.jsx(_r,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Chargement..."})})}):A?i.jsx(tfe,{campaignId:A,onBack:()=>c(null)}):a?i.jsx(qde,{onSuccess:h,onCancel:()=>l(!1)}):i.jsx(_r,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Mes campagnes"}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[n.length," campagne(s) au total"]})]}),i.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white rounded-lg transition shadow-lg","data-testid":"create-campaign-button",children:[i.jsx(gc,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Nouvelle campagne"})]})]}),n.length===0?i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-12 text-center border border-slate-200 dark:border-slate-700",children:[i.jsx(Ga,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"Aucune campagne"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Crez votre premire campagne pour commencer  collecter des promesses"}),i.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white rounded-lg transition shadow-lg",children:[i.jsx(gc,{className:"w-4 h-4"}),"Crer une campagne"]})]}):i.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.map(g=>i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden hover:shadow-md transition","data-testid":"campaign-card",children:i.jsxs("div",{className:"flex flex-col lg:flex-row",children:[g.cover_image_url&&i.jsx("div",{className:"lg:w-64 h-48 lg:h-auto overflow-hidden",children:i.jsx("img",{src:g.cover_image_url,alt:g.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1 p-6",children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:g.title}),g.is_open?i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400",children:[i.jsx(ar,{className:"w-3 h-3"}),"Ouverte"]}):i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400",children:[i.jsx(Lr,{className:"w-3 h-3"}),"Ferme"]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded font-medium",children:rfe[g.screen_type]}),i.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[i.jsx(vp,{className:"w-4 h-4"}),g.location]}),g.deadline&&i.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[i.jsx($A,{className:"w-4 h-4"}),new Date(g.deadline).toLocaleDateString("fr-FR")]}),g.is_public_share_enabled?i.jsxs("span",{className:"inline-flex items-center gap-1.5 text-green-600 dark:text-green-400",children:[i.jsx(ao,{className:"w-4 h-4"}),"Partage public"]}):i.jsxs("span",{className:"inline-flex items-center gap-1.5 text-slate-400 dark:text-slate-500",children:[i.jsx(OH,{className:"w-4 h-4"}),"Prive"]})]})]})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Sh,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"}),i.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Objectif"})]}),i.jsxs("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:[g.objective_amount.toLocaleString("fr-FR"),""]})]}),i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ar,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),i.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Collect"})]}),i.jsxs("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:[(g.total_pledged||0).toLocaleString("fr-FR"),""]})]}),i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(XA,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"}),i.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Rponses"})]}),i.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:g.pledges_count||0})]}),i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Ga,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"}),i.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Progression"})]}),i.jsxs("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:[(g.progress_percentage||0).toFixed(0),"%"]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2 text-sm",children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Progression"}),i.jsxs("span",{className:"font-semibold text-slate-900 dark:text-white",children:[(g.progress_percentage||0).toFixed(1),"%"]})]}),i.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${(g.progress_percentage||0)>=100?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-blue-500 to-green-500"}`,style:{width:`${Math.min(g.progress_percentage||0,100)}%`}})})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(ar,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),i.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[g.yes_count||0," Oui"]})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Qo,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"}),i.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[g.maybe_count||0," Peut-tre"]})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Lr,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),i.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[g.no_count||0," Non"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>f(g),className:"flex items-center gap-2 px-3 py-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg transition text-sm font-medium",title:"Dupliquer cette campagne",children:[i.jsx(pc,{className:"w-4 h-4"}),"Dupliquer"]}),i.jsxs("button",{onClick:()=>c(g.id),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white rounded-lg transition shadow-lg text-sm font-medium",children:["Voir dtails",i.jsx(_H,{className:"w-4 h-4"})]})]})]})]})]})},g.id))})]})})}function Xf(e,t){if(!t.trim())return i.jsx(i.Fragment,{children:e});const r=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi"),n=e.split(r);return i.jsx(i.Fragment,{children:n.map((s,a)=>r.test(s)?i.jsx("mark",{className:"bg-yellow-200 dark:bg-yellow-600/50 text-slate-900 dark:text-white px-0.5 rounded",children:s},a):i.jsx("span",{children:s},a))})}function sfe({sponsors:e,campaigns:t,onClose:r,onSuccess:n}){const s=Cn(),{profile:a}=Nn(),[l,A]=E.useState(""),[c,u]=E.useState(null),[o,d]=E.useState(!1),[h,f]=E.useState(""),[g,m]=E.useState(e.map(H=>H.id)),[x,p]=E.useState({status:"idle",current:0,total:0,message:""}),[v,b]=E.useState({enableScheduling:!1,scheduledDate:"",scheduledTime:""}),[j,k]=E.useState({enableReminders:!1,reminderDays:[5,10]});E.useEffect(()=>{if(l){const H=t.find(W=>W.id===l);u(H||null)}else u(null)},[l,t]);const S=()=>{if(!c)return"";const H=e[0],W=`${window.location.origin}/respond/EXAMPLE-TOKEN-123`;return`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background-color: #f8fafc;">
  <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #f8fafc; padding: 40px 20px;">
    <tr>
      <td align="center">
        <table width="600" cellpadding="0" cellspacing="0" style="background-color: #ffffff; border-radius: 16px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); overflow: hidden;">
          <!-- Header -->
          <tr>
            <td style="background: linear-gradient(135deg, #3b82f6 0%, #10b981 100%); padding: 40px 30px; text-align: center;">
              <h1 style="margin: 0; color: #ffffff; font-size: 28px; font-weight: 700;">
                Opportunit de sponsoring
              </h1>
            </td>
          </tr>

          <!-- Content -->
          <tr>
            <td style="padding: 40px 30px;">
              <p style="margin: 0 0 20px; color: #1e293b; font-size: 16px; line-height: 1.6;">
                Bonjour ${(H==null?void 0:H.contact_name)||"Cher partenaire"},
              </p>

              <p style="margin: 0 0 20px; color: #475569; font-size: 15px; line-height: 1.6;">
                Nous avons le plaisir de vous prsenter notre nouvelle opportunit de sponsoring :
              </p>

              <div style="background-color: #f1f5f9; border-radius: 12px; padding: 24px; margin: 0 0 30px;">
                <h2 style="margin: 0 0 16px; color: #1e293b; font-size: 22px; font-weight: 700;">
                  ${c.title}
                </h2>
                <p style="margin: 0 0 12px; color: #475569; font-size: 14px;">
                  <strong style="color: #1e293b;">Localisation :</strong> ${c.location}
                </p>
                ${c.daily_footfall_estimate?`
                <p style="margin: 0 0 12px; color: #475569; font-size: 14px;">
                  <strong style="color: #1e293b;">Visibilit :</strong> ${c.daily_footfall_estimate.toLocaleString()} personnes/jour
                </p>
                `:""}
                ${c.annual_price_hint?`
                <p style="margin: 0 0 12px; color: #475569; font-size: 14px;">
                  <strong style="color: #1e293b;">Tarif indicatif :</strong> ${c.annual_price_hint.toLocaleString()}/an
                </p>
                `:""}
                ${c.description_md?`
                <p style="margin: 12px 0 0; color: #475569; font-size: 14px; line-height: 1.6;">
                  ${c.description_md.substring(0,200)}${c.description_md.length>200?"...":""}
                </p>
                `:""}
              </div>

              <p style="margin: 0 0 30px; color: #475569; font-size: 15px; line-height: 1.6;">
                Nous serions ravis de compter ${(H==null?void 0:H.company)||"votre entreprise"} parmi nos partenaires.
                Merci de nous faire part de votre intrt en cliquant sur le lien ci-dessous :
              </p>

              <!-- CTA Button -->
              <table width="100%" cellpadding="0" cellspacing="0">
                <tr>
                  <td align="center" style="padding: 0 0 30px;">
                    <a href="${W}" style="display: inline-block; background: linear-gradient(135deg, #3b82f6 0%, #10b981 100%); color: #ffffff; text-decoration: none; padding: 16px 40px; border-radius: 12px; font-size: 16px; font-weight: 600; box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);">
                      Rpondre  l'invitation
                    </a>
                  </td>
                </tr>
              </table>

              <p style="margin: 0 0 10px; color: #94a3b8; font-size: 13px; line-height: 1.6;">
                Ce lien est personnel et expire dans 30 jours.
              </p>

              <p style="margin: 0; color: #94a3b8; font-size: 13px; line-height: 1.6;">
                Si vous avez des questions, n'hsitez pas  nous contacter.
              </p>
            </td>
          </tr>

          <!-- Footer -->
          <tr>
            <td style="background-color: #f8fafc; padding: 30px; text-align: center; border-top: 1px solid #e2e8f0;">
              <p style="margin: 0 0 8px; color: #64748b; font-size: 13px;">
                Plateforme de sponsoring sportif
              </p>
              <p style="margin: 0; color: #94a3b8; font-size: 12px;">
                 ${new Date().getFullYear()} - Tous droits rservs
              </p>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</body>
</html>
    `.trim()},F=async()=>{if(!l){s.error("Veuillez slectionner une campagne");return}if(v.enableScheduling){if(!v.scheduledDate||!v.scheduledTime){s.error("Veuillez slectionner une date et une heure");return}await T();return}p({status:"sending",current:0,total:U.length,message:"Gnration des invitations..."});try{const H=[];let W=0,V=0;for(let Z=0;Z<U.length;Z++){const K=U[Z];p({status:"sending",current:Z+1,total:U.length,message:`Envoi  ${K.company}...`});try{const X=`inv_${crypto.randomUUID()}`,le=new Date(Date.now()+30*24*60*60*1e3).toISOString(),Ae=`${window.location.origin}/respond/${X}`,{data:M,error:G}=await Ie.from("invitations").insert({campaign_id:l,sponsor_id:K.id,email:K.email,token:X,status:"sent",expires_at:le}).select().single();if(G)throw G;const ne=await fetch("undefined/functions/v1/send-invitation",{method:"POST",headers:{Authorization:"Bearer undefined","Content-Type":"application/json"},body:JSON.stringify({invitation_id:M.id,sponsor_email:K.email,sponsor_name:K.contact_name,sponsor_company:K.company,campaign_title:c==null?void 0:c.title,campaign_location:c==null?void 0:c.location,campaign_description:c==null?void 0:c.description_md,campaign_price:c==null?void 0:c.annual_price_hint,campaign_footfall:c==null?void 0:c.daily_footfall_estimate,response_url:Ae})});if(ne.ok?(W++,H.push(M)):(console.error("Email send failed:",await ne.text()),V++),j.enableReminders)for(const de of j.reminderDays){const q=new Date(Date.now()+de*24*60*60*1e3);await Ie.from("reminders").insert({invitation_id:M.id,scheduled_for:q.toISOString(),status:"pending"})}}catch(X){console.error(`Error sending to ${K.email}:`,X),V++}await new Promise(X=>setTimeout(X,500))}if(W>0)p({status:"success",current:U.length,total:U.length,message:`${W} invitation(s) envoye(s) avec succs${V>0?`, ${V} erreur(s)`:""}`}),s.success(`${W} invitation(s) envoye(s)`),V>0&&s.error(`${V} erreur(s) lors de l'envoi`),setTimeout(()=>{n(),r()},2e3);else throw new Error("Aucune invitation n'a pu tre envoye")}catch(H){p({status:"error",current:0,total:U.length,message:H.message||"Une erreur est survenue"}),s.error("Erreur lors de l'envoi: "+H.message)}},T=async()=>{if(!(a!=null&&a.tenant_id)){s.error("Tenant ID manquant");return}try{const H=new Date(`${v.scheduledDate}T${v.scheduledTime}:00`),W=new Date(H.toLocaleString("en-US",{timeZone:"Europe/Paris"})),V={sponsors:U.map(K=>({id:K.id,email:K.email,company:K.company,contact_name:K.contact_name})),campaignId:l,campaignData:{title:c==null?void 0:c.title,location:c==null?void 0:c.location,description:c==null?void 0:c.description_md,price:c==null?void 0:c.annual_price_hint,footfall:c==null?void 0:c.daily_footfall_estimate},reminderSettings:j.enableReminders?{enabled:!0,days:j.reminderDays}:null},{error:Z}=await Ie.from("scheduled_jobs").insert({tenant_id:a.tenant_id,campaign_id:l,job_type:"email_invitation",scheduled_at:W.toISOString(),status:"pending",payload:V,created_by:a.id});if(Z)throw Z;s.success(`Envoi planifi pour le ${H.toLocaleDateString("fr-FR")}  ${v.scheduledTime}`),setTimeout(()=>{n(),r()},1500)}catch(H){s.error("Erreur lors de la planification: "+H.message)}},P=H=>{k(W=>({...W,reminderDays:W.reminderDays.includes(H)?W.reminderDays.filter(V=>V!==H):[...W.reminderDays,H].sort((V,Z)=>V-Z)}))},R=e.filter(H=>{if(!h)return!0;const W=h.toLowerCase();return H.company.toLowerCase().includes(W)||H.contact_name.toLowerCase().includes(W)||H.email.toLowerCase().includes(W)}),U=e.filter(H=>g.includes(H.id)),D=H=>{m(W=>W.includes(H)?W.filter(V=>V!==H):[...W,H])},Q=()=>{if(g.length===R.length){const H=R.map(W=>W.id);m(W=>W.filter(V=>!H.includes(V)))}else{const H=R.map(W=>W.id);m(W=>[...new Set([...W,...H])])}};return i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 p-6 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Envoyer des invitations"}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:[U.length," sponsor(s) slectionn(s)"]})]}),i.jsx("button",{onClick:r,disabled:x.status==="sending",className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 disabled:opacity-50",children:i.jsx(un,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Rechercher des sponsors"}),i.jsxs("div",{className:"relative",role:"search",children:[i.jsx(kh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"search",value:h,onChange:H=>f(H.target.value),placeholder:"Rechercher par nom, entreprise ou email...",className:"w-full pl-10 pr-10 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-700 text-slate-900 dark:text-white","aria-label":"Rechercher un sponsor","data-testid":"invite-search"}),h&&i.jsx("button",{onClick:()=>f(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition focus:outline-none focus:ring-2 focus:ring-blue-500 rounded","aria-label":"Effacer la recherche",children:i.jsx(un,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg max-h-64 overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-slate-50 dark:bg-slate-700/50 px-4 py-2 border-b border-slate-200 dark:border-slate-700 flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:R.length>0&&R.every(H=>g.includes(H.id)),onChange:Q,className:"w-4 h-4 text-blue-600 bg-slate-100 border-slate-300 rounded focus:ring-blue-500"}),i.jsxs("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:["Tout slectionner (",R.length,")"]})]}),i.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:R.map(H=>i.jsxs("label",{className:"flex items-center gap-3 px-4 py-3 hover:bg-slate-50 dark:hover:bg-slate-700/30 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:g.includes(H.id),onChange:()=>D(H.id),className:"w-4 h-4 text-blue-600 bg-slate-100 border-slate-300 rounded focus:ring-blue-500"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white truncate",children:Xf(H.company,h)}),i.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400 truncate",children:[Xf(H.contact_name,h),"  ",Xf(H.email,h)]})]})]},H.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Campagne *"}),i.jsxs("select",{value:l,onChange:H=>A(H.target.value),disabled:x.status==="sending",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50","data-testid":"invite-campaign-select",children:[i.jsx("option",{value:"",children:"Slectionner une campagne"}),t.map(H=>i.jsx("option",{value:H.id,children:H.title},H.id))]})]}),c&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-700 rounded-lg",children:[i.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-2",children:"Dtails de la campagne"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[i.jsx("span",{className:"font-medium",children:"Localisation:"})," ",c.location]}),c.annual_price_hint&&i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[i.jsx("span",{className:"font-medium",children:"Tarif indicatif:"})," ",c.annual_price_hint.toLocaleString(),"/an"]}),c.daily_footfall_estimate&&i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[i.jsx("span",{className:"font-medium",children:"Visibilit:"})," ",c.daily_footfall_estimate.toLocaleString()," personnes/jour"]})]})]}),i.jsxs("div",{children:[i.jsxs("button",{onClick:()=>d(!o),className:"flex items-center gap-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:[i.jsx(ao,{className:"w-4 h-4"}),o?"Masquer l'aperu":"Voir l'aperu de l'email"]}),o&&i.jsxs("div",{className:"mt-3 border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[i.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-4 py-2 border-b border-slate-200 dark:border-slate-700",children:i.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Aperu de l'email"})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 max-h-96 overflow-y-auto",children:i.jsx("iframe",{srcDoc:S(),className:"w-full h-96 border-0",title:"Aperu email"})})]})]}),i.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-900 dark:text-white",children:[i.jsx("input",{type:"checkbox",checked:v.enableScheduling,onChange:H=>b({...v,enableScheduling:H.target.checked}),disabled:x.status==="sending",className:"w-4 h-4 text-blue-600 bg-slate-100 border-slate-300 rounded focus:ring-blue-500","data-testid":"schedule-checkbox"}),"Planifier l'envoi"]})}),v.enableScheduling&&i.jsxs("div",{className:"ml-6 space-y-3",children:[i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Slectionnez la date et l'heure d'envoi (fuseau Europe/Paris) :"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Date"}),i.jsx("input",{type:"date",value:v.scheduledDate,onChange:H=>b({...v,scheduledDate:H.target.value}),min:new Date().toISOString().split("T")[0],disabled:x.status==="sending",className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Heure"}),i.jsx("input",{type:"time",value:v.scheduledTime,onChange:H=>b({...v,scheduledTime:H.target.value}),disabled:x.status==="sending",className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),v.scheduledDate&&v.scheduledTime&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-3 py-2 rounded-lg",children:[i.jsx($A,{className:"w-4 h-4"}),i.jsxs("span",{children:["Envoi prvu le ",new Date(`${v.scheduledDate}T${v.scheduledTime}`).toLocaleDateString("fr-FR",{dateStyle:"full"}),"  ",v.scheduledTime]})]})]})]}),i.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-900 dark:text-white",children:[i.jsx("input",{type:"checkbox",checked:j.enableReminders,onChange:H=>k({...j,enableReminders:H.target.checked}),disabled:x.status==="sending",className:"w-4 h-4 text-blue-600 bg-slate-100 border-slate-300 rounded focus:ring-blue-500"}),"Planifier des relances automatiques"]})}),j.enableReminders&&i.jsxs("div",{className:"ml-6 space-y-2",children:[i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-2",children:"Slectionnez les jours de relance aprs l'envoi initial :"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:[3,5,7,10,14].map(H=>i.jsxs("button",{onClick:()=>P(H),disabled:x.status==="sending",className:`px-3 py-1.5 rounded-lg text-xs font-medium transition ${j.reminderDays.includes(H)?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 border-2 border-blue-500":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 border-2 border-transparent hover:border-slate-300 dark:hover:border-slate-600"}`,children:["J+",H]},H))}),j.reminderDays.length>0&&i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:["Relances programmes : ",j.reminderDays.map(H=>`J+${H}`).join(", ")]})]})]})]}),x.status!=="idle"&&i.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-700 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[x.status==="sending"&&i.jsx(ah,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 animate-spin"}),x.status==="success"&&i.jsx(sd,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),x.status==="error"&&i.jsx(Sr,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:x.message}),x.status==="sending"&&i.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:[x.current," / ",x.total]})]})]}),x.status==="sending"&&i.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-green-500 transition-all duration-300",style:{width:`${x.current/x.total*100}%`}})})]}),i.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-800 rounded-lg",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Qo,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-amber-900 dark:text-amber-300",children:[i.jsx("p",{className:"font-medium mb-1",children:"Informations importantes"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[i.jsx("li",{children:"Les sponsors recevront un email avec un lien unique"}),i.jsx("li",{children:"Le lien expire automatiquement dans 30 jours"}),i.jsx("li",{children:"Un token scuris est gnr pour chaque invitation"}),j.enableReminders&&i.jsx("li",{children:"Les relances seront envoyes automatiquement aux dates programmes"})]})]})]})})]}),i.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 p-6 flex gap-3",children:[i.jsx("button",{type:"button",onClick:r,disabled:x.status==="sending",className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition font-medium disabled:opacity-50",children:x.status==="success"?"Fermer":"Annuler"}),x.status!=="success"&&i.jsx("button",{onClick:F,disabled:!l||U.length===0||x.status==="sending",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white rounded-lg transition font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-lg","data-testid":"send-invitations-button",children:x.status==="sending"?i.jsxs(i.Fragment,{children:[i.jsx(ah,{className:"w-4 h-4 animate-spin"}),"Envoi en cours..."]}):v.enableScheduling?i.jsxs(i.Fragment,{children:[i.jsx($A,{className:"w-4 h-4"}),"Planifier l'envoi"]}):i.jsxs(i.Fragment,{children:[i.jsx(vx,{className:"w-4 h-4"}),"Envoyer maintenant"]})})]})]})})}const g2={or:"Or",argent:"Argent",bronze:"Bronze",autre:"Autre"};function afe(){const{profile:e}=Nn(),{effectiveTenantId:t}=As(),r=Cn(),n=E.useRef(null),[s,a]=E.useState([]),[l,A]=E.useState([]),[c,u]=E.useState(()=>new URLSearchParams(window.location.search).get("q")||""),[o,d]=E.useState(()=>new URLSearchParams(window.location.search).get("q")||""),[h,f]=E.useState(""),[g,m]=E.useState(!0),[x,p]=E.useState(0),[v,b]=E.useState(1),j=25,[k,S]=E.useState(!1),[F,T]=E.useState(!1),[P,R]=E.useState(!1),[U,D]=E.useState([]),[Q,H]=E.useState(!1),[W,V]=E.useState(null),[Z,K]=E.useState([]),[X,le]=E.useState(null),[Ae,M]=E.useState({company:"",contact_name:"",email:"",phone:"",segment:"autre",notes:""});E.useEffect(()=>{G(),re()},[o,h,v]),E.useEffect(()=>{const ke=setTimeout(()=>{d(c),b(1);const Re=new URLSearchParams(window.location.search);c?Re.set("q",c):Re.delete("q");const Oe=`${window.location.pathname}${Re.toString()?"?"+Re.toString():""}`;window.history.replaceState({},"",Oe)},300);return()=>clearTimeout(ke)},[c]);const G=async()=>{if(t){m(!0);try{let ke=Ie.from("sponsors").select("*",{count:"exact"}).eq("tenant_id",t);if(o){const Ge=`%${o}%`;ke=ke.or(`company.ilike.${Ge},contact_name.ilike.${Ge},email.ilike.${Ge}`)}h&&(ke=ke.eq("segment",h));const{data:Re,error:Oe,count:qe}=await ke.order("created_at",{ascending:!1}).range((v-1)*j,v*j-1);if(Oe)throw Oe;if(p(qe||0),Re){const Ge=await Promise.all(Re.map(async pt=>{const{data:nt}=await Ie.from("pledges").select("id").eq("sponsor_email",pt.email);return{...pt,responses_count:(nt==null?void 0:nt.length)||0}}));a(Ge)}}catch(ke){r.error("Erreur lors du chargement: "+ke.message)}finally{m(!1)}}},re=async()=>{if(!(e!=null&&e.tenant_id))return;const{data:ke}=await Ie.from("campaigns").select("*").eq("tenant_id",t).order("created_at",{ascending:!1});ke&&A(ke)},ne=async ke=>{if(ke.preventDefault(),!t){r.error("Impossible de crer un sponsor : tenant_id manquant");return}try{const{data:Re}=await Ie.from("sponsors").select("id").eq("tenant_id",t).eq("email",Ae.email).maybeSingle();if(Re){r.error("Un sponsor avec cet email existe dj");return}const{error:Oe}=await Ie.from("sponsors").insert({tenant_id:t,company:Ae.company.trim(),contact_name:Ae.contact_name.trim(),email:Ae.email.trim().toLowerCase(),phone:Ae.phone.trim()||null,segment:Ae.segment,notes:Ae.notes.trim()||null});if(Oe)throw Oe;M({company:"",contact_name:"",email:"",phone:"",segment:"autre",notes:""}),S(!1),G(),r.success("Sponsor ajout avec succs")}catch(Re){r.error("Erreur: "+Re.message)}},de=ke=>{const Re=ke.split(`
`).filter(qe=>qe.trim());if(Re.length===0)return[];const Oe=Re[0].split(",").map(qe=>qe.trim().toLowerCase());return Re.slice(1).map(qe=>{const Ge=qe.split(",").map(nt=>nt.trim().replace(/^"|"$/g,"")),pt={};return Oe.forEach((nt,Lt)=>{pt[nt]=Ge[Lt]||""}),pt})},q=ke=>{if(!ke.name.endsWith(".csv")){r.error("Veuillez slectionner un fichier CSV");return}V(ke);const Re=new FileReader;Re.onload=Oe=>{var pt;const qe=(pt=Oe.target)==null?void 0:pt.result,Ge=de(qe);K(Ge.slice(0,5))},Re.readAsText(ke)},pe=ke=>{var Oe;const Re=(Oe=ke.target.files)==null?void 0:Oe[0];Re&&q(Re)},oe=ke=>{ke.preventDefault(),H(!0)},fe=ke=>{ke.preventDefault(),H(!1)},ye=ke=>{ke.preventDefault(),H(!1);const Re=ke.dataTransfer.files[0];Re&&q(Re)},ue=async()=>{if(!W)return;if(!t){r.error("Impossible d'importer des sponsors : tenant_id manquant");return}const ke=new FileReader;ke.onload=async Re=>{var Lt;const Oe=(Lt=Re.target)==null?void 0:Lt.result,qe=de(Oe);let Ge=0,pt=0,nt=0;for(const Xe of qe)try{const St=(Xe.email||Xe.mail||Xe["e-mail"]||"").trim().toLowerCase();if(!St){nt++;continue}const{data:qt}=await Ie.from("sponsors").select("id").eq("tenant_id",t).eq("email",St).maybeSingle();if(qt){pt++;continue}const Bt={tenant_id:t,company:Xe.socit||Xe.company||Xe.entreprise||Xe.societe||"",contact_name:Xe.nom||Xe.name||Xe.contact||Xe["nom du contact"]||"",email:St,phone:Xe.tlphone||Xe.telephone||Xe.phone||Xe.tel||null,segment:(["or","argent","bronze"].includes((Xe.segment||Xe.tier||"").toLowerCase())?Xe.segment||Xe.tier:"autre").toLowerCase(),notes:Xe.notes||Xe.commentaire||null},{error:tt}=await Ie.from("sponsors").insert(Bt);tt?nt++:Ge++}catch{nt++}le({total:qe.length,duplicates:pt,errors:nt}),V(null),K([]),G(),Ge>0&&r.success(`${Ge} sponsor(s) import(s) avec succs`),pt>0&&r.info(`${pt} doublon(s) ignor(s)`),nt>0&&r.error(`${nt} erreur(s) lors de l'import`)},ke.readAsText(W)},_e=()=>{D([]),R(!1),G()},be=ke=>{D(Re=>Re.includes(ke)?Re.filter(Oe=>Oe!==ke):[...Re,ke])},ie=()=>{U.length===s.length&&s.length>0?D([]):D(s.map(ke=>ke.id))},et=Math.ceil(x/j);return i.jsxs(_r,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Gestion des sponsors"}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:[s.length," sponsor(s) au total"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg transition",children:[i.jsx(PA,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Importer CSV"})]}),i.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white rounded-lg transition shadow-lg",children:[i.jsx(gc,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Nouveau sponsor"})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("div",{className:"flex-1 relative",role:"search",children:[i.jsx(kh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"search",value:c,onChange:ke=>u(ke.target.value),onKeyDown:ke=>{ke.key==="Enter"&&(d(c),b(1))},placeholder:"Rechercher un sponsor...",className:"w-full pl-10 pr-10 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-800 text-slate-900 dark:text-white","aria-label":"Rechercher un sponsor","data-testid":"club-sponsor-search"}),c&&i.jsx("button",{onClick:()=>u(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition focus:outline-none focus:ring-2 focus:ring-blue-500 rounded","aria-label":"Effacer la recherche",children:i.jsx(un,{className:"w-4 h-4"})})]}),i.jsxs("select",{value:h,onChange:ke=>f(ke.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-800 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"",children:"Tous les segments"}),Object.entries(g2).map(([ke,Re])=>i.jsx("option",{value:ke,children:Re},ke))]})]}),U.length>0&&i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4 flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-300",children:[U.length," sponsor(s) slectionn(s)"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>D([]),className:"px-3 py-1 text-sm text-blue-700 dark:text-blue-300 hover:text-blue-900 dark:hover:text-blue-100",children:"Dslectionner"}),i.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition text-sm font-medium","data-testid":"invite-sponsors-button",children:[i.jsx(zn,{className:"w-4 h-4"}),"Inviter"]})]})]}),g?i.jsx("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:"Chargement..."}):s.length===0?i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-12 text-center border border-slate-200 dark:border-slate-700",children:[i.jsx(XA,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:c||h?"Aucun rsultat":"Aucun sponsor"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:c||h?"Essayez de modifier vos critres de recherche":"Commencez par ajouter des sponsors manuellement ou via import CSV"})]}):i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left",children:i.jsx("input",{type:"checkbox",checked:U.length===s.length&&s.length>0,onChange:ie,className:"w-4 h-4 text-blue-600 bg-slate-100 border-slate-300 rounded focus:ring-blue-500"})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 dark:text-slate-300 uppercase tracking-wider",children:"Socit"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 dark:text-slate-300 uppercase tracking-wider",children:"Contact"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 dark:text-slate-300 uppercase tracking-wider",children:"Email"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 dark:text-slate-300 uppercase tracking-wider",children:"Segment"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 dark:text-slate-300 uppercase tracking-wider",children:"Rponses"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:s.map(ke=>i.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsx("input",{type:"checkbox",checked:U.includes(ke.id),onChange:()=>be(ke.id),className:"w-4 h-4 text-blue-600 bg-slate-100 border-slate-300 rounded focus:ring-blue-500"})}),i.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900 dark:text-white",children:Xf(ke.company,o)}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400",children:Xf(ke.contact_name,o)}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400",children:Xf(ke.email,o)}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`inline-flex px-2.5 py-0.5 text-xs font-medium rounded-full ${ke.segment==="or"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400":ke.segment==="argent"?"bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-300":ke.segment==="bronze"?"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-400":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400"}`,children:g2[ke.segment]})}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400",children:ke.responses_count||0})]},ke.id))})]})}),i.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[x," sponsor",x!==1?"s":""," trouv",x!==1?"s":""]}),et>1&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>b(ke=>Math.max(1,ke-1)),disabled:v===1,className:"px-3 py-1 rounded-lg border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Prcdent"}),i.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Page ",v," sur ",et]}),i.jsx("button",{onClick:()=>b(ke=>Math.min(et,ke+1)),disabled:v===et,className:"px-3 py-1 rounded-lg border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Suivant"})]})]})]})]}),k&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-lg w-full p-6 shadow-2xl",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Ajouter un sponsor"}),i.jsxs("form",{onSubmit:ne,className:"space-y-4","data-testid":"add-sponsor-form",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Socit *"}),i.jsx("input",{type:"text",required:!0,value:Ae.company,onChange:ke=>M({...Ae,company:ke.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Nom du contact *"}),i.jsx("input",{type:"text",required:!0,value:Ae.contact_name,onChange:ke=>M({...Ae,contact_name:ke.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email *"}),i.jsx("input",{type:"email",required:!0,value:Ae.email,onChange:ke=>M({...Ae,email:ke.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tlphone"}),i.jsx("input",{type:"tel",value:Ae.phone,onChange:ke=>M({...Ae,phone:ke.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Segment"}),i.jsx("select",{value:Ae.segment,onChange:ke=>M({...Ae,segment:ke.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:Object.entries(g2).map(([ke,Re])=>i.jsx("option",{value:ke,children:Re},ke))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Notes"}),i.jsx("textarea",{value:Ae.notes,onChange:ke=>M({...Ae,notes:ke.target.value}),rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white resize-none"})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>S(!1),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition font-medium",children:"Annuler"}),i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white rounded-lg transition font-medium shadow-lg",children:"Ajouter"})]})]})]})}),F&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full p-6 shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Importer depuis un CSV"}),i.jsx("button",{onClick:()=>{T(!1),V(null),K([]),le(null)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:i.jsx(un,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg",children:[i.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-300 mb-2 font-medium",children:"Format attendu (colonnes acceptes) :"}),i.jsx("code",{className:"text-xs text-blue-800 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/50 px-2 py-1 rounded block",children:"Socit, Nom, Email, Segment, Tlphone, Notes"}),i.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400 mt-2",children:"Les doublons (email + tenant) seront automatiquement ignors"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{onDragOver:oe,onDragLeave:fe,onDrop:ye,className:`border-2 border-dashed rounded-lg p-8 text-center transition ${Q?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,children:[i.jsx(PA,{className:"w-12 h-12 text-slate-400 dark:text-slate-500 mx-auto mb-3"}),i.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white mb-1",children:"Glissez-dposez votre fichier CSV ici"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:"ou cliquez pour slectionner"}),i.jsx("input",{ref:n,type:"file",accept:".csv",onChange:pe,className:"hidden"}),i.jsx("button",{type:"button",onClick:()=>{var ke;return(ke=n.current)==null?void 0:ke.click()},className:"px-4 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition text-sm font-medium",children:"Slectionner un fichier"}),W&&i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-3",children:["Fichier slectionn: ",W.name]})]}),Z.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Aperu (5 premires lignes) :"}),i.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto max-h-48",children:i.jsx("table",{className:"w-full text-sm",children:i.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:Z.map((ke,Re)=>i.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:Object.values(ke).map((Oe,qe)=>i.jsx("td",{className:"px-3 py-2 text-slate-600 dark:text-slate-400",children:Oe},qe))},Re))})})})})]}),X&&i.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-700 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(sd,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),i.jsxs("span",{className:"text-slate-900 dark:text-white",children:[X.total-X.duplicates-X.errors," import(s)"]})]}),X.duplicates>0&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Sr,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"}),i.jsxs("span",{className:"text-slate-900 dark:text-white",children:[X.duplicates," doublon(s) ignor(s)"]})]}),X.errors>0&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Sr,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),i.jsxs("span",{className:"text-slate-900 dark:text-white",children:[X.errors," erreur(s)"]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>{T(!1),V(null),K([]),le(null)},className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition font-medium",children:X?"Fermer":"Annuler"}),!X&&i.jsx("button",{onClick:ue,disabled:!W,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white rounded-lg transition font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:"Importer"})]})]})]})}),P&&i.jsx(sfe,{sponsors:s.filter(ke=>U.includes(ke.id)),campaigns:l,onClose:()=>R(!1),onSuccess:_e})]})}function ife(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function ofe(e){return e?/^[\d\s\+\-\(\)\.]+$/.test(e)&&e.replace(/\D/g,"").length>=10:!0}function Y6(e){return typeof e=="number"?!0:!!(e&&e.toString().trim().length>0)}function lfe(e,t){return e.trim().length>=t}function cfe(e){const t=typeof e=="string"?parseFloat(e):e;return!isNaN(t)&&isFinite(t)}function Afe(e){const t={};return Y6(e.email)?ife(e.email)||(t.email="Veuillez entrer une adresse email valide"):t.email="L'email est requis",Y6(e.name)?lfe(e.name,2)||(t.name="Le nom doit contenir au moins 2 caractres"):t.name="Le nom est requis",e.phone&&!ofe(e.phone)&&(t.phone="Veuillez entrer un numro de tlphone valide"),e.amount!==void 0&&e.amount!==null&&(cfe(e.amount)?e.amount<0&&(t.amount="Le montant ne peut pas tre ngatif"):t.amount="Le montant doit tre un nombre valide"),e.comment&&e.comment.length>500&&(t.comment="Le commentaire ne peut pas dpasser 500 caractres"),{isValid:Object.keys(t).length===0,errors:t}}function Sv(e,t){return t[e]||null}function ko(e,t){return!!t[e]}function PD({isOpen:e,onClose:t,rgpdContent:r,tenantName:n}){if(!e)return null;const s=a=>a?a.split(`
`).map(l=>l.startsWith("# ")?`<h1 class="text-3xl font-bold text-slate-900 dark:text-white mb-4">${l.slice(2)}</h1>`:l.startsWith("## ")?`<h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-3 mt-6">${l.slice(3)}</h2>`:l.startsWith("### ")?`<h3 class="text-xl font-semibold text-slate-900 dark:text-white mb-2 mt-4">${l.slice(4)}</h3>`:l.startsWith("- ")?`<li class="ml-4 text-slate-700 dark:text-slate-300 mb-1">${l.slice(2)}</li>`:l.startsWith("**")&&l.endsWith("**")?`<p class="font-bold text-slate-900 dark:text-white mb-2">${l.slice(2,-2)}</p>`:l.trim()===""?"<br>":`<p class="text-slate-700 dark:text-slate-300 mb-2">${l.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>")}</p>`).join(""):'<p class="text-slate-400">Aucun contenu RGPD disponible</p>';return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col","data-testid":"rgpd-modal",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between bg-gradient-to-r from-blue-50 to-blue-100 dark:from-slate-800 dark:to-slate-900",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-2 rounded-lg",children:i.jsx(cc,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Protection des donnes (RGPD)"}),n&&i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:n})]})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-white/50 dark:hover:bg-slate-700 rounded-lg transition","aria-label":"Fermer",children:i.jsx(un,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:s(r)}})}),i.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex items-center justify-end bg-slate-50 dark:bg-slate-900",children:i.jsx("button",{onClick:t,className:"px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition font-medium",children:"Fermer"})})]})})}const ufe={led_ext:"LED Extrieur",led_int:"LED Intrieur",borne_ext:"Borne Extrieur",borne_int_mobile:"Borne Intrieur Mobile",ecran_int_fixe:"cran Intrieur Fixe"};function dfe(){var V,Z,K,X,le,Ae,M;const{token:e}=Tb(),[t,r]=E.useState(!0),[n,s]=E.useState(!1),[a,l]=E.useState(null),[A,c]=E.useState(null),[u,o]=E.useState(null),[d,h]=E.useState("yes"),[f,g]=E.useState(""),[m,x]=E.useState(""),[p,v]=E.useState(!1),[b,j]=E.useState(!1),[k,S]=E.useState(!1),[F,T]=E.useState({}),[P,R]=E.useState({}),[U,D]=E.useState(!1);E.useEffect(()=>{e&&Q()},[e]);const Q=async()=>{r(!0);const{data:G,error:re}=await Ie.from("invitations").select("*").eq("token",e).maybeSingle();if(re||!G){r(!1);return}if(new Date(G.expires_at)<new Date){r(!1);return}l(G);const{data:ne}=await Ie.from("sponsors").select("*").eq("id",G.sponsor_id).maybeSingle();ne&&c(ne);const{data:de}=await Ie.from("campaigns").select("*, tenants(*)").eq("id",G.campaign_id).maybeSingle();if(de){const pe=Array.isArray(de.tenants)?de.tenants[0]:de.tenants;o({...de,tenant:pe})}const{data:q}=await Ie.from("pledges").select("*").eq("invitation_id",G.id).maybeSingle();q&&s(!0),r(!1)},H=async G=>{if(G.preventDefault(),!a||!A||!u)return;const{data:re}=await Ie.from("pledges").select("*").eq("invitation_id",a.id).maybeSingle();if(re){T({submit:"Vous avez dj rpondu  cette invitation. Une seule rponse est autorise par invitation."});return}const ne=Afe({email:A.email||"",name:A.contact_name||"",company:A.company||void 0,phone:A.phone||void 0,amount:d==="yes"?parseFloat(f):void 0,comment:m||void 0});if(!ne.isValid){T(ne.errors);return}if(!p){T({consent:"Vous devez accepter les conditions pour continuer"});return}T({});try{const de=d==="yes"&&parseFloat(f)||0,{error:q}=await Ie.from("pledges").insert({campaign_id:u.id,sponsor_id:A.id,sponsor_name:A.contact_name,sponsor_email:A.email,sponsor_company:A.company,sponsor_phone:A.phone,status:d,amount:de,comment:m||null,consent:p,source:"invite",invitation_id:a.id});if(q)throw q;await Ie.from("invitations").update({status:"responded",responded_at:new Date().toISOString()}).eq("id",a.id),s(!0)}catch(de){T({submit:de.message||"Une erreur est survenue"})}};if(t)return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-slate-50 flex items-center justify-center",children:i.jsx("div",{className:"text-slate-600",children:"Chargement..."})});if(!a||!A||!u)return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[i.jsx("div",{className:"bg-red-100 p-4 rounded-full inline-block mb-4",children:i.jsx(Ga,{className:"w-12 h-12 text-red-600"})}),i.jsx("h1",{className:"text-xl font-bold text-slate-900 mb-2",children:"Invitation non valide"}),i.jsx("p",{className:"text-slate-600",children:"Ce lien d'invitation n'est pas valide ou a expir."})]})});const W=async()=>{if(!(!A||!u)){S(!0);try{(await fetch("undefined/functions/v1/send-confirmation",{method:"POST",headers:{Authorization:"Bearer undefined","Content-Type":"application/json"},body:JSON.stringify({sponsor_email:A.email,sponsor_name:A.contact_name,campaign_title:u.title,status:d,amount:d==="yes"?parseFloat(f):null,comment:m||null})})).ok?(alert("Une copie de confirmation a t envoye  votre email"),j(!0)):alert("Erreur lors de l'envoi de la confirmation")}catch{alert("Erreur lors de l'envoi de la confirmation")}finally{S(!1)}}};return n?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[i.jsx("div",{className:"bg-green-100 p-4 rounded-full inline-block mb-6",children:i.jsx(ar,{className:"w-16 h-16 text-green-600"})}),i.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Merci!"}),i.jsx("p",{className:"text-slate-600 mb-2 text-lg",children:"Votre rponse a t enregistre avec succs."}),i.jsxs("p",{className:"text-slate-600 mb-6",children:[(V=u.tenant)==null?void 0:V.name," vous remercie pour votre intrt et prendra contact avec vous prochainement."]}),d==="yes"&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-6",children:[i.jsx("p",{className:"text-sm font-semibold text-green-800 mb-1",children:"Votre engagement"}),i.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[parseFloat(f).toLocaleString("fr-FR"),""]})]}),!b&&i.jsx("button",{onClick:W,disabled:k,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-100 hover:bg-blue-200 text-blue-700 font-semibold rounded-xl transition disabled:opacity-50",children:k?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),"Envoi en cours..."]}):"Recevoir une copie par email"}),b&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-center gap-2 justify-center text-sm text-blue-700",children:[i.jsx(ar,{className:"w-4 h-4"}),"Email de confirmation envoy"]})]})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-slate-50 py-12 px-4",children:[i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 p-8 text-white",children:i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"bg-white/20 p-3 rounded-lg backdrop-blur-sm",children:i.jsx(Ga,{className:"w-8 h-8"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Invitation Sponsoring"}),i.jsxs("p",{className:"text-green-100 mt-1",children:[(Z=u.tenant)==null?void 0:Z.name," vous invite  participer"]})]})]})}),u.cover_image_url&&i.jsx("div",{className:"h-64 overflow-hidden",children:i.jsx("img",{src:u.cover_image_url,alt:u.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-3",children:u.title}),u.description_md&&i.jsx("div",{className:"prose max-w-none mb-6",children:i.jsx("p",{className:"text-slate-600",children:u.description_md})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsx("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-100",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:i.jsx(Ga,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Type d'quipement"}),i.jsx("p",{className:"font-bold text-blue-900",children:ufe[u.screen_type]||u.screen_type})]})]})}),i.jsx("div",{className:"bg-green-50 rounded-xl p-4 border border-green-100",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-green-600 p-2 rounded-lg",children:i.jsx(vp,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"Localisation"}),i.jsx("p",{className:"font-bold text-green-900",children:u.location})]})]})}),u.annual_price_hint>0&&i.jsx("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-100",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-amber-600 p-2 rounded-lg",children:i.jsx(Ga,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-amber-700 font-medium mb-1",children:"Prix indicatif annuel"}),i.jsxs("p",{className:"font-bold text-amber-900",children:[u.annual_price_hint.toLocaleString("fr-FR"),""]})]})]})}),u.daily_footfall_estimate>0&&i.jsx("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-slate-600 p-2 rounded-lg",children:i.jsx(Sh,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-slate-700 font-medium mb-1",children:"Passages estims"}),i.jsxs("p",{className:"font-bold text-slate-900",children:[u.daily_footfall_estimate.toLocaleString("fr-FR")," /jour"]})]})]})}),u.lighting_start_time&&u.lighting_end_time&&i.jsx("div",{className:"bg-indigo-50 rounded-xl p-4 border border-indigo-100 md:col-span-2",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg",children:i.jsx(Qo,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-indigo-700 font-medium mb-1",children:"Priodes d'allumage"}),i.jsxs("p",{className:"font-bold text-indigo-900",children:[u.lighting_start_time," - ",u.lighting_end_time]})]})]})})]}),u.deadline&&i.jsx("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200 mb-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx($A,{className:"w-5 h-5 text-slate-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600",children:"Date limite de la campagne"}),i.jsx("p",{className:"font-semibold text-slate-900",children:new Date(u.deadline).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})}),i.jsx("div",{className:"border-l-4 border-blue-500 bg-blue-50 pl-4 py-3 rounded-r-lg",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(XA,{className:"w-5 h-5 text-blue-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-blue-900 font-semibold",children:"Entreprise invite"}),i.jsx("p",{className:"text-blue-800 font-medium",children:A.company}),A.contact_name&&i.jsxs("p",{className:"text-sm text-blue-700",children:["Contact: ",A.contact_name]})]})]})})]}),i.jsxs("form",{onSubmit:H,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Votre rponse"}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsx("button",{type:"button",onClick:()=>h("yes"),className:`py-4 px-4 rounded-xl border-2 transition font-semibold ${d==="yes"?"border-green-500 bg-green-50 text-green-700 shadow-sm":"border-slate-200 hover:border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:"Oui"}),i.jsx("button",{type:"button",onClick:()=>h("maybe"),className:`py-4 px-4 rounded-xl border-2 transition font-semibold ${d==="maybe"?"border-amber-500 bg-amber-50 text-amber-700 shadow-sm":"border-slate-200 hover:border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:"Peut-tre"}),i.jsx("button",{type:"button",onClick:()=>h("no"),className:`py-4 px-4 rounded-xl border-2 transition font-semibold ${d==="no"?"border-red-500 bg-red-50 text-red-700 shadow-sm":"border-slate-200 hover:border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:"Non"})]})]}),d==="yes"&&i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"amount",className:"block text-sm font-semibold text-slate-700 mb-2",children:["Montant envisag () ",i.jsx("span",{className:"text-red-500","aria-label":"requis",children:"*"})]}),u.annual_price_hint>0&&i.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm text-slate-600",children:[i.jsx(Ga,{className:"w-4 h-4 text-slate-400"}),i.jsxs("span",{children:["Prix indicatif : ",i.jsxs("span",{className:"font-semibold text-slate-900",children:[u.annual_price_hint.toLocaleString("fr-FR"),""]})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-xs text-slate-600 mb-2 font-medium",children:"Montants rapides :"}),i.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{g("250"),P.amount&&T({...F,amount:""})},className:"px-3 py-2 bg-slate-100 hover:bg-green-100 hover:border-green-300 border-2 border-slate-200 text-slate-700 hover:text-green-700 font-semibold rounded-lg transition",children:"250"}),i.jsx("button",{type:"button",onClick:()=>{g("500"),P.amount&&T({...F,amount:""})},className:"px-3 py-2 bg-slate-100 hover:bg-green-100 hover:border-green-300 border-2 border-slate-200 text-slate-700 hover:text-green-700 font-semibold rounded-lg transition",children:"500"}),i.jsx("button",{type:"button",onClick:()=>{g("1000"),P.amount&&T({...F,amount:""})},className:"px-3 py-2 bg-slate-100 hover:bg-green-100 hover:border-green-300 border-2 border-slate-200 text-slate-700 hover:text-green-700 font-semibold rounded-lg transition",children:"1000"}),i.jsx("button",{type:"button",onClick:()=>{g("2000"),P.amount&&T({...F,amount:""})},className:"px-3 py-2 bg-slate-100 hover:bg-green-100 hover:border-green-300 border-2 border-slate-200 text-slate-700 hover:text-green-700 font-semibold rounded-lg transition",children:"2000"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"amount",type:"number",required:!0,min:"0",step:"0.01",value:f,onChange:G=>{g(G.target.value),P.amount&&T({...F,amount:""})},onBlur:()=>R({...P,amount:!0}),"aria-required":"true","aria-invalid":ko("amount",F),"aria-describedby":ko("amount",F)?"amount-error":"amount-hint",className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-2 outline-none transition ${ko("amount",F)?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-slate-300 focus:ring-green-500 focus:border-green-500"}`,placeholder:"Ex: 5000"}),i.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 font-medium",children:""})]}),ko("amount",F)?i.jsxs("div",{id:"amount-error",className:"flex items-center gap-1 mt-1 text-sm text-red-600",role:"alert",children:[i.jsx(Sr,{className:"w-4 h-4"}),Sv("amount",F)]}):i.jsx("p",{id:"amount-hint",className:"text-xs text-slate-500 mt-1",children:"Ou saisissez un montant personnalis"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"comment",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Commentaires (optionnel)"}),i.jsx("textarea",{id:"comment",value:m,onChange:G=>{x(G.target.value),P.comment&&T({...F,comment:""})},onBlur:()=>R({...P,comment:!0}),rows:4,maxLength:500,"aria-describedby":ko("comment",F)?"comment-error":"comment-hint","aria-invalid":ko("comment",F),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-2 outline-none resize-none transition ${ko("comment",F)?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-slate-300 focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"Ajoutez des dtails, conditions ou questions..."}),ko("comment",F)?i.jsxs("div",{id:"comment-error",className:"flex items-center gap-1 mt-1 text-sm text-red-600",role:"alert",children:[i.jsx(Sr,{className:"w-4 h-4"}),Sv("comment",F)]}):i.jsxs("p",{id:"comment-hint",className:"text-xs text-slate-500 mt-1",children:["Maximum 500 caractres  ",500-m.length," restants"]})]}),i.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:[i.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[i.jsx("input",{id:"consent",type:"checkbox",checked:p,onChange:G=>{v(G.target.checked),G.target.checked&&T({...F,consent:""})},"aria-required":"true","aria-invalid":ko("consent",F),"aria-describedby":"consent-text",className:"mt-1 rounded border-slate-300 text-blue-600 focus:ring-blue-500 focus:ring-offset-2",required:!0}),i.jsxs("span",{id:"consent-text",className:"text-sm text-slate-700",children:["J'accepte que mes donnes soient utilises dans le cadre de cette demande de sponsoring et je consens  tre recontact par ",(K=u.tenant)==null?void 0:K.name," concernant ce projet. ",i.jsx("span",{className:"text-red-500","aria-label":"requis",children:"*"})]})]}),ko("consent",F)&&i.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-red-600",role:"alert",children:[i.jsx(Sr,{className:"w-4 h-4"}),Sv("consent",F)]})]}),ko("submit",F)&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",role:"alert",children:i.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[i.jsx(Sr,{className:"w-5 h-5 flex-shrink-0"}),i.jsx("p",{className:"text-sm font-semibold",children:Sv("submit",F)})]})}),i.jsx("button",{type:"submit",disabled:!p||d==="yes"&&!f,"aria-label":"Envoyer ma rponse au questionnaire de sponsoring",className:"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-bold py-4 px-6 rounded-xl transition shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-green-500 focus:ring-offset-2",children:"Envoyer ma rponse"})]})]})]}),i.jsxs("div",{className:"text-center mt-6 text-sm text-slate-600",children:[i.jsxs("p",{children:["Propuls par ",i.jsx("span",{className:"font-semibold",children:(X=u.tenant)==null?void 0:X.name})]}),((le=u.tenant)==null?void 0:le.rgpd_content_md)&&i.jsx("button",{onClick:()=>D(!0),className:"mt-2 text-blue-600 hover:text-blue-800 underline font-medium",children:"RGPD - Protection des donnes"})]})]}),i.jsx(PD,{isOpen:U,onClose:()=>D(!1),rgpdContent:((Ae=u.tenant)==null?void 0:Ae.rgpd_content_md)||"",tenantName:(M=u.tenant)==null?void 0:M.name})]})}const ffe={led_ext:"LED Extrieur",led_int:"LED Intrieur",borne_ext:"Borne Extrieur",borne_int_mobile:"Borne Intrieur Mobile",ecran_int_fixe:"cran Intrieur Fixe"};function hfe(){var v,b,j,k,S,F,T,P,R,U,D;const{slug:e}=Tb(),[t,r]=E.useState(!0),[n,s]=E.useState(null),[a,l]=E.useState(!1),[A,c]=E.useState(!1),[u,o]=E.useState({company:"",contact_name:"",email:"",phone:"",status:"yes",amount:"",comment:"",consent:!1,honeypot:""}),[d,h]=E.useState(!1),[f,g]=E.useState(!1),m=E.useRef(0);E.useEffect(()=>{e&&x()},[e]);const x=async()=>{r(!0);const{data:Q,error:H}=await Ie.from("campaigns").select("*, tenants(*)").eq("public_slug",e).eq("is_public_share_enabled",!0).maybeSingle();if(H||!Q){r(!1);return}const W=Array.isArray(Q.tenants)?Q.tenants[0]:Q.tenants;s({...Q,tenant:W}),r(!1)},p=async Q=>{if(Q.preventDefault(),!n||!u.consent){alert("Veuillez accepter le consentement pour continuer");return}if(u.honeypot){console.warn("Honeypot triggered"),c(!0);return}const H=Date.now();if(H-m.current<3e3){alert("Veuillez patienter quelques secondes avant de soumettre  nouveau");return}h(!0);try{const{data:V}=await Ie.from("sponsors").select("id").eq("tenant_id",n.tenant_id).eq("email",u.email.trim().toLowerCase()).maybeSingle();let Z;if(V)Z=V.id;else{const{data:le,error:Ae}=await Ie.from("sponsors").insert({tenant_id:n.tenant_id,company:u.company.trim(),contact_name:u.contact_name.trim(),email:u.email.trim().toLowerCase(),phone:u.phone.trim()||null,segment:"autre",notes:`Source: Page publique - ${e}`}).select().single();if(Ae)throw Ae;Z=le.id}const K=u.status==="yes"&&parseFloat(u.amount)||0,{error:X}=await Ie.from("pledges").insert({campaign_id:n.id,sponsor_id:Z,sponsor_name:u.contact_name.trim(),sponsor_email:u.email.trim().toLowerCase(),sponsor_company:u.company.trim(),sponsor_phone:u.phone.trim()||null,status:u.status,amount:K,comment:u.comment.trim()||null,consent:u.consent,source:"public"});if(X)throw X;m.current=H,c(!0)}catch(V){alert("Erreur: "+V.message)}finally{h(!1)}};return t?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-slate-50 flex items-center justify-center",children:i.jsx("div",{className:"text-slate-600",children:"Chargement..."})}):n?A?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[i.jsx("div",{className:"bg-green-100 p-4 rounded-full inline-block mb-4",children:i.jsx(ar,{className:"w-12 h-12 text-green-600"})}),i.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-3",children:"Merci!"}),i.jsx("p",{className:"text-slate-600 mb-2",children:"Votre participation a t enregistre avec succs."}),i.jsxs("p",{className:"text-slate-600",children:[(v=n.tenant)==null?void 0:v.name," vous remercie pour votre intrt et prendra contact avec vous prochainement."]})]})}):a?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-slate-50 py-12 px-4",children:[i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Formulaire de participation"}),i.jsx("p",{className:"text-slate-600",children:n.title})]}),i.jsxs("form",{onSubmit:p,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"company",className:"block text-sm font-semibold text-slate-700 mb-2",children:["Nom de l'entreprise ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{id:"company",type:"text",required:!0,value:u.company,onChange:Q=>o({...u,company:Q.target.value}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"Ex: ACME Corp"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"contact_name",className:"block text-sm font-semibold text-slate-700 mb-2",children:["Nom du contact ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{id:"contact_name",type:"text",required:!0,value:u.contact_name,onChange:Q=>o({...u,contact_name:Q.target.value}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"Jean Dupont"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Tlphone"}),i.jsx("input",{id:"phone",type:"tel",value:u.phone,onChange:Q=>o({...u,phone:Q.target.value}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"06 12 34 56 78"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-slate-700 mb-2",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{id:"email",type:"email",required:!0,value:u.email,onChange:Q=>o({...u,email:Q.target.value}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"contact@entreprise.fr"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Votre rponse"}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsx("button",{type:"button",onClick:()=>o({...u,status:"yes"}),className:`py-4 px-4 rounded-xl border-2 transition font-semibold ${u.status==="yes"?"border-green-500 bg-green-50 text-green-700 shadow-sm":"border-slate-200 hover:border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:"Oui"}),i.jsx("button",{type:"button",onClick:()=>o({...u,status:"maybe"}),className:`py-4 px-4 rounded-xl border-2 transition font-semibold ${u.status==="maybe"?"border-amber-500 bg-amber-50 text-amber-700 shadow-sm":"border-slate-200 hover:border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:"Peut-tre"}),i.jsx("button",{type:"button",onClick:()=>o({...u,status:"no"}),className:`py-4 px-4 rounded-xl border-2 transition font-semibold ${u.status==="no"?"border-red-500 bg-red-50 text-red-700 shadow-sm":"border-slate-200 hover:border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:"Non"})]})]}),u.status==="yes"&&i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"amount",className:"block text-sm font-semibold text-slate-700 mb-2",children:["Montant envisag () ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"amount",type:"number",required:!0,min:"0",step:"0.01",value:u.amount,onChange:Q=>o({...u,amount:Q.target.value}),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition",placeholder:"Ex: 5000"}),i.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 font-medium",children:""})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"comment",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Commentaires (optionnel)"}),i.jsx("textarea",{id:"comment",value:u.comment,onChange:Q=>o({...u,comment:Q.target.value}),rows:4,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-none transition",placeholder:"Ajoutez des dtails, conditions ou questions..."})]}),i.jsx("input",{type:"text",name:"website",value:u.honeypot,onChange:Q=>o({...u,honeypot:Q.target.value}),style:{position:"absolute",left:"-9999px",width:"1px",height:"1px"},tabIndex:-1,autoComplete:"off","aria-hidden":"true"}),i.jsx("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200 mb-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(vU,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-blue-900",children:[i.jsx("p",{className:"font-semibold mb-1",children:"Vos donnes sont protges"}),i.jsx("p",{className:"text-blue-800",children:"Conformment au RGPD, vos informations sont scurises et ne seront utilises que dans le cadre de cette opportunit de sponsoring."})]})]})}),i.jsx("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:i.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:u.consent,onChange:Q=>o({...u,consent:Q.target.checked}),className:"mt-1 rounded border-slate-300 text-blue-600 focus:ring-blue-500",required:!0}),i.jsxs("span",{className:"text-sm text-slate-700",children:["J'ai lu et j'accepte la politique de protection des donnes. Je consens  ce que mes informations personnelles soient utilises par ",(T=n.tenant)==null?void 0:T.name," dans le cadre de cette demande de sponsoring et j'accepte d'tre recontact concernant ce projet. ",i.jsx("span",{className:"text-red-500",children:"*"})]})]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 py-3 px-6 border-2 border-slate-300 text-slate-700 rounded-xl hover:bg-slate-50 transition font-semibold",children:"Retour"}),i.jsx("button",{type:"submit",disabled:d||!u.consent||u.status==="yes"&&!u.amount,className:"flex-1 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-bold py-3 px-6 rounded-xl transition shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-lg flex items-center justify-center gap-2",children:d?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Envoi en cours..."]}):"Envoyer ma participation"})]})]})]}),i.jsxs("div",{className:"text-center mt-6 text-sm text-slate-600",children:[i.jsxs("p",{children:["Propuls par ",i.jsx("span",{className:"font-semibold",children:(P=n.tenant)==null?void 0:P.name})]}),((R=n.tenant)==null?void 0:R.rgpd_content_md)&&i.jsx("button",{onClick:()=>g(!0),className:"mt-2 text-blue-600 hover:text-blue-800 underline font-medium",children:"RGPD - Protection des donnes"})]})]}),i.jsx(PD,{isOpen:f,onClose:()=>g(!1),rgpdContent:((U=n.tenant)==null?void 0:U.rgpd_content_md)||"",tenantName:(D=n.tenant)==null?void 0:D.name})]}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-slate-50 py-12 px-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[n.cover_image_url&&i.jsx("div",{className:"h-96 overflow-hidden",children:i.jsx("img",{src:n.cover_image_url,alt:n.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-100 text-green-800 rounded-full text-sm font-semibold mb-4",children:[i.jsx(Ga,{className:"w-4 h-4"}),i.jsx("span",{children:"Campagne de sponsoring"})]}),i.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-3",children:n.title}),i.jsxs("p",{className:"text-lg text-slate-600",children:["Propos par ",i.jsx("span",{className:"font-semibold",children:(b=n.tenant)==null?void 0:b.name})]})]}),n.description_md&&i.jsx("div",{className:"prose max-w-none mb-8",children:i.jsx("p",{className:"text-slate-700 text-lg leading-relaxed",children:n.description_md})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[i.jsx("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-100",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:i.jsx(Ga,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Type d'quipement"}),i.jsx("p",{className:"font-bold text-blue-900",children:ffe[n.screen_type]||n.screen_type})]})]})}),i.jsx("div",{className:"bg-green-50 rounded-xl p-4 border border-green-100",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-green-600 p-2 rounded-lg",children:i.jsx(vp,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"Localisation"}),i.jsx("p",{className:"font-bold text-green-900",children:n.location})]})]})}),n.daily_footfall_estimate>0&&i.jsx("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-slate-600 p-2 rounded-lg",children:i.jsx(Sh,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-slate-700 font-medium mb-1",children:"Passages estims"}),i.jsxs("p",{className:"font-bold text-slate-900",children:[n.daily_footfall_estimate.toLocaleString("fr-FR")," /jour"]})]})]})})]}),n.annual_price_hint>0&&i.jsx("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-100 mb-8",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(XA,{className:"w-5 h-5 text-amber-700"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-amber-700 font-medium",children:"Prix indicatif annuel"}),i.jsxs("p",{className:"text-2xl font-bold text-amber-900",children:[n.annual_price_hint.toLocaleString("fr-FR"),""]})]})]})}),n.deadline&&i.jsx("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200 mb-8",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx($A,{className:"w-5 h-5 text-slate-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600",children:"Date limite de participation"}),i.jsx("p",{className:"font-semibold text-slate-900",children:new Date(n.deadline).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})}),i.jsx("button",{onClick:()=>l(!0),className:"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-bold py-4 px-6 rounded-xl transition shadow-lg hover:shadow-xl text-lg",children:"Je participe  ce projet"}),i.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-200",children:[i.jsxs("h3",{className:"text-sm font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[i.jsx(cc,{className:"w-4 h-4 text-blue-600"}),"Protection des donnes personnelles (RGPD)"]}),i.jsxs("div",{className:"space-y-2 text-xs text-slate-600",children:[i.jsxs("p",{children:["Les informations recueillies sur ce formulaire sont enregistres dans un fichier informatis par ",(j=n.tenant)==null?void 0:j.name," pour la gestion des opportunits de sponsoring."]}),i.jsxs("p",{children:["La base lgale du traitement est votre consentement. Les donnes collectes seront communiques aux seuls destinataires suivants : l'quipe commerciale de ",(k=n.tenant)==null?void 0:k.name,"."]}),i.jsx("p",{children:"Les donnes sont conserves pendant 3 ans. Vous pouvez accder aux donnes vous concernant, les rectifier, demander leur effacement ou exercer votre droit  la limitation du traitement de vos donnes."}),i.jsxs("p",{children:["Pour exercer ces droits ou pour toute question sur le traitement de vos donnes, vous pouvez contacter ",(S=n.tenant)==null?void 0:S.name,"."]}),i.jsx("p",{children:"Si vous estimez, aprs nous avoir contacts, que vos droits  Informatique et Liberts  ne sont pas respects, vous pouvez adresser une rclamation  la CNIL."})]})]})]})]}),i.jsx("div",{className:"text-center mt-6 text-sm text-slate-600",children:i.jsxs("p",{children:["Propuls par ",i.jsx("span",{className:"font-semibold",children:(F=n.tenant)==null?void 0:F.name})]})})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[i.jsx("div",{className:"bg-red-100 p-4 rounded-full inline-block mb-4",children:i.jsx(Ga,{className:"w-12 h-12 text-red-600"})}),i.jsx("h1",{className:"text-xl font-bold text-slate-900 mb-2",children:"Campagne introuvable"}),i.jsx("p",{className:"text-slate-600",children:"Cette campagne n'existe pas ou n'est plus accessible publiquement."})]})})}const mfe={invitation:"Invitation initiale",reminder_5d:"Rappel 5 jours",reminder_10d:"Rappel 10 jours",confirmation:"Confirmation de rponse",sponsor_ack:"Accus rception sponsor",campaign_summary:"Rsum de campagne"};function pfe(){var R,U;const{user:e}=Nn(),{effectiveTenantId:t,asTenantId:r,setAsTenantId:n,isMasquerading:s}=As(),[a,l]=E.useState(!0),[A,c]=E.useState("all"),[u,o]=E.useState(null),[d,h]=E.useState(!1),[f,g]=E.useState([]),[m,x]=E.useState(!1),p=((R=e==null?void 0:e.app_metadata)==null?void 0:R.role)||"user";E.useEffect(()=>{b()},[t]),E.useEffect(()=>{p==="super_admin"&&v()},[p]);const v=async()=>{x(!0);try{const{data:D,error:Q}=await Ie.from("tenants").select("id, name").order("name");if(Q)throw Q;g(D||[])}catch(D){console.error("Error fetching tenants:",D)}finally{x(!1)}},b=async()=>{l(!0);try{const D=await KB(Ie,t);o(D)}catch(D){console.error("Error loading templates:",D),o({mode:"A",rows:[],error:{message:String(D)}})}finally{l(!1)}},j=(u==null?void 0:u.rows)||[],k=j.filter(D=>D.scope==="global"),S=j.filter(D=>D.scope==="tenant"),F="unknown",T=D=>{n(D===""?null:D),b()},P=r?((U=f.find(D=>D.id===r))==null?void 0:U.name)||r:null;return i.jsx(_r,{children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-3 rounded-xl shadow-lg",children:i.jsx(zn,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Templates d'emails"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Grez vos modles d'emails automatiques"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[p==="super_admin"&&i.jsxs("select",{"data-testid":"as-tenant-select",value:r||"",onChange:D=>T(D.target.value),disabled:m,className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-sm font-medium text-slate-900 dark:text-white disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Voir en tant que..."}),f.map(D=>i.jsx("option",{value:D.id,children:D.name},D.id))]}),i.jsxs("select",{"data-testid":"tmpl-scope-select",value:A,onChange:D=>c(D.target.value),className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-sm font-medium text-slate-900 dark:text-white",children:[i.jsx("option",{value:"all",children:"Tous"}),i.jsx("option",{value:"global",children:"Globaux"}),i.jsx("option",{value:"tenant",children:"Mon club"})]}),i.jsxs("button",{"data-testid":"tmpl-reload",onClick:b,disabled:a,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-300 dark:disabled:bg-slate-700 text-white rounded-lg flex items-center gap-2 transition",children:[i.jsx(lc,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Recharger"]})]})]}),s&&P&&i.jsxs("div",{className:"mb-3 inline-flex items-center gap-2 px-3 py-1.5 bg-orange-100 dark:bg-orange-900/30 border border-orange-300 dark:border-orange-700 rounded-lg",children:[i.jsx(Sr,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}),i.jsxs("span",{className:"text-sm font-medium text-orange-900 dark:text-orange-300",children:["Masquerade: ",P]})]}),!t&&i.jsxs("div",{"data-testid":"tmpl-guard-tenant",className:"mb-3 inline-flex items-center gap-2 px-3 py-1.5 bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 rounded-lg",children:[i.jsx(Sr,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),i.jsx("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-300",children:"Tenant non dfini  affichage des globaux uniquement"})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400",children:[i.jsxs("span",{"data-testid":"tmpl-count-all",children:[i.jsx("strong",{className:"text-slate-900 dark:text-white",children:j.length})," ","total"]}),i.jsx("span",{className:"text-slate-300 dark:text-slate-600",children:"|"}),i.jsxs("span",{"data-testid":"tmpl-count-global",children:[i.jsx("strong",{className:"text-slate-900 dark:text-white",children:k.length})," ","globaux"]}),i.jsx("span",{className:"text-slate-300 dark:text-slate-600",children:"|"}),i.jsxs("span",{"data-testid":"tmpl-count-tenant",children:[i.jsx("strong",{className:"text-slate-900 dark:text-white",children:S.length})," ","mon club"]}),i.jsx("span",{className:"text-slate-300 dark:text-slate-600",children:"|"}),i.jsxs("span",{"data-testid":"tmpl-mode",children:["Mode ",i.jsx("strong",{className:"font-mono text-slate-900 dark:text-white",children:(u==null?void 0:u.mode)||"N/A"})]})]})]}),i.jsxs("div",{"data-testid":"tmpl-diag",className:"mb-4 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>h(!d),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-slate-100 dark:hover:bg-slate-800 transition",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Diagnostics"}),i.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["(",j.length," templates chargs)"]})]}),d?i.jsx(TB,{className:"w-4 h-4 text-slate-400"}):i.jsx(PB,{className:"w-4 h-4 text-slate-400"})]}),d&&i.jsxs("div",{className:"px-4 pb-4 pt-2 space-y-3 text-sm border-t border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Project ID:"})}),i.jsx("code",{className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:F})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"User Email:"})}),i.jsx("code",{className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:(e==null?void 0:e.email)||"(none)"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Role:"})}),i.jsx("code",{"data-testid":"tmpl-diag-role",className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:p})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"asTenantId:"})}),i.jsx("code",{"data-testid":"tmpl-diag-tenant",className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:r||"(aucun)"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Mode dtect:"})}),i.jsx("code",{"data-testid":"tmpl-diag-mode",className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:(u==null?void 0:u.mode)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Compteurs:"})}),i.jsxs("div",{className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs",children:[i.jsx("span",{className:"font-semibold",children:j.length})," total,"," ",i.jsx("span",{className:"font-semibold",children:k.length})," globaux,"," ",i.jsx("span",{className:"font-semibold",children:S.length})," tenant"]})]})]}),(u==null?void 0:u.lastSql)&&i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Dernier SQL excut:"})}),i.jsx("pre",{className:"px-3 py-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono whitespace-pre-wrap break-words overflow-auto max-h-32",children:u.lastSql})]}),(u==null?void 0:u.error)&&i.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[i.jsx("p",{className:"font-semibold text-red-900 dark:text-red-400 mb-2",children:"Dernire erreur"}),i.jsxs("div",{className:"space-y-1 text-xs text-red-700 dark:text-red-300",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Message:"})," ",u.error.message]}),u.error.status&&i.jsxs("p",{children:[i.jsx("strong",{children:"Status:"})," ",u.error.status]}),u.error.details&&i.jsxs("p",{children:[i.jsx("strong",{children:"Details:"})," ",u.error.details]}),u.error.hint&&i.jsxs("p",{children:[i.jsx("strong",{children:"Hint:"})," ",u.error.hint]})]})]}),i.jsx("div",{className:"flex items-center justify-end pt-2",children:i.jsxs("button",{onClick:b,disabled:a,className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-300 dark:disabled:bg-slate-700 text-white text-xs rounded-lg flex items-center gap-2 transition",children:[i.jsx(lc,{className:`w-3 h-3 ${a?"animate-spin":""}`}),"Recharger"]})})]})]}),(u==null?void 0:u.warning)&&i.jsx("div",{className:"mb-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Sr,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-yellow-900 dark:text-yellow-300 mb-1",children:"Avertissement"}),i.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-400",children:u.warning})]})]})}),a?i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-12 text-center",children:i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Chargement des templates..."})}):j.length===0?i.jsx("div",{"data-testid":"tmpl-empty-diag",className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-8",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-3 rounded-lg",children:i.jsx(Sr,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"Aucun template trouv"}),i.jsxs("div",{className:"space-y-2 text-sm text-slate-600 dark:text-slate-400",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Rle JWT :"})," ",i.jsx("code",{className:"px-2 py-0.5 bg-slate-100 dark:bg-slate-700 rounded font-mono",children:p})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Tenant courant :"})," ",i.jsx("code",{className:"px-2 py-0.5 bg-slate-100 dark:bg-slate-700 rounded font-mono",children:t||"null"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Mode utilis :"})," ",i.jsx("code",{className:"px-2 py-0.5 bg-slate-100 dark:bg-slate-700 rounded font-mono",children:u==null?void 0:u.mode})]}),(u==null?void 0:u.error)&&i.jsxs("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[i.jsx("p",{className:"font-semibold text-red-900 dark:text-red-400 mb-1",children:"Erreur"}),i.jsx("p",{className:"text-red-700 dark:text-red-300",children:u.error.message}),u.error.status&&i.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Status: ",u.error.status]}),u.error.details&&i.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:u.error.details}),u.error.hint&&i.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Hint: ",u.error.hint]})]})]}),i.jsxs("button",{onClick:b,className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition",children:[i.jsx(lc,{className:"w-4 h-4"}),"Recharger"]})]})]})}):i.jsxs("div",{className:"space-y-6",children:[(A==="all"||A==="global")&&k.length>0&&i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3 flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Templates globaux (",k.length,")"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(D=>i.jsx(J6,{template:D},D.id))})]}),(A==="all"||A==="tenant")&&S.length>0&&i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3 flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Mon club (",S.length,")"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(D=>i.jsx(J6,{template:D},D.id))})]})]})]})})}function J6({template:e}){const t=e.scope==="global",r=mfe[e.key]||e.key;return i.jsxs("a",{href:`/templates/${e.id}`,"data-testid":`tmpl-link-${e.id}`,className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 hover:border-blue-500 dark:hover:border-blue-500 transition shadow-sm hover:shadow-md p-6 cursor-pointer block",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${t?"bg-purple-100 dark:bg-purple-900/30":"bg-blue-100 dark:bg-blue-900/30"}`,children:i.jsx(zn,{className:`w-5 h-5 ${t?"text-purple-600 dark:text-purple-400":"text-blue-600 dark:text-blue-400"}`})}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:t?"Global":"Club"})]}),i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:r}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3 line-clamp-2",children:e.subject}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-500",children:[i.jsx("code",{className:"px-2 py-0.5 bg-slate-100 dark:bg-slate-700 rounded font-mono",children:e.key}),e.updated_at&&i.jsx("span",{children:new Date(e.updated_at).toLocaleDateString("fr-FR")})]})]})}function TD({idOrKey:e}){var x;const{user:t}=Nn(),{effectiveTenantId:r}=As(),[n,s]=E.useState(!0),[a,l]=E.useState(null),[A,c]=E.useState([]),[u,o]=E.useState(!0);E.useEffect(()=>{d()},[e,r]);const d=async()=>{s(!0);try{const p=await vfe(e,r);l(p),p.template||await h()}catch(p){console.error("Error loading template:",p),l({mode:"A",filterType:"none",template:null,error:{message:String(p)}})}finally{s(!1)}},h=async()=>{try{const{data:p}=await Ie.from("email_templates").select("id, key, subject").is("tenant_id",null).order("created_at",{ascending:!1}).limit(5);if(p&&p.length>0){c(p);return}const{data:v}=await Ie.from("email_templates").select("id, type, subject").is("tenant_id",null).order("updated_at",{ascending:!1}).limit(5);v&&c(v.map(b=>({id:b.id,key:b.type,subject:b.subject})))}catch(p){console.error("Error fetching available templates:",p)}},f=((x=t==null?void 0:t.app_metadata)==null?void 0:x.role)||"user",g="unknown",m=a==null?void 0:a.template;return i.jsx(_r,{children:i.jsxs("div",{className:"max-w-5xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition",children:i.jsx(Aj,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})}),i.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-3 rounded-xl shadow-lg",children:i.jsx(zn,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:m?m.subject:"Template introuvable"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:m?`Cl: ${m.key}`:`Recherche: ${e}`})]}),i.jsxs("button",{onClick:d,disabled:n,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-300 dark:disabled:bg-slate-700 text-white rounded-lg flex items-center gap-2 transition",children:[i.jsx(lc,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Recharger"]})]}),i.jsxs("div",{"data-testid":"tmpl-diag",className:"mb-4 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>o(!u),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-slate-100 dark:hover:bg-slate-800 transition",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Diagnostics"})}),u?i.jsx(TB,{className:"w-4 h-4 text-slate-400"}):i.jsx(PB,{className:"w-4 h-4 text-slate-400"})]}),u&&i.jsxs("div",{className:"px-4 pb-4 pt-2 space-y-3 text-sm border-t border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Project ID:"})}),i.jsx("code",{className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:g})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"User Email:"})}),i.jsx("code",{className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:(t==null?void 0:t.email)||"(none)"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Role:"})}),i.jsx("code",{className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:f})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Tenant ID:"})}),i.jsx("code",{className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:r||"(aucun)"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Mode dtect:"})}),i.jsx("code",{"data-testid":"tmpl-detail-mode",className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:(a==null?void 0:a.mode)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Type de filtre:"})}),i.jsx("code",{"data-testid":"tmpl-detail-source",className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:(a==null?void 0:a.filterType)||"N/A"})]}),m&&i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Scope:"})}),i.jsx("code",{"data-testid":"tmpl-detail-scope",className:"px-2 py-1 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono block",children:m.scope})]})]}),(a==null?void 0:a.lastSql)&&i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-1",children:i.jsx("strong",{children:"Dernier SQL excut:"})}),i.jsx("pre",{className:"px-3 py-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded text-xs font-mono whitespace-pre-wrap break-words overflow-auto max-h-32",children:a.lastSql})]}),(a==null?void 0:a.error)&&i.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[i.jsx("p",{className:"font-semibold text-red-900 dark:text-red-400 mb-2",children:"Erreur"}),i.jsxs("div",{className:"space-y-1 text-xs text-red-700 dark:text-red-300",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Message:"})," ",a.error.message]}),a.error.status&&i.jsxs("p",{children:[i.jsx("strong",{children:"Status:"})," ",a.error.status]}),a.error.details&&i.jsxs("p",{children:[i.jsx("strong",{children:"Details:"})," ",a.error.details]})]})]})]})]})]}),n?i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-12 text-center",children:i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Chargement du template..."})}):m?i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[i.jsxs("div",{className:"mb-4 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:m.subject}),i.jsx("span",{"data-testid":"tmpl-detail-scope",className:`px-3 py-1 rounded-full text-xs font-medium ${m.scope==="global"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:m.scope==="global"?"Global":"Club"})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400",children:[i.jsxs("span",{children:[i.jsx("strong",{children:"Cl:"})," ",i.jsx("code",{className:"px-2 py-0.5 bg-slate-100 dark:bg-slate-700 rounded font-mono",children:m.key})]}),i.jsxs("span",{children:[i.jsx("strong",{children:"ID:"})," ",i.jsx("code",{"data-testid":"tmpl-detail-id",className:"px-2 py-0.5 bg-slate-100 dark:bg-slate-700 rounded font-mono text-xs",children:m.id})]}),i.jsxs("span",{children:[i.jsx("strong",{children:"Cr:"})," ",new Date(m.created_at).toLocaleString("fr-FR")]})]})]}),i.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3",children:"Aperu HTML"}),i.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg overflow-auto",dangerouslySetInnerHTML:{__html:m.html}})]})]})}):i.jsx("div",{"data-testid":"tmpl-detail-notfound",className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-8",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-3 rounded-lg",children:i.jsx(Sr,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:["Template non trouv pour param=",e]}),i.jsxs("div",{className:"space-y-3 text-sm text-slate-600 dark:text-slate-400",children:[i.jsxs("p",{children:["Mode"," ",i.jsx("strong",{className:"font-mono text-slate-900 dark:text-white",children:a==null?void 0:a.mode})," ","utilis, tenantId="," ",i.jsx("strong",{className:"font-mono text-slate-900 dark:text-white",children:r||"null"}),!r&&", scope=global-only"]}),A.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("p",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:"Templates disponibles (5 derniers globaux):"}),i.jsx("div",{className:"space-y-2",children:A.map(p=>i.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[i.jsxs("span",{className:"font-mono text-xs text-slate-500 dark:text-slate-500",children:["ID: ",p.id]}),i.jsxs("span",{className:"font-mono text-xs text-blue-600 dark:text-blue-400",children:["key: ",p.key]})]}),i.jsx("p",{className:"text-sm text-slate-900 dark:text-white",children:p.subject})]},p.id))})]})]}),i.jsxs("button",{onClick:()=>window.history.back(),className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition",children:[i.jsx(Aj,{className:"w-4 h-4"}),"Retour  la liste"]})]})]})})]})})}const gfe=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;async function vfe(e,t){const r=gfe.test(e);let n="";const s=t?`(tenant_id is null OR tenant_id = '${t}')`:"(tenant_id is null)",a=t?`tenant_id.is.null,tenant_id.eq.${t}`:"tenant_id.is.null";if(r){n=`SELECT id, tenant_id, key, subject, html, created_at FROM email_templates WHERE id = '${e}' AND ${s} LIMIT 1`;const l=Ie.from("email_templates").select("id, tenant_id, key, subject, html, created_at").eq("id",e);t?l.or(a):l.is("tenant_id",null);const{data:A,error:c}=await l.limit(1).maybeSingle();if(c){const u=c.message||"";if(u.includes("column")&&u.includes("does not exist")){n=`SELECT id, tenant_id, type as key, subject, html_body as html, updated_at as created_at FROM email_templates WHERE id = '${e}' AND ${s} LIMIT 1`;const o=Ie.from("email_templates").select("id, tenant_id, type, subject, html_body, updated_at").eq("id",e);t?o.or(a):o.is("tenant_id",null);const{data:d,error:h}=await o.limit(1).maybeSingle();return h?{mode:"B",filterType:"id",template:null,lastSql:n,error:{message:h.message,status:h.code,details:h.details}}:d?{mode:"B",filterType:"id",lastSql:n,template:{id:d.id,tenant_id:d.tenant_id,key:d.type,subject:d.subject,html:d.html_body,created_at:d.updated_at,scope:d.tenant_id?"tenant":"global"}}:{mode:"B",filterType:"id",template:null,lastSql:n}}return{mode:"A",filterType:"id",template:null,lastSql:n,error:{message:c.message,status:c.code,details:c.details}}}return A?{mode:"A",filterType:"id",lastSql:n,template:{id:A.id,tenant_id:A.tenant_id,key:A.key,subject:A.subject,html:A.html,created_at:A.created_at,scope:A.tenant_id?"tenant":"global"}}:{mode:"A",filterType:"id",template:null,lastSql:n}}else{n=`SELECT id, tenant_id, key, subject, html, created_at FROM email_templates WHERE key = '${e}' AND ${s} ORDER BY created_at DESC LIMIT 1`;const l=Ie.from("email_templates").select("id, tenant_id, key, subject, html, created_at").eq("key",e);t?l.or(a):l.is("tenant_id",null);const{data:A,error:c}=await l.order("created_at",{ascending:!1}).limit(1).maybeSingle();if(c){const u=c.message||"";if(u.includes("column")&&u.includes("does not exist")){n=`SELECT id, tenant_id, type as key, subject, html_body as html, updated_at as created_at FROM email_templates WHERE (type = '${e}' OR key = '${e}') AND ${s} ORDER BY updated_at DESC LIMIT 1`;const o=Ie.from("email_templates").select("id, tenant_id, type, subject, html_body, updated_at, key").or(`type.eq.${e},key.eq.${e}`);t?o.or(a):o.is("tenant_id",null);const{data:d,error:h}=await o.order("updated_at",{ascending:!1}).limit(1).maybeSingle();return h?{mode:"B",filterType:"key",template:null,lastSql:n,error:{message:h.message,status:h.code,details:h.details}}:d?{mode:"B",filterType:"key",lastSql:n,template:{id:d.id,tenant_id:d.tenant_id,key:d.type||d.key,subject:d.subject,html:d.html_body,created_at:d.updated_at,scope:d.tenant_id?"tenant":"global"}}:{mode:"B",filterType:"key",template:null,lastSql:n}}return{mode:"A",filterType:"key",template:null,lastSql:n,error:{message:c.message,status:c.code,details:c.details}}}return A?{mode:"A",filterType:"key",lastSql:n,template:{id:A.id,tenant_id:A.tenant_id,key:A.key,subject:A.subject,html:A.html,created_at:A.created_at,scope:A.tenant_id?"tenant":"global"}}:{mode:"A",filterType:"key",template:null,lastSql:n}}}function xfe(){const{profile:e}=Nn(),{effectiveTenantId:t}=As(),r=Cn(),[n,s]=E.useState([]),[a,l]=E.useState(""),[A,c]=E.useState([]),[u,o]=E.useState([]),[d,h]=E.useState(!0),[f,g]=E.useState(!1),[m,x]=E.useState({reminder_5d_enabled:!0,reminder_10d_enabled:!0});E.useEffect(()=>{t&&(p(),b())},[e==null?void 0:e.tenant_id]),E.useEffect(()=>{a&&v(a)},[a]);const p=async()=>{if(e!=null&&e.tenant_id){h(!0);try{const{data:S,error:F}=await Ie.from("campaigns").select("id, title, tenant_id, created_at").eq("tenant_id",t).order("created_at",{ascending:!1});if(F)throw F;s(S||[]),S&&S.length>0&&l(S[0].id)}catch{r.error("Erreur lors du chargement des campagnes")}finally{h(!1)}}},v=async S=>{try{const{data:F,error:T}=await Ie.from("pledges").select("*, campaigns(id, title, tenant_id, created_at)").eq("campaign_id",S).is("status",null).order("created_at",{ascending:!1});if(T)throw T;const P=(F||[]).map(R=>({...R,campaign:Array.isArray(R.campaigns)?R.campaigns[0]:R.campaigns}));c(P)}catch{r.error("Erreur lors du chargement des invitations")}},b=async()=>{if(e!=null&&e.tenant_id)try{const{data:S,error:F}=await Ie.from("campaigns").select("id, title").eq("tenant_id",t);if(F)throw F;const T=(S||[]).map(async R=>{const{data:U,error:D}=await Ie.from("email_events").select("event_type").eq("campaign_id",R.id);if(D)return console.error("Error fetching events:",D),null;const Q=(U==null?void 0:U.filter(Ae=>Ae.event_type==="sent").length)||0,H=Q,W=(U==null?void 0:U.filter(Ae=>Ae.event_type==="opened").length)||0,V=(U==null?void 0:U.filter(Ae=>Ae.event_type==="clicked").length)||0,Z=(U==null?void 0:U.filter(Ae=>Ae.event_type==="bounced").length)||0,K=0,X=Q>0?W/Q*100:0,le=W>0?V/W*100:0;return{campaign_id:R.id,campaign_title:R.title,sent:Q,delivered:H,opened:W,clicked:V,bounced:Z,failed:K,open_rate:X,click_rate:le}}),P=await Promise.all(T);o(P.filter(R=>R!==null))}catch(S){console.error("Error fetching email metrics:",S)}},j=async()=>{if(!a||A.length===0){r.error("Aucune invitation  envoyer");return}g(!0);try{for(const S of A){const{error:F}=await Ie.from("email_events").insert({campaign_id:a,sponsor_id:S.sponsor_id,email:S.sponsor_email,event_type:"sent",event_data:{type:"reminder",pledge_id:S.id},tenant_id:e==null?void 0:e.tenant_id,created_at:new Date().toISOString()});F&&console.error("Error logging email event:",F)}r.success(`${A.length} relance(s) envoye(s)`),v(a),b()}catch{r.error("Erreur lors de l'envoi des relances")}finally{g(!1)}},k=u.find(S=>S.campaign_id===a);return i.jsx(_r,{children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-3 rounded-xl shadow-lg",children:i.jsx(mU,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Relances automatiques"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Grez vos rappels et suivez les mtriques d'emailing"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[i.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-4",children:"Configuration des relances"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.reminder_5d_enabled,onChange:S=>x({...m,reminder_5d_enabled:S.target.checked}),className:"rounded border-slate-300 text-orange-600 focus:ring-orange-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:"Rappel J+5"}),i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"5 jours aprs l'invitation"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.reminder_10d_enabled,onChange:S=>x({...m,reminder_10d_enabled:S.target.checked}),className:"rounded border-slate-300 text-orange-600 focus:ring-orange-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:"Rappel J+10"}),i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"10 jours avant la deadline"})]})]})]})]}),k&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg",children:i.jsx(ao,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Taux d'ouverture"}),i.jsxs("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:[k.open_rate.toFixed(1),"%"]})]})]}),i.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[k.opened," / ",k.sent," ouverts"]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-2 rounded-lg",children:i.jsx(oS,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Taux de clic"}),i.jsxs("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:[k.click_rate.toFixed(1),"%"]})]})]}),i.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[k.clicked," / ",k.opened," cliqus"]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm mb-6",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Invitations non rpondues"}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[A.length," invitation(s) en attente"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("select",{value:a,onChange:S=>l(S.target.value),className:"px-4 py-2 border-2 border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none",children:n.map(S=>i.jsx("option",{value:S.id,children:S.title},S.id))}),i.jsxs("button",{onClick:j,disabled:f||A.length===0,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600 text-white rounded-lg font-semibold transition shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(vx,{className:"w-4 h-4"}),f?"Envoi...":"Relancer maintenant"]})]})]})}),i.jsx("div",{className:"p-6",children:d?i.jsx("div",{className:"text-center py-12 text-slate-600 dark:text-slate-400",children:"Chargement..."}):A.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-4 rounded-full inline-block mb-4",children:i.jsx(ar,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Aucune invitation en attente pour cette campagne"})]}):i.jsx("div",{className:"space-y-2",children:A.map(S=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700 hover:border-orange-500 dark:hover:border-orange-500 transition",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-2 rounded-lg",children:i.jsx(zn,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:S.sponsor_name||S.sponsor_email}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[S.sponsor_company&&`${S.sponsor_company}  `,S.sponsor_email]})]})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"text-right mr-4",children:S.invitation_sent_at?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Invit le"}),i.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:new Date(S.invitation_sent_at).toLocaleDateString("fr-FR")})]}):i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Jamais invit"})}),i.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 px-3 py-1 rounded-full",children:i.jsxs("div",{className:"flex items-center gap-1 text-amber-700 dark:text-amber-400",children:[i.jsx(Qo,{className:"w-3 h-3"}),i.jsx("span",{className:"text-xs font-medium",children:"En attente"})]})})]})]},S.id))})})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Mtriques d'emailing par campagne"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Statistiques dtailles de vos emails"})]}),i.jsx("div",{className:"p-6",children:u.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-4 rounded-full inline-block mb-4",children:i.jsx(Sr,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Aucune mtrique d'emailing disponible"})]}):i.jsx("div",{className:"space-y-4",children:u.map(S=>i.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:S.campaign_title}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[i.jsx(zn,{className:"w-4 h-4"}),S.sent," envoys"]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[i.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(vx,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"}),i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Envoys"})]}),i.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:S.sent})]}),i.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(ar,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Livrs"})]}),i.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:S.delivered})]}),i.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(ao,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"}),i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Ouverts"})]}),i.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:S.opened}),i.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:[S.open_rate.toFixed(1),"%"]})]}),i.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(oS,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Cliqus"})]}),i.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:S.clicked}),i.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:[S.click_rate.toFixed(1),"%"]})]}),i.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(Lr,{className:"w-3 h-3 text-red-600 dark:text-red-400"}),i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Bounces"})]}),i.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:S.bounced})]}),i.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[i.jsx(Sr,{className:"w-3 h-3 text-orange-600 dark:text-orange-400"}),i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"checs"})]}),i.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:S.failed})]})]})]},S.campaign_id))})})]})]})})}function bfe(){const{profile:e}=Nn(),{effectiveTenantId:t}=As(),r=Cn(),[n,s]=E.useState(null),[a,l]=E.useState(!0),[A,c]=E.useState(!1),[u,o]=E.useState(!1),[d,h]=E.useState({name:"",email_contact:"",address:"",phone:"",logo_url:"",primary_color:"#3b82f6",secondary_color:"#10b981",email_domain:"",opt_out_default:!1,rgpd_text:"",email_signature_html:"",rgpd_content_md:""}),[f,g]=E.useState(null);E.useEffect(()=>{e!=null&&e.tenant_id&&m()},[e==null?void 0:e.tenant_id]);const m=async()=>{if(e!=null&&e.tenant_id){l(!0);try{const{data:v,error:b}=await Ie.from("tenants").select("*").eq("id",t).single();if(b)throw b;s(v),h({name:v.name||"",email_contact:v.email_contact||"",address:v.address||"",phone:v.phone||"",logo_url:v.logo_url||"",primary_color:v.primary_color||"#3b82f6",secondary_color:v.secondary_color||"#10b981",email_domain:v.email_domain||"",opt_out_default:v.opt_out_default||!1,rgpd_text:v.rgpd_text||"En soumettant ce formulaire, vous acceptez que vos donnes personnelles soient utilises pour traiter votre demande de sponsoring. Conformment au RGPD, vous disposez d'un droit d'accs, de rectification et de suppression de vos donnes.",email_signature_html:v.email_signature_html||"",rgpd_content_md:v.rgpd_content_md||""})}catch{r.error("Erreur lors du chargement des paramtres")}finally{l(!1)}}},x=async()=>{if(e!=null&&e.tenant_id){c(!0);try{const{error:v}=await Ie.from("tenants").update({name:d.name,email_contact:d.email_contact,address:d.address||null,phone:d.phone||null,primary_color:d.primary_color,secondary_color:d.secondary_color,email_domain:d.email_domain||null,opt_out_default:d.opt_out_default,rgpd_text:d.rgpd_text,email_signature_html:d.email_signature_html,rgpd_content_md:d.rgpd_content_md}).eq("id",t);if(v)throw v;r.success("Paramtres enregistrs avec succs"),m()}catch{r.error("Erreur lors de l'enregistrement")}finally{c(!1)}}},p=async v=>{var j;const b=(j=v.target.files)==null?void 0:j[0];if(!(!b||!(e!=null&&e.tenant_id))){if(!b.type.startsWith("image/")){r.error("Veuillez slectionner une image");return}if(b.size>2*1024*1024){r.error("Le fichier doit faire moins de 2 MB");return}o(!0);try{const k=b.name.split(".").pop(),S=`${t}/logo.${k}`,{error:F}=await Ie.storage.from("club_exports").upload(S,b,{contentType:b.type,upsert:!0});if(F)throw F;const{data:{publicUrl:T}}=Ie.storage.from("club_exports").getPublicUrl(S);h({...d,logo_url:T});const{error:P}=await Ie.from("tenants").update({logo_url:T}).eq("id",t);if(P)throw P;r.success("Logo tlcharg avec succs"),m()}catch{r.error("Erreur lors du tlchargement du logo")}finally{o(!1)}}};return a?i.jsx(_r,{children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-12 text-center",children:i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Chargement..."})})})}):i.jsx(_r,{children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"bg-gradient-to-br from-slate-500 to-slate-600 p-3 rounded-xl shadow-lg",children:i.jsx(LB,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Paramtres du club"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Configurez les informations et prfrences de votre club"})]})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Gf,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Informations gnrales"})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Nom du club *"}),i.jsx("input",{type:"text",value:d.name,onChange:v=>h({...d,name:v.target.value}),className:"w-full px-4 py-2 border-2 border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"FC Exemple"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Email de contact *"}),i.jsxs("div",{className:"relative",children:[i.jsx(zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"email",value:d.email_contact,onChange:v=>h({...d,email_contact:v.target.value}),className:"w-full pl-11 pr-4 py-2 border-2 border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"contact@fcexemple.fr"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Tlphone"}),i.jsxs("div",{className:"relative",children:[i.jsx(WH,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"tel",value:d.phone,onChange:v=>h({...d,phone:v.target.value}),className:"w-full pl-11 pr-4 py-2 border-2 border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"01 23 45 67 89"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Adresse"}),i.jsxs("div",{className:"relative",children:[i.jsx(vp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"text",value:d.address,onChange:v=>h({...d,address:v.target.value}),className:"w-full pl-11 pr-4 py-2 border-2 border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"123 rue du Stade, 75000 Paris"})]})]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(PA,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Logo du club"})]})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-6",children:[d.logo_url?i.jsx("div",{className:"w-32 h-32 rounded-xl border-2 border-slate-200 dark:border-slate-700 overflow-hidden bg-white dark:bg-slate-900 flex items-center justify-center",children:i.jsx("img",{src:d.logo_url,alt:"Logo",className:"max-w-full max-h-full object-contain"})}):i.jsx("div",{className:"w-32 h-32 rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 flex items-center justify-center",children:i.jsx(PA,{className:"w-8 h-8 text-slate-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("label",{htmlFor:"logo-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold cursor-pointer transition",children:[i.jsx(PA,{className:"w-4 h-4"}),u?"Tlchargement...":"Tlcharger un logo"]}),i.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",onChange:p,disabled:u,className:"hidden"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-2",children:"PNG, JPG ou SVG. Max 2 MB."})]})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(GH,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Couleurs de la marque"})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Couleur principale"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("input",{type:"color",value:d.primary_color,onChange:v=>h({...d,primary_color:v.target.value}),className:"w-20 h-12 rounded-lg border-2 border-slate-300 dark:border-slate-600 cursor-pointer"}),i.jsx("input",{type:"text",value:d.primary_color,onChange:v=>h({...d,primary_color:v.target.value}),className:"flex-1 px-4 py-2 border-2 border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition font-mono",placeholder:"#3b82f6"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Couleur secondaire"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("input",{type:"color",value:d.secondary_color,onChange:v=>h({...d,secondary_color:v.target.value}),className:"w-20 h-12 rounded-lg border-2 border-slate-300 dark:border-slate-600 cursor-pointer"}),i.jsx("input",{type:"text",value:d.secondary_color,onChange:v=>h({...d,secondary_color:v.target.value}),className:"flex-1 px-4 py-2 border-2 border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition font-mono",placeholder:"#10b981"})]})]})]}),i.jsxs("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-900 rounded-lg",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Aperu des couleurs :"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"flex-1 h-20 rounded-lg",style:{backgroundColor:d.primary_color}}),i.jsx("div",{className:"flex-1 h-20 rounded-lg",style:{backgroundColor:d.secondary_color}})]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(HH,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Configuration email"})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Domaine d'envoi personnalis"}),i.jsx("input",{type:"text",value:d.email_domain,onChange:v=>h({...d,email_domain:v.target.value}),className:"w-full px-4 py-2 border-2 border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"mail.votreclub.fr"})]}),n!=null&&n.email_domain_verified?i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg",children:[i.jsx(ar,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0"}),i.jsx("p",{className:"text-sm text-green-800 dark:text-green-300",children:"Domaine vrifi et configur"})]}):d.email_domain?i.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-800 rounded-lg",children:[i.jsx(Sr,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-300",children:[i.jsx("p",{className:"font-semibold mb-1",children:"Configuration DNS requise"}),i.jsx("p",{className:"mb-2",children:"Pour utiliser votre domaine personnalis, configurez les enregistrements suivants :"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"SPF :"}),' TXT @ "v=spf1 include:_spf.example.com ~all"']}),i.jsxs("li",{children:[i.jsx("strong",{children:"DKIM :"}),' TXT dkim._domainkey "v=DKIM1; k=rsa; p=..."']}),i.jsxs("li",{children:[i.jsx("strong",{children:"DMARC :"}),' TXT _dmarc "v=DMARC1; p=quarantine; rua=..."']})]})]})]}):null,i.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg",children:[i.jsx(vU,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:"Un domaine personnalis amliore la dlivrabilit de vos emails et renforce votre image de marque."})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(IH,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Signature email (HTML)"})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Code HTML de la signature"}),i.jsxs("button",{type:"button",onClick:()=>g(f==="signature"?null:"signature"),className:"flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:[i.jsx(ao,{className:"w-4 h-4"}),f==="signature"?"Masquer":"Aperu"]})]}),i.jsx("textarea",{value:d.email_signature_html,onChange:v=>h({...d,email_signature_html:v.target.value}),rows:8,className:"w-full px-4 py-3 border-2 border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-none transition font-mono text-sm",placeholder:"<div style='font-family: Arial; color: #333;'>\\n  <p><strong>Nom du Club</strong></p>\\n  <p>Adresse | Tlphone | Email</p>\\n</div>"}),i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-2",children:"Cette signature sera automatiquement ajoute  tous les emails envoys (invitations, confirmations, rappels)."})]}),f==="signature"&&d.email_signature_html&&i.jsxs("div",{className:"border-2 border-slate-300 dark:border-slate-600 rounded-xl p-4 bg-slate-50 dark:bg-slate-900",children:[i.jsx("p",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 mb-2",children:"APERU :"}),i.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:d.email_signature_html}})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ad,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Politique RGPD (Markdown)"})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Contenu Markdown"}),i.jsxs("button",{type:"button",onClick:()=>g(f==="rgpd"?null:"rgpd"),className:"flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:[i.jsx(ao,{className:"w-4 h-4"}),f==="rgpd"?"Masquer":"Aperu"]})]}),i.jsx("textarea",{value:d.rgpd_content_md,onChange:v=>h({...d,rgpd_content_md:v.target.value}),rows:12,className:"w-full px-4 py-3 border-2 border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-none transition font-mono text-sm",placeholder:"# Protection des donnes\\n\\n## Collecte des donnes\\n\\nNous collectons...\\n\\n## Vos droits\\n\\n- Droit d'accs\\n- Droit de rectification"}),i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-2",children:"Ce texte sera affich sur les formulaires de rponse publics. Utilisez Markdown pour la mise en forme."})]}),f==="rgpd"&&d.rgpd_content_md&&i.jsxs("div",{className:"border-2 border-slate-300 dark:border-slate-600 rounded-xl p-4 bg-slate-50 dark:bg-slate-900",children:[i.jsx("p",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 mb-2",children:"APERU :"}),i.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:d.rgpd_content_md.split(`
`).map((v,b)=>v.startsWith("# ")?i.jsx("h1",{className:"text-2xl font-bold mt-4 mb-2",children:v.substring(2)},b):v.startsWith("## ")?i.jsx("h2",{className:"text-xl font-bold mt-3 mb-2",children:v.substring(3)},b):v.startsWith("### ")?i.jsx("h3",{className:"text-lg font-bold mt-2 mb-1",children:v.substring(4)},b):v.startsWith("- ")?i.jsx("li",{className:"ml-4",children:v.substring(2)},b):v.trim()===""?i.jsx("br",{},b):i.jsx("p",{className:"mb-2",children:v},b))})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(cc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Conformit RGPD (formulaires)"})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("div",{children:i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-4 bg-slate-50 dark:bg-slate-900 rounded-lg border-2 border-slate-200 dark:border-slate-700 hover:border-blue-500 dark:hover:border-blue-500 transition",children:[i.jsx("input",{type:"checkbox",checked:d.opt_out_default,onChange:v=>h({...d,opt_out_default:v.target.checked}),className:"w-5 h-5 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:"Opt-out par dfaut"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:'La case "Ne pas recevoir de communications" sera coche par dfaut sur les formulaires publics'})]})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Texte de conformit RGPD"}),i.jsx("textarea",{value:d.rgpd_text,onChange:v=>h({...d,rgpd_text:v.target.value}),rows:6,className:"w-full px-4 py-3 border-2 border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-none transition",placeholder:"Texte affich sur les formulaires publics concernant le traitement des donnes personnelles..."}),i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-2",children:"Ce texte sera affich sur tous les formulaires de rponse publics pour informer les sponsors de leurs droits."})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>m(),className:"px-6 py-3 border-2 border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl font-semibold transition",children:"Annuler"}),i.jsxs("button",{onClick:x,disabled:A,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white rounded-xl font-semibold transition shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(xd,{className:"w-5 h-5"}),A?"Enregistrement...":"Enregistrer les paramtres"]})]})]})]})})}function yfe(){Nn();const{effectiveTenantId:e}=As(),t=Cn(),[r,n]=E.useState(!0),[s,a]=E.useState(!1),[l,A]=E.useState(""),[c,u]=E.useState(""),[o,d]=E.useState("");E.useEffect(()=>{h()},[e]);const h=async()=>{if(e){n(!0);try{const{data:m,error:x}=await Ie.from("tenants").select("rgpd_content_md, cgu_content_md, email_signature_html").eq("id",e).single();if(x)throw x;m&&(A(m.rgpd_content_md||""),u(m.cgu_content_md||""),d(m.email_signature_html||""))}catch(m){t.error("Erreur lors du chargement des paramtres"),console.error("Error fetching tenant settings:",m)}finally{n(!1)}}},f=async()=>{if(e){a(!0);try{const{error:m}=await Ie.from("tenants").update({rgpd_content_md:l,cgu_content_md:c,email_signature_html:o}).eq("id",e);if(m)throw m;t.success("Paramtres sauvegards avec succs")}catch(m){t.error("Erreur lors de la sauvegarde"),console.error("Error saving tenant settings:",m)}finally{a(!1)}}},g=()=>`
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
      background-color: #f5f5f5;
    }
    .email-container {
      background-color: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .email-header {
      border-bottom: 2px solid #e5e7eb;
      padding-bottom: 20px;
      margin-bottom: 20px;
    }
    .email-body {
      margin-bottom: 30px;
    }
    .email-signature {
      border-top: 2px solid #e5e7eb;
      padding-top: 20px;
      margin-top: 30px;
    }
    h1 {
      color: #1f2937;
      font-size: 24px;
      margin: 0 0 10px 0;
    }
    p {
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <div class="email-container">
    <div class="email-header">
      <h1>Exemple d'e-mail</h1>
    </div>
    <div class="email-body">
      <p>Bonjour,</p>
      <p>Ceci est un exemple de contenu d'e-mail envoy depuis votre plateforme de sponsoring.</p>
      <p>Votre message personnalis apparatrait ici.</p>
      <p>Cordialement,</p>
    </div>
    <div class="email-signature">
      ${o||"<p><em>Aucune signature configure</em></p>"}
    </div>
  </div>
</body>
</html>
    `.trim();return r?i.jsx(_r,{children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Chargement..."})})}):i.jsx(_r,{children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Lgal & E-mails"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Grez vos mentions lgales, RGPD et signature d'e-mail"})]}),i.jsxs("button",{onClick:f,disabled:s,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 disabled:from-slate-400 disabled:to-slate-400 text-white rounded-lg transition shadow-lg",children:[i.jsx(xd,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:s?"Sauvegarde...":"Sauvegarder"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(cc,{className:"w-5 h-5 text-blue-500"}),i.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Politique RGPD"})]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Dcrivez votre politique de protection des donnes personnelles (format Markdown)"}),i.jsx("textarea",{value:l,onChange:m=>A(m.target.value),placeholder:`# Politique RGPD

## Protection des donnes

Vos donnes personnelles sont...`,className:"w-full h-64 px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-white font-mono text-sm resize-y","aria-label":"Contenu RGPD en Markdown"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(ad,{className:"w-5 h-5 text-green-500"}),i.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Mentions Lgales / CGU"})]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Renseignez vos mentions lgales et conditions gnrales (format Markdown)"}),i.jsx("textarea",{value:c,onChange:m=>u(m.target.value),placeholder:`# Mentions Lgales

## Informations diteur

Raison sociale :...`,className:"w-full h-64 px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-white font-mono text-sm resize-y","aria-label":"Contenu CGU en Markdown"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(zn,{className:"w-5 h-5 text-purple-500"}),i.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Signature E-mail"})]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Personnalisez la signature qui apparatra dans vos e-mails (format HTML)"}),i.jsx("textarea",{value:o,onChange:m=>d(m.target.value),placeholder:`<div style='font-family: Arial, sans-serif;'>
  <p><strong>Nom du Club</strong></p>
  <p>Adresse | Tlphone | Email</p>
</div>`,className:"w-full h-48 px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-white font-mono text-sm resize-y","aria-label":"Signature e-mail en HTML"})]})]}),i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 sticky top-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-4",children:"Prvisualisation E-mail"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Aperu de votre signature dans un e-mail type"}),i.jsx("div",{className:"border border-slate-300 dark:border-slate-600 rounded-lg overflow-hidden",children:i.jsx("iframe",{srcDoc:g(),title:"Prvisualisation e-mail",className:"w-full h-[600px] bg-white",sandbox:"allow-same-origin"})})]})})]})]})})}function wfe(){const e=Cn();Nn();const{effectiveTenantId:t}=As(),[r,n]=E.useState(!0),[s,a]=E.useState(!1),[l,A]=E.useState("rgpd"),[c,u]=E.useState({rgpd_content_md:"",cgu_content_md:"",privacy_content_md:"",email_signature_html:""});E.useEffect(()=>{t&&o()},[t]);const o=async()=>{if(t){n(!0);try{const{data:g,error:m}=await Ie.from("tenants").select("rgpd_content_md, cgu_content_md, privacy_content_md, email_signature_html").eq("id",t).maybeSingle();if(m)throw m;g&&u({rgpd_content_md:g.rgpd_content_md||"",cgu_content_md:g.cgu_content_md||"",privacy_content_md:g.privacy_content_md||"",email_signature_html:g.email_signature_html||""})}catch(g){console.error("Error fetching legal content:",g),e.error("Erreur lors du chargement des contenus lgaux")}finally{n(!1)}}},d=async()=>{if(t){a(!0);try{const{error:g}=await Ie.from("tenants").update({rgpd_content_md:c.rgpd_content_md,cgu_content_md:c.cgu_content_md,privacy_content_md:c.privacy_content_md,email_signature_html:c.email_signature_html}).eq("id",t);if(g)throw g;e.success("Contenus lgaux enregistrs avec succs")}catch(g){console.error("Error saving legal content:",g),e.error("Erreur lors de l'enregistrement")}finally{a(!1)}}},h=g=>g?g.split(`
`).map(m=>m.startsWith("# ")?`<h1 class="text-3xl font-bold text-slate-900 dark:text-white mb-4">${m.slice(2)}</h1>`:m.startsWith("## ")?`<h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-3 mt-6">${m.slice(3)}</h2>`:m.startsWith("### ")?`<h3 class="text-xl font-semibold text-slate-900 dark:text-white mb-2 mt-4">${m.slice(4)}</h3>`:m.startsWith("- ")?`<li class="ml-4 text-slate-700 dark:text-slate-300">${m.slice(2)}</li>`:m.startsWith("**")&&m.endsWith("**")?`<p class="font-bold text-slate-900 dark:text-white mb-2">${m.slice(2,-2)}</p>`:m.trim()===""?"<br>":`<p class="text-slate-700 dark:text-slate-300 mb-2">${m}</p>`).join(""):'<p class="text-slate-400">Aucun contenu</p>',f=()=>`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          <style>
            body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; color: #333; }
            .email-body { padding: 20px; background: #f9fafb; }
            .email-content { background: white; padding: 30px; border-radius: 8px; margin-bottom: 20px; }
            .email-signature { border-top: 2px solid #e5e7eb; padding-top: 20px; }
          </style>
        </head>
        <body>
          <div class="email-body">
            <div class="email-content">
              <p>Bonjour,</p>
              <p>Ceci est un exemple de contenu d'email pour prvisualiser votre signature.</p>
              <p>Cordialement,</p>
            </div>
            <div class="email-signature">
              ${c.email_signature_html||'<p style="color: #9ca3af;">Aucune signature dfinie</p>'}
            </div>
          </div>
        </body>
      </html>
    `;return r?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:"Chargement..."})}):i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 p-3 rounded-xl shadow-lg",children:i.jsx(ad,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Contenus Lgaux"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Grez vos mentions RGPD, CGU, politique de confidentialit et signature email"})]})]})}),i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>A("rgpd"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition ${l==="rgpd"?"bg-blue-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:[i.jsx(cc,{className:"w-4 h-4"}),"RGPD"]}),i.jsxs("button",{onClick:()=>A("cgu"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition ${l==="cgu"?"bg-blue-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:[i.jsx(ad,{className:"w-4 h-4"}),"CGU"]}),i.jsxs("button",{onClick:()=>A("privacy"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition ${l==="privacy"?"bg-blue-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:[i.jsx(xU,{className:"w-4 h-4"}),"Confidentialit"]}),i.jsxs("button",{onClick:()=>A("signature"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition ${l==="signature"?"bg-blue-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:[i.jsx(zn,{className:"w-4 h-4"}),"Signature Email"]})]}),i.jsxs("button",{onClick:d,disabled:s,"data-testid":"btn-save-legal",className:"flex items-center gap-2 px-6 py-2 bg-green-500 hover:bg-green-600 disabled:bg-slate-400 text-white rounded-lg transition",children:[i.jsx(xd,{className:"w-4 h-4"}),s?"Enregistrement...":"Enregistrer"]})]}),l==="rgpd"&&i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsxs("div",{className:"grid grid-cols-2 divide-x divide-slate-200 dark:divide-slate-700",children:[i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"dition (Markdown)"}),i.jsx("textarea",{value:c.rgpd_content_md,onChange:g=>u({...c,rgpd_content_md:g.target.value}),"data-testid":"rgpd-md",className:"w-full h-[600px] p-4 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-white font-mono text-sm resize-none",placeholder:`# RGPD

## Introduction
Vos donnes personnelles...

- Point 1
- Point 2`})]}),i.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-900",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Prvisualisation"}),i.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none overflow-y-auto h-[600px]",dangerouslySetInnerHTML:{__html:h(c.rgpd_content_md)}})]})]})}),l==="cgu"&&i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsxs("div",{className:"grid grid-cols-2 divide-x divide-slate-200 dark:divide-slate-700",children:[i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"dition (Markdown)"}),i.jsx("textarea",{value:c.cgu_content_md,onChange:g=>u({...c,cgu_content_md:g.target.value}),"data-testid":"cgu-md",className:"w-full h-[600px] p-4 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-white font-mono text-sm resize-none",placeholder:`# Conditions Gnrales d'Utilisation

## Article 1
...

## Article 2
...`})]}),i.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-900",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Prvisualisation"}),i.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none overflow-y-auto h-[600px]",dangerouslySetInnerHTML:{__html:h(c.cgu_content_md)}})]})]})}),l==="privacy"&&i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsxs("div",{className:"grid grid-cols-2 divide-x divide-slate-200 dark:divide-slate-700",children:[i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"dition (Markdown)"}),i.jsx("textarea",{value:c.privacy_content_md,onChange:g=>u({...c,privacy_content_md:g.target.value}),"data-testid":"privacy-md",className:"w-full h-[600px] p-4 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-white font-mono text-sm resize-none",placeholder:`# Politique de Confidentialit

## Collecte des donnes
...

## Utilisation des donnes
...`})]}),i.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-900",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Prvisualisation"}),i.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none overflow-y-auto h-[600px]",dangerouslySetInnerHTML:{__html:h(c.privacy_content_md)}})]})]})}),l==="signature"&&i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsxs("div",{className:"grid grid-cols-2 divide-x divide-slate-200 dark:divide-slate-700",children:[i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"dition (HTML)"}),i.jsx("textarea",{value:c.email_signature_html,onChange:g=>u({...c,email_signature_html:g.target.value}),"data-testid":"signature-html",className:"w-full h-[600px] p-4 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-white font-mono text-sm resize-none",placeholder:`<div style="font-family: Arial, sans-serif;">
  <p style="margin: 0;"><strong>Prnom NOM</strong></p>
  <p style="margin: 0; color: #666;">Poste</p>
  <p style="margin: 0; color: #666;">Club Sportif</p>
  <p style="margin: 0; color: #0066cc;">email@club.fr</p>
</div>`}),i.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-400",children:[i.jsx("strong",{children:"Astuce :"})," Utilisez du HTML inline pour la signature (styles inline recommands pour les emails)."]})})]}),i.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-900",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Prvisualisation Email"}),i.jsx("div",{className:"border border-slate-300 dark:border-slate-600 rounded-lg overflow-hidden h-[600px]",children:i.jsx("iframe",{srcDoc:f(),className:"w-full h-full",title:"Email Preview",sandbox:"allow-same-origin"})})]})]})})]})}function jfe(){Nn();const{effectiveTenantId:e}=As(),t=Cn(),[r,n]=E.useState([]),[s,a]=E.useState([]),[l,A]=E.useState(!0),[c,u]=E.useState("all"),[o,d]=E.useState("all");E.useEffect(()=>{h()},[e]);const h=async()=>{if(e){A(!0);try{const[b,j]=await Promise.all([Ie.from("scheduled_jobs").select("*, campaigns(*)").eq("tenant_id",e).order("scheduled_at",{ascending:!1}),Ie.from("campaigns").select("*").eq("tenant_id",e).order("title")]);if(b.error)throw b.error;if(j.error)throw j.error;n(b.data||[]),a(j.data||[])}catch(b){t.error("Erreur lors du chargement: "+b.message)}finally{A(!1)}}},f=async b=>{if(confirm("tes-vous sr de vouloir annuler cet envoi planifi ?"))try{const{error:j}=await Ie.from("scheduled_jobs").update({status:"cancelled"}).eq("id",b).eq("status","pending");if(j)throw j;t.success("Envoi annul"),h()}catch(j){t.error("Erreur lors de l'annulation: "+j.message)}},g=r.filter(b=>!(c!=="all"&&b.campaign_id!==c||o!=="all"&&b.status!==o)),m=b=>{switch(b){case"pending":return{icon:Qo,label:"En attente",color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-50 dark:bg-amber-900/30"};case"processing":return{icon:ah,label:"En cours",color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-900/30",spin:!0};case"completed":return{icon:sd,label:"Termin",color:"text-green-600 dark:text-green-400",bg:"bg-green-50 dark:bg-green-900/30"};case"failed":return{icon:Lr,label:"chou",color:"text-red-600 dark:text-red-400",bg:"bg-red-50 dark:bg-red-900/30"};case"cancelled":return{icon:Lr,label:"Annul",color:"text-slate-600 dark:text-slate-400",bg:"bg-slate-50 dark:bg-slate-700/30"};default:return{icon:Sr,label:b,color:"text-slate-600 dark:text-slate-400",bg:"bg-slate-50 dark:bg-slate-700/30"}}},x=b=>{var F,T;const j=((T=(F=b.payload)==null?void 0:F.sponsors)==null?void 0:T.length)||0;let k=0,S=0;if(b.status==="completed"||b.status==="failed"){const R=(b.error_message||"").match(/(\d+) errors? occurred/);R&&(S=parseInt(R[1])),k=j-S}return{total:j,sent:k,errors:S}},p=b=>new Date(b).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}),v=b=>new Date(b).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"});return l?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(ah,{className:"w-8 h-8 text-blue-600 dark:text-blue-400 animate-spin"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Envois planifis"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Grez et suivez vos invitations planifies"})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filtrer par campagne"}),i.jsxs("select",{value:c,onChange:b=>u(b.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white","data-testid":"filter-campaign",children:[i.jsx("option",{value:"all",children:"Toutes les campagnes"}),s.map(b=>i.jsx("option",{value:b.id,children:b.title},b.id))]})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filtrer par statut"}),i.jsxs("select",{value:o,onChange:b=>d(b.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white","data-testid":"filter-status",children:[i.jsx("option",{value:"all",children:"Tous les statuts"}),i.jsx("option",{value:"pending",children:"En attente"}),i.jsx("option",{value:"processing",children:"En cours"}),i.jsx("option",{value:"completed",children:"Termin"}),i.jsx("option",{value:"failed",children:"chou"}),i.jsx("option",{value:"cancelled",children:"Annul"})]})]})]}),(c!=="all"||o!=="all")&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[i.jsx(MH,{className:"w-4 h-4"}),i.jsxs("span",{children:[g.length," rsultat",g.length!==1?"s":""," sur ",r.length]}),(c!=="all"||o!=="all")&&i.jsx("button",{onClick:()=>{u("all"),d("all")},className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Rinitialiser"})]}),g.length===0?i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx($A,{className:"w-12 h-12 text-slate-400 dark:text-slate-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"Aucun envoi planifi"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:c!=="all"||o!=="all"?"Aucun envoi ne correspond  vos filtres.":"Planifiez vos premiers envois depuis la page Sponsors."})]})}):i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Campagne"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Planifi pour"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Statut"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Destinataires"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Rsultats"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:g.map(b=>{var T;const j=m(b.status),k=j.icon,S=x(b),F=((T=b.campaign)==null?void 0:T.title)||"Campagne supprime";return i.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-green-500 flex items-center justify-center flex-shrink-0",children:i.jsx($A,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:F}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:b.job_type})]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:p(b.scheduled_at)}),i.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:v(b.scheduled_at)})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${j.bg} ${j.color}`,children:[i.jsx(k,{className:`w-3.5 h-3.5 ${j.spin?"animate-spin":""}`}),j.label]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"text-sm",children:i.jsxs("p",{className:"font-medium text-slate-900 dark:text-white",children:[S.total," destinataire",S.total!==1?"s":""]})})}),i.jsx("td",{className:"px-6 py-4",children:b.status==="completed"||b.status==="failed"?i.jsxs("div",{className:"text-sm space-y-1",children:[S.sent>0&&i.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 dark:text-green-400",children:[i.jsx(sd,{className:"w-4 h-4"}),i.jsxs("span",{children:[S.sent," envoy",S.sent!==1?"s":""]})]}),S.errors>0&&i.jsxs("div",{className:"flex items-center gap-1.5 text-red-600 dark:text-red-400",children:[i.jsx(Lr,{className:"w-4 h-4"}),i.jsxs("span",{children:[S.errors," erreur",S.errors!==1?"s":""]})]}),b.executed_at&&i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[p(b.executed_at),"  ",v(b.executed_at)]})]}):i.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"-"})}),i.jsx("td",{className:"px-6 py-4 text-right",children:b.status==="pending"&&i.jsxs("button",{onClick:()=>f(b.id),className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition","data-testid":"cancel-job-button",children:[i.jsx(un,{className:"w-4 h-4"}),"Annuler"]})})]},b.id)})})]})})}),job.status==="failed"&&job.error_message&&g.some(b=>b.status==="failed")&&i.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Sr,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-red-900 dark:text-red-300 mb-1",children:"Erreurs dtectes"}),i.jsx("p",{className:"text-sm text-red-800 dark:text-red-400",children:"Certains envois ont chou. Consultez les logs pour plus de dtails ou contactez le support."})]})]})})]})}function X6(e,t){if(!t)return e;const r=t.email_signature_html??"",n=t.rgpd_content_md?"<hr/><small>"+t.rgpd_content_md.replace(/\n/g,"<br/>")+"</small>":"";return e+"<br/>"+r+n}function q6(){const{user:e,profile:t}=Nn(),{effectiveTenantId:r,isMasquerading:n}=As(),[s,a]=E.useState([]),[l,A]=E.useState(""),[c,u]=E.useState("all"),[o,d]=E.useState(""),[h,f]=E.useState(JSON.stringify({club_name:"A2Display FC",campaign_title:"Ecran LED 2025",invite_link:"https://example.com/p/abc",deadline:"2025-12-31",sponsor_name:"SAS Martin",contact_name:"Jean Dupont",tenant_name:"A2Display FC",tenant_email:"contact@a2display.fr",response_url:"https://example.com/respond/xyz",annual_price:"1500"},null,2)),[g,m]=E.useState(""),[x,p]=E.useState(""),[v,b]=E.useState(!1),[j,k]=E.useState(null),[S,F]=E.useState(null),[T,P]=E.useState(null),[R,U]=E.useState([]),[D,Q]=E.useState([]),[H,W]=E.useState(""),[V,Z]=E.useState(""),[K,X]=E.useState({projectId:"",jwtRole:"",asTenantId:"",globalCount:0,tenantCount:0,userRole:"",sqlQuery:"",lastError:"",lastErrorCode:"",schemaMode:"",canSelectTenants:null,tenantsTestError:""}),le="unknown";E.useEffect(()=>{q(),M(),Ae(),r&&(G(),re())},[r]);const Ae=async()=>{var et;const ue=((et=e==null?void 0:e.app_metadata)==null?void 0:et.role)||(t==null?void 0:t.role)||"unknown",_e=r||"none";let be=null,ie="";try{const{data:ke,error:Re}=await Ie.from("tenants").select("id").limit(1);Re?(be=!1,ie=`${Re.code||"ERROR"}: ${Re.message}`):be=!0}catch(ke){be=!1,ie=(ke==null?void 0:ke.message)||String(ke)}X(ke=>({...ke,projectId:le,jwtRole:String(ue),asTenantId:_e,canSelectTenants:be,tenantsTestError:ie}))},M=async()=>{if(r)try{const ue=await jK(Ie,r);ue&&P(ue)}catch(ue){console.error("Error loading tenant settings:",ue)}},G=async()=>{if(r)try{const{data:ue,error:_e}=await Ie.from("campaigns").select("id, title, deadline").eq("tenant_id",r).order("deadline",{ascending:!1});if(_e)throw _e;U(ue||[])}catch(ue){console.error("Error loading campaigns:",ue)}},re=async()=>{if(r)try{const{data:ue,error:_e}=await Ie.from("sponsors").select("id, company, contact_name, email").eq("tenant_id",r).order("company",{ascending:!0});if(_e)throw _e;Q(ue||[])}catch(ue){console.error("Error loading sponsors:",ue)}},ne=()=>{const ue=R.find(ie=>ie.id===H),_e=D.find(ie=>ie.id===V),be={club_name:(T==null?void 0:T.name)||"Club Name",campaign_title:(ue==null?void 0:ue.title)||"Campaign Title",deadline:(ue==null?void 0:ue.deadline)||"2025-12-31",sponsor_name:(_e==null?void 0:_e.contact_name)||(_e==null?void 0:_e.company)||"Sponsor Name",invite_link:"https://example.com/p/abc"};f(JSON.stringify(be,null,2))},q=async()=>{var ue,_e,be,ie,et;b(!0),k(null);try{const ke=r,Re=((ue=e==null?void 0:e.app_metadata)==null?void 0:ue.role)||(t==null?void 0:t.role)||"unknown";let Oe=[],qe="",Ge=[],pt="";const nt=`
        select id, tenant_id, key, subject, html, created_at
        from email_templates
        where (tenant_id is null OR tenant_id = '${ke||"null"}')
        order by (tenant_id is null) asc, created_at desc
      `,{data:Lt,error:Xe}=await Ie.from("email_templates").select("id, tenant_id, key, subject, html, created_at").or(`tenant_id.is.null,tenant_id.eq.${ke||"null"}`).order("created_at",{ascending:!1}),St=((_e=Xe==null?void 0:Xe.message)==null?void 0:_e.includes("column"))||(Xe==null?void 0:Xe.code)==="42703"||((be=Xe==null?void 0:Xe.message)==null?void 0:be.includes("does not exist"));if(!Xe&&Lt&&Lt.length>0&&"key"in Lt[0])qe="Mode A (key/subject/html)",pt=nt,Ge=Lt,Oe=Lt.map(tt=>({id:tt.id,scope:tt.tenant_id?"tenant":"global",key:tt.key||"unknown",subject:tt.subject||"",html:tt.html||"",placeholders:{},tenant_id:tt.tenant_id}));else if(St||Xe){const tt=`
          select id, tenant_id, type, subject, html_body, text_body, placeholders, is_active, updated_at
          from email_templates
          where (tenant_id is null OR tenant_id = '${ke||"null"}')
          order by (tenant_id is null) asc, coalesce(updated_at, now()) desc
        `,{data:Ct,error:it}=await Ie.from("email_templates").select("id, tenant_id, type, subject, html_body, text_body, placeholders, is_active, updated_at").or(`tenant_id.is.null,tenant_id.eq.${ke||"null"}`).order("updated_at",{ascending:!1});if(it){const Tt=it.code==="42501"||it.code==="PGRST301"||((ie=it.message)==null?void 0:ie.includes("permission denied"))||((et=it.message)==null?void 0:et.includes("policy"))?`RLS? ${it.message||it.code||String(it)}`:it.message||it.code||String(it);throw new Error(`Schema A failed: ${(Xe==null?void 0:Xe.message)||"unknown column"}. Schema B failed: ${Tt}`)}qe="Mode B (type/subject/html_body)",pt=tt,Ge=Ct||[],Ct&&Ct.length>0&&(Oe=Ct.map(Rt=>({id:Rt.id,scope:Rt.tenant_id?"tenant":"global",key:Rt.type||"unknown",subject:Rt.subject||"",html:Rt.html_body||"",placeholders:typeof Rt.placeholders=="object"?Rt.placeholders:{},tenant_id:Rt.tenant_id})))}a(Oe);const qt=Oe.filter(tt=>tt.scope==="global").length,Bt=Oe.filter(tt=>tt.scope==="tenant").length;X(tt=>({...tt,globalCount:qt,tenantCount:Bt,userRole:String(Re),sqlQuery:pt,lastError:"",lastErrorCode:"",schemaMode:qe})),console.log("Templates loaded:",{schemaMode:qe,rawCount:Ge.length,normalizedCount:Oe.length,globalCount:qt,tenantCount:Bt})}catch(ke){const Re=(ke==null?void 0:ke.message)||String(ke),Oe=(ke==null?void 0:ke.code)||(ke==null?void 0:ke.status)||"";k(Re),X(qe=>({...qe,lastError:Re,lastErrorCode:String(Oe),schemaMode:"Failed"}))}finally{b(!1)}},pe=(ue,_e)=>{let be=ue;return Object.keys(_e).forEach(ie=>{const et=new RegExp(`{{${ie}}}`,"g");be=be.replace(et,_e[ie])}),be},oe=()=>{try{k(null),F(null);const ue=JSON.parse(h),_e=s.find(et=>et.id===l);if(!_e){k("Please select a template");return}const be=pe(_e.subject,ue);let ie=pe(_e.html,ue);ie=X6(ie,T),p(be),m(ie)}catch(ue){k("Invalid JSON in variables: "+ue.message)}},fe=async()=>{try{if(b(!0),k(null),F(null),!o){k("Please enter recipient email");return}const ue=JSON.parse(h),_e=s.find(Ge=>Ge.id===l);if(!_e){k("Please select a template");return}const be=pe(_e.subject,ue);let ie=pe(_e.html,ue);ie=X6(ie,T);const et="undefined/functions/v1/send-test-email",ke={Authorization:"Bearer undefined","Content-Type":"application/json"},Re={to:o,subject:be,html:ie,meta:{templateId:_e.id,scope:_e.scope,tenantId:r}},Oe=await fetch(et,{method:"POST",headers:ke,body:JSON.stringify(Re)}),qe=await Oe.json();if(!Oe.ok)throw new Error(qe.error||"Failed to send test email");F(`Test email sent successfully! ID: ${qe.id||"N/A"}`)}catch(ue){k("Send failed: "+ue.message)}finally{b(!1)}},ye=s.filter(ue=>c==="all"?!0:ue.scope===c);return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(zn,{className:"w-8 h-8 text-blue-600"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Email Test Lab"}),i.jsxs("p",{className:"text-sm text-slate-600",children:["Project: ",i.jsx("span",{className:"font-mono text-xs bg-slate-100 px-2 py-1 rounded",children:le}),r&&i.jsxs(i.Fragment,{children:[" "," | Tenant: ",i.jsx("span",{className:"font-mono text-xs bg-slate-100 px-2 py-1 rounded",children:r})]}),n&&i.jsx("span",{className:"ml-2 text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded font-semibold",children:"MASQUERADE"})]})]})]}),j&&i.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg text-sm",children:[i.jsx("strong",{children:"Error:"})," ",j]}),S&&i.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg text-sm flex items-center gap-2",children:[i.jsx(ar,{className:"w-4 h-4"}),S]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Template Selection"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Scope Filter"}),i.jsxs("select",{"data-testid":"scope-select",value:c,onChange:ue=>u(ue.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"All Templates"}),i.jsx("option",{value:"global",children:"Global Only"}),i.jsx("option",{value:"tenant",children:"My Club Only"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Template (",ye.length," available)"]}),i.jsxs("select",{"data-testid":"tmpl-select",value:l,onChange:ue=>A(ue.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:ye.length===0,children:[i.jsx("option",{value:"",children:"-- Select Template --"}),ye.map(ue=>i.jsxs("option",{value:ue.id,children:["[",ue.scope==="global"?"Global":"Club","] ",ue.key]},ue.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Test Recipient Email"}),i.jsx("input",{"data-testid":"to-input",type:"email",value:o,onChange:ue=>d(ue.target.value),placeholder:"test@example.com",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Campaign (optional)"}),i.jsxs("select",{"data-testid":"campaign-select",value:H,onChange:ue=>W(ue.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"-- Select Campaign --"}),R.map(ue=>i.jsxs("option",{value:ue.id,children:[ue.title," (",ue.deadline,")"]},ue.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Sponsor (optional)"}),i.jsxs("select",{"data-testid":"sponsor-select",value:V,onChange:ue=>Z(ue.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"-- Select Sponsor --"}),D.map(ue=>i.jsxs("option",{value:ue.id,children:[ue.company," ",ue.contact_name?`(${ue.contact_name})`:""]},ue.id))]})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Variables (JSON)"}),r&&i.jsx("button",{"data-testid":"btn-load-vars",onClick:ne,className:"px-3 py-1 text-sm bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Charger variables"})]}),i.jsx("textarea",{"data-testid":"vars-json",value:h,onChange:ue=>f(ue.target.value),rows:12,className:"w-full px-3 py-2 border border-slate-300 rounded-lg font-mono text-xs focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("button",{"data-testid":"btn-preview",onClick:oe,disabled:!l,className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:[i.jsx(ao,{className:"w-4 h-4"}),"Preview"]}),i.jsxs("button",{"data-testid":"btn-send",onClick:fe,disabled:!l||!o||v,className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:[i.jsx(vx,{className:"w-4 h-4"}),"Send"]}),i.jsxs("button",{"data-testid":"btn-reload",onClick:q,disabled:v,className:"flex items-center justify-center gap-2 px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:[i.jsx(lc,{className:`w-4 h-4 ${v?"animate-spin":""}`}),"Reload"]})]})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6","data-testid":"preview-pane",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Preview"}),x&&i.jsxs("div",{className:"mb-4 p-3 bg-slate-50 rounded border border-slate-200",children:[i.jsx("div",{className:"text-xs font-semibold text-slate-600 mb-1",children:"Subject:"}),i.jsx("div",{className:"text-sm text-slate-900",children:x})]}),g?i.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:i.jsx("iframe",{srcDoc:g,className:"w-full h-[600px] bg-white",title:"Email Preview",sandbox:"allow-same-origin"})}):i.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-slate-200 rounded-lg text-slate-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(ao,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"Select a template and click Preview"})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6","data-testid":"diag-pane",children:[i.jsxs("h2",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[i.jsx(Sr,{className:"w-5 h-5 text-blue-600"}),"Diagnostics"]}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100",children:[i.jsx("span",{className:"text-slate-600",children:"Project ID:"}),i.jsx("span",{className:"font-mono text-xs bg-slate-100 px-2 py-1 rounded",children:K.projectId||le})]}),i.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100",children:[i.jsx("span",{className:"text-slate-600",children:"JWT Role:"}),i.jsx("span",{className:"font-mono text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded font-semibold",children:K.jwtRole||"unknown"})]}),i.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100",children:[i.jsx("span",{className:"text-slate-600",children:"As Tenant ID:"}),i.jsx("span",{className:"font-mono text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded",children:K.asTenantId||"none"})]}),i.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100",children:[i.jsx("span",{className:"text-slate-600",children:"Schema Mode:"}),i.jsx("span",{className:"font-mono text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded font-semibold",children:K.schemaMode||"Unknown"})]}),i.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100",children:[i.jsx("span",{className:"text-slate-600",children:"Global Templates:"}),i.jsx("span",{className:"font-semibold text-slate-900",children:K.globalCount})]}),i.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100",children:[i.jsx("span",{className:"text-slate-600",children:"Tenant Templates:"}),i.jsx("span",{className:"font-semibold text-slate-900",children:K.tenantCount})]}),i.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100",children:[i.jsx("span",{className:"text-slate-600",children:"Can Select Tenants?"}),i.jsx("span",{className:`font-mono text-xs px-2 py-1 rounded font-semibold ${K.canSelectTenants===!0?"bg-green-100 text-green-800":K.canSelectTenants===!1?"bg-red-100 text-red-800":"bg-slate-100 text-slate-600"}`,children:K.canSelectTenants===!0?"YES":K.canSelectTenants===!1?"NO (RLS?)":"Testing..."})]}),K.tenantsTestError&&i.jsxs("div",{className:"py-2 border-b border-slate-100",children:[i.jsx("div",{className:"text-slate-600 mb-1",children:"Tenants Test Error:"}),i.jsx("div",{className:"text-orange-600 text-xs font-mono bg-orange-50 p-2 rounded",children:K.tenantsTestError})]}),K.lastError&&i.jsxs("div",{className:"py-2 border-b border-slate-100",children:[i.jsx("div",{className:"text-slate-600 mb-1",children:"Last Error:"}),K.lastErrorCode&&i.jsxs("div",{className:"text-xs font-mono bg-red-100 text-red-800 px-2 py-1 rounded mb-1 inline-block",children:["Code: ",K.lastErrorCode]}),i.jsx("div",{className:"text-red-600 text-xs font-mono bg-red-50 p-2 rounded",children:K.lastError})]}),i.jsxs("div",{className:"py-2",children:[i.jsx("div",{className:"text-slate-600 mb-2",children:"SQL Query (for debug):"}),i.jsx("pre",{className:"text-xs font-mono bg-slate-50 p-3 rounded overflow-x-auto text-slate-700 whitespace-pre-wrap",children:K.sqlQuery||"N/A"})]})]})]})]})]})]})})}function Bfe(){const[e,t]=E.useState(null),[r,n]=E.useState(null),[s,a]=E.useState(null),[l,A]=E.useState(null),[c,u]=E.useState(!1),o={VITE_PUBLIC_BASE_URL:"",VITE_SUPABASE_URL:"",VITE_SUPABASE_ANON_KEY:"",VITE_PUBLIC_BACKEND_NAME:""},d="unknown",h=typeof window<"u"?window.location.origin:"",f=o.VITE_PUBLIC_BASE_URL===h,g=()=>{const b=JSON.stringify(o,null,2);navigator.clipboard.writeText(b),alert("Public env variables copied to clipboard!")},m=async()=>{u(!0),n(null),t(null);try{const k=await fetch("undefined/functions/v1/env-check",{headers:{Authorization:"Bearer undefined","Content-Type":"application/json"}});if(!k.ok)throw new Error(`API returned ${k.status}`);const S=await k.json();t(S)}catch(b){n((b==null?void 0:b.message)||String(b))}finally{u(!1)}},x=async()=>{u(!0),A(null),a(null);try{const{data:b,error:j}=await Ie.from("tenants").select("*").limit(1);j?A(`${j.code||"ERROR"}: ${j.message}`):a(`Success! Found ${(b==null?void 0:b.length)||0} tenant(s)`)}catch(b){A((b==null?void 0:b.message)||String(b))}finally{u(!1)}},p=()=>{const b=o.VITE_PUBLIC_BASE_URL||h;window.open(b,"_blank")},v=(b,j=40)=>b.length<=j?b:b.substring(0,j)+"...";return i.jsx("div",{className:"min-h-screen bg-slate-50",children:i.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Environment Diagnostics"}),i.jsxs("p",{className:"text-sm text-slate-600",children:["Project: ",i.jsx("span",{className:"font-mono text-xs bg-slate-100 px-2 py-1 rounded",children:d})," "," | Backend: ",i.jsx("span",{className:"font-mono text-xs bg-slate-100 px-2 py-1 rounded",children:o.VITE_PUBLIC_BACKEND_NAME||"N/A"})," "," | Origin: ",i.jsx("span",{className:"font-mono text-xs bg-slate-100 px-2 py-1 rounded",children:h})]}),o.VITE_PUBLIC_BASE_URL&&i.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["BASE_URL matches origin: ",f?i.jsx("span",{className:"text-green-600 font-semibold",children:" Yes"}):i.jsxs("span",{className:"text-red-600 font-semibold",children:[" No (BASE_URL: ",o.VITE_PUBLIC_BASE_URL,")"]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[i.jsx(Sr,{className:"w-5 h-5 text-blue-600"}),"Public Environment Variables"]}),i.jsxs("button",{"data-testid":"btn-copy-env",onClick:g,className:"flex items-center gap-2 px-3 py-1 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(pc,{className:"w-4 h-4"}),"Copy JSON"]})]}),i.jsx("div",{className:"overflow-x-auto","data-testid":"env-public-table",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-200",children:[i.jsx("th",{className:"text-left py-2 px-3 font-semibold text-slate-700",children:"Variable"}),i.jsx("th",{className:"text-left py-2 px-3 font-semibold text-slate-700",children:"Value"}),i.jsx("th",{className:"text-left py-2 px-3 font-semibold text-slate-700",children:"Status"})]})}),i.jsx("tbody",{children:Object.entries(o).map(([b,j])=>i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("td",{className:"py-2 px-3 font-mono text-xs text-slate-600",children:b}),i.jsx("td",{className:"py-2 px-3 font-mono text-xs text-slate-700",children:j?v(j):i.jsx("span",{className:"text-slate-400",children:"Not set"})}),i.jsx("td",{className:"py-2 px-3",children:j?i.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-green-100 text-green-800 px-2 py-1 rounded font-semibold",children:[i.jsx(ar,{className:"w-3 h-3"}),"Set"]}):i.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-red-100 text-red-800 px-2 py-1 rounded font-semibold",children:[i.jsx(Lr,{className:"w-3 h-3"}),"Missing"]})})]},b))})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsxs("h2",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[i.jsx(Ls,{className:"w-5 h-5 text-purple-600"}),"Server Environment Variables"]}),i.jsxs("button",{"data-testid":"env-server-test",onClick:m,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:[i.jsx(Ls,{className:"w-4 h-4"}),"Test Server Variables"]}),r&&i.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg text-sm",children:[i.jsx("strong",{children:"Error:"})," ",r]}),e&&i.jsxs("div",{"data-testid":"env-server-result",className:"mt-4 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100",children:[i.jsx("span",{className:"text-slate-600",children:"RESEND_API_KEY:"}),e.RESEND_API_KEY?i.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-green-100 text-green-800 px-2 py-1 rounded font-semibold",children:[i.jsx(ar,{className:"w-3 h-3"}),"Set"]}):i.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-red-100 text-red-800 px-2 py-1 rounded font-semibold",children:[i.jsx(Lr,{className:"w-3 h-3"}),"Missing"]})]}),i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100",children:[i.jsx("span",{className:"text-slate-600",children:"SUPABASE_SERVICE_ROLE:"}),e.SUPABASE_SERVICE_ROLE?i.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-green-100 text-green-800 px-2 py-1 rounded font-semibold",children:[i.jsx(ar,{className:"w-3 h-3"}),"Set (length: ",e.SERVICE_ROLE_LENGTH,")"]}):i.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-red-100 text-red-800 px-2 py-1 rounded font-semibold",children:[i.jsx(Lr,{className:"w-3 h-3"}),"Missing"]})]}),e.NODE_ENV&&i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100",children:[i.jsx("span",{className:"text-slate-600",children:"NODE_ENV:"}),i.jsx("span",{className:"font-mono text-xs bg-slate-100 px-2 py-1 rounded",children:e.NODE_ENV})]}),e.BACKEND_NAME&&i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100",children:[i.jsx("span",{className:"text-slate-600",children:"BACKEND_NAME:"}),i.jsx("span",{className:"font-mono text-xs bg-slate-100 px-2 py-1 rounded",children:e.BACKEND_NAME})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsxs("h2",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[i.jsx(Ls,{className:"w-5 h-5 text-green-600"}),"Supabase Connection Test"]}),i.jsxs("button",{"data-testid":"env-ping-supabase",onClick:x,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:[i.jsx(Ls,{className:"w-4 h-4"}),"Ping Supabase"]}),l&&i.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg text-sm",children:[i.jsx("strong",{children:"Error:"})," ",l]}),s&&i.jsxs("div",{className:"mt-4 bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg text-sm flex items-center gap-2",children:[i.jsx(ar,{className:"w-4 h-4"}),s]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quick Actions"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{"data-testid":"btn-open-base",onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(TH,{className:"w-4 h-4"}),"Open BASE_URL"]}),i.jsxs("a",{href:"/email-test",className:"flex items-center gap-2 px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:[i.jsx(Sr,{className:"w-4 h-4"}),"Email Test Lab"]})]})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Quick Summary"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:" Public variables are injected and readable"}),i.jsx("li",{children:" Server variables can be tested via edge function"}),i.jsx("li",{children:" Supabase connection can be verified"}),i.jsx("li",{children:" BASE_URL can be validated against current origin"})]})]})]})})}function Cfe(e){const t=e.match(/https:\/\/([^.]+)\.supabase\.co/);return t?t[1]:"unknown"}function _v(e){return e?{status:e.code?parseInt(e.code):null,message:e.message||String(e),details:e.details||"",hint:e.hint||""}:{status:null,message:"Unknown error",details:"",hint:""}}function Nfe(){var p,v,b;const[e,t]=E.useState(null),[r,n]=E.useState(null),[s,a]=E.useState(null),[l,A]=E.useState(null),c="",u="",o=Cfe(c),d=c.length>40?c.substring(0,40)+"...":c,h=u.substring(0,8)+"...",f=async()=>{A("ping"),t(null);try{const{data:j,error:k}=await Ie.from("tenants").select("id").limit(1);t(k?{ok:!1,error:_v(k)}:{ok:!0,data:j})}catch(j){t({ok:!1,error:_v(j)})}finally{A(null)}},g=async j=>{const k=j==="A"?n:a;A(j==="A"?"modeA":"modeB"),k(null);try{let S;j==="A"?S=Ie.from("email_templates").select("id, tenant_id, key, subject, html, created_at").limit(5):S=Ie.from("email_templates").select("id, tenant_id, type, subject, html_body, updated_at").limit(5);const{data:F,error:T}=await S;k(T?{ok:!1,error:_v(T)}:{ok:!0,rows:F})}catch(S){k({ok:!1,error:_v(S)})}finally{A(null)}},m=()=>{var k;if(!r||r.ok)return!1;const j=(k=r.error)==null?void 0:k.status;return j===400||j===406},x=()=>{const j=[];if(r!=null&&r.error||s!=null&&s.error){const k=(r==null?void 0:r.error)||(s==null?void 0:s.error),S=k==null?void 0:k.status;(S===401||S===403)&&j.push("Probable RLS: autoriser rle super_admin (jwt/app_metadata.role) et/ou lecture tenant_id courant"),(S===400||S===406)&&j.push("Probable mismatch colonnes (key/html vs type/html_body)  utiliser Mode B")}return j};return i.jsx("div",{className:"min-h-screen bg-slate-50",children:i.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Database Diagnostics"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Comprehensive database connection and schema testing"})]}),i.jsxs("div",{"data-testid":"env-card",className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[i.jsx(Ls,{className:"w-5 h-5 text-blue-600"}),"Environnement"]})}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100",children:[i.jsx("span",{className:"text-slate-600 font-medium",children:"Project ID:"}),i.jsx("span",{className:"font-mono text-xs bg-blue-50 text-blue-800 px-2 py-1 rounded",children:o})]}),i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100",children:[i.jsx("span",{className:"text-slate-600 font-medium",children:"Supabase URL:"}),i.jsx("span",{className:"font-mono text-xs bg-slate-100 px-2 py-1 rounded",children:d})]}),i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100",children:[i.jsx("span",{className:"text-slate-600 font-medium",children:"Anon Key (preview):"}),i.jsx("span",{className:"font-mono text-xs bg-slate-100 px-2 py-1 rounded",children:h})]})]})]}),i.jsxs("div",{"data-testid":"ping-card",className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[i.jsx(Ls,{className:"w-5 h-5 text-green-600"}),"Ping Database"]}),i.jsxs("button",{"data-testid":"btn-retry-ping",onClick:f,disabled:l==="ping",className:"flex items-center gap-2 px-3 py-1 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:[i.jsx(lc,{className:`w-4 h-4 ${l==="ping"?"animate-spin":""}`}),"Recharger"]})]}),!e&&i.jsx("div",{className:"text-sm text-slate-600",children:'Cliquez sur "Recharger" pour tester la connexion'}),(e==null?void 0:e.ok)&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-green-800 font-semibold mb-2",children:[i.jsx(ar,{className:"w-5 h-5"}),"Connexion russie"]}),i.jsxs("div",{className:"text-sm text-green-700",children:["Base de donnes accessible. Nombre de rsultats: ",((p=e.data)==null?void 0:p.length)||0]})]}),(e==null?void 0:e.error)&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-800 font-semibold mb-2",children:[i.jsx(Lr,{className:"w-5 h-5"}),"Erreur de connexion"]}),i.jsxs("div",{className:"space-y-1 text-sm",children:[e.error.status&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-red-700",children:"Status:"})," ",i.jsx("span",{className:"font-mono bg-red-100 px-2 py-0.5 rounded",children:e.error.status})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-red-700",children:"Message:"})," ",i.jsx("span",{className:"text-red-700",children:e.error.message})]}),e.error.details&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-red-700",children:"Details:"})," ",i.jsx("span",{className:"text-red-700",children:e.error.details})]}),e.error.hint&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-red-700",children:"Hint:"})," ",i.jsx("span",{className:"text-red-700",children:e.error.hint})]})]})]})]}),i.jsxs("div",{"data-testid":"tmpl-a-card",className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[i.jsx(Ls,{className:"w-5 h-5 text-purple-600"}),"Templates  Mode A"]}),i.jsxs("button",{"data-testid":"btn-retry-tmpl-a",onClick:()=>g("A"),disabled:l==="modeA",className:"flex items-center gap-2 px-3 py-1 text-sm bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:[i.jsx(lc,{className:`w-4 h-4 ${l==="modeA"?"animate-spin":""}`}),"Recharger"]})]}),i.jsx("div",{className:"mb-3 text-sm text-slate-600",children:i.jsx("span",{className:"font-mono text-xs bg-slate-100 px-2 py-1 rounded",children:"SELECT id, tenant_id, key, subject, html, created_at FROM email_templates LIMIT 5"})}),!r&&i.jsx("div",{className:"text-sm text-slate-600",children:'Cliquez sur "Recharger" pour tester le schma Mode A'}),(r==null?void 0:r.ok)&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-green-800 font-semibold mb-2",children:[i.jsx(ar,{className:"w-5 h-5"}),"Mode A russi"]}),i.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[i.jsxs("div",{children:["Nombre de lignes: ",((v=r.rows)==null?void 0:v.length)||0]}),r.rows&&r.rows.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Colonnes dtectes:"})," ",Object.keys(r.rows[0]).join(", ")]})]})]}),(r==null?void 0:r.error)&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-800 font-semibold mb-2",children:[i.jsx(Lr,{className:"w-5 h-5"}),"Erreur Mode A"]}),i.jsxs("div",{className:"space-y-1 text-sm",children:[r.error.status&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-red-700",children:"Status:"})," ",i.jsx("span",{className:"font-mono bg-red-100 px-2 py-0.5 rounded",children:r.error.status})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-red-700",children:"Message:"})," ",i.jsx("span",{className:"text-red-700",children:r.error.message})]}),r.error.details&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-red-700",children:"Details:"})," ",i.jsx("span",{className:"text-red-700",children:r.error.details})]}),r.error.hint&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-red-700",children:"Hint:"})," ",i.jsx("span",{className:"text-red-700",children:r.error.hint})]})]})]})]}),m()&&i.jsxs("div",{"data-testid":"tmpl-b-card",className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[i.jsx(Ls,{className:"w-5 h-5 text-orange-600"}),"Templates  Mode B (Fallback)"]}),i.jsxs("button",{"data-testid":"btn-retry-tmpl-b",onClick:()=>g("B"),disabled:l==="modeB",className:"flex items-center gap-2 px-3 py-1 text-sm bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:[i.jsx(lc,{className:`w-4 h-4 ${l==="modeB"?"animate-spin":""}`}),"Recharger"]})]}),i.jsx("div",{className:"mb-3 text-sm text-slate-600",children:i.jsx("span",{className:"font-mono text-xs bg-slate-100 px-2 py-1 rounded",children:"SELECT id, tenant_id, type, subject, html_body, updated_at FROM email_templates LIMIT 5"})}),!s&&i.jsx("div",{className:"text-sm text-slate-600",children:'Cliquez sur "Recharger" pour tester le schma Mode B'}),(s==null?void 0:s.ok)&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-green-800 font-semibold mb-2",children:[i.jsx(ar,{className:"w-5 h-5"}),"Mode B russi"]}),i.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[i.jsxs("div",{children:["Nombre de lignes: ",((b=s.rows)==null?void 0:b.length)||0]}),s.rows&&s.rows.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Colonnes dtectes:"})," ",Object.keys(s.rows[0]).join(", ")]})]})]}),(s==null?void 0:s.error)&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-800 font-semibold mb-2",children:[i.jsx(Lr,{className:"w-5 h-5"}),"Erreur Mode B"]}),i.jsxs("div",{className:"space-y-1 text-sm",children:[s.error.status&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-red-700",children:"Status:"})," ",i.jsx("span",{className:"font-mono bg-red-100 px-2 py-0.5 rounded",children:s.error.status})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-red-700",children:"Message:"})," ",i.jsx("span",{className:"text-red-700",children:s.error.message})]}),s.error.details&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-red-700",children:"Details:"})," ",i.jsx("span",{className:"text-red-700",children:s.error.details})]}),s.error.hint&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-red-700",children:"Hint:"})," ",i.jsx("span",{className:"text-red-700",children:s.error.hint})]})]})]})]}),x().length>0&&i.jsxs("div",{"data-testid":"rls-card",className:"bg-amber-50 border border-amber-200 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 text-amber-800 font-semibold mb-3",children:[i.jsx(Ci,{className:"w-5 h-5"}),"RLS & Schema Hints"]}),i.jsx("ul",{className:"space-y-2",children:x().map((j,k)=>i.jsxs("li",{className:"text-sm text-amber-800 flex items-start gap-2",children:[i.jsx("span",{className:"text-amber-600 font-bold",children:""}),i.jsx("span",{children:j})]},k))})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Diagnostic Summary"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:" Vrifie la connexion au projet Supabase correct"}),i.jsx("li",{children:" Teste la connectivit de base de donnes"}),i.jsx("li",{children:" Diagnostique le schma des email_templates (Mode A vs Mode B)"}),i.jsx("li",{children:" Identifie les problmes RLS et de colonnes"})]})]})]})})}function kfe(){var b;const[e,t]=E.useState(""),[r,n]=E.useState(""),[s,a]=E.useState(null),[l,A]=E.useState(""),[c,u]=E.useState(null),[o,d]=E.useState(null),[h,f]=E.useState(!1),g=async()=>{const{data:j,error:k}=await Ie.auth.getUser();a(k?null:j.user)};E.useState(()=>{g()});const m=async()=>{f(!0),A("");try{const{data:j,error:k}=await Ie.auth.signInWithPassword({email:e,password:r});k?A(JSON.stringify(k,null,2)):(a(j.user),t(""),n(""))}catch(j){A(j.message||String(j))}finally{f(!1)}},x=async()=>{f(!0);try{await Ie.auth.signOut(),a(null),A(""),u(null),d(null)}catch(j){console.error("Logout error:",j)}finally{f(!1)}},p=async()=>{f(!0),u(null);try{const j=await KB(Ie);u({mode:j.mode,rowCount:j.rows.length,rows:j.rows,error:j.error})}catch(j){u({error:{message:j.message||String(j)}})}finally{f(!1)}},v=async()=>{f(!0),d(null);try{const{data:j,error:k}=await Ie.from("tenants").select("id").limit(1);d({success:!k,data:j,error:k?JSON.stringify(k,null,2):null})}catch(j){d({success:!1,error:j.message||String(j)})}finally{f(!1)}};return i.jsx(_r,{children:i.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Auth Test Lab"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Test authentication, permissions, and database queries"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(r9,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Current User"})]}),s?i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 space-y-2",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(ar,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:s.email}),i.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:["ID: ",s.id]}),((b=s.app_metadata)==null?void 0:b.role)&&i.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium mt-1",children:["Role: ",s.app_metadata.role]})]})]}),i.jsx("button",{onClick:x,"data-testid":"btn-logout",disabled:h,className:"w-full mt-3 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition font-medium disabled:opacity-50",children:"Logout"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-2 bg-amber-50 dark:bg-amber-900/20 rounded-lg p-3",children:[i.jsx(Lr,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5"}),i.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:"No user logged in"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),i.jsx("input",{type:"email","data-testid":"auth-email",value:e,onChange:j=>t(j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"user@example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Password"}),i.jsx("input",{type:"password","data-testid":"auth-password",value:r,onChange:j=>n(j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:""})]}),i.jsx("button",{onClick:m,"data-testid":"btn-login",disabled:h||!e||!r,className:"w-full px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition font-medium disabled:opacity-50",children:h?"Loading...":"Login"}),l&&i.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-3",children:i.jsx("p",{className:"text-xs font-mono text-red-800 dark:text-red-200 whitespace-pre-wrap",children:l})})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(zn,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Templates Test"})]}),i.jsx("button",{onClick:p,"data-testid":"btn-test-templates",disabled:h,className:"w-full px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition font-medium disabled:opacity-50 mb-4",children:"Test Templates Maintenant"}),c&&i.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 space-y-2",children:c.error?i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Lr,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200 mb-2",children:"Error loading templates"}),i.jsx("pre",{className:"text-xs font-mono text-slate-700 dark:text-slate-300 whitespace-pre-wrap bg-white dark:bg-slate-800 p-3 rounded border border-slate-200 dark:border-slate-600",children:JSON.stringify(c.error,null,2)})]})]}):i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(ar,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:["Mode: ",i.jsx("span",{className:"text-green-600 dark:text-green-400",children:c.mode})]}),i.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:["Rows loaded: ",i.jsx("span",{className:"font-semibold",children:c.rowCount})]}),c.rows&&c.rows.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Sample rows:"}),i.jsx("pre",{className:"text-xs font-mono text-slate-700 dark:text-slate-300 whitespace-pre-wrap bg-white dark:bg-slate-800 p-3 rounded border border-slate-200 dark:border-slate-600 max-h-64 overflow-y-auto",children:JSON.stringify(c.rows.slice(0,3),null,2)})]})]})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Ls,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),i.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"RLS Test (Tenants)"})]}),i.jsx("button",{onClick:v,disabled:h,className:"w-full px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition font-medium disabled:opacity-50 mb-4",children:"Test Tenants Query"}),o&&i.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4",children:i.jsx("div",{className:"flex items-start gap-2",children:o.success?i.jsxs(i.Fragment,{children:[i.jsx(ar,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Query successful"}),i.jsx("pre",{className:"text-xs font-mono text-slate-700 dark:text-slate-300 whitespace-pre-wrap bg-white dark:bg-slate-800 p-3 rounded border border-slate-200 dark:border-slate-600 mt-2",children:JSON.stringify(o.data,null,2)})]})]}):i.jsxs(i.Fragment,{children:[i.jsx(Lr,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200 mb-2",children:"Query blocked or failed"}),i.jsx("pre",{className:"text-xs font-mono text-slate-700 dark:text-slate-300 whitespace-pre-wrap bg-white dark:bg-slate-800 p-3 rounded border border-slate-200 dark:border-slate-600",children:o.error})]})]})})})]})]})})}function Sfe(){const[e,t]=E.useState(""),[r,n]=E.useState(!1),[s,a]=E.useState(null),l=async()=>{if(!e.trim()){alert("Veuillez entrer un ID de template");return}n(!0),a(null);try{const{data:A,error:c,status:u}=await Ie.from("email_templates").update({subject:"[TEST] "+Date.now()}).eq("id",e).select("id");console.log("status",u,"error",c,"data",A),a({status:u,error:c,data:A})}catch(A){console.error("Caught exception:",A),a({status:0,error:A,data:null})}finally{n(!1)}};return i.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-6",children:"Test de mise  jour de template"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"ID du template"}),i.jsx("input",{type:"text",value:e,onChange:A=>t(A.target.value),placeholder:"Entrez l'ID du template",className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-white"})]}),i.jsxs("button",{onClick:l,disabled:r,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white rounded-lg font-medium transition",children:[i.jsx($m,{className:"w-4 h-4"}),r?"Test en cours...":"Lancer le test"]})]}),s&&i.jsxs("div",{className:"mt-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[s.error?i.jsx(Sr,{className:"w-5 h-5 text-red-500"}):i.jsx(ar,{className:"w-5 h-5 text-green-500"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:s.error?"Erreur":"Succs"})]}),i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg p-4 space-y-3",children:[i.jsxs("div",{children:[i.jsx("strong",{className:"text-slate-700 dark:text-slate-300",children:"Status:"}),i.jsx("code",{className:"ml-2 px-2 py-1 bg-slate-200 dark:bg-slate-800 rounded text-sm font-mono",children:s.status})]}),s.error&&i.jsxs("div",{children:[i.jsx("strong",{className:"text-slate-700 dark:text-slate-300",children:"Error:"}),i.jsx("pre",{className:"mt-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-xs overflow-auto",children:JSON.stringify(s.error,null,2)})]}),s.data&&i.jsxs("div",{children:[i.jsx("strong",{className:"text-slate-700 dark:text-slate-300",children:"Data:"}),i.jsx("pre",{className:"mt-2 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded text-xs overflow-auto",children:JSON.stringify(s.data,null,2)})]})]}),i.jsxs("details",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg p-4",children:[i.jsx("summary",{className:"cursor-pointer font-medium text-slate-900 dark:text-white",children:"Console Output"}),i.jsx("pre",{className:"mt-3 p-3 bg-slate-100 dark:bg-slate-950 rounded text-xs overflow-auto",children:`status ${s.status}
error ${JSON.stringify(s.error,null,2)}
data ${JSON.stringify(s.data,null,2)}`})]})]})]}),i.jsxs("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-400 mb-2",children:"Instructions"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-blue-800 dark:text-blue-300",children:[i.jsx("li",{children:"Entrez l'ID d'un template existant"}),i.jsx("li",{children:'Cliquez sur "Lancer le test"'}),i.jsx("li",{children:"Le test mettra  jour uniquement le champ subject avec [TEST] + timestamp"}),i.jsx("li",{children:"Vrifiez le status, error et data retourns"}),i.jsx("li",{children:"Consultez aussi la console du navigateur"})]})]})]})}function $a({children:e,allow:t,redirect:r="/login",fallback:n=null}){const{user:s,profile:a,loading:l}=Nn();if(E.useEffect(()=>{!l&&!s&&(window.location.href=r)},[s,l,r]),l)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Vrification des permissions..."})]})});if(!s)return null;if(t&&t.length>0){const A=(a==null?void 0:a.role)||"";if(!t.includes(A))return n?i.jsx(i.Fragment,{children:n}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:i.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Accs refus"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 mb-6",children:[i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Rle requis : ",i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:t.join(", ")})]}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Votre rle : ",i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:A||"Non dfini"})]})]}),i.jsx("button",{onClick:()=>window.location.href="/",className:"w-full bg-blue-600 text-white rounded-lg px-4 py-2 hover:bg-blue-700 transition-colors",children:"Retour  l'accueil"})]})})}return i.jsx(i.Fragment,{children:e})}const _fe="umjewxduvqehqzepuwby";function OD(){return E.useMemo(()=>{const e="",t="";let n="";try{n=new URL(e).hostname.split(".")[0]}catch{n="unknown"}return{supabaseUrl:e,supabaseAnonKey:t,backendName:void 0,projectId:n,isProduction:!0,isCorrectBackend:n===_fe}},[])}function Efe({children:e}){const{isProduction:t,isCorrectBackend:r,projectId:n}=OD();return t&&!r?i.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md p-8 text-center",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("div",{className:"bg-red-600 p-3 rounded-xl",children:i.jsx(Ci,{className:"w-12 h-12 text-white"})})}),i.jsx("h1",{className:"text-2xl font-bold text-red-900 mb-4",children:"Mauvais backend dtect"}),i.jsx("p",{className:"text-slate-700 mb-4",children:"Le projet est configur avec le mauvais backend Supabase."}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-left mb-6",children:[i.jsxs("p",{className:"text-sm text-red-800 mb-2",children:[i.jsx("strong",{children:"Backend actuel:"})," ",n]}),i.jsxs("p",{className:"text-sm text-red-800",children:[i.jsx("strong",{children:"Backend attendu:"})," umjewxduvqehqzepuwby"]})]}),i.jsxs("p",{className:"text-sm text-slate-600",children:["Vrifie ton fichier ",i.jsx("code",{className:"bg-slate-100 px-2 py-1 rounded",children:".env.production"})," et redploie l'application avec les bonnes variables d'environnement."]})]})}):i.jsx(i.Fragment,{children:e})}function jf(){const{projectId:e,backendName:t,supabaseUrl:r}=OD(),n=r.length>50?r.substring(0,47)+"...":r;return i.jsx("div",{className:"sticky top-0 z-50 bg-slate-800 text-white px-4 py-2 text-sm shadow-md",children:i.jsx("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:i.jsxs("span",{children:[i.jsx("strong",{children:"Backend:"})," ",e,t&&i.jsxs("span",{children:[" (",t,")"]}),"  ",n]})})})}function Ffe(){const e=Cn(),{setAsTenantId:t}=As(),[r,n]=E.useState([]),[s,a]=E.useState(!0),[l,A]=E.useState(""),[c,u]=E.useState(null),[o,d]=E.useState(!1),[h,f]=E.useState({name:"",email_contact:"",phone:"",status:"active",address:"",primary_color:"",secondary_color:"",email_signature_html:"",rgpd_content_md:"",cgu_content_md:"",privacy_content_md:""}),[g,m]=E.useState({}),[x,p]=E.useState(!1),[v,b]=E.useState(null);E.useEffect(()=>{j()},[]);const j=async()=>{a(!0);try{const{data:Q,error:H}=await Ie.from("tenants").select("id, name, email_contact, phone, status, created_at").order("created_at",{ascending:!1});if(H)throw H;n(Q||[])}catch(Q){console.error("[AdminClubs] Error loading clubs:",Q),e.error("Erreur lors du chargement des clubs")}finally{a(!1)}},k=E.useMemo(()=>{if(!l.trim())return r;const Q=l.toLowerCase();return r.filter(H=>{var W,V;return H.name.toLowerCase().includes(Q)||((W=H.email_contact)==null?void 0:W.toLowerCase().includes(Q))||((V=H.phone)==null?void 0:V.toLowerCase().includes(Q))})},[r,l]),S=E.useMemo(()=>{const Q=r.filter(W=>W.status==="active").length,H=r.filter(W=>W.status==="inactive").length;return{total:r.length,active:Q,inactive:H}},[r]),F=Q=>{t(Q.id),localStorage.setItem("as_tenant_id",Q.id),e.success(`Masquerade activ : ${Q.name}`),window.location.href="/dashboard"},T=async Q=>{if(v!==Q.id){b(Q.id);return}p(!0);try{const H=Q.status==="active"?"inactive":"active",{data:W,error:V}=await Ie.from("tenants").update({status:H}).eq("id",Q.id).select("status").single();if(V)throw V;n(Z=>Z.map(K=>K.id===Q.id?{...K,status:W.status}:K)),e.success(`Club ${H==="active"?"ractiv":"dsactiv"} avec succs`),b(null)}catch(H){console.error("[AdminClubs] Error toggling status:",H),e.error("Erreur lors de la mise  jour du statut")}finally{p(!1)}},P=async Q=>{u(Q);try{const{data:H,error:W}=await Ie.from("tenants").select("*").eq("id",Q.id).single();if(W)throw W;f({name:H.name||"",email_contact:H.email_contact||"",phone:H.phone||"",status:H.status||"active",address:H.address||"",primary_color:H.primary_color||"#3B82F6",secondary_color:H.secondary_color||"#10B981",email_signature_html:H.email_signature_html||"",rgpd_content_md:H.rgpd_content_md||"",cgu_content_md:H.cgu_content_md||"",privacy_content_md:H.privacy_content_md||""}),m({}),d(!0)}catch(H){console.error("[AdminClubs] Error loading club details:",H),e.error("Erreur lors du chargement des dtails du club")}},R=()=>{const Q={};return h.name.trim()?h.name.length>255&&(Q.name="Le nom ne doit pas dpasser 255 caractres"):Q.name="Le nom est requis",h.email_contact&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.email_contact)?h.email_contact.length>255&&(Q.email_contact="L'email ne doit pas dpasser 255 caractres"):Q.email_contact="Format email invalide"),m(Q),Object.keys(Q).length===0},U=async()=>{if(c){if(!R()){e.error("Veuillez corriger les erreurs de validation");return}p(!0);try{const Q={name:h.name.trim(),email_contact:h.email_contact.trim()||null,phone:h.phone.trim()||null,address:h.address.trim()||null,primary_color:h.primary_color||null,secondary_color:h.secondary_color||null,email_signature_html:h.email_signature_html.trim()||null,rgpd_content_md:h.rgpd_content_md.trim()||null,cgu_content_md:h.cgu_content_md.trim()||null,privacy_content_md:h.privacy_content_md.trim()||null,status:h.status},{error:H}=await Ie.from("tenants").update(Q).eq("id",c.id).select("id").single();if(H)throw H;await j(),e.success("Club mis  jour avec succs"),d(!1),u(null)}catch(Q){console.error("[AdminClubs] Error updating club:",Q),e.error("Erreur lors de la mise  jour du club")}finally{p(!1)}}},D=Q=>new Date(Q).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return i.jsxs(_r,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Gestion des Clubs"}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:[S.total," clubs (",S.active," actifs, ",S.inactive," ","inactifs)"]})]})}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-6 space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(kh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"text",value:l,onChange:Q=>A(Q.target.value),placeholder:"Rechercher par nom, email ou tlphone...",className:"w-full pl-10 pr-10 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white"}),l&&i.jsx("button",{onClick:()=>A(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:i.jsx(un,{className:"w-4 h-4"})})]}),s?i.jsx("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:"Chargement..."}):k.length===0?i.jsx("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:"Aucun club trouv"}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{"data-testid":"clubs-table",className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"text-xs uppercase bg-slate-50 dark:bg-slate-900 text-slate-700 dark:text-slate-300",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Nom"}),i.jsx("th",{className:"px-4 py-3",children:"Email"}),i.jsx("th",{className:"px-4 py-3",children:"Tlphone"}),i.jsx("th",{className:"px-4 py-3",children:"Statut"}),i.jsx("th",{className:"px-4 py-3",children:"Cr le"}),i.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),i.jsx("tbody",{children:k.map(Q=>i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-900/50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-900 dark:text-white",children:Q.name}),i.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-400",children:Q.email_contact||"-"}),i.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-400",children:Q.phone||"-"}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{"data-testid":`status-badge-${Q.id}`,className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded ${Q.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-400"}`,children:Q.status==="active"?"Actif":"Inactif"})}),i.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-400",children:D(Q.created_at)}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{"data-testid":`btn-masquerade-${Q.id}`,onClick:()=>F(Q),className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/30 rounded transition",title:"Voir en tant que",children:i.jsx(ao,{className:"w-4 h-4"})}),i.jsx("button",{"data-testid":`btn-toggle-${Q.id}`,onClick:()=>T(Q),disabled:x,className:`p-1.5 rounded transition ${v===Q.id?"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400":Q.status==="active"?"text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/30":"text-green-600 hover:bg-green-50 dark:text-green-400 dark:hover:bg-green-900/30"}`,title:v===Q.id?"Cliquer pour confirmer":Q.status==="active"?"Dsactiver":"Ractiver",children:i.jsx(JH,{className:"w-4 h-4"})}),i.jsx("button",{"data-testid":`btn-edit-${Q.id}`,onClick:()=>P(Q),className:"p-1.5 text-slate-600 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-700 rounded transition",title:"diter",children:i.jsx(ZH,{className:"w-4 h-4"})})]})})]},Q.id))})]})})]})]}),o&&c&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{"data-testid":"drawer-edit",className:"bg-white dark:bg-slate-800 rounded-xl max-w-3xl w-full border border-slate-200 dark:border-slate-700 max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:["diter le club : ",h.name]}),i.jsx("button",{onClick:()=>d(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:i.jsx(un,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"overflow-y-auto p-6 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Nom ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:h.name,onChange:Q=>{f({...h,name:Q.target.value}),g.name&&m({...g,name:""})},className:`w-full px-3 py-2 bg-slate-50 dark:bg-slate-700 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white ${g.name?"border-red-500":"border-slate-200 dark:border-slate-600"}`}),g.name&&i.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:g.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email de contact"}),i.jsx("input",{type:"email",value:h.email_contact,onChange:Q=>{f({...h,email_contact:Q.target.value}),g.email_contact&&m({...g,email_contact:""})},className:`w-full px-3 py-2 bg-slate-50 dark:bg-slate-700 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white ${g.email_contact?"border-red-500":"border-slate-200 dark:border-slate-600"}`}),g.email_contact&&i.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:g.email_contact})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tlphone"}),i.jsx("input",{type:"tel",value:h.phone,onChange:Q=>f({...h,phone:Q.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Statut"}),i.jsxs("select",{value:h.status,onChange:Q=>f({...h,status:Q.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white",children:[i.jsx("option",{value:"active",children:"Actif"}),i.jsx("option",{value:"inactive",children:"Inactif"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Adresse"}),i.jsx("input",{type:"text",value:h.address,onChange:Q=>f({...h,address:Q.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Couleur primaire"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:h.primary_color,onChange:Q=>f({...h,primary_color:Q.target.value}),className:"w-16 h-10 rounded cursor-pointer"}),i.jsx("input",{type:"text",value:h.primary_color,onChange:Q=>f({...h,primary_color:Q.target.value}),placeholder:"#3B82F6",className:"flex-1 px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white font-mono"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Couleur secondaire"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:h.secondary_color,onChange:Q=>f({...h,secondary_color:Q.target.value}),className:"w-16 h-10 rounded cursor-pointer"}),i.jsx("input",{type:"text",value:h.secondary_color,onChange:Q=>f({...h,secondary_color:Q.target.value}),placeholder:"#10B981",className:"flex-1 px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white font-mono"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Signature email (HTML)"}),i.jsx("textarea",{value:h.email_signature_html,onChange:Q=>f({...h,email_signature_html:Q.target.value}),rows:4,className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white font-mono",placeholder:"<p>Cordialement,<br/>L'quipe</p>"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Contenu RGPD (Markdown)"}),i.jsx("textarea",{value:h.rgpd_content_md,onChange:Q=>f({...h,rgpd_content_md:Q.target.value}),rows:4,className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white font-mono",placeholder:"Conformment au RGPD..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"CGU (Markdown)"}),i.jsx("textarea",{value:h.cgu_content_md,onChange:Q=>f({...h,cgu_content_md:Q.target.value}),rows:4,className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white font-mono",placeholder:"# Conditions Gnrales d'Utilisation\\n\\n..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Politique de confidentialit (Markdown)"}),i.jsx("textarea",{value:h.privacy_content_md,onChange:Q=>f({...h,privacy_content_md:Q.target.value}),rows:4,className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white font-mono",placeholder:"# Politique de confidentialit\\n\\n..."})]})]}),i.jsxs("div",{className:"flex gap-3 p-6 border-t border-slate-200 dark:border-slate-700",children:[i.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg transition",children:"Annuler"}),i.jsx("button",{"data-testid":"btn-save-tenant",onClick:U,disabled:x||!h.name.trim(),className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition",children:x?"Enregistrement...":"Enregistrer"})]})]})})]})}function Ife(){const{idOrKey:e}=Tb();return e?i.jsx(TD,{idOrKey:e}):i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-slate-600",children:"Template ID ou key manquant"})})})}function Ufe(){const{id:e}=Tb();return e?i.jsx(TD,{idOrKey:e}):i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-slate-600",children:"Template ID manquant"})})})}function Pfe(){const{user:e,profile:t,loading:r}=Nn(),n=window.location.pathname;return n.startsWith("/sponsor/")||n.startsWith("/respond/")||n.startsWith("/invite/")?i.jsxs(i.Fragment,{children:[i.jsx(jf,{}),i.jsx(Zg,{children:i.jsx(dfe,{})})]}):n.startsWith("/p/")?i.jsxs(i.Fragment,{children:[i.jsx(jf,{}),i.jsx(Zg,{children:i.jsx(hfe,{})})]}):n.startsWith("/template/")?i.jsxs(i.Fragment,{children:[i.jsx(jf,{}),i.jsx(Zg,{children:i.jsx(Ife,{})})]}):n.startsWith("/templates/")?i.jsxs(i.Fragment,{children:[i.jsx(jf,{}),i.jsx(Zg,{children:i.jsx(Ufe,{})})]}):n==="/env-checker"?i.jsx(YK,{}):n==="/auth-diag"?i.jsx(JK,{}):n==="/env-diagnostics"?i.jsx(Bfe,{}):n==="/db-diagnostics"?i.jsx(Nfe,{}):n==="/auth-test"?i.jsx(kfe,{}):n==="/template-update-test"?i.jsx(Sfe,{}):r?i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:i.jsx("div",{className:"text-slate-600",children:"Chargement..."})}):!e||!t?i.jsxs(i.Fragment,{children:[i.jsx(jf,{}),i.jsx(NK,{})]}):i.jsxs(i.Fragment,{children:[i.jsx(jf,{}),Tfe(t,n)]})}function Tfe(e,t){return e.role==="super_admin"?t==="/super"||t==="/clubs"?i.jsx($a,{allow:["super_admin"],children:i.jsx(_K,{})}):t==="/admin/clubs"?i.jsx($a,{allow:["super_admin"],children:i.jsx(Ffe,{})}):t==="/email-templates"?i.jsx($a,{allow:["super_admin"],children:i.jsx(pfe,{})}):t==="/emails/templates"?i.jsx($a,{allow:["super_admin","club_admin"],children:i.jsx(FS,{})}):t==="/default-email-templates"?i.jsx($a,{allow:["super_admin"],children:i.jsx(PK,{})}):t==="/global-email-templates"?i.jsx($a,{allow:["super_admin"],children:i.jsx(MK,{})}):t==="/schema-checker"?i.jsx($a,{allow:["super_admin"],children:i.jsx(zK,{})}):t==="/rls-checker"?i.jsx($a,{allow:["super_admin"],children:i.jsx(VK,{})}):t==="/storage-checker"?i.jsx($a,{allow:["super_admin"],children:i.jsx(GK,{})}):t==="/schema-audit"?i.jsx($a,{allow:["super_admin"],children:i.jsx(XK,{})}):t==="/email-test"?i.jsx($a,{allow:["super_admin","club_admin"],children:i.jsx(q6,{})}):i.jsx($a,{allow:["super_admin"],children:i.jsx(SK,{})}):e.role==="club_admin"?t==="/sponsors"?i.jsx(afe,{}):t==="/campaigns"?i.jsx(nfe,{}):t==="/reminders"?i.jsx(xfe,{}):t==="/scheduled"?i.jsx(jfe,{}):t==="/settings"?i.jsx(bfe,{}):t==="/settings/legal"?i.jsx(yfe,{}):t==="/club/legal"?i.jsx(wfe,{}):t==="/emails/templates"?i.jsx($a,{allow:["super_admin","club_admin"],children:i.jsx(FS,{})}):t==="/email-test"?i.jsx($a,{allow:["super_admin","club_admin"],children:i.jsx(q6,{})}):i.jsx(Jde,{}):i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-slate-600",children:"Rle non reconnu"})})})}function Ofe(){return i.jsx(Efe,{children:i.jsx(yK,{children:i.jsx(CK,{children:i.jsx(Pfe,{})})})})}dU(document.getElementById("root")).render(i.jsx(E.StrictMode,{children:i.jsx(CH,{children:i.jsx(n9,{children:i.jsx(Ofe,{})})})}));export{Tr as _,ba as c,bl as g,Vde as r};
